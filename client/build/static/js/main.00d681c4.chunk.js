(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{289:function(e,t){function a(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}a.keys=function(){return[]},a.resolve=a,e.exports=a,a.id=289},563:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABkCAYAAAA2VDb+AAAABGdBTUEAALGPC/xhBQAABEhJREFUeF7tnEtME0EYx1s8YKIx8eBVY9IY0MTQbmkRNVHDRS9igCpX4hPFRxQfKEKAtjzCQTj4ChctlIegIHLxYBQPgomJJh5EBDUmgjwSoPug7e44WyiGYHB3tq1lvyH5QkJmZvl+85/v+2bbGaNh/od3mU2SZOw3JCSsD/9Nd7+NUtWaa++uLvFrxp2W4XNaRdZlRXo3X4XlIyoxJCxAkEps67DTs3p3fLF/TMMCALY8pRKW81jlTiaIDPMq8DmZKXAA8FLn62ybQypQ5zyD2Mo0xFbvjC+rSlcdu6YrzcmqAHD4IeKvL0gSxfg0v4D8L28rBqEaQHDkE5IkKe6Nq9+vCII6AE4GSdx03DsvT5DQfCY6AMSpkRUBgLvviAIAHDWFzutxD0CcmcRB2h4dAKFs4bYj/uFRJLRfWsYKkdDjRIEP3ThYBjRBEye+o9nee0h4UrT8M1vPI67+gCLHw1lPXQwgLJG52n3EAMTRQVUOqUvnVhQTALjimkuZBNlj9kWdTgAEyJaB4FUWzdXOfEyXAOvCCsAFCokCeM8xHShAE4Dj0AGcAA6gETgAofEkbAUITaegA8gHDsB7mgIgLXKU9ItNKayhDlC6r1fi7N/arAAABcCXQDN0AC1ngSug5RxwAK3gAVyArgDoANqgA3h0EfgSoAAuQVdAIXAA7dABdFwGroCOKxQA6V5fSb/4fx/w+CpwBTy+BhzAE/AAiqAr4DpwAJ03gAPoAg+gGLoCbgIH8BQ8gBLgCugupQCUbGpI28T/Zqi7DLgCnoEHUA5cAT0VFABpgFPSL/6DID4joMQR0jaxA8CTnTXiH+TpA4A4+YPo2+Lc3Ww9ALCi4HAfEQC2eoc+APhfN5ABcKXqAwB/55B6AEF/VJ2XA2eMgmDopDaSguqOzfjfd+kIQOjMYbEqFbD4tBlpelPaL3YKmD9y5+9vUgRBiPLnAX85NMX8UkpNazuudi8Kfn2LpFluEQyR96HA517E1uyK+syHfeAqmY2h4/Mz5eZSrY4R9a/ZjbjaPfgegtg5Hf4/8aURgYUbJEbzt67FF4v4iZwgPFH6v5/Fua31i26SYV0Wu88N5BYZt+UNQgbjkqt0Bm6ZEtkKy2ssjyCHZ1ZvhtPxT77MmvfPu5HkO3ZQyabVerKBAlPiPx2nDSgBSoASoAQoAYgEGnMYQ0vuoKE5d1iTeY/0GVpzVskIcZ1tnEhJfTVutg1rs9ShSYttd3hakrM8B5MdniFsw1osKcfz/M9Ue48I2HEUGXPslQf+yaTZxi12acJiR1ptzGIXFwA4PL7kwx4UCUvK9G6ZGzdizmOIjY4MeciJ1PQdkQIgA4wGgG2Z3rnb5CgAqoBIrX+6BGgMoEGQZgGaBmkdQAshWgnSUpjuBehmiO4GV9Z2+H3EtsRtWdvlNDhqTjNF6n3AWIrtW/h9QJLDMxqJlyHyGKbshg3yuL8B8pEPTHk6kwYAAAAASUVORK5CYII="},599:function(e,t,a){e.exports=a(899)},604:function(e,t,a){},605:function(e,t,a){},720:function(e,t){},722:function(e,t){},763:function(e,t){},764:function(e,t){},899:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),o=a(39),l=a.n(o),r=(a(604),a(605),a(11)),s=a(10),c=a(13),d=a(12),u=a(14),m=a(386),p=a(925),h=a(104),f=Object(h.a)((function(e){return{boxOutProp:{color:"#000",backgroundColor:"#f5f6fc",padding:0,display:"flex",flexDirection:"column",alignItems:"left",maxHeight:"92vh",minHeight:"92vh",overflow:"auto",transition:"all .2s","&:hover":{cursor:"pointer",maxWidth:"17vw",transition:"all .2s","&::-webkit-scrollbar":{width:"0.25em"},"&::-webkit-scrollbar-thumb":{backgroundColor:"rgba(0,0,0,.1)",outline:"1px solid slategrey"}},"&::-webkit-scrollbar":{width:"0.0em"}},boxInProp:{fontSize:"1.2vw",color:"black",fontWeight:"bold",textDecoration:"none","&:hover":{cursor:"pointer",color:"#7d8cfa",transition:"all .2s",backgroundColor:"#e4e5f0"}},position:{display:"flex",position:"sticky",backgroundColor:"#f5f6fc",color:"black",padding:10,top:0,fontWeight:"bold",flexDirection:"row",width:"92.5%"}}})),g=a(100),_=a(562),y=a.n(_);function b(e){var t=f(),a={navStyle:{display:"flex",textDecoration:"none",padding:"15px",color:"black"},navStyleActive:{color:"#3f51b5"}};return i.a.createElement(m.a,{display:"flex"},i.a.createElement(m.a,{maxWidth:e.width,component:"div",className:t.boxOutProp},i.a.createElement(m.a,{className:t.position},i.a.createElement(m.a,{display:"flex",flexDirection:"row",width:"100vw",justifyContent:"space-between"},i.a.createElement(m.a,{fontSize:"30px",marginLeft:"5px"},"DASHBOARD"))),i.a.createElement(p.a,null),e.items.map((function(n,o){return i.a.createElement("div",{key:o},i.a.createElement(m.a,{className:t.boxInProp},i.a.createElement(g.c,{activeStyle:a.navStyleActive,style:a.navStyle,to:"/".concat(e.componentName,"/").concat(n.Path)},n.Name)),i.a.createElement(p.a,null))}))),".1px"===e.dashboard?i.a.createElement(m.a,{style:{color:"black",display:"flex",padding:"20px"}},i.a.createElement(y.a,{style:{fontSize:"40px"}})):null)}var E=new(function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).login=function(e){console.log(e),sessionStorage.setItem("authenticated",e)},a.logout=function(){return sessionStorage.clear(),!0},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"isAuthenticated",value:function(){return sessionStorage.getItem("authenticated")}}]),t}(i.a.Component)),x=a(152),v=a(41),S=a(926),C=a(388),w=a(94),k=a(3),O=a(186),j=a(242),D=a(564),M=a.n(D),R=a(291),W=a(466),z=a(594),q=a(565),A=a.n(q),I=a(566),P=a.n(I),T=a(563),U=a.n(T),L=Object(h.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2),color:"#ed3237",transition:"all .3s"},title:{flexGrow:1},expand:{transform:"rotate(45deg)",color:"#fff",transition:"all .3s"}}}));function H(e){var t=Object(n.useState)(!0),a=Object(v.a)(t,2),o=a[0],l=a[1],r=Object(n.useState)(null),s=Object(v.a)(r,2),c=s[0],d=s[1],u=L();return i.a.createElement(m.a,{className:u.root},i.a.createElement(S.a,{position:"static"},i.a.createElement(C.a,null,i.a.createElement(j.a,{edge:"start",className:Object(k.a)(Object(x.a)({},u.expand,o),u.menuButton),color:"inherit","aria-label":"menu",onClick:function(){o?(l(!o),e.dashboardMin()):(l(!o),e.dashboardMax())}},i.a.createElement(M.a,null)),i.a.createElement(w.a,{variant:"h6",className:u.title},e.name),e.homeButtonDisable?null:i.a.createElement(O.a,{color:"inherit",onClick:e.home},"Home"),i.a.createElement(O.a,{color:"inherit",onClick:function(e){return d(e.currentTarget)}},i.a.createElement(A.a,{style:{fontSize:"25px",marginRight:"5px"}}),sessionStorage.getItem("User Name")),i.a.createElement("img",{src:U.a,alt:"Logo",style:{marginLeft:"10px",width:"20px",height:"30px",backgroundColor:"white",padding:"5px",borderRadius:"5px"}}),i.a.createElement(R.a,{style:{marginTop:"40px"},id:"user-menu",anchorEl:c,keepMounted:!0,open:Boolean(c),TransitionComponent:z.a,onClose:function(){d(null)}},i.a.createElement(W.a,{onClick:e.logout},i.a.createElement(P.a,{style:{fontSize:"20px",marginRight:"5px",padding:"5px"}}),"Logout")))))}var N=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={width:"17vw",dashboardItems:[]},a.permissions=JSON.parse(sessionStorage.getItem("permissions")),a.contents=["Management","Requests","Reports","Purchase","Finance","Configurations"],a.logout=function(){E.logout()&&a.props.history.push("/")},a.dashboardMin=function(){a.setState({width:".1px"})},a.dashboardMax=function(){a.setState({width:"17vw"})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.contents.map((function(t){if(e.permissions.find((function(e){return e===t}))){var a=t.toLowerCase().replace(/ /g,"-");e.setState({}),e.setState((function(e){e.dashboardItems.push({Name:t,Path:a})}))}return null}))}},{key:"render",value:function(){return i.a.createElement(m.a,null,i.a.createElement(H,{name:"Home",logout:this.logout,homeButtonDisable:!0,dashboardMax:this.dashboardMax,dashboardMin:this.dashboardMin}),i.a.createElement(m.a,null,i.a.createElement(b,{items:this.state.dashboardItems,componentName:"home",width:this.state.width,dashboardMin:this.dashboardMin}),i.a.createElement(m.a,{display:"flex",flexDirection:"column",alignItems:"center",width:"100%",marginTop:"10px"},i.a.createElement(m.a,{width:"90%",display:"flex",justifyContent:"center",flexDirection:"column"},this.props.history.location.state?i.a.createElement(m.a,{color:"red",textAlign:"center"},this.props.history.location.state.msg):null))))}}]),t}(n.Component),F=a(7),B=a(27),V=a(35),Q=a.n(V),Y=a(914),J=a(912),G=a(4),K=a.n(G),X=a(310),Z=a(389),$=a(390),ee=a(399),te=a(184),ae=Object(h.a)((function(e){return{paper:{padding:e.spacing(3),display:"flex",overflow:"auto",flexDirection:"column",width:"90%",alignItems:"center"},fixedHeight:{maxHeight:"29.5vw",minWidth:"300px",minHeight:"5px"}}})),ne=function(e){var t=ae(),a=Object(k.a)(t.paper,t.fixedHeight);return i.a.createElement(te.a,{className:a,elevation:2},e.children)},ie={box_field:{display:"flex",width:"100%",alignItems:"center",justifyContent:"center",marginBottom:"10px"},box:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"},box_msg:{marginBottom:"10px",padding:"10px",width:"90%",textAlign:"center",fontSize:"15px",textTransform:"uppercase "},icons:{fontSize:"40px",marginRight:"10px"}},oe=function(e,t){var a=JSON.parse(sessionStorage.getItem("permissions"));console.log(a);var n=a.find((function(e){return e===t}));return console.log(typeof n),"undefined"!==typeof n||(e.history.push({pathname:"/home",state:{msg:"Permission not Granted. Contact Administrator"}}),!1)},le=a(50),re=a(354),se=a(212),ce=a(92),de=a.n(ce),ue=function(e){return i.a.createElement(le.a,{utils:se.a},i.a.createElement(re.b,{disabled:e.disabled,size:"small",id:"date-picker-dialog".concat(e.id),label:e.Name,minDate:e.minDate,maxDate:e.maxDate,format:"DD/MM/YYYY",onChange:function(t){e.setDate(new de.a(t))},value:e.value,KeyboardButtonProps:{"aria-label":"change date"},fullWidth:!0,inputVariant:"outlined",style:{marginRight:e.marginRight,marginTop:"0px",marginBottom:e.marginBottom},required:e.Req}))},me=ie,pe=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={employee_first_name:"",employee_middle_name:"",employee_last_name:"",employee_dob:null,employee_age:"",employee_gender:"",employee_mobile_no:"",employee_email:"",employee_father_or_spouse_name:"",employee_no_of_children:"",employee_address:"",employee_country:"",employee_state:"",employee_city:"",employee_postal_code:"",employee_id:"",employee_date_of_joinig:null,employee_designation:"",employee_salary:"",employee_work_location:"",employee_shift:"",employee_bank_account_no:"",employee_bank_name:"",employee_bank_branch:"",employee_bank_ifsc:"",errors:[],countries:[],states:[],cities:[],designations:[],work_locations:[],shifts:[]},a.onAddHandler=function(){K.a.post("/employees/add-employee",{employee_first_name:a.state.employee_first_name,employee_middle_name:a.state.employee_middle_name,employee_last_name:a.state.employee_last_name,employee_dob:a.state.employee_dob,employee_age:a.state.employee_age,employee_gender:a.state.employee_gender,employee_mobile_no:a.state.employee_mobile_no,employee_email:a.state.employee_email,employee_father_or_spouse_name:a.state.employee_father_or_spouse_name,employee_no_of_children:a.state.employee_no_of_children,employee_address:a.state.employee_address,employee_country:a.state.employee_country,employee_state:a.state.employee_state,employee_city:a.state.employee_city,employee_postal_code:a.state.employee_postal_code,employee_id:a.state.employee_id,employee_date_of_joinig:a.state.employee_date_of_joinig,employee_designation:a.state.employee_designation,employee_salary:a.state.employee_salary,employee_work_location:a.state.employee_work_location,employee_shift:a.state.employee_shift,employee_bank_account_no:a.state.employee_bank_account_no,employee_bank_name:a.state.employee_bank_name,employee_bank_branch:a.state.employee_bank_branch,employee_bank_ifsc:a.state.employee_bank_ifsc}).then((function(e){console.log(e),e.data.errors.length>0?(console.log(e.data.errors),a.setState({errors:Object(F.a)(e.data.errors)})):a.props.cancel()})).catch((function(e){return console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;oe(this.props,"Manage Employees")&&(K.a.get("/countries/countries").then((function(t){e.setState({countries:Object(F.a)(t.data.Countries)})})),K.a.get("/designations/designations").then((function(t){e.setState({designations:Object(F.a)(t.data.Designations)})})),K.a.get("/work-locations/work-locations").then((function(t){e.setState({work_locations:Object(F.a)(t.data.WorkLocations)})})),K.a.get("/shifts/shifts").then((function(t){e.setState({shifts:Object(F.a)(t.data.Shifts)})})))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:me.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Add Employee"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:me.box_msg,bgcolor:"#f73067",key:t},e)})):null,i.a.createElement(ne,null,i.a.createElement(m.a,{fontWeight:"bold",fontSize:"1.2vw",mb:1,display:"flex",justifyContent:"flex-start",width:"100%"},"Personel Details"),i.a.createElement(m.a,{style:ie.box_field,flexDirection:"row"},i.a.createElement(m.a,{style:ie.box,marginRight:"10px"},i.a.createElement(X.a,{size:"small",required:!0,fullWidth:!0,variant:"outlined",label:"First Name",value:this.state.employee_first_name,onChange:function(t){e.setState({employee_first_name:t.target.value})}})),i.a.createElement(m.a,{style:ie.box,marginRight:"10px"},i.a.createElement(X.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Middle Name",value:this.state.employee_middle_name,onChange:function(t){e.setState({employee_middle_name:t.target.value})}})),i.a.createElement(m.a,{style:ie.box},i.a.createElement(X.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Last Name",value:this.state.employee_last_name,onChange:function(t){e.setState({employee_last_name:t.target.value})}}))),i.a.createElement(m.a,{style:ie.box_field},i.a.createElement(ue,{id:"1",Name:"Date Of Birth",Req:!0,marginRight:"10px",minDate:new Date-1893456e6,maxDate:new Date-5680368e5,value:this.state.employee_dob,setDate:function(t){e.setState({}),e.setState((function(e){e.employee_dob=t,e.employee_age=Math.floor((new Date-e.employee_dob)/315576e5)}))}}),i.a.createElement(m.a,{style:ie.box,marginRight:"10px"},i.a.createElement(X.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Age",type:"number",disabled:!0,value:this.state.employee_age})),i.a.createElement(m.a,{style:me.box},i.a.createElement(Z.a,{size:"small",required:!0,variant:"outlined",fullWidth:!0},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select Gender"),i.a.createElement(ee.a,{required:!0,value:this.state.employee_gender,onChange:function(t){console.log(t.target.value),e.setState({employee_gender:t.target.value})}},i.a.createElement(W.a,{selected:!0,value:"Male"},"Male"),i.a.createElement(W.a,{selected:!0,value:"Female"},"Female"),i.a.createElement(W.a,{selected:!0,value:"Transgender"},"Transgender"))))),i.a.createElement(m.a,{style:ie.box_field},i.a.createElement(m.a,{style:ie.box,marginRight:"10px"},i.a.createElement(X.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Mobile No",value:this.state.employee_mobile_no,onChange:function(t){e.setState({employee_mobile_no:t.target.value})}})),i.a.createElement(m.a,{style:ie.box,marginRight:"10px"},i.a.createElement(X.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Email",type:"email",value:this.state.employee_email,onChange:function(t){e.setState({employee_email:t.target.value})}})),i.a.createElement(m.a,{style:ie.box},i.a.createElement(X.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Father / Spouse Name",type:"email",value:this.state.employee_father_or_spouse_name,onChange:function(t){e.setState({employee_father_or_spouse_name:t.target.value})}}))),i.a.createElement(m.a,{style:me.box},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,value:this.state.employee_address,variant:"outlined",label:"Address",type:"text",onChange:function(t){e.setState({employee_address:t.target.value})}})),i.a.createElement(m.a,{style:me.box_field,marginTop:"10px"},i.a.createElement(m.a,{style:me.box,marginRight:"10px"},i.a.createElement(Z.a,{size:"small",required:!0,variant:"outlined",fullWidth:!0,display:"flex"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select Country"),i.a.createElement(ee.a,{required:!0,value:this.state.employee_country,onChange:function(t){console.log(t.target.value),e.setState({employee_country:t.target.value,cities:[]}),K.a.post("/states/state-country",{country_id:t.target.value}).then((function(t){console.log(t),e.setState({states:Object(F.a)(t.data.state)})}))}},this.state.countries.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.country_name)}))))),i.a.createElement(m.a,{style:me.box,marginRight:"10px"},i.a.createElement(Z.a,{size:"small",required:!0,variant:"outlined",fullWidth:!0},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select State"),i.a.createElement(ee.a,{required:!0,value:this.state.employee_state,onChange:function(t){console.log(t.target.value),e.setState({employee_state:t.target.value}),K.a.post("/cities/city-state",{state_id:t.target.value}).then((function(t){console.log(t),e.setState({cities:Object(F.a)(t.data.city)})}))}},this.state.states.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.state_name)}))))),i.a.createElement(m.a,{style:me.box},i.a.createElement(Z.a,{size:"small",required:!0,variant:"outlined",fullWidth:!0},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select City"),i.a.createElement(ee.a,{required:!0,value:this.state.employee_city,onChange:function(t){console.log(t.target.value),e.setState({employee_city:t.target.value})}},this.state.cities.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.city_name)})))))),i.a.createElement(m.a,{style:me.box_field},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,value:this.state.employee_postal_code,variant:"outlined",label:"Postal Code",type:"text",onChange:function(t){e.setState({employee_postal_code:t.target.value})}})),i.a.createElement(m.a,{fontWeight:"bold",fontSize:"1.2vw",mb:1,display:"flex",justifyContent:"flex-start",width:"100%"},"Work Details"),i.a.createElement(m.a,{style:ie.box_field},i.a.createElement(m.a,{style:ie.box,marginRight:"10px"},i.a.createElement(X.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Employee ID",value:this.state.employee_id,onChange:function(t){e.setState({employee_id:t.target.value})}})),i.a.createElement(ue,{id:"2",Name:"Date Of Joining",Req:!0,value:this.state.employee_date_of_joinig,minDate:"01/01/1990",maxDate:new Date,setDate:function(t){e.setState({employee_date_of_joinig:t})}})),i.a.createElement(m.a,{style:ie.box_field},i.a.createElement(m.a,{style:me.box,marginRight:"10px"},i.a.createElement(Z.a,{size:"small",required:!0,variant:"outlined",fullWidth:!0},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select Designation"),i.a.createElement(ee.a,{required:!0,value:this.state.employee_designation,onChange:function(t){console.log(t.target.value),e.setState({employee_designation:t.target.value})}},this.state.designations.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.designation_name)}))))),i.a.createElement(X.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Salary",type:"number",value:this.state.employee_salary,onChange:function(t){e.setState({employee_salary:t.target.value})}})),i.a.createElement(m.a,{style:ie.box_field},i.a.createElement(m.a,{style:me.box,marginRight:"10px"},i.a.createElement(Z.a,{size:"small",required:!0,variant:"outlined",fullWidth:!0},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select Work Location"),i.a.createElement(ee.a,{required:!0,value:this.state.employee_work_location,onChange:function(t){console.log(t.target.value),e.setState({employee_work_location:t.target.value})}},this.state.work_locations.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.work_location_name)}))))),i.a.createElement(m.a,{style:me.box},i.a.createElement(Z.a,{size:"small",required:!0,variant:"outlined",fullWidth:!0},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select Shift"),i.a.createElement(ee.a,{required:!0,value:this.state.employee_shift,onChange:function(t){console.log(t.target.value),e.setState({employee_shift:t.target.value})}},this.state.shifts.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.shift_name)})))))),i.a.createElement(m.a,{style:ie.box_field},i.a.createElement(m.a,{style:ie.box,marginRight:"10px"},i.a.createElement(X.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Bank Account Number",value:this.state.employee_bank_account_no,onChange:function(t){e.setState({employee_bank_account_no:t.target.value})}})),i.a.createElement(m.a,{style:ie.box},i.a.createElement(X.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Bank Name",value:this.state.employee_bank_name,onChange:function(t){e.setState({employee_bank_name:t.target.value})}}))),i.a.createElement(m.a,{style:ie.box_field},i.a.createElement(m.a,{style:ie.box,marginRight:"10px"},i.a.createElement(X.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Branch",value:this.state.employee_bank_branch,onChange:function(t){e.setState({employee_bank_branch:t.target.value})}})),i.a.createElement(m.a,{style:ie.box},i.a.createElement(X.a,{size:"small",fullWidth:!0,variant:"outlined",label:"IFSC",value:this.state.employee_bank_ifsc,onChange:function(t){e.setState({employee_bank_ifsc:t.target.value})}})))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(O.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(O.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:this.onAddHandler},"Add"))))}}]),t}(n.Component),he=ie,fe=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={_id:"",employee_first_name:"",employee_middle_name:"",employee_last_name:"",employee_dob:null,employee_age:"",employee_gender:"",employee_mobile_no:"",employee_email:"",employee_father_or_spouse_name:"",employee_no_of_children:"",employee_address:"",employee_country:"",employee_state:"",employee_city:"",employee_postal_code:"",employee_id:"",employee_date_of_joinig:null,employee_designation:"",employee_salary:"",employee_work_location:"",employee_shift:"",employee_bank_account_no:"",employee_bank_name:"",employee_bank_branch:"",employee_bank_ifsc:"",errors:[],countries:[],states:[],cities:[],designations:[],work_locations:[],shifts:[]},a.onEditHandler=function(){K.a.post("/employees/edit-employee",{_id:a.state._id,employee_first_name:a.state.employee_first_name,employee_middle_name:a.state.employee_middle_name,employee_last_name:a.state.employee_last_name,employee_dob:a.state.employee_dob,employee_age:a.state.employee_age,employee_gender:a.state.employee_gender,employee_mobile_no:a.state.employee_mobile_no,employee_email:a.state.employee_email,employee_father_or_spouse_name:a.state.employee_father_or_spouse_name,employee_no_of_children:a.state.employee_no_of_children,employee_address:a.state.employee_address,employee_country:a.state.employee_country,employee_state:a.state.employee_state,employee_city:a.state.employee_city,employee_postal_code:a.state.employee_postal_code,employee_id:a.state.employee_id,employee_date_of_joinig:a.state.employee_date_of_joinig,employee_designation:a.state.employee_designation,employee_salary:a.state.employee_salary,employee_work_location:a.state.employee_work_location,employee_shift:a.state.employee_shift,employee_bank_account_no:a.state.employee_bank_account_no,employee_bank_name:a.state.employee_bank_name,employee_bank_branch:a.state.employee_bank_branch,employee_bank_ifsc:a.state.employee_bank_ifsc}).then((function(e){console.log(e),e.data.errors&&(e.data.errors.length>0?(console.log(e.data.errors),a.setState({errors:Object(F.a)(e.data.errors)})):a.props.cancel())})).catch((function(e){return console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;oe(this.props,"Manage Employees")&&K.a.get("/countries/countries").then((function(t){e.setState({countries:Object(F.a)(t.data.Countries)}),K.a.post("/states/state-country",{country_id:e.props.Employee.employee_country}).then((function(t){e.setState({states:Object(F.a)(t.data.state)}),K.a.post("/cities/city-state",{state_id:e.props.Employee.employee_state}).then((function(t){e.setState({cities:Object(F.a)(t.data.city)}),K.a.get("/work-locations/work-locations").then((function(t){e.setState({work_locations:Object(F.a)(t.data.WorkLocations)}),K.a.get("/shifts/shifts").then((function(t){e.setState({shifts:Object(F.a)(t.data.Shifts)}),K.a.get("/designations/designations").then((function(t){e.setState({designations:Object(F.a)(t.data.Designations)}),""===e.state.employee_first_name&&(console.log("Props: ",e.props.Employee),e.setState({_id:e.props.Employee._id,employee_first_name:e.props.Employee.employee_first_name,employee_middle_name:e.props.Employee.employee_middle_name,employee_last_name:e.props.Employee.employee_last_name,employee_dob:e.props.Employee.employee_dob,employee_age:e.props.Employee.employee_age,employee_gender:e.props.Employee.employee_gender,employee_mobile_no:e.props.Employee.employee_mobile_no,employee_email:e.props.Employee.employee_email,employee_father_or_spouse_name:e.props.Employee.employee_father_or_spouse_name,employee_no_of_children:e.props.Employee.employee_no_of_children,employee_address:e.props.Employee.employee_address,employee_country:e.props.Employee.employee_country,employee_state:e.props.Employee.employee_state,employee_city:e.props.Employee.employee_city,employee_postal_code:e.props.Employee.employee_postal_code,employee_id:e.props.Employee.employee_id,employee_date_of_joinig:e.props.Employee.employee_date_of_joinig,employee_designation:e.props.Employee.employee_designation,employee_salary:e.props.Employee.employee_salary,employee_work_location:e.props.Employee.employee_work_location,employee_shift:e.props.Employee.employee_shift,employee_bank_account_no:e.props.Employee.employee_bank_account_no,employee_bank_name:e.props.Employee.employee_bank_name,employee_bank_branch:e.props.Employee.employee_bank_branch,employee_bank_ifsc:e.props.Employee.employee_bank_ifsc}))}))}))}))}))}))})),K.a.get("/work-locations/work-locations").then((function(t){e.setState({work_locations:Object(F.a)(t.data.WorkLocations)})})),K.a.get("/shifts/shifts").then((function(t){e.setState({shifts:Object(F.a)(t.data.Shifts)})}))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:he.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Edit Employee"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:he.box_msg,bgcolor:"#f73067",key:t},e)})):null,i.a.createElement(ne,null,i.a.createElement(m.a,{fontWeight:"bold",fontSize:"1.2vw",mb:1,display:"flex",justifyContent:"flex-start",width:"100%"},"Personel Details"),i.a.createElement(m.a,{style:ie.box_field,flexDirection:"row"},i.a.createElement(m.a,{style:ie.box,marginRight:"10px"},i.a.createElement(X.a,{size:"small",required:!0,fullWidth:!0,variant:"outlined",label:"First Name",value:this.state.employee_first_name,onChange:function(t){e.setState({employee_first_name:t.target.value})}})),i.a.createElement(m.a,{style:ie.box,marginRight:"10px"},i.a.createElement(X.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Middle Name",value:this.state.employee_middle_name,onChange:function(t){e.setState({employee_middle_name:t.target.value})}})),i.a.createElement(m.a,{style:ie.box},i.a.createElement(X.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Last Name",value:this.state.employee_last_name,onChange:function(t){e.setState({employee_last_name:t.target.value})}}))),i.a.createElement(m.a,{style:ie.box_field},i.a.createElement(ue,{id:"1",Name:"Date Of Birth",Req:"true",marginRight:"10px",value:this.state.employee_dob,minDate:new Date-1893456e6,maxDate:new Date-5680368e5,setDate:function(t){e.setState({}),e.setState((function(a){a.employee_dob=t,a.employee_age=e.state.employee_dob-new Date}))}}),i.a.createElement(m.a,{style:ie.box,marginRight:"10px"},i.a.createElement(X.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Age",type:"number",disabled:!0,value:this.state.employee_age,onChange:function(t){e.setState({employee_age:e.state.employee_dob-new Date})}})),i.a.createElement(m.a,{style:he.box},i.a.createElement(Z.a,{size:"small",required:!0,variant:"outlined",fullWidth:!0},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select Gender"),i.a.createElement(ee.a,{required:!0,value:this.state.employee_gender,onChange:function(t){console.log(t.target.value),e.setState({employee_gender:t.target.value})}},i.a.createElement(W.a,{selected:!0,value:"Male"},"Male"),i.a.createElement(W.a,{selected:!0,value:"Female"},"Female"),i.a.createElement(W.a,{selected:!0,value:"Transgender"},"Transgender"))))),i.a.createElement(m.a,{style:ie.box_field},i.a.createElement(m.a,{style:ie.box,marginRight:"10px"},i.a.createElement(X.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Mobile No",value:this.state.employee_mobile_no,onChange:function(t){e.setState({employee_mobile_no:t.target.value})}})),i.a.createElement(m.a,{style:ie.box,marginRight:"10px"},i.a.createElement(X.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Email",type:"email",value:this.state.employee_email,onChange:function(t){e.setState({employee_email:t.target.value})}})),i.a.createElement(m.a,{style:ie.box},i.a.createElement(X.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Father / Spouse Name",type:"email",value:this.state.employee_father_or_spouse_name,onChange:function(t){e.setState({employee_father_or_spouse_name:t.target.value})}}))),i.a.createElement(m.a,{style:he.box},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,value:this.state.employee_address,variant:"outlined",label:"Address",type:"text",onChange:function(t){e.setState({employee_address:t.target.value})}})),i.a.createElement(m.a,{style:he.box_field,marginTop:"10px"},i.a.createElement(m.a,{style:he.box,marginRight:"10px"},i.a.createElement(Z.a,{size:"small",required:!0,variant:"outlined",fullWidth:!0,display:"flex"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select Country"),i.a.createElement(ee.a,{required:!0,value:this.state.employee_country,onChange:function(t){console.log(t.target.value),e.setState({employee_country:t.target.value,cities:[]}),K.a.post("/states/state-country",{country_id:t.target.value}).then((function(t){console.log(t),e.setState({states:Object(F.a)(t.data.state)})}))}},this.state.countries.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.country_name)}))))),i.a.createElement(m.a,{style:he.box,marginRight:"10px"},i.a.createElement(Z.a,{size:"small",required:!0,variant:"outlined",fullWidth:!0},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select State"),i.a.createElement(ee.a,{required:!0,value:this.state.employee_state,onChange:function(t){console.log(t.target.value),e.setState({employee_state:t.target.value}),K.a.post("/cities/city-state",{state_id:t.target.value}).then((function(t){console.log(t),e.setState({cities:Object(F.a)(t.data.city)})}))}},this.state.states.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.state_name)}))))),i.a.createElement(m.a,{style:he.box},i.a.createElement(Z.a,{size:"small",required:!0,variant:"outlined",fullWidth:!0},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select City"),i.a.createElement(ee.a,{required:!0,value:this.state.employee_city,onChange:function(t){console.log(t.target.value),e.setState({employee_city:t.target.value})}},this.state.cities.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.city_name)})))))),i.a.createElement(m.a,{style:he.box_field},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,value:this.state.employee_postal_code,variant:"outlined",label:"Postal Code",type:"text",onChange:function(t){e.setState({employee_postal_code:t.target.value})}})),i.a.createElement(m.a,{fontWeight:"bold",fontSize:"1.2vw",mb:1,display:"flex",justifyContent:"flex-start",width:"100%"},"Work Details"),i.a.createElement(m.a,{style:ie.box_field},i.a.createElement(m.a,{style:ie.box,marginRight:"10px"},i.a.createElement(X.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Employee ID",value:this.state.employee_id,onChange:function(t){e.setState({employee_id:t.target.value})}})),i.a.createElement(ue,{id:"1",Name:"Date Of Joining",Req:"true",value:this.state.employee_date_of_joinig,minDate:"01/01/1990",maxDate:new Date,setDate:function(t){e.setState({employee_date_of_joinig:t})}})),i.a.createElement(m.a,{style:ie.box_field},i.a.createElement(m.a,{style:he.box,marginRight:"10px"},i.a.createElement(Z.a,{size:"small",required:!0,variant:"outlined",fullWidth:!0},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select Designation"),i.a.createElement(ee.a,{required:!0,value:this.state.employee_designation,onChange:function(t){console.log(t.target.value),e.setState({employee_designation:t.target.value})}},this.state.designations.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.designation_name)}))))),i.a.createElement(X.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Salary",type:"number",value:this.state.employee_salary,onChange:function(t){e.setState({employee_salary:t.target.value})}})),i.a.createElement(m.a,{style:ie.box_field},i.a.createElement(m.a,{style:he.box,marginRight:"10px"},i.a.createElement(Z.a,{size:"small",required:!0,variant:"outlined",fullWidth:!0},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select Work Location"),i.a.createElement(ee.a,{required:!0,value:this.state.employee_work_location,onChange:function(t){console.log(t.target.value),e.setState({employee_work_location:t.target.value})}},this.state.work_locations.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.work_location_name)}))))),i.a.createElement(m.a,{style:he.box},i.a.createElement(Z.a,{size:"small",required:!0,variant:"outlined",fullWidth:!0},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select Shift"),i.a.createElement(ee.a,{required:!0,value:this.state.employee_shift,onChange:function(t){console.log(t.target.value),e.setState({employee_shift:t.target.value})}},this.state.shifts.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.shift_name)})))))),i.a.createElement(m.a,{style:ie.box_field},i.a.createElement(m.a,{style:ie.box,marginRight:"10px"},i.a.createElement(X.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Bank Account Number",value:this.state.employee_bank_account_no,onChange:function(t){e.setState({employee_bank_account_no:t.target.value})}})),i.a.createElement(m.a,{style:ie.box},i.a.createElement(X.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Bank Name",value:this.state.employee_bank_name,onChange:function(t){e.setState({employee_bank_name:t.target.value})}}))),i.a.createElement(m.a,{style:ie.box_field},i.a.createElement(m.a,{style:ie.box,marginRight:"10px"},i.a.createElement(X.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Branch",value:this.state.employee_bank_branch,onChange:function(t){e.setState({employee_bank_branch:t.target.value})}})),i.a.createElement(m.a,{style:ie.box},i.a.createElement(X.a,{size:"small",fullWidth:!0,variant:"outlined",label:"IFSC",value:this.state.employee_bank_ifsc,onChange:function(t){e.setState({employee_bank_ifsc:t.target.value})}})))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(O.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(O.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:this.onEditHandler},"Update"))))}}]),t}(n.Component);function ge(e){var t=Object(n.useState)(e.filters.firstName),a=Object(v.a)(t,2),o=a[0],l=a[1],r=Object(n.useState)(e.filters.lastName),s=Object(v.a)(r,2),c=s[0],d=s[1],u=Object(n.useState)(e.filters.fromDOB),p=Object(v.a)(u,2),h=p[0],f=p[1],g=Object(n.useState)(e.filters.toDOB),_=Object(v.a)(g,2),y=_[0],b=_[1],E=Object(n.useState)(e.filters.fromAge),x=Object(v.a)(E,2),S=x[0],C=x[1],w=Object(n.useState)(e.filters.toAge),k=Object(v.a)(w,2),j=k[0],D=k[1],M=Object(n.useState)(e.filters.gender),R=Object(v.a)(M,2),z=R[0],q=R[1],A=Object(n.useState)(e.filters.mobile),I=Object(v.a)(A,2),P=I[0],T=I[1],U=Object(n.useState)(e.filters.email),L=Object(v.a)(U,2),H=L[0],N=L[1],B=Object(n.useState)(e.filters.country),V=Object(v.a)(B,2),Q=V[0],Y=V[1],J=Object(n.useState)([]),G=Object(v.a)(J,2),te=G[0],ae=G[1],oe=Object(n.useState)(e.filters.state),le=Object(v.a)(oe,2),re=le[0],se=le[1],ce=Object(n.useState)([]),de=Object(v.a)(ce,2),me=de[0],pe=de[1],he=Object(n.useState)(e.filters.city),fe=Object(v.a)(he,2),ge=fe[0],_e=fe[1],ye=Object(n.useState)([]),be=Object(v.a)(ye,2),Ee=be[0],xe=be[1],ve=Object(n.useState)(e.filters.postalCode),Se=Object(v.a)(ve,2),Ce=Se[0],we=Se[1],ke=Object(n.useState)(e.filters.employeeId),Oe=Object(v.a)(ke,2),je=Oe[0],De=Oe[1],Me=Object(n.useState)(e.filters.fromDateOfJoining),Re=Object(v.a)(Me,2),We=Re[0],ze=Re[1],qe=Object(n.useState)(e.filters.toDateOfJoining),Ae=Object(v.a)(qe,2),Ie=Ae[0],Pe=Ae[1],Te=Object(n.useState)(e.filters.designation),Ue=Object(v.a)(Te,2),Le=Ue[0],He=Ue[1],Ne=Object(n.useState)([]),Fe=Object(v.a)(Ne,2),Be=Fe[0],Ve=Fe[1],Qe=Object(n.useState)(e.filters.fromSalary),Ye=Object(v.a)(Qe,2),Je=Ye[0],Ge=Ye[1],Ke=Object(n.useState)(e.filters.toSalary),Xe=Object(v.a)(Ke,2),Ze=Xe[0],$e=Xe[1],et=Object(n.useState)(e.filters.workLocation),tt=Object(v.a)(et,2),at=tt[0],nt=tt[1],it=Object(n.useState)([]),ot=Object(v.a)(it,2),lt=ot[0],rt=ot[1],st=Object(n.useState)(e.filters.shift),ct=Object(v.a)(st,2),dt=ct[0],ut=ct[1],mt=Object(n.useState)([]),pt=Object(v.a)(mt,2),ht=pt[0],ft=pt[1];return Object(n.useEffect)((function(){K.a.get("/countries/countries").then((function(t){ae(Object(F.a)(t.data.Countries)),Y(e.filters.country),K.a.post("/states/state-country",{country_id:e.filters.country}).then((function(t){pe(Object(F.a)(t.data.state)),se(e.filters.state),K.a.post("/cities/city-state",{state_id:e.filters.state}).then((function(t){xe(Object(F.a)(t.data.city)),_e(e.filters.city)}))}))}))}),[e.filters.country,e.filters.state,e.filters.city]),Object(n.useEffect)((function(){K.a.get("/designations/designations").then((function(e){Ve(e.data.Designations)}))}),[]),Object(n.useEffect)((function(){K.a.get("/work-locations/work-locations").then((function(e){rt(e.data.WorkLocations)}))}),[]),Object(n.useEffect)((function(){K.a.get("/shifts/shifts").then((function(e){ft(e.data.Shifts)}))}),[]),i.a.createElement(m.a,{style:ie.box,alignContent:"center"},i.a.createElement(ne,null,i.a.createElement(m.a,{style:ie.box_field},i.a.createElement(m.a,{style:ie.box,marginRight:"10px"},i.a.createElement(X.a,{size:"small",required:!0,fullWidth:!0,variant:"outlined",label:"First Name",value:o,onChange:function(e){l(e.target.value)}})),i.a.createElement(m.a,{style:ie.box},i.a.createElement(X.a,{size:"small",required:!0,fullWidth:!0,variant:"outlined",label:"Last Name",value:c,onChange:function(e){d(e.target.value)}}))),i.a.createElement(m.a,{style:ie.box_field},i.a.createElement(m.a,{style:ie.box,marginRight:"10px"},i.a.createElement(ue,{id:"1",Name:"From Date of Birth",value:h,setDate:function(e){e=e.startOf("day"),f(e)}})),i.a.createElement(m.a,{style:ie.box},i.a.createElement(ue,{disabled:null===h,id:"2",Name:"To Date of Birth",minDate:h,value:y,setDate:function(e){e=e.endOf("day"),b(e)}}))),i.a.createElement(m.a,{style:ie.box_field},i.a.createElement(m.a,{style:ie.box,marginRight:"10px"},i.a.createElement(X.a,{size:"small",required:!0,fullWidth:!0,variant:"outlined",label:"From Age",value:S,onChange:function(e){C(e.target.value)}})),i.a.createElement(m.a,{style:ie.box},i.a.createElement(X.a,{size:"small",required:!0,fullWidth:!0,variant:"outlined",label:"To Age",value:j,onChange:function(e){D(e.target.value)}}))),i.a.createElement(m.a,{style:ie.box_field},i.a.createElement(Z.a,{size:"small",required:!0,variant:"outlined",fullWidth:!0},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select Gender"),i.a.createElement(ee.a,{required:!0,value:z,onChange:function(e){q(e.target.value)}},i.a.createElement(W.a,{selected:!0,value:"Male"},"Male"),i.a.createElement(W.a,{selected:!0,value:"Female"},"Female"),i.a.createElement(W.a,{selected:!0,value:"Transgender"},"Transgender")))),i.a.createElement(m.a,{style:ie.box_field},i.a.createElement(X.a,{size:"small",required:!0,fullWidth:!0,variant:"outlined",label:"Mobile No",value:P,onChange:function(e){T(e.target.value)}})),i.a.createElement(m.a,{style:ie.box_field},i.a.createElement(X.a,{size:"small",required:!0,fullWidth:!0,variant:"outlined",label:"Email",value:H,onChange:function(e){N(e.target.value)}})),i.a.createElement(m.a,{style:ie.box_field},i.a.createElement(m.a,{style:ie.box,marginRight:"10px"},i.a.createElement(Z.a,{size:"small",required:!0,variant:"outlined",fullWidth:!0,display:"flex"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select Country"),i.a.createElement(ee.a,{required:!0,value:Q,onChange:function(e){Y(e.target.value),K.a.post("/states/state-country",{country_id:e.target.value}).then((function(e){pe(Object(F.a)(e.data.state))}))}},te.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.country_name)}))))),i.a.createElement(m.a,{style:ie.box,marginRight:"10px"},i.a.createElement(Z.a,{size:"small",required:!0,variant:"outlined",fullWidth:!0,display:"flex"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select State"),i.a.createElement(ee.a,{required:!0,value:re,onChange:function(e){se(e.target.value),K.a.post("/cities/city-state",{state_id:e.target.value}).then((function(e){xe(Object(F.a)(e.data.city))}))}},me.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.state_name)}))))),i.a.createElement(m.a,{style:ie.box},i.a.createElement(Z.a,{size:"small",required:!0,variant:"outlined",fullWidth:!0,display:"flex"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select City"),i.a.createElement(ee.a,{required:!0,value:ge,onChange:function(e){_e(e.target.value)}},Ee.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.city_name)})))))),i.a.createElement(m.a,{style:ie.box_field},i.a.createElement(X.a,{size:"small",required:!0,fullWidth:!0,variant:"outlined",label:"Postal Code",value:Ce,onChange:function(e){we(e.target.value)}})),i.a.createElement(m.a,{style:ie.box_field},i.a.createElement(X.a,{size:"small",required:!0,fullWidth:!0,variant:"outlined",label:"Employee Id",value:je,onChange:function(e){De(e.target.value)}})),i.a.createElement(m.a,{style:ie.box_field},i.a.createElement(m.a,{style:ie.box,marginRight:"10px"},i.a.createElement(ue,{id:"3",Name:"From Date of Joining",value:We,setDate:function(e){e=e.startOf("day"),ze(e)}})),i.a.createElement(m.a,{style:ie.box},i.a.createElement(ue,{disabled:null===We,id:"4",Name:"To Date of Joining",minDate:We,value:Ie,setDate:function(e){e=e.endOf("day"),Pe(e)}}))),i.a.createElement(m.a,{style:ie.box_field},i.a.createElement(Z.a,{size:"small",required:!0,variant:"outlined",fullWidth:!0,display:"flex"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select Designation"),i.a.createElement(ee.a,{required:!0,value:Le,onChange:function(e){He(e.target.value)}},Be.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.designation_name)}))))),i.a.createElement(m.a,{style:ie.box_field},i.a.createElement(m.a,{style:ie.box,marginRight:"10px"},i.a.createElement(X.a,{size:"small",required:!0,fullWidth:!0,variant:"outlined",label:"From Salary",value:Je,onChange:function(e){Ge(e.target.value)}})),i.a.createElement(m.a,{style:ie.box},i.a.createElement(X.a,{size:"small",required:!0,fullWidth:!0,variant:"outlined",label:"To Salary",value:Ze,onChange:function(e){$e(e.target.value)}}))),i.a.createElement(m.a,{style:ie.box_field},i.a.createElement(Z.a,{size:"small",required:!0,variant:"outlined",fullWidth:!0,display:"flex"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select Work Location"),i.a.createElement(ee.a,{required:!0,value:at,onChange:function(e){nt(e.target.value)}},lt.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.work_location_name)}))))),i.a.createElement(m.a,{style:ie.box_field},i.a.createElement(Z.a,{size:"small",required:!0,variant:"outlined",fullWidth:!0,display:"flex"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select Shifts"),i.a.createElement(ee.a,{required:!0,value:dt,onChange:function(e){ut(e.target.value)}},ht.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.shift_name)})))))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{width:"100px"},i.a.createElement(O.a,{variant:"contained",color:"primary",style:{marginBottom:"20px",display:"flex"},size:"large",onClick:function(){var e={firstName:"",lastName:"",fromDOB:null,toDOB:null,fromAge:"",toAge:"",gender:"",mobile:"",email:"",country:"",state:"",city:"",postalCode:"",employeeId:"",fromDateOfJoining:null,toDateOfJoining:null,designation:"",fromSalary:"",toSalary:""};e.designation="",e.workLocation="",e.shift="",l(""),d(""),f(null),b(null),D(""),q(""),T(""),N(""),Y(""),se(""),pe([]),_e(""),xe([]),we(""),De(""),ze(null),Pe(null),He(""),Ge(""),$e(""),He(""),nt(""),ut("")}},"clear")),i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(O.a,{variant:"contained",color:"primary",style:{marginBottom:"20px",display:"flex"},size:"large",onClick:function(){e.cancel()}},"Cancel")),i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(O.a,{variant:"contained",color:"primary",style:{marginBottom:"20px",display:"flex"},size:"large",onClick:function(){var t={};t.firstName=o,t.lastName=c,t.fromDOB=h,t.toDOB=y,t.fromAge=S,t.toAge=j,t.gender=z,t.mobile=P,t.email=H,t.country=Q,t.state=re,t.city=ge,t.postalCode=Ce,t.employeeId=je,t.fromDateOfJoining=We,t.toDateOfJoining=Ie,t.designation=Le,t.fromSalary=Je,t.toSalary=Ze,t.designation=Le,t.workLocation=at,t.shift=dt,K.a.post("/employees/filter",{firstName:o,lastName:c,fromDOB:h,toDOB:y,fromAge:S,toAge:j,gender:z,mobile:P,email:H,country:Q,state:re,city:ge,postalCode:Ce,employeeId:je,fromDateOfJoining:We,toDateOfJoining:Ie,designation:Le,fromSalary:Je,toSalary:Ze,workLocation:at,shift:dt}).then((function(a){e.setData(a),e.saveFilters(t)}))}},"Apply"))))}var _e=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).EditData={},a.state={columns:[{title:"ID",field:"id"},{title:"First Name",field:"employee_first_name"},{title:"Last Name",field:"employee_last_name"},{title:"ID",field:"employee_id"},{title:"shift",field:"employee_shift_name"},{title:"Designation",field:"employee_designation_name"},{title:"Work Location",field:"employee_work_location_name"}],data:[],filters:{firstName:"",lastName:"",fromDOB:null,toDOB:null,fromAge:"",toAge:"",gender:"",mobile:"",email:"",country:"",state:"",city:"",postalCode:"",employeeId:"",fromDateOfJoining:null,toDateOfJoining:null,designation:"",fromSalary:"",toSalary:"",workLocation:"",shift:""},openAdd:!1,openEdit:!1,openFilter:!1,shifts:[],workLocations:[],designations:[]},a.OnEditHandler=function(e,t){console.log(t._id),K.a.post("/employees/employee",{_id:t._id}).then((function(e){console.log(e),a.EditData=Object(B.a)({},e.data.Employee),console.log(a.EditData[0]),a.setState({openEdit:!0})}))},a.dataFetch=function(){K.a.get("/employees/employees").then((function(e){a.handleClose(e)})).catch((function(e){}))},a.handleClose=function(e){for(var t=function(t){e.data.Employees[t].id=t+1,a.state.designations.find((function(n,i){return n._id===e.data.Employees[t].employee_designation?e.data.Employees[t].employee_designation_name=n.designation_name:i!==a.state.designations.length-1||e.data.Employees[t].employee_designation_name||(e.data.Employees[t].employee_designation_name=" Problem Loading Data"),null})),a.state.workLocations.find((function(n,i){return n._id===e.data.Employees[t].employee_work_location?e.data.Employees[t].employee_work_location_name=n.work_location_name:i!==a.state.workLocations.length-1||e.data.Employees[t].employee_work_location_name||(e.data.Employees[t].employee_work_location_name=" Problem Loading Data"),null})),a.state.shifts.find((function(n,i){return n._id===e.data.Employees[t].employee_shift?e.data.Employees[t].employee_shift_name=n.shift_name:i!==a.state.shifts.length-1||e.data.Employees[t].employee_shift_name||(e.data.Employees[t].employee_shift_name=" Problem Loading Data"),null}))},n=0;n<e.data.Employees.length;n++)t(n);a.setState({data:Object(F.a)(e.data.Employees)})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;oe(this.props,"Manage Employees")&&0===this.state.shifts.length&&0===this.state.designations.length&&0===this.state.workLocations.length&&K.a.get("/shifts/shifts").then((function(t){e.setState({shifts:t.data.Shifts}),K.a.get("/work-locations/work-locations").then((function(t){e.setState({workLocations:t.data.WorkLocations}),K.a.get("/designations/designations").then((function(t){e.setState({designations:t.data.Designations}),e.dataFetch()}))}))}))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Manage Employees"),i.a.createElement(m.a,{width:"90%",display:"flex",flexDirection:"row"},i.a.createElement(O.a,{variant:"contained",color:"primary",style:{marginBottom:"20px",display:"flex",marginRight:"10px"},size:"large",onClick:function(){e.setState({openAdd:!0})}},"Add"),i.a.createElement(O.a,{variant:"contained",color:"primary",style:{marginBottom:"20px",display:"flex"},size:"large",onClick:function(){e.setState({openFilter:!0})}},"Filters")),i.a.createElement(Q.a,{title:" ",columns:this.state.columns,data:this.state.data,style:{width:"90%",maxHeight:"500px",overflow:"auto"},options:{sorting:!0,headerStyle:{backgroundColor:"#3f51b5",color:"#FFF"}},actions:[{icon:"edit",tooltip:"Edit",onClick:function(t,a){e.OnEditHandler(t,a)}}],editable:{onRowDelete:function(t){return K.a.post("/employees/delete-employee",{_id:t._id}).then((function(a){console.log(a),a&&e.setState((function(e){var a=Object(F.a)(e.data);return a.splice(a.indexOf(t),1),Object(B.a)({},e,{data:a})}))}))}},onRowClick:function(t,a){e.OnEditHandler(t,a)}}),i.a.createElement(J.a,{open:this.state.openAdd,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,{style:{padding:"20px"}},i.a.createElement(pe,{cancel:function(){e.setState({openAdd:!1}),e.dataFetch()}}))),i.a.createElement(J.a,{open:this.state.openEdit,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,{style:{padding:"20px"}},i.a.createElement(fe,{Employee:this.EditData[0],cancel:function(){e.setState({openEdit:!1})}}))),i.a.createElement(J.a,{open:this.state.openFilter,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,{style:{padding:"20px"}},i.a.createElement(ge,{filters:this.state.filters,setData:function(t){e.handleClose(t)},cancel:function(){e.setState({openFilter:!1})},saveFilters:function(t){e.setState((function(e){e.filters=t})),e.setState({openFilter:!1})}}))))}}]),t}(n.Component),ye=ie,be=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={employee_id:"",user_name:"",password:"",password2:"",role:"",errors:[],success:!1,Roles:[],Employees:[]},a.onAddHandler=function(){K.a.post("/users/add-user",{employee_id:a.state.employee_id,name:a.state.user_name,password:a.state.password,password2:a.state.password2,role:a.state.role}).then((function(e){console.log(e),e.data.errors.length>0?(console.log(e.data.errors),a.setState({errors:Object(F.a)(e.data.errors),success:!1})):a.props.cancel()})).catch((function(e){return console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;oe(this.props,"Manage Users")&&(K.a.get("/employees/employees").then((function(t){console.log(t.data.Employees),e.setState({Employees:Object(F.a)(t.data.Employees)})})),K.a.get("/roles/roles").then((function(t){console.log(t.data.Roles),e.setState({Roles:Object(F.a)(t.data.Roles)})})))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:ye.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Add User"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:ye.box_msg,bgcolor:"#f73067",key:t},e)})):null,i.a.createElement(ne,null,i.a.createElement(m.a,{style:ye.box_field},i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select Employee"),i.a.createElement(ee.a,{required:!0,value:this.state.employee_id,onChange:function(t){console.log(t.target.value),e.setState({employee_id:t.target.value})}},this.state.Employees.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.employee_first_name)}))))),i.a.createElement(m.a,{style:ye.box_field},i.a.createElement(X.a,{fullWidth:!0,required:!0,value:this.state.user_name,variant:"outlined",label:"User Name",type:"text",onChange:function(t){e.setState({user_name:t.target.value})}})),i.a.createElement(m.a,{style:ye.box_field},i.a.createElement(X.a,{fullWidth:!0,required:!0,value:this.state.password,variant:"outlined",label:"Password",type:"password",onChange:function(t){e.setState({password:t.target.value})}})),i.a.createElement(m.a,{style:ye.box_field},i.a.createElement(X.a,{fullWidth:!0,required:!0,value:this.state.password2,variant:"outlined",label:"Confirm Password",type:"password",onChange:function(t){e.setState({password2:t.target.value})}})),i.a.createElement(m.a,{style:ye.box_field},i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select Role"),i.a.createElement(ee.a,{required:!0,value:this.state.role,onChange:function(t){console.log(t.target.value),e.setState({role:t.target.value})}},this.state.Roles.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.role_name)})))))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"90%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(O.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(O.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:this.onAddHandler},"Add"))))}}]),t}(n.Component),Ee=ie,xe=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={employee_id:"",user_name:"",password:"",password2:"",errors:[],success:!1,role:"",Roles:[],Employees:[]},a.onEditHandler=function(){K.a.post("/users/edit-user",{name:a.state.user_name,password:a.state.password,password2:a.state.password2,role:a.state.role}).then((function(e){console.log(e),e.data.errors?e.data.errors.length>0&&(console.log(e.data.errors),a.setState({errors:Object(F.a)(e.data.errors),success:!1})):a.props.cancel()})).catch((function(e){return console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;oe(this.props,"Manage Users")&&(K.a.get("/roles/roles").then((function(t){e.setState({Roles:t.data.Roles})})),K.a.get("/employees/employees").then((function(t){console.log(t.data.Employees),e.setState({Employees:Object(F.a)(t.data.Employees)}),e.setState({employee_id:e.props.user.employee_id,user_name:e.props.user.name,role:e.props.user.role})})))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:Ee.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Edit User"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:Ee.box_msg,bgcolor:"#f73067",key:t},e)})):!0===this.state.success?i.a.createElement(m.a,{bgcolor:"#3df45b",style:Ee.box_msg},"Registration Successful"):i.a.createElement(m.a,null),i.a.createElement(ne,null,i.a.createElement(m.a,{style:Ee.box_field},i.a.createElement(Z.a,{disabled:!0,required:!0,variant:"outlined",fullWidth:!0},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select Employee"),i.a.createElement(ee.a,{required:!0,value:this.state.employee_id,onChange:function(t){console.log(t.target.value),e.setState({employee_id:t.target.value})}},this.state.Employees.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.employee_first_name)}))))),i.a.createElement(m.a,{style:Ee.box_field},i.a.createElement(X.a,{disabled:!0,fullWidth:!0,required:!0,value:this.state.user_name,variant:"outlined",label:"User Name",type:"text",onChange:function(t){e.setState({user_name:t.target.value})}})),i.a.createElement(m.a,{style:{width:"100%"}},i.a.createElement(m.a,{style:Ee.box_field},i.a.createElement(X.a,{fullWidth:!0,required:!0,value:this.state.password,variant:"outlined",label:"Password",type:"password",onChange:function(t){e.setState({password:t.target.value})}})),i.a.createElement(m.a,{style:Ee.box_field},i.a.createElement(X.a,{fullWidth:!0,required:!0,value:this.state.password2,variant:"outlined",label:"Confirm Password",type:"password",onChange:function(t){e.setState({password2:t.target.value})}}))),i.a.createElement(m.a,{style:Ee.box_field},i.a.createElement(Z.a,{variant:"outlined",fullWidth:!0},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select Role"),i.a.createElement(ee.a,{required:!0,value:this.state.role,onChange:function(t){console.log(t.target.value),e.setState({role:t.target.value})}},this.state.Roles.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.role_name)})))))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"97%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px",style:{display:"flex"}},i.a.createElement(O.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px",style:{display:""}},i.a.createElement(O.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:this.onEditHandler},"Update"))))}}]),t}(n.Component),ve=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).EditData={},a.state={columns:[{title:"ID",field:"id"},{title:"Employee ID",field:"employee_id"},{title:"Name",field:"name"},{title:"Role",field:"role"}],data:[],openAdd:!1,openEdit:!1,msg:""},a.OnEditHandler=function(e,t){K.a.post("/users/user",{name:t.name}).then((function(e){a.EditData=Object(B.a)({},e.data.Users[0]),console.log("Edit Data",a.EditData),a.setState({openEdit:!0})}))},a.handleClose=function(){K.a.get("/users/users").then((function(e){console.log(e.data.Users),console.log(e.data.Users);for(var t=function(t){e.data.Users[t].id=t+1,K.a.post("/roles/role",{_id:e.data.Users[t].role}).then((function(n){n.data.Role[0]?(console.log("role: ",n.data.Role[0].role_name),e.data.Users[t].role=n.data.Role[0].role_name,a.setState({data:Object(F.a)(e.data.Users)})):(e.data.Users[t].role="problem loading role",a.setState({data:Object(F.a)(e.data.Users)}))})),K.a.post("/employees/employee",{_id:e.data.Users[t].employee_id}).then((function(n){n.data.Employee[0]?(console.log("employee: ",n.data.Employee[0].employee_id),e.data.Users[t].employee_id=n.data.Employee[0].employee_id,a.setState({data:Object(F.a)(e.data.Users)})):(e.data.Users[t].employee_id="problem loading Employee ID",a.setState({data:Object(F.a)(e.data.Users)}))}))},n=0;n<e.data.Users.length;n++)t(n);a.setState({data:Object(F.a)(e.data.Users)})}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){oe(this.props,"Manage Users")&&this.handleClose()}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Manage User"),i.a.createElement(m.a,{width:"90%"},i.a.createElement(O.a,{variant:"contained",color:"primary",style:{marginBottom:"20px",display:"flex"},size:"large",onClick:function(){e.setState({openAdd:!0})}},"Add Users")),i.a.createElement(Q.a,{title:"",columns:this.state.columns,data:this.state.data,style:{width:"90%",maxHeight:"500px",overflow:"auto"},options:{sorting:!0,headerStyle:{backgroundColor:"#3f51b5",color:"#FFF"}},actions:[{icon:"edit",tooltip:"Edit User",onClick:function(t,a){e.OnEditHandler(t,a)}}],editable:{onRowDelete:function(t){return K.a.post("/users/delete-user",{_id:t._id}).then((function(a){console.log(a),a&&e.setState((function(e){var a=Object(F.a)(e.data);return a.splice(a.indexOf(t),1),Object(B.a)({},e,{data:a})}))}))}},onRowClick:function(t,a){e.OnEditHandler(t,a)}}),i.a.createElement(J.a,{open:this.state.openAdd,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,{style:{padding:"20px"}},i.a.createElement(be,{cancel:function(){e.setState({openAdd:!1,msg:"Added"}),e.handleClose()},snack:function(){e.openSnack()}}))),i.a.createElement(J.a,{open:this.state.openEdit,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,{style:{padding:"20px"}},i.a.createElement(xe,{user:this.EditData,cancel:function(){e.setState({openEdit:!1,msg:"Updated"}),e.handleClose()},snack:function(){e.openSnack()}}))))}}]),t}(n.Component),Se=a(935),Ce=a(936),we=a(487),ke=a(556),Oe=[{name:"Manage Employees",value:!1,component:"management"},{name:"Manage Users",value:!1,component:"management"},{name:"Manage Roles",value:!1,component:"management"},{name:"Manage Products",value:!1,component:"management"},{name:"Manage Raw Materials",value:!1,component:"management"},{name:"Manage Vendors",value:!1,component:"management"},{name:"Manage Distributors",value:!1,component:"management"},{name:"Manage Countries",value:!1,component:"management"},{name:"Manage States",value:!1,component:"management"},{name:"Manage Cities",value:!1,component:"management"},{name:"Manage Work Locations",value:!1,component:"management"},{name:"Manage Shifts",value:!1,component:"management"},{name:"Manage Measuring Units",value:!1,component:"management"},{name:"Manage Material Types",value:!1,component:"management"},{name:"Manage Departments",value:!1,component:"management"},{name:"Manage Production Units",value:!1,component:"management"},{name:"Manage Designations",value:!1,component:"management"},{name:"Manage Boxes",value:!1,component:"management"},{name:"Purchase Requests",value:!1,component:"requests"},{name:"Purchase Report",value:!1,component:"reports"},{name:"Production and Sales Report",value:!1,component:"reports"},{name:"Product Code",value:!1,component:"configurations"},{name:"Manage Purchase",value:!1,component:"purchase"},{name:"Manage Purchase Wastages",value:!1,component:"purchase"},{name:"Manage Purchase Stocks",value:!1,component:"purchase"}],je=ie,De=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={role_name:"",description:"",permissions:Oe,management:!1,requests:!1,reports:!1,configurations:!1,purchase:!1,errors:[],success:!1},a.manageSelected=0,a.requestSelected=0,a.reportSelected=0,a.configurationSelected=0,a.purchaseSelected=0,a.onAddHandler=function(){var e=[];a.state.management&&e.push({name:"Management",Value:!0}),a.state.reports&&e.push({name:"Reports",Value:!0}),a.state.requests&&e.push({name:"Requests",Value:!0}),a.state.configurations&&e.push({name:"Configurations",Value:!0}),a.state.purchase&&e.push({name:"Purchase",Value:!0}),a.state.permissions.map((function(t){return!0===t.value&&e.push(t),null})),K.a.post("/roles/add-role",{role_name:a.state.role_name,description:a.state.description,permissions:e}).then((function(e){console.log(e),e.data.errors.length>0?(console.log(e.data.errors),a.setState({errors:Object(F.a)(e.data.errors),success:!1})):(a.props.cancel(),a.props.snack())})).catch((function(e){return console.log(e)}))},a.onCheckHandle=function(e,t){switch(e){case"management":console.log("management ".concat(t)),t?a.manageSelected++:a.manageSelected--,a.manageSelected>0?a.setState({management:!0}):a.setState({management:!1});break;case"reports":console.log("reports ".concat(t)),t?a.reportSelected++:a.reportSelected--,a.reportSelected>0?a.setState({reports:!0}):a.setState({reports:!1});break;case"requests":console.log("requests ".concat(t)),t?a.requestSelected++:a.requestSelected--,a.requestSelected>0?a.setState({requests:!0}):a.setState({requests:!1});break;case"configurations":console.log("configurations ".concat(t)),t?a.configurationSelected++:a.configurationSelected--,a.configurationSelected>0?a.setState({configurations:!0}):a.setState({configurations:!1});break;case"purchase":console.log("purchase ".concat(t)),t?a.purchaseSelected++:a.purchaseSelected--,a.purchaseSelected>0?a.setState({purchase:!0}):a.setState({purchase:!1})}},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){oe(this.props,"Manage Roles")}},{key:"componentWillUnmount",value:function(){this.state.permissions.map((function(e){return!0===e.value&&(e.value=!1),null}))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:je.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Add Role"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:je.box_msg,bgcolor:"#f73067",key:t},e)})):!0===this.state.success?i.a.createElement(m.a,{bgcolor:"#3df45b",style:je.box_msg},"Registration Successful"):i.a.createElement(m.a,null),i.a.createElement(ne,null,i.a.createElement(m.a,{style:je.box_field},i.a.createElement(X.a,{fullWidth:!0,required:!0,value:this.state.role_name,variant:"outlined",label:"Role Name",type:"text",onChange:function(t){e.setState({role_name:t.target.value})}})),i.a.createElement(m.a,{style:je.box_field},i.a.createElement(X.a,{fullWidth:!0,multiline:!0,value:this.state.description,variant:"outlined",label:"Description",type:"text",onChange:function(t){e.setState({description:t.target.value})}})),i.a.createElement(m.a,{fontWeight:"bold",fontSize:"20px",mb:1,display:"flex",justifyContent:"flex-start",width:"100%"},"Permissions*"),i.a.createElement(m.a,{display:"flex",flexWrap:"wrap",maxHeight:"200px",overflow:"auto",border:"2px solid #dbdbdb",padding:"5px"},i.a.createElement(m.a,{width:"20%",display:"flex"},i.a.createElement(we.a,{control:i.a.createElement(ke.a,{checked:this.state.management,disabled:!0,value:this.state.management}),label:"Management"})),i.a.createElement(m.a,{width:"20%",display:"flex"},i.a.createElement(we.a,{control:i.a.createElement(ke.a,{checked:this.state.requests,disabled:!0,value:this.state.requests}),label:"Requests"})),i.a.createElement(m.a,{width:"20%",display:"flex"},i.a.createElement(we.a,{control:i.a.createElement(ke.a,{checked:this.state.reports,disabled:!0,value:this.state.reports}),label:"Reports"})),i.a.createElement(m.a,{width:"20%",display:"flex"},i.a.createElement(we.a,{control:i.a.createElement(ke.a,{checked:this.state.purchase,disabled:!0,value:this.state.purchase}),label:"Purchase"})),i.a.createElement(m.a,{width:"20%",display:"flex"},i.a.createElement(we.a,{control:i.a.createElement(ke.a,{checked:this.state.configurations,disabled:!0,value:this.state.configurations}),label:"Configurations"})),this.state.permissions.map((function(t,a){return i.a.createElement(m.a,{width:"20%",display:"flex",key:a},i.a.createElement(we.a,{control:i.a.createElement(ke.a,{checked:t.value,onClick:function(a){t.value=!t.value,console.log(t.component),e.onCheckHandle(t.component,t.value),e.setState({permissions:Object(F.a)(e.state.permissions)})},value:"".concat(t.name)}),label:"".concat(t.name)}))})))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"90%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(O.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(O.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:this.onAddHandler},"Add"))))}}]),t}(n.Component),Me=ie,Re=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={_id:"",role_name:"",description:"",permissions:Oe,management:!1,requests:!1,reports:!1,configurations:!1,purchase:!1,errors:[],success:!1,open:!1},a.manageSelected=0,a.requestSelected=0,a.reportSelected=0,a.purchaseSelected=0,a.configurationSelected=0,a.onEditHandler=function(){var e=[];a.state.management&&e.push({name:"Management",Value:!0}),a.state.reports&&e.push({name:"Reports",Value:!0}),a.state.requests&&e.push({name:"Requests",Value:!0}),a.state.configurations&&e.push({name:"Configurations",Value:!0}),a.state.purchase&&e.push({name:"Purchase",Value:!0}),a.state.permissions.map((function(t){return!0===t.value&&e.push(t),null})),K.a.post("/roles/edit-role",{_id:a.state._id,role_name:a.state.role_name,description:a.state.description,permissions:e}).then((function(e){console.log(e),e.data.errors.length>0?(console.log(e.data.errors),a.setState({errors:Object(F.a)(e.data.errors),success:!1})):(a.state.permissions.map((function(e){return e.value=!1,null})),a.props.snack(),a.props.cancel())})).catch((function(e){return console.log(e)}))},a.onCheckHandle=function(e,t){switch(e){case"management":console.log("management ".concat(t)),t?a.manageSelected++:a.manageSelected--,a.manageSelected>0?a.setState({management:!0}):a.setState({management:!1});break;case"reports":console.log("reports ".concat(t)),t?a.reportSelected++:a.reportSelected--,a.reportSelected>0?a.setState({reports:!0}):a.setState({reports:!1});break;case"requests":console.log("requests ".concat(t)),t?a.requestSelected++:a.requestSelected--,a.requestSelected>0?a.setState({requests:!0}):a.setState({requests:!1});break;case"configurations":console.log("configurations ".concat(t)),t?a.configurationSelected++:a.configurationSelected--,a.configurationSelected>0?a.setState({configurations:!0}):a.setState({configurations:!1});break;case"purchase":console.log("purchase ".concat(t)),t?a.purchaseSelected++:a.purchaseSelected--,a.purchaseSelected>0?a.setState({purchase:!0}):a.setState({purchase:!1})}},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;oe(this.props,"Manage Roles")&&""===this.state.role_name&&(this.setState({role_name:this.props.role.role_name,description:this.props.role.description,_id:this.props.role._id}),this.state.permissions.map((function(t){return e.props.role.permissions.map((function(a){return t.name===a.name&&("management"===a.component?(e.setState({management:!0}),e.manageSelected++):"requests"===a.component?(e.setState({requests:!0}),e.requestSelected++):"reports"===a.component?(e.setState({reports:!0}),e.reportSelected++):"purchase"===a.component?(e.setState({purchase:!0}),e.purchaseSelected++):"configurations"===a.component&&(e.setState({configurations:!0}),e.configurationSelected++),t.value=!0),null})),null})))}},{key:"componentWillUnmount",value:function(){this.state.permissions.map((function(e){return e.value=!1,null}))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:Me.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Edit Role"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:Me.box_msg,bgcolor:"#f73067",key:t},e)})):!0===this.state.success?i.a.createElement(m.a,{bgcolor:"#3df45b",style:Me.box_msg},"Registration Successful"):i.a.createElement(m.a,null),i.a.createElement(ne,null,i.a.createElement(m.a,{style:Me.box_field},i.a.createElement(X.a,{fullWidth:!0,required:!0,value:this.state.role_name,variant:"outlined",label:"Role Name",type:"text",onChange:function(t){e.setState({role_name:t.target.value})}})),i.a.createElement(m.a,{style:Me.box_field},i.a.createElement(X.a,{fullWidth:!0,multiline:!0,value:this.state.description,variant:"outlined",label:"Description",type:"text",onChange:function(t){e.setState({description:t.target.value})}})),i.a.createElement(m.a,{fontWeight:"bold",fontSize:"20px",mb:1,display:"flex",justifyContent:"flex-start",width:"100%"},"Permissions*"),i.a.createElement(m.a,{display:"flex",flexWrap:"wrap",maxHeight:"200px",overflow:"auto",border:"2px solid #dbdbdb",padding:"5px"},i.a.createElement(m.a,{width:"20%",display:"flex"},i.a.createElement(we.a,{control:i.a.createElement(ke.a,{checked:this.state.management,disabled:!0,value:this.state.management}),label:"Management"})),i.a.createElement(m.a,{width:"20%",display:"flex"},i.a.createElement(we.a,{control:i.a.createElement(ke.a,{checked:this.state.requests,disabled:!0,value:this.state.requests}),label:"Requests"})),i.a.createElement(m.a,{width:"20%",display:"flex"},i.a.createElement(we.a,{control:i.a.createElement(ke.a,{checked:this.state.reports,disabled:!0,value:this.state.reports}),label:"Reports"})),i.a.createElement(m.a,{width:"20%",display:"flex"},i.a.createElement(we.a,{control:i.a.createElement(ke.a,{checked:this.state.purchase,disabled:!0,value:this.state.purchase}),label:"Purchase"})),i.a.createElement(m.a,{width:"20%",display:"flex"},i.a.createElement(we.a,{control:i.a.createElement(ke.a,{checked:this.state.configurations,disabled:!0,value:this.state.configurations}),label:"Configuration"})),this.state.permissions.map((function(t,a){return i.a.createElement(m.a,{width:"20%",display:"flex",key:a},i.a.createElement(we.a,{control:i.a.createElement(ke.a,{checked:t.value,onClick:function(a){t.value=!t.value,console.log(t.component),e.onCheckHandle(t.component,t.value),e.setState({permissions:Object(F.a)(e.state.permissions)})},value:"".concat(t.name)}),label:"".concat(t.name)}))})))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"90%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(O.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(O.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:this.onEditHandler},"Update"))))}}]),t}(n.Component),We=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).EditData={},a.state={columns:[{title:"ID",field:"id"},{title:"Role Name",field:"role_name"},{title:"Description",field:"description"}],data:[],open:!1,openAdd:!1,openEdit:!1,msg:""},a.onEditHandler=function(e,t){K.a.post("/roles/role",{_id:t._id}).then((function(e){a.EditData=Object(B.a)({},e.data.Role[0]),console.log("Edit ",a.EditData),a.setState({openEdit:!0})}))},a.handleClose=function(){K.a.get("/roles/roles").then((function(e){console.log(e.data);for(var t=0;t<e.data.Roles.length;t++)e.data.Roles[t].id=t+1;a.setState({data:Object(F.a)(e.data.Roles)})})).catch((function(){}))},a.openSnack=function(){a.setState({open:!0})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){oe(this.props,"Manage Roles")&&this.handleClose()}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Manage Role"),i.a.createElement(m.a,{width:"90%"},i.a.createElement(O.a,{variant:"contained",color:"primary",style:{marginBottom:"20px",display:"flex"},size:"large",onClick:function(){e.setState({openAdd:!0})}},"Add Role")),i.a.createElement(Q.a,{title:"",columns:this.state.columns,data:this.state.data,style:{width:"90%",maxHeight:"500px",overflow:"auto"},options:{sorting:!0,headerStyle:{backgroundColor:"#3f51b5",color:"#FFF"}},actions:[{icon:"edit",tooltip:"edit Role",onClick:function(t,a){e.onEditHandler(t,a)}}],editable:{onRowDelete:function(t){return K.a.post("/roles/delete-role",{role_name:t.role_name}).then((function(a){console.log(a),a&&(e.setState((function(e){var a=Object(F.a)(e.data);return a.splice(a.indexOf(t),1),Object(B.a)({},e,{data:a})})),e.setState({msg:"Deleted"}),e.openSnack())}))}},onRowClick:function(t,a){e.onEditHandler(t,a)}}),i.a.createElement(J.a,{open:this.state.openAdd,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,{style:{padding:"20px"}},i.a.createElement(De,{cancel:function(){e.setState({openAdd:!1,msg:"Added"}),e.handleClose()},snack:function(){e.openSnack()}}))),i.a.createElement(J.a,{open:this.state.openEdit,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,{style:{padding:"20px"}},i.a.createElement(Re,{role:this.EditData,cancel:function(){e.setState({openEdit:!1,msg:"Updated"}),e.handleClose()},snack:function(){e.openSnack()}}))),i.a.createElement(Se.a,{open:this.state.open,autoHideDuration:3e3,onClose:function(){e.setState({open:!1})}},i.a.createElement(Ce.a,{onClose:function(){e.setState({open:!1})},severity:"success",elevation:6,variant:"filled"},"Role ",this.state.msg,"!")))}}]),t}(n.Component),ze=ie,qe=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={shift_name:"",description:"",errors:[],success:!1},a.onAddHandler=function(){K.a.post("/shifts/add-shift",{shift_name:a.state.shift_name,description:a.state.description}).then((function(e){console.log(e),e.data.errors.length>0?(console.log(e.data.errors),a.setState({errors:Object(F.a)(e.data.errors),success:!1})):a.props.cancel()})).catch((function(e){return console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){oe(this.props,"Manage Shifts")}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:ze.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Add Shift"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:ze.box_msg,bgcolor:"#f73067",key:t},e)})):!0===this.state.success?i.a.createElement(m.a,{bgcolor:"#3df45b",style:ze.box_msg},"Registration Successful"):null,i.a.createElement(ne,null,i.a.createElement(m.a,{style:ze.box_field},i.a.createElement(X.a,{fullWidth:!0,required:!0,value:this.state.shift_name,variant:"outlined",label:"Shift Name",type:"text",onChange:function(t){e.setState({shift_name:t.target.value})}})),i.a.createElement(m.a,{style:ze.box_field},i.a.createElement(X.a,{fullWidth:!0,required:!0,value:this.state.description,variant:"outlined",label:"Description",type:"text",onChange:function(t){e.setState({description:t.target.value})}}))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(O.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(O.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:this.onAddHandler},"Add"))))}}]),t}(n.Component),Ae=ie,Ie=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={_id:"",shift_name:"",description:"",errors:[],success:!1},a.onEditHandler=function(){K.a.post("/shifts/edit-shift",{_id:a.state._id,shift_name:a.state.shift_name,description:a.state.description}).then((function(e){console.log(e),e.data.errors&&(e.data.errors.length>0?(console.log(e.data.errors),a.setState({errors:Object(F.a)(e.data.errors),success:!1})):a.props.cancel())})).catch((function(e){return console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){oe(this.props,"Manage Shifts")&&""===this.state.shift_name&&this.setState({shift_name:this.props.shift.shift_name,description:this.props.shift.description,_id:this.props.shift._id})}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:Ae.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Edit Shift"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:Ae.box_msg,bgcolor:"#f73067",key:t},e)})):!0===this.state.success?i.a.createElement(m.a,{bgcolor:"#3df45b",style:Ae.box_msg},"Registration Successful"):null,i.a.createElement(ne,null,i.a.createElement(m.a,{style:Ae.box_field},i.a.createElement(X.a,{fullWidth:!0,required:!0,value:this.state.shift_name,variant:"outlined",label:"Shift Name",type:"text",onChange:function(t){e.setState({shift_name:t.target.value})}})),i.a.createElement(m.a,{style:Ae.box_field},i.a.createElement(X.a,{fullWidth:!0,required:!0,value:this.state.description,variant:"outlined",label:"Description",type:"text",onChange:function(t){e.setState({description:t.target.value})}}))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(O.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(O.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:this.onEditHandler},"Update"))))}}]),t}(n.Component),Pe=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).EditData={},a.state={columns:[{title:"ID",field:"id"},{title:"Shift Name",field:"shift_name"},{title:"Description",field:"description"}],data:[],openAdd:!1,openEdit:!1},a.OnEditHandler=function(e,t){K.a.post("/shifts/shift",{_id:t._id}).then((function(e){console.log(e),a.EditData=Object(B.a)({},e.data.shift[0]),console.log(a.EditData),a.setState({openEdit:!0})}))},a.handleClose=function(){K.a.get("/shifts/shifts").then((function(e){console.log(e.data);for(var t=0;t<e.data.Shifts.length;t++)e.data.Shifts[t].id=t+1;a.setState({data:Object(F.a)(e.data.Shifts)})}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){oe(this.props,"Manage Shifts")&&this.handleClose()}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Manage Shift"),i.a.createElement(m.a,{width:"90%"},i.a.createElement(O.a,{variant:"contained",color:"primary",style:{marginBottom:"20px",display:"flex"},size:"large",onClick:function(){e.setState({openAdd:!0})}},"Add Shift")),i.a.createElement(Q.a,{title:" ",columns:this.state.columns,data:this.state.data,style:{width:"90%",maxHeight:"500px",overflow:"auto"},options:{sorting:!0,headerStyle:{backgroundColor:"#3f51b5",color:"#FFF"}},actions:[{icon:"edit",tooltip:"Edit User",onClick:function(t,a){e.OnEditHandler(t,a)}}],editable:{onRowDelete:function(t){return K.a.post("/shifts/delete-shift",{shift_name:t.shift_name}).then((function(a){console.log(a),a&&e.setState((function(e){var a=Object(F.a)(e.data);return a.splice(a.indexOf(t),1),Object(B.a)({},e,{data:a})}))}))}},onRowClick:function(t,a){e.OnEditHandler(t,a)}}),i.a.createElement(J.a,{open:this.state.openAdd,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,{style:{padding:"20px"}},i.a.createElement(qe,{cancel:function(){e.setState({openAdd:!1}),e.handleClose()}}))),i.a.createElement(J.a,{open:this.state.openEdit,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,{style:{padding:"20px"}},i.a.createElement(Ie,{shift:this.EditData,cancel:function(){e.setState({openEdit:!1}),e.handleClose()}}))))}}]),t}(n.Component),Te=ie,Ue=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={state_name:"",country_id:"",description:"",errors:[],success:!1,states:[],Countries:[]},a.onAddHandler=function(){K.a.post("/states/add-state",{state_name:a.state.state_name,country_id:a.state.country_id,description:a.state.description}).then((function(e){console.log(e),e.data.errors.length>0?(console.log(e.data.errors),a.setState({errors:Object(F.a)(e.data.errors),success:!1})):a.props.cancel()})).catch((function(e){return console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;oe(this.props,"Manage States")&&K.a.get("/countries/countries").then((function(t){e.setState({Countries:Object(F.a)(t.data.Countries)})}))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:Te.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Add State"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:Te.box_msg,bgcolor:"#f73067",key:t},e)})):!0===this.state.success?i.a.createElement(m.a,{bgcolor:"#3df45b",style:Te.box_msg},"Registration Successful"):null,i.a.createElement(ne,null,i.a.createElement(m.a,{style:Te.box_field},i.a.createElement(X.a,{fullWidth:!0,required:!0,value:this.state.state_name,variant:"outlined",label:"State Name",type:"text",onChange:function(t){e.setState({state_name:t.target.value})}})),i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select Country"),i.a.createElement(ee.a,{style:Te.box_field,required:!0,value:this.state.country_id,onChange:function(t){console.log(t.target.value),e.setState({country_id:t.target.value})}},this.state.Countries.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.country_name)})))),i.a.createElement(m.a,{style:Te.box_field},i.a.createElement(X.a,{fullWidth:!0,required:!0,value:this.state.description,variant:"outlined",label:"Description",type:"text",onChange:function(t){e.setState({description:t.target.value})}}))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(O.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(O.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:this.onAddHandler},"Add"))))}}]),t}(n.Component),Le=ie,He=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={_id:"",state_name:"",country_id:"",description:"",errors:[],success:!1,countries:[]},a.onEditHandler=function(){K.a.post("/states/edit-state",{_id:a.state._id,state_name:a.state.state_name,country_id:a.state.country_id,description:a.state.description}).then((function(e){console.log(e),e.data.errors&&(e.data.errors.length>0?(console.log(e.data.errors),a.setState({errors:Object(F.a)(e.data.errors),success:!1})):a.props.cancel())})).catch((function(e){return console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;oe(this.props,"Manage States")&&K.a.get("/countries/countries").then((function(t){e.setState({countries:Object(F.a)(t.data.Countries)}),""===e.state.state_name&&(console.log(e.props.state),e.setState({_id:e.props.state._id,state_name:e.props.state.state_name,country_id:e.props.state.country_id,description:e.props.state.description}))}))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:Le.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Edit State"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:Le.box_msg,bgcolor:"#f73067",key:t},e)})):!0===this.state.success?i.a.createElement(m.a,{bgcolor:"#3df45b",style:Le.box_msg},"Registration Successful"):null,i.a.createElement(ne,null,i.a.createElement(m.a,{style:Le.box_field},i.a.createElement(X.a,{fullWidth:!0,required:!0,value:this.state.state_name,variant:"outlined",label:"State Name",type:"text",onChange:function(t){e.setState({state_name:t.target.value})}})),i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select Country"),i.a.createElement(ee.a,{style:Le.box_field,required:!0,value:this.state.country_id,onChange:function(t){console.log(t.target.value),e.setState({country_id:t.target.value})}},this.state.countries.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.country_name)})))),i.a.createElement(m.a,{style:Le.box_field},i.a.createElement(X.a,{fullWidth:!0,required:!0,value:this.state.description,variant:"outlined",label:"Description",type:"text",onChange:function(t){e.setState({description:t.target.value})}}))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(O.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(O.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:this.onEditHandler},"Add"))))}}]),t}(n.Component),Ne=a(213),Fe=a.n(Ne),Be=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={bulk_upload:[]},a.onBulkAddHandler=function(){a.state.bulk_upload.map((function(e){return console.log(e[1]),K.a.post("/countries/country-name",{country_name:e[1]}).then((function(t){console.log(t),K.a.post("/states/add-state",{state_name:e[0],country_id:t.data.Country[0]._id,description:e[2]}).then((function(e){console.log(e),e.data.errors.length>0&&(console.log(e.data.errors),a.setState({errors:Object(F.a)(e.data.errors),success:!1}))})).catch((function(e){return console.log(e)}))})).catch((function(e){console.log(e),a.props.cancel()})),null}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{display:"flex",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",fontWeight:"bold"},"State CSV upload"),i.a.createElement(m.a,{display:"flex"},i.a.createElement(m.a,{display:"flex",flex:"2",alignItems:"center"},i.a.createElement(Fe.a,{onFileLoaded:function(t){console.log(t);var a=t.length-2;console.log(a),(t=t.splice(1,a)).push("EOF"),e.setState({bulk_upload:Object(F.a)(t)})}})),i.a.createElement(m.a,{display:"flex",alignSelf:"flex-end",flex:"1"},i.a.createElement(O.a,{style:{marginRight:"10px"},variant:"contained",color:"primary",onClick:function(){e.onBulkAddHandler()}},"upload"),i.a.createElement(O.a,{variant:"contained",color:"primary",onClick:function(){e.props.cancel()}},"cancel"))))}}]),t}(n.Component),Ve=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).EditData={},a.state={columns:[{title:"ID",field:"id"},{title:"State Name",field:"state_name"},{title:"Country Name",field:"country_id"},{title:"Description",field:"description"}],data:[],openAdd:!1,openEdit:!1,openUploadCSV:!1,samp:"hello"},a.OnEditHandler=function(e,t){console.log(t._id),K.a.post("/states/state",{_id:t._id}).then((function(e){console.log(e),a.EditData=Object(B.a)({},e.data.state),console.log(a.EditData[0]),a.setState({openEdit:!0})}))},a.handleClose=function(){K.a.get("/states/states").then((function(e){for(var t=function(t){e.data.States[t].id=t+1,K.a.post("/countries/country",{_id:e.data.States[t].country_id}).then((function(n){n.data.Country[0]?(console.log(n.data.Country[0].country_name),e.data.States[t].country_id=n.data.Country[0].country_name,a.setState({data:Object(F.a)(e.data.States)})):(e.data.States[t].country_id="problem loading country",a.setState({data:Object(F.a)(e.data.States)}))}))},n=0;n<e.data.States.length;n++)t(n)})).catch((function(e){console.log("Error")}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){oe(this.props,"Manage States")&&this.handleClose()}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Manage State"),i.a.createElement(m.a,{width:"90%",display:"flex",flexDirection:"row"},i.a.createElement(O.a,{variant:"contained",color:"primary",style:{marginBottom:"20px",display:"flex",marginRight:"10px"},size:"large",onClick:function(){e.setState({openAdd:!0})}},"Add State"),i.a.createElement(O.a,{variant:"contained",color:"primary",style:{marginBottom:"20px",display:"flex"},size:"large",onClick:function(){e.setState({openUploadCSV:!0})}},"Upload CSV")),i.a.createElement(Q.a,{title:" ",columns:this.state.columns,data:this.state.data,style:{width:"90%",maxHeight:"500px",overflow:"auto"},options:{sorting:!0,headerStyle:{backgroundColor:"#3f51b5",color:"#FFF"}},actions:[{icon:"edit",tooltip:"Edit User",onClick:function(t,a){e.OnEditHandler(t,a)}}],editable:{onRowDelete:function(t){return K.a.post("/states/delete-state",{state_name:t.state_name}).then((function(a){console.log(a),a&&e.setState((function(e){var a=Object(F.a)(e.data);return a.splice(a.indexOf(t),1),Object(B.a)({},e,{data:a})}))}))}},onRowClick:function(t,a){e.OnEditHandler(t,a)}}),i.a.createElement(J.a,{open:this.state.openAdd,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,{style:{padding:"20px"}},i.a.createElement(Ue,{cancel:function(){e.setState({openAdd:!1}),e.handleClose()}}))),i.a.createElement(J.a,{open:this.state.openEdit,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,{style:{padding:"20px"}},i.a.createElement(He,{state:this.EditData[0],cancel:function(){e.setState({openEdit:!1}),e.handleClose()}}))),i.a.createElement(J.a,{open:this.state.openUploadCSV,maxWidth:"sm",fullWidth:!0},i.a.createElement(Y.a,{style:{padding:"20px"}},i.a.createElement(Be,{cancel:function(){e.setState({openUploadCSV:!1}),e.handleClose()}}))))}}]),t}(n.Component),Qe=ie,Ye=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={country_name:"",description:"",errors:[],success:!1},a.onAddHandler=function(){K.a.post("/countries/add-country",{country_name:a.state.country_name,description:a.state.description}).then((function(e){console.log(e),e.data.errors.length>0?(console.log(e.data.errors),a.setState({errors:Object(F.a)(e.data.errors),success:!1})):a.props.cancel()})).catch((function(e){return console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){oe(this.props,"Manage Countries")}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:Qe.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Add Country"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:Qe.box_msg,bgcolor:"#f73067",key:t},e)})):!0===this.state.success?i.a.createElement(m.a,{bgcolor:"#3df45b",style:Qe.box_msg},"Registration Successful"):null,i.a.createElement(ne,null,i.a.createElement(m.a,{style:Qe.box_field},i.a.createElement(X.a,{fullWidth:!0,required:!0,value:this.state.country_name,variant:"outlined",label:"Country Name",type:"text",onChange:function(t){e.setState({country_name:t.target.value})}})),i.a.createElement(m.a,{style:Qe.box_field},i.a.createElement(X.a,{fullWidth:!0,required:!0,value:this.state.description,variant:"outlined",label:"Description",type:"text",onChange:function(t){e.setState({description:t.target.value})}}))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(O.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(O.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:this.onAddHandler},"Add"))))}}]),t}(n.Component),Je=ie,Ge=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={_id:"",country_name:"",description:"",errors:[],success:!1},a.onEditHandler=function(){K.a.post("/countries/edit-country",{_id:a.state._id,country_name:a.state.country_name,description:a.state.description}).then((function(e){console.log(e),e.data.errors&&(e.data.errors.length>0?(console.log(e.data.errors),a.setState({errors:Object(F.a)(e.data.errors),success:!1})):a.props.cancel())})).catch((function(e){return console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){oe(this.props,"Manage Countries")&&(console.log(this.props),""===this.state.country_name&&this.setState({country_name:this.props.country.country_name,description:this.props.country.description,_id:this.props.country._id}))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:Je.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Edit Country"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:Je.box_msg,bgcolor:"#f73067",key:t},e)})):!0===this.state.success?i.a.createElement(m.a,{bgcolor:"#3df45b",style:Je.box_msg},"Registration Successful"):null,i.a.createElement(ne,null,i.a.createElement(m.a,{style:Je.box_field},i.a.createElement(X.a,{fullWidth:!0,required:!0,value:this.state.country_name,variant:"outlined",label:"Country Name",type:"text",onChange:function(t){e.setState({country_name:t.target.value})}})),i.a.createElement(m.a,{style:Je.box_field},i.a.createElement(X.a,{fullWidth:!0,required:!0,value:this.state.description,variant:"outlined",label:"Description",type:"text",onChange:function(t){e.setState({description:t.target.value})}}))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(O.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(O.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:this.onEditHandler},"Update"))))}}]),t}(n.Component),Ke=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={bulk_upload:[]},a.onBulkAddHandler=function(){a.state.bulk_upload.map((function(e){return console.log(e[0]),K.a.post("/countries/add-country",{country_name:e[0],description:e[1]}).then((function(e){console.log(e),e.data.errors.length>0&&(console.log(e.data.errors),a.setState({errors:Object(F.a)(e.data.errors),success:!1}))})).catch((function(e){console.log(e)})),a.props.cancel(),null}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{display:"flex",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",fontWeight:"bold"},"Country CSV upload"),i.a.createElement(m.a,{display:"flex"},i.a.createElement(m.a,{display:"flex",flex:"2",alignItems:"center"},i.a.createElement(Fe.a,{onFileLoaded:function(t){console.log(t);var a=t.length-2;console.log(a),t=t.splice(1,a),e.setState({bulk_upload:Object(F.a)(t)})}})),i.a.createElement(m.a,{display:"flex",alignSelf:"flex-end",flex:"1"},i.a.createElement(O.a,{style:{marginRight:"10px"},variant:"contained",color:"primary",onClick:function(){e.onBulkAddHandler()}},"upload"),i.a.createElement(O.a,{variant:"contained",color:"primary",onClick:function(){e.props.cancel()}},"cancel"))))}}]),t}(n.Component),Xe=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).EditData={},a.state={columns:[{title:"ID",field:"id"},{title:"Country Name",field:"country_name"},{title:"Description",field:"description"}],data:[],openAdd:!1,openEdit:!1,openUploadCSV:!1},a.OnEditHandler=function(e,t){K.a.post("/countries/country",{_id:t._id}).then((function(e){a.EditData=Object(B.a)({},e.data.Country[0]),console.log(a.EditData),a.setState({openEdit:!0})}))},a.handleClose=function(){K.a.get("/countries/countries").then((function(e){console.log(e.data.Countries);for(var t=0;t<e.data.Countries.length;t++)e.data.Countries[t].id=t+1;a.setState({data:Object(F.a)(e.data.Countries)})}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){oe(this.props,"Manage Countries")&&this.handleClose()}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Manage Countries"),i.a.createElement(m.a,{width:"90%",display:"flex",flexDirection:"row"},i.a.createElement(O.a,{variant:"contained",color:"primary",style:{marginBottom:"20px",display:"flex",marginRight:"10px"},size:"large",onClick:function(){e.setState({openAdd:!0})}},"Add Countries"),i.a.createElement(O.a,{variant:"contained",color:"primary",style:{marginBottom:"20px",display:"flex"},size:"large",onClick:function(){e.setState({openUploadCSV:!0})}},"Upload CSV")),i.a.createElement(Q.a,{title:" ",columns:this.state.columns,data:this.state.data,style:{width:"90%",maxHeight:"500px",overflow:"auto"},options:{sorting:!0,headerStyle:{backgroundColor:"#3f51b5",color:"#FFF"}},actions:[{icon:"edit",tooltip:"Edit User",onClick:function(t,a){e.OnEditHandler(t,a)}}],editable:{onRowDelete:function(t){return K.a.post("/countries/delete-country",{country_name:t.country_name}).then((function(a){console.log(a),a&&e.setState((function(e){var a=Object(F.a)(e.data);return a.splice(a.indexOf(t),1),Object(B.a)({},e,{data:a})}))}))}},onRowClick:function(t,a){e.OnEditHandler(t,a)}}),i.a.createElement(J.a,{open:this.state.openAdd,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,{style:{padding:"20px"}},i.a.createElement(Ye,{cancel:function(){e.setState({openAdd:!1}),e.handleClose()}}))),i.a.createElement(J.a,{open:this.state.openEdit,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,{style:{padding:"20px"}},i.a.createElement(Ge,{country:this.EditData,cancel:function(){e.setState({openEdit:!1}),e.handleClose()}}))),i.a.createElement(J.a,{open:this.state.openUploadCSV,maxWidth:"sm",fullWidth:!0},i.a.createElement(Y.a,{style:{padding:"20px"}},i.a.createElement(Ke,{cancel:function(){e.setState({openUploadCSV:!1}),e.handleClose()}}))))}}]),t}(n.Component),Ze=ie,$e=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={city_name:"",state_id:"",description:"",errors:[],success:!1,states:[],bulk_upload:[]},a.onAddHandler=function(){K.a.post("/cities/add-city",{city_name:a.state.city_name,state_id:a.state.state_id,description:a.state.description}).then((function(e){console.log(e),e.data.errors.length>0?(console.log(e.data.errors),a.setState({errors:Object(F.a)(e.data.errors),success:!1})):a.props.cancel()})).catch((function(e){return console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;oe(this.props,"Manage Cities")&&K.a.get("/states/states").then((function(t){e.setState({states:Object(F.a)(t.data.States)})}))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:Ze.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Add City"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:Ze.box_msg,bgcolor:"#f73067",key:t},e)})):!0===this.state.success?i.a.createElement(m.a,{bgcolor:"#3df45b",style:Ze.box_msg},"Registration Successful"):null,i.a.createElement(ne,null,i.a.createElement(m.a,{style:Ze.box_field},i.a.createElement(X.a,{fullWidth:!0,required:!0,value:this.state.city_name,variant:"outlined",label:"City Name",type:"text",onChange:function(t){e.setState({city_name:t.target.value})}})),i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select State"),i.a.createElement(ee.a,{style:Ze.box_field,required:!0,value:this.state.state_id,onChange:function(t){console.log(t.target.value),e.setState({state_id:t.target.value})}},this.state.states.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.state_name)})))),i.a.createElement(m.a,{style:Ze.box_field},i.a.createElement(X.a,{fullWidth:!0,required:!0,value:this.state.description,variant:"outlined",label:"Description",type:"text",onChange:function(t){e.setState({description:t.target.value})}})),i.a.createElement(p.a,null),i.a.createElement(m.a,null)),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(O.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(O.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:this.onAddHandler},"Add"))))}}]),t}(n.Component),et=ie,tt=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={_id:"",city_name:"",state_id:"",description:"",errors:[],success:!1,states:[]},a.onEditHandler=function(){K.a.post("/cities/edit-city",{_id:a.state._id,city_name:a.state.city_name,state_id:a.state.state_id,description:a.state.description}).then((function(e){console.log(e),e.data.errors&&(e.data.errors.length>0?(console.log(e.data.errors),a.setState({errors:Object(F.a)(e.data.errors),success:!1})):a.props.cancel())})).catch((function(e){return console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;oe(this.props,"Manage Cities")&&K.a.get("/states/states").then((function(t){e.setState({states:Object(F.a)(t.data.States)}),""===e.state.city_name&&e.setState({_id:e.props.city._id,city_name:e.props.city.city_name,state_id:e.props.city.state_id,description:e.props.city.description})}))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:et.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Edit City"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:et.box_msg,bgcolor:"#f73067",key:t},e)})):!0===this.state.success?i.a.createElement(m.a,{bgcolor:"#3df45b",style:et.box_msg},"Registration Successful"):null,i.a.createElement(ne,null,i.a.createElement(m.a,{style:et.box_field},i.a.createElement(X.a,{fullWidth:!0,required:!0,value:this.state.city_name,variant:"outlined",label:"City Name",type:"text",onChange:function(t){e.setState({city_name:t.target.value})}})),i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select State"),i.a.createElement(ee.a,{style:et.box_field,required:!0,value:this.state.state_id,onChange:function(t){console.log(t.target.value),e.setState({state_id:t.target.value})}},this.state.states.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.state_name)})))),i.a.createElement(m.a,{style:et.box_field},i.a.createElement(X.a,{fullWidth:!0,required:!0,value:this.state.description,variant:"outlined",label:"Description",type:"text",onChange:function(t){e.setState({description:t.target.value})}}))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(O.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(O.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:this.onEditHandler},"Update"))))}}]),t}(n.Component),at=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={bulk_upload:[]},a.onBulkAddHandler=function(){a.state.bulk_upload.map((function(e){return K.a.post("/states/state-name",{state_name:e[1]}).then((function(t){K.a.post("/cities/add-city",{city_name:e[0],state_id:t.data.State[0]._id,description:e[2]}).then((function(e){e.data.errors.length>0&&(console.log(e.data.errors),a.setState({errors:Object(F.a)(e.data.errors),success:!1}))})).catch((function(e){return console.log(e)}))})).catch((function(e){console.log(e),a.props.cancel()})),null}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{display:"flex",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",fontWeight:"bold"},"City CSV upload"),i.a.createElement(m.a,{display:"flex"},i.a.createElement(m.a,{display:"flex",flex:"2",alignItems:"center"},i.a.createElement(Fe.a,{onFileLoaded:function(t){var a=t.length-2;(t=t.splice(1,a)).push("EOF"),e.setState({bulk_upload:Object(F.a)(t)})}})),i.a.createElement(m.a,{display:"flex",alignSelf:"flex-end",flex:"1"},i.a.createElement(O.a,{style:{marginRight:"10px"},variant:"contained",color:"primary",onClick:function(){e.onBulkAddHandler()}},"upload"),i.a.createElement(O.a,{variant:"contained",color:"primary",onClick:function(){e.props.cancel()}},"cancel"))))}}]),t}(n.Component),nt=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).EditData={},a.state={columns:[{title:"ID",field:"id"},{title:"City Name",field:"city_name"},{title:"State Name",field:"state_id"},{title:"Description",field:"description"}],data:[],openAdd:!1,openEdit:!1,openUploadCSV:!1},a.CancelToken=K.a.CancelToken,a.source=a.CancelToken.source(),a.OnEditHandler=function(e,t){console.log(t._id),K.a.post("/cities/city",{_id:t._id},{cancelToken:a.source.token}).then((function(e){console.log(e),a.EditData=Object(B.a)({},e.data.city),console.log(a.EditData[0]),a.setState({openEdit:!0})}))},a.handleClose=function(){K.a.get("/cities/cities",{cancelToken:a.source.token}).then((function(e){for(var t=function(t){e.data.Cities[t].id=t+1,K.a.post("/states/state",{_id:e.data.Cities[t].state_id},{cancelToken:a.source.token}).then((function(n){console.log(n),n.data.state[0]?(console.log(n.data.state[0].state_name),e.data.Cities[t].state_id=n.data.state[0].state_name,a.setState({data:Object(F.a)(e.data.Cities)})):(e.data.Cities[t].state_id="problem loading state",a.setState({data:Object(F.a)(e.data.Cities)}))})).catch((function(e){console.log(e)}))},n=0;n<e.data.Cities.length;n++)t(n)})).catch((function(e){console.log("Error")}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){oe(this.props,"Manage Cities")&&this.handleClose()}},{key:"componentWillUnmount",value:function(){this.source.cancel("axios call aborted")}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Manage City"),i.a.createElement(m.a,{width:"90%",display:"flex",flexDirection:"row"},i.a.createElement(O.a,{variant:"contained",color:"primary",style:{marginBottom:"20px",display:"flex",marginRight:"10px"},size:"large",onClick:function(){e.setState({openAdd:!0})}},"Add City"),i.a.createElement(O.a,{variant:"contained",color:"primary",style:{marginBottom:"20px",display:"flex"},size:"large",onClick:function(){e.setState({openUploadCSV:!0})}},"Upload CSV")),i.a.createElement(Q.a,{fixed:!0,title:" ",columns:this.state.columns,data:this.state.data,style:{width:"90%",maxHeight:"500px",overflow:"auto"},options:{sorting:!0,headerStyle:{backgroundColor:"#3f51b5",color:"#FFF"}},actions:[{icon:"edit",tooltip:"Edit User",onClick:function(t,a){e.OnEditHandler(t,a)}}],editable:{onRowDelete:function(t){return K.a.post("/cities/delete-city",{_id:t._id}).then((function(a){console.log(a),a&&e.setState((function(e){var a=Object(F.a)(e.data);return a.splice(a.indexOf(t),1),Object(B.a)({},e,{data:a})}))}))}},onRowClick:function(t,a){e.OnEditHandler(t,a)}}),i.a.createElement(J.a,{open:this.state.openAdd,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,{style:{padding:"20px"}},i.a.createElement($e,{cancel:function(){e.setState({openAdd:!1}),e.handleClose()}}))),i.a.createElement(J.a,{open:this.state.openEdit,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,{style:{padding:"20px"}},i.a.createElement(tt,{city:this.EditData[0],cancel:function(){e.setState({openEdit:!1}),e.handleClose()}}))),i.a.createElement(J.a,{open:this.state.openUploadCSV,maxWidth:"sm",fullWidth:!0},i.a.createElement(Y.a,{style:{padding:"20px"}},i.a.createElement(at,{cancel:function(){e.setState({openUploadCSV:!1}),e.handleClose()}}))))}}]),t}(n.Component),it=function(e){var t=!1,a="",n=!1,i=e.target,o=i.name,l=i.value;switch(o){case"measuring_unit_name":l.length>20?(t=!0,a="must have less than 20 characters"):0===l.length?(t=!0,a="Name required"):(t=!1,a="",n=!0);break;case"description":l.length>200?(t=!0,a="must have less than 200 characters"):(t=!1,a="",n=!0)}return{status:t,msg:a,isValid:n}},ot=ie,lt=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={measuring_unit_name:"",description:"",errors:[],fieldError:{measuring_unit_name:{status:!1,msg:""},description:{status:!1,msg:""}},isValid:!1},a.onAddHandler=function(){K.a.post("/measuring-units/add-measuring-unit",{measuring_unit_name:a.state.measuring_unit_name,description:a.state.description}).then((function(e){console.log(e),e.data.errors.length>0?(console.log(e.data.errors),a.setState({errors:Object(F.a)(e.data.errors)})):a.props.cancel()})).catch((function(e){return console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){oe(this.props,"Manage Measuring Units")&&this.setState({isValid:!1})}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:ot.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Add Measuring Unit"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:ot.box_msg,bgcolor:"#f73067",key:t},e)})):null,i.a.createElement(ne,null,i.a.createElement(m.a,{style:ot.box_field},i.a.createElement(X.a,{name:"measuring_unit_name",fullWidth:!0,required:!0,value:this.state.measuring_unit_name,variant:"outlined",label:"Measuring Unit Name",type:"text",onChange:function(t){e.setState({measuring_unit_name:t.target.value});var a=it(t),n=a.status,i=a.msg,o=a.isValid;e.setState((function(e){e.fieldError.measuring_unit_name.status=n,e.fieldError.measuring_unit_name.msg=i,e.isValid=o}))},error:this.state.fieldError.measuring_unit_name.status,helperText:this.state.fieldError.measuring_unit_name.msg})),i.a.createElement(m.a,{style:ot.box_field},i.a.createElement(X.a,{name:"description",multiline:!0,rowsMax:4,fullWidth:!0,required:!0,value:this.state.description,variant:"outlined",label:"Description",type:"text",onChange:function(t){e.setState({description:t.target.value});var a=it(t),n=a.status,i=a.msg,o=a.isValid;e.setState((function(e){e.fieldError.description.status=n,e.fieldError.description.msg=i,e.isValid=o}))},error:this.state.fieldError.description.status,helperText:this.state.fieldError.description.msg}))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(O.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(O.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",disabled:!this.state.isValid,onClick:this.onAddHandler},"Add"))))}}]),t}(n.Component),rt=ie,st=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={_id:"",measuring_unit_name:"",description:"",errors:[],fieldError:{measuring_unit_name:{status:!1,msg:""},description:{status:!1,msg:""}},isValid:!1},a.onEditHandler=function(){K.a.post("/measuring-units/edit-measuring-unit",{_id:a.state._id,measuring_unit_name:a.state.measuring_unit_name,description:a.state.description}).then((function(e){console.log(e),e.data.errors&&(e.data.errors.length>0?(console.log(e.data.errors),a.setState({isValid:!1,errors:Object(F.a)(e.data.errors)})):a.props.cancel())})).catch((function(e){return console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){oe(this.props,"Manage Measuring Units")&&(console.log(this.props),""===this.state.measuring_unit_name&&this.setState({measuring_unit_name:this.props.MeasuringUnit.measuring_unit_name,description:this.props.MeasuringUnit.description,_id:this.props.MeasuringUnit._id}))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:rt.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Edit Country"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:rt.box_msg,bgcolor:"#f73067",key:t},e)})):!0===this.state.success?i.a.createElement(m.a,{bgcolor:"#3df45b",style:rt.box_msg},"Registration Successful"):null,i.a.createElement(ne,null,i.a.createElement(m.a,{style:rt.box_field},i.a.createElement(X.a,{name:"measuring_unit_name",fullWidth:!0,required:!0,value:this.state.measuring_unit_name,variant:"outlined",label:"Measuring Unit Name",type:"text",onChange:function(t){e.setState({measuring_unit_name:t.target.value});var a=it(t),n=a.status,i=a.msg,o=a.isValid;console.log(n,i),e.setState((function(e){e.fieldError.measuring_unit_name.status=n,e.fieldError.measuring_unit_name.msg=i,e.isValid=o}))},error:this.state.fieldError.measuring_unit_name.status,helperText:this.state.fieldError.measuring_unit_name.msg})),i.a.createElement(m.a,{style:rt.box_field},i.a.createElement(X.a,{name:"description",fullWidth:!0,required:!0,value:this.state.description,variant:"outlined",label:"Description",type:"text",onChange:function(t){e.setState({description:t.target.value});var a=it(t),n=a.status,i=a.msg,o=a.isValid;e.setState((function(e){e.fieldError.description.status=n,e.fieldError.description.msg=i,e.isValid=o}))},error:this.state.fieldError.description.status,helperText:this.state.fieldError.description.msg}))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(O.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(O.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",disabled:!this.state.isValid,onClick:this.onEditHandler},"Update"))))}}]),t}(n.Component),ct=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).EditData={},a.state={columns:[{title:"ID",field:"id"},{title:"Measuring Unit Name",field:"measuring_unit_name"},{title:"Description",field:"description"}],data:[],openAdd:!1,openEdit:!1,openUploadCSV:!1},a.OnEditHandler=function(e,t){K.a.post("/measuring-units/measuring-unit",{_id:t._id}).then((function(e){console.log(e),a.EditData=Object(B.a)({},e.data.MeasuringUnit[0]),console.log(a.EditData),a.setState({openEdit:!0})}))},a.handleClose=function(){K.a.get("/measuring-units/measuring-units").then((function(e){console.log(e.data.MeasuringUnits);for(var t=0;t<e.data.MeasuringUnits.length;t++)e.data.MeasuringUnits[t].id=t+1;a.setState({data:Object(F.a)(e.data.MeasuringUnits)})}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){oe(this.props,"Manage Measuring Units")&&this.handleClose()}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Manage Measuring Units"),i.a.createElement(m.a,{width:"90%",display:"flex",flexDirection:"row"},i.a.createElement(O.a,{variant:"contained",color:"primary",style:{marginBottom:"20px",display:"flex",marginRight:"10px"},size:"large",onClick:function(){e.setState({openAdd:!0})}},"Add")),i.a.createElement(Q.a,{title:" ",columns:this.state.columns,data:this.state.data,style:{width:"90%",maxHeight:"500px",overflow:"auto"},options:{sorting:!0,headerStyle:{backgroundColor:"#3f51b5",color:"#FFF"}},actions:[{icon:"edit",tooltip:"Edit User",onClick:function(t,a){e.OnEditHandler(t,a)}}],editable:{onRowDelete:function(t){return K.a.post("/measuring-units/delete-measuring-unit",{measuring_unit_name:t.measuring_unit_name}).then((function(a){console.log(a),a&&e.setState((function(e){var a=Object(F.a)(e.data);return a.splice(a.indexOf(t),1),Object(B.a)({},e,{data:a})}))}))}},onRowClick:function(t,a){e.OnEditHandler(t,a)}}),i.a.createElement(J.a,{open:this.state.openAdd,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,{style:{padding:"20px"}},i.a.createElement(lt,{cancel:function(){e.setState({openAdd:!1}),e.handleClose()}}))),i.a.createElement(J.a,{open:this.state.openEdit,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,{style:{padding:"20px"}},i.a.createElement(st,{MeasuringUnit:this.EditData,cancel:function(){e.setState({openEdit:!1}),e.handleClose()}}))))}}]),t}(n.Component),dt=ie,ut=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={material_type_name:"",description:"",errors:[],success:!1},a.onAddHandler=function(){K.a.post("/material-types/add-material-type",{material_type_name:a.state.material_type_name,description:a.state.description}).then((function(e){console.log(e),e.data.errors.length>0?(console.log(e.data.errors),a.setState({errors:Object(F.a)(e.data.errors),success:!1})):a.props.cancel()})).catch((function(e){return console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){oe(this.props,"Manage Material Types")}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:dt.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Add Material Type"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:dt.box_msg,bgcolor:"#f73067",key:t},e)})):!0===this.state.success?i.a.createElement(m.a,{bgcolor:"#3df45b",style:dt.box_msg},"Registration Successful"):null,i.a.createElement(ne,null,i.a.createElement(m.a,{style:dt.box_field},i.a.createElement(X.a,{fullWidth:!0,required:!0,value:this.state.material_type_name,variant:"outlined",label:"Material Type Name",type:"text",onChange:function(t){e.setState({material_type_name:t.target.value})}})),i.a.createElement(m.a,{style:dt.box_field},i.a.createElement(X.a,{fullWidth:!0,required:!0,value:this.state.description,variant:"outlined",label:"Description",type:"text",onChange:function(t){e.setState({description:t.target.value})}}))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(O.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(O.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:this.onAddHandler},"Add"))))}}]),t}(n.Component),mt=ie,pt=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={_id:"",material_type_name:"",description:"",errors:[],success:!1},a.onEditHandler=function(){K.a.post("/material-types/edit-material-type",{_id:a.state._id,material_type_name:a.state.material_type_name,description:a.state.description}).then((function(e){console.log(e),e.data.errors&&(e.data.errors.length>0?(console.log(e.data.errors),a.setState({errors:Object(F.a)(e.data.errors),success:!1})):a.props.cancel())})).catch((function(e){return console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){oe(this.props,"Manage Material Types")&&(console.log(this.props),""===this.state.material_type_name&&this.setState({material_type_name:this.props.MaterialType.material_type_name,description:this.props.MaterialType.description,_id:this.props.MaterialType._id}))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:mt.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Edit Material Type"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:mt.box_msg,bgcolor:"#f73067",key:t},e)})):!0===this.state.success?i.a.createElement(m.a,{bgcolor:"#3df45b",style:mt.box_msg},"Registration Successful"):null,i.a.createElement(ne,null,i.a.createElement(m.a,{style:mt.box_field},i.a.createElement(X.a,{fullWidth:!0,required:!0,value:this.state.material_type_name,variant:"outlined",label:"Material Type Name",type:"text",onChange:function(t){e.setState({material_type_name:t.target.value})}})),i.a.createElement(m.a,{style:mt.box_field},i.a.createElement(X.a,{fullWidth:!0,required:!0,value:this.state.description,variant:"outlined",label:"Description",type:"text",onChange:function(t){e.setState({description:t.target.value})}}))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(O.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(O.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:this.onEditHandler},"Update"))))}}]),t}(n.Component),ht=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).EditData={},a.state={columns:[{title:"ID",field:"id"},{title:"Material Type Name",field:"material_type_name"},{title:"Description",field:"description"}],data:[],openAdd:!1,openEdit:!1,openUploadCSV:!1},a.OnEditHandler=function(e,t){K.a.post("/material-types/material-type",{_id:t._id}).then((function(e){a.EditData=Object(B.a)({},e.data.MaterialType[0]),console.log(a.EditData),a.setState({openEdit:!0})}))},a.handleClose=function(){K.a.get("/material-types/material-types").then((function(e){console.log(e.data.MaterialTypes);for(var t=0;t<e.data.MaterialTypes.length;t++)e.data.MaterialTypes[t].id=t+1;a.setState({data:Object(F.a)(e.data.MaterialTypes)})}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){oe(this.props,"Manage Material Types")&&this.handleClose()}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Manage Material Types"),i.a.createElement(m.a,{width:"90%",display:"flex",flexDirection:"row"},i.a.createElement(O.a,{variant:"contained",color:"primary",style:{marginBottom:"20px",display:"flex",marginRight:"10px"},size:"large",onClick:function(){e.setState({openAdd:!0})}},"Add")),i.a.createElement(Q.a,{title:" ",columns:this.state.columns,data:this.state.data,style:{width:"90%",maxHeight:"500px",overflow:"auto"},options:{sorting:!0,headerStyle:{backgroundColor:"#3f51b5",color:"#FFF"}},actions:[{icon:"edit",tooltip:"Edit User",onClick:function(t,a){e.OnEditHandler(t,a)}}],editable:{onRowDelete:function(t){return K.a.post("/material-types/delete-material-type",{material_type_name:t.material_type_name}).then((function(a){console.log(a),a&&e.setState((function(e){var a=Object(F.a)(e.data);return a.splice(a.indexOf(t),1),Object(B.a)({},e,{data:a})}))}))}},onRowClick:function(t,a){e.OnEditHandler(t,a)}}),i.a.createElement(J.a,{open:this.state.openAdd,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,{style:{padding:"20px"}},i.a.createElement(ut,{cancel:function(){e.setState({openAdd:!1}),e.handleClose()}}))),i.a.createElement(J.a,{open:this.state.openEdit,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,{style:{padding:"20px"}},i.a.createElement(pt,{MaterialType:this.EditData,cancel:function(){e.setState({openEdit:!1}),e.handleClose()}}))))}}]),t}(n.Component),ft=ie,gt=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={raw_material_name:"",raw_material_code:"",raw_material_type:"",raw_material_measuring_unit:"",description:"",errors:[],success:!1,material_types:[],measuring_units:[]},a.onAddHandler=function(){K.a.post("/raw-materials/add-raw-material",{raw_material_name:a.state.raw_material_name,raw_material_code:a.state.raw_material_code,raw_material_type:a.state.raw_material_type,raw_material_measuring_unit:a.state.raw_material_measuring_unit,description:a.state.description}).then((function(e){console.log(e),e.data.errors.length>0?(console.log(e.data.errors),a.setState({errors:Object(F.a)(e.data.errors),success:!1})):a.props.cancel()})).catch((function(e){return console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;oe(this.props,"Manage Raw Materials")&&(K.a.get("/material-types/material-types").then((function(t){e.setState({material_types:Object(F.a)(t.data.MaterialTypes)})})),K.a.get("/measuring-units/measuring-units").then((function(t){console.log(t),e.setState({measuring_units:Object(F.a)(t.data.MeasuringUnits)})})))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:ft.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Add Raw Material"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:ft.box_msg,bgcolor:"#f73067",key:t},e)})):null,i.a.createElement(ne,null,i.a.createElement(m.a,{style:ft.box_field},i.a.createElement(m.a,{style:ft.box,marginRight:"10px"},i.a.createElement(X.a,{fullWidth:!0,required:!0,value:this.state.raw_material_name,variant:"outlined",label:"Raw Material Name",type:"text",onChange:function(t){e.setState({raw_material_name:t.target.value})}})),i.a.createElement(m.a,{style:ft.box},i.a.createElement(X.a,{fullWidth:!0,required:!0,value:this.state.raw_material_code,variant:"outlined",label:"Raw Material Code",type:"text",onChange:function(t){e.setState({raw_material_code:t.target.value})}}))),i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select Raw Material Type"),i.a.createElement(ee.a,{style:ft.box_field,required:!0,value:this.state.raw_material_type,onChange:function(t){console.log(t.target.value),e.setState({raw_material_type:t.target.value})}},this.state.material_types.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.material_type_name)})))),i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select Measuring Unit"),i.a.createElement(ee.a,{style:ft.box_field,required:!0,value:this.state.raw_material_measuring_unit,onChange:function(t){console.log(t.target.value),e.setState({raw_material_measuring_unit:t.target.value})}},this.state.measuring_units.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.measuring_unit_name)})))),i.a.createElement(m.a,{style:ft.box_field},i.a.createElement(X.a,{fullWidth:!0,required:!0,value:this.state.description,variant:"outlined",label:"Description",type:"text",onChange:function(t){e.setState({description:t.target.value})}}))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(O.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(O.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:this.onAddHandler},"Add"))))}}]),t}(n.Component),_t=ie,yt=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={_id:"",raw_material_name:"",raw_material_code:"",raw_material_type:"",raw_material_measuring_unit:"",description:"",errors:[],success:!1,material_types:[],measuring_units:[]},a.onEditHandler=function(){K.a.post("/raw-materials/edit-raw-material",{_id:a.state._id,raw_material_name:a.state.raw_material_name,raw_material_code:a.state.raw_material_code,raw_material_type:a.state.raw_material_type,raw_material_measuring_unit:a.state.raw_material_measuring_unit,description:a.state.description}).then((function(e){console.log(e),e.data.errors&&(e.data.errors.length>0?(console.log(e.data.errors),a.setState({errors:Object(F.a)(e.data.errors),success:!1})):a.props.cancel())})).catch((function(e){return console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;oe(this.props,"Manage Raw Materials")&&(K.a.get("/material-types/material-types").then((function(t){e.setState({material_types:Object(F.a)(t.data.MaterialTypes)})})),K.a.get("/measuring-units/measuring-units").then((function(t){console.log(t),e.setState({measuring_units:Object(F.a)(t.data.MeasuringUnits)})})),""===this.state.raw_material_name&&this.setState({_id:this.props.RawMaterial._id,raw_material_name:this.props.RawMaterial.raw_material_name,raw_material_code:this.props.RawMaterial.raw_material_code,raw_material_type:this.props.RawMaterial.raw_material_type,raw_material_measuring_unit:this.props.RawMaterial.raw_material_measuring_unit,description:this.props.RawMaterial.description}))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:_t.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Edit Raw Material"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:_t.box_msg,bgcolor:"#f73067",key:t},e)})):null,i.a.createElement(ne,null,i.a.createElement(m.a,{style:_t.box_field},i.a.createElement(m.a,{style:_t.box,marginRight:"10px"},i.a.createElement(X.a,{fullWidth:!0,required:!0,value:this.state.raw_material_name,variant:"outlined",label:"Raw Material Name",type:"text",onChange:function(t){e.setState({raw_material_name:t.target.value})}})),i.a.createElement(m.a,{style:_t.box},i.a.createElement(X.a,{fullWidth:!0,required:!0,value:this.state.raw_material_code,variant:"outlined",label:"Raw Material Code",type:"text",onChange:function(t){e.setState({raw_material_code:t.target.value})}}))),i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select Raw Material Type"),i.a.createElement(ee.a,{style:_t.box_field,required:!0,value:this.state.raw_material_type,onChange:function(t){console.log(t.target.value),e.setState({raw_material_type:t.target.value})}},this.state.material_types.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.material_type_name)})))),i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select Measuring Unit"),i.a.createElement(ee.a,{style:_t.box_field,required:!0,value:this.state.raw_material_measuring_unit,onChange:function(t){console.log(t.target.value),e.setState({raw_material_measuring_unit:t.target.value})}},this.state.measuring_units.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.measuring_unit_name)})))),i.a.createElement(m.a,{style:_t.box_field},i.a.createElement(X.a,{fullWidth:!0,required:!0,value:this.state.description,variant:"outlined",label:"Description",type:"text",onChange:function(t){e.setState({description:t.target.value})}}))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(O.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(O.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:this.onEditHandler},"Update"))))}}]),t}(n.Component),bt=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).EditData={},a.state={columns:[{title:"ID",field:"id"},{title:"Name",field:"raw_material_name"},{title:"Code",field:"raw_material_code"},{title:"Type",field:"raw_material_type"},{title:"Measuring Unit",field:"raw_material_measuring_unit"},{title:"Description",field:"description"}],data:[],openAdd:!1,openEdit:!1},a.OnEditHandler=function(e,t){console.log(t._id),K.a.post("/raw-materials/raw-material",{_id:t._id}).then((function(e){console.log(e),a.EditData=Object(B.a)({},e.data.RawMaterial),console.log(a.EditData[0]),a.setState({openEdit:!0})}))},a.handleClose=function(){K.a.get("/raw-materials/raw-materials").then((function(e){for(var t=function(t){e.data.RawMaterials[t].id=t+1,K.a.post("/material-types/material-type",{_id:e.data.RawMaterials[t].raw_material_type}).then((function(n){console.log(n),n.data.MaterialType[0]?(console.log(n.data.MaterialType[0].material_type_name),e.data.RawMaterials[t].raw_material_type=n.data.MaterialType[0].material_type_name,a.setState({data:Object(F.a)(e.data.RawMaterials)})):(e.data.RawMaterials[t].material_type="problem loading Material Type",a.setState({data:Object(F.a)(e.data.RawMaterials)}))})),K.a.post("/measuring-units/measuring-unit",{_id:e.data.RawMaterials[t].raw_material_measuring_unit}).then((function(n){console.log(n),n.data.MeasuringUnit[0]?(console.log(n.data.MeasuringUnit[0].measuring_unit_name),e.data.RawMaterials[t].raw_material_measuring_unit=n.data.MeasuringUnit[0].measuring_unit_name,a.setState({data:Object(F.a)(e.data.RawMaterials)})):(e.data.RawMaterials[t].raw_material_measuring_unit="problem loading measuring unit",a.setState({data:Object(F.a)(e.data.RawMaterial)}))}))},n=0;n<e.data.RawMaterials.length;n++)t(n)})).catch((function(e){console.log("Error")}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){oe(this.props,"Manage Raw Materials")&&this.handleClose()}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Manage Raw Materials"),i.a.createElement(m.a,{width:"90%",display:"flex",flexDirection:"row"},i.a.createElement(O.a,{variant:"contained",color:"primary",style:{marginBottom:"20px",display:"flex",marginRight:"10px"},size:"large",onClick:function(){e.setState({openAdd:!0})}},"Add")),i.a.createElement(Q.a,{title:" ",columns:this.state.columns,data:this.state.data,style:{width:"90%",maxHeight:"500px",overflow:"auto"},options:{sorting:!0,headerStyle:{backgroundColor:"#3f51b5",color:"#FFF"}},actions:[{icon:"edit",tooltip:"Edit",onClick:function(t,a){e.OnEditHandler(t,a)}}],editable:{onRowDelete:function(t){return K.a.post("/raw-materials/delete-raw-material",{_id:t._id}).then((function(a){console.log(a),a&&e.setState((function(e){var a=Object(F.a)(e.data);return a.splice(a.indexOf(t),1),Object(B.a)({},e,{data:a})}))}))}},onRowClick:function(t,a){e.OnEditHandler(t,a)}}),i.a.createElement(J.a,{open:this.state.openAdd,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,{style:{padding:"20px"}},i.a.createElement(gt,{cancel:function(){e.setState({openAdd:!1}),e.handleClose()}}))),i.a.createElement(J.a,{open:this.state.openEdit,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,{style:{padding:"20px"}},i.a.createElement(yt,{RawMaterial:this.EditData[0],cancel:function(){e.setState({openEdit:!1}),e.handleClose()}}))))}}]),t}(n.Component),Et=ie,xt=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={work_location_name:"",description:"",errors:[]},a.onAddHandler=function(){K.a.post("/work-locations/add-work-location",{work_location_name:a.state.work_location_name,description:a.state.description}).then((function(e){console.log(e),e.data.errors.length>0?(console.log(e.data.errors),a.setState({errors:Object(F.a)(e.data.errors)})):a.props.cancel()})).catch((function(e){return console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){oe(this.props,"Manage Work Locations")}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:Et.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Add Work Location"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:Et.box_msg,bgcolor:"#f73067",key:t},e)})):null,i.a.createElement(ne,null,i.a.createElement(m.a,{style:Et.box_field},i.a.createElement(X.a,{fullWidth:!0,required:!0,value:this.state.work_location_name,variant:"outlined",label:"Work Location Name",type:"text",onChange:function(t){e.setState({work_location_name:t.target.value})}})),i.a.createElement(m.a,{style:Et.box_field},i.a.createElement(X.a,{fullWidth:!0,required:!0,value:this.state.description,variant:"outlined",label:"Description",type:"text",onChange:function(t){e.setState({description:t.target.value})}}))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(O.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(O.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:this.onAddHandler},"Add"))))}}]),t}(n.Component),vt=ie,St=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={_id:"",work_location_name:"",description:"",errors:[]},a.onEditHandler=function(){K.a.post("/work-locations/edit-work-location",{_id:a.state._id,work_location_name:a.state.work_location_name,description:a.state.description}).then((function(e){console.log(e),e.data.errors&&(e.data.errors.length>0?(console.log(e.data.errors),a.setState({errors:Object(F.a)(e.data.errors)})):a.props.cancel())})).catch((function(e){return console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){oe(this.props,"Manage Work Locations")&&(console.log(this.props),""===this.state.work_location_name&&this.setState({work_location_name:this.props.WorkLocation.work_location_name,description:this.props.WorkLocation.description,_id:this.props.WorkLocation._id}))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:vt.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Edit Country"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:vt.box_msg,bgcolor:"#f73067",key:t},e)})):null,i.a.createElement(ne,null,i.a.createElement(m.a,{style:vt.box_field},i.a.createElement(X.a,{fullWidth:!0,required:!0,value:this.state.work_location_name,variant:"outlined",label:"Work Location Name",type:"text",onChange:function(t){e.setState({work_location_name:t.target.value})}})),i.a.createElement(m.a,{style:vt.box_field},i.a.createElement(X.a,{fullWidth:!0,required:!0,value:this.state.description,variant:"outlined",label:"Description",type:"text",onChange:function(t){e.setState({description:t.target.value})}}))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(O.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(O.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:this.onEditHandler},"Update"))))}}]),t}(n.Component),Ct=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).EditData={},a.state={columns:[{title:"ID",field:"id"},{title:"Work Location Name",field:"work_location_name"},{title:"Description",field:"description"}],data:[],openAdd:!1,openEdit:!1,openUploadCSV:!1},a.OnEditHandler=function(e,t){K.a.post("/work-locations/work-location",{_id:t._id}).then((function(e){a.EditData=Object(B.a)({},e.data.WorkLocation[0]),console.log(a.EditData),a.setState({openEdit:!0})}))},a.handleClose=function(){K.a.get("/work-locations/work-locations").then((function(e){console.log(e.data.WorkLocations);for(var t=0;t<e.data.WorkLocations.length;t++)e.data.WorkLocations[t].id=t+1;a.setState({data:Object(F.a)(e.data.WorkLocations)})}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){oe(this.props,"Manage Work Locations")&&this.handleClose()}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Manage Work Locations"),i.a.createElement(m.a,{width:"90%",display:"flex",flexDirection:"row"},i.a.createElement(O.a,{variant:"contained",color:"primary",style:{marginBottom:"20px",display:"flex",marginRight:"10px"},size:"large",onClick:function(){e.setState({openAdd:!0})}},"Add")),i.a.createElement(Q.a,{title:" ",columns:this.state.columns,data:this.state.data,style:{width:"90%",maxHeight:"500px",overflow:"auto"},options:{sorting:!0,headerStyle:{backgroundColor:"#3f51b5",color:"#FFF"}},actions:[{icon:"edit",tooltip:"Edit User",onClick:function(t,a){e.OnEditHandler(t,a)}}],editable:{onRowDelete:function(t){return K.a.post("/work-locations/delete-work-location",{work_location_name:t.work_location_name}).then((function(a){console.log(a),a&&e.setState((function(e){var a=Object(F.a)(e.data);return a.splice(a.indexOf(t),1),Object(B.a)({},e,{data:a})}))}))}},onRowClick:function(t,a){e.OnEditHandler(t,a)}}),i.a.createElement(J.a,{open:this.state.openAdd,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,{style:{padding:"20px"}},i.a.createElement(xt,{cancel:function(){e.setState({openAdd:!1}),e.handleClose()}}))),i.a.createElement(J.a,{open:this.state.openEdit,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,{style:{padding:"20px"}},i.a.createElement(St,{WorkLocation:this.EditData,cancel:function(){e.setState({openEdit:!1}),e.handleClose()}}))))}}]),t}(n.Component),wt=ie,kt=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={production_unit_name:"",description:"",errors:[]},a.onAddHandler=function(){K.a.post("/production-units/add-production-unit",{production_unit_name:a.state.production_unit_name,description:a.state.description}).then((function(e){console.log(e),e.data.errors.length>0?(console.log(e.data.errors),a.setState({errors:Object(F.a)(e.data.errors)})):a.props.cancel()})).catch((function(e){return console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){oe(this.props,"Manage Production Units")}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:wt.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Add Production Unit"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:wt.box_msg,bgcolor:"#f73067",key:t},e)})):null,i.a.createElement(ne,null,i.a.createElement(m.a,{style:wt.box_field},i.a.createElement(X.a,{fullWidth:!0,required:!0,value:this.state.production_unit_name,variant:"outlined",label:"Production Unit Name",type:"text",onChange:function(t){e.setState({production_unit_name:t.target.value})}})),i.a.createElement(m.a,{style:wt.box_field},i.a.createElement(X.a,{fullWidth:!0,required:!0,value:this.state.description,variant:"outlined",label:"Description",type:"text",onChange:function(t){e.setState({description:t.target.value})}}))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(O.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(O.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:this.onAddHandler},"Add"))))}}]),t}(n.Component),Ot=ie,jt=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={_id:"",production_unit_name:"",description:"",errors:[]},a.onEditHandler=function(){K.a.post("/production-units/edit-production-unit",{_id:a.state._id,production_unit_name:a.state.production_unit_name,description:a.state.description}).then((function(e){console.log(e),e.data.errors&&(e.data.errors.length>0?(console.log(e.data.errors),a.setState({errors:Object(F.a)(e.data.errors)})):a.props.cancel())})).catch((function(e){return console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){oe(this.props.props,"Manage Production Units")&&(console.log(this.props),""===this.state.production_unit_name&&this.setState({production_unit_name:this.props.ProductionUnit.production_unit_name,description:this.props.ProductionUnit.description,_id:this.props.ProductionUnit._id}))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:Ot.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Edit Production Unit"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:Ot.box_msg,bgcolor:"#f73067",key:t},e)})):null,i.a.createElement(ne,null,i.a.createElement(m.a,{style:Ot.box_field},i.a.createElement(X.a,{fullWidth:!0,required:!0,value:this.state.production_unit_name,variant:"outlined",label:"Production Units Name",type:"text",onChange:function(t){e.setState({production_unit_name:t.target.value})}})),i.a.createElement(m.a,{style:Ot.box_field},i.a.createElement(X.a,{fullWidth:!0,required:!0,value:this.state.description,variant:"outlined",label:"Description",type:"text",onChange:function(t){e.setState({description:t.target.value})}}))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(O.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(O.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:this.onEditHandler},"Update"))))}}]),t}(n.Component),Dt=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).EditData={},a.state={columns:[{title:"ID",field:"id"},{title:"Production Unit Name",field:"production_unit_name"},{title:"Description",field:"description"}],data:[],openAdd:!1,openEdit:!1},a.OnEditHandler=function(e,t){K.a.post("/production-units/production-unit",{_id:t._id}).then((function(e){a.EditData=Object(B.a)({},e.data.ProductionUnit[0]),console.log(a.EditData),a.setState({openEdit:!0})}))},a.handleClose=function(){K.a.get("/production-units/production-units").then((function(e){console.log(e.data.ProductionUnits);for(var t=0;t<e.data.ProductionUnits.length;t++)e.data.ProductionUnits[t].id=t+1;a.setState({data:Object(F.a)(e.data.ProductionUnits)})}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){oe(this.props,"Manage Production Units")&&this.handleClose()}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Manage Production Units"),i.a.createElement(m.a,{width:"90%",display:"flex",flexDirection:"row"},i.a.createElement(O.a,{variant:"contained",color:"primary",style:{marginBottom:"20px",display:"flex",marginRight:"10px"},size:"large",onClick:function(){e.setState({openAdd:!0})}},"Add")),i.a.createElement(Q.a,{title:" ",columns:this.state.columns,data:this.state.data,style:{width:"90%",maxHeight:"500px",overflow:"auto"},options:{sorting:!0,headerStyle:{backgroundColor:"#3f51b5",color:"#FFF"}},actions:[{icon:"edit",tooltip:"Edit",onClick:function(t,a){e.OnEditHandler(t,a)}}],editable:{onRowDelete:function(t){return K.a.post("/production-units/delete-production-unit",{production_unit_name:t.production_unit_name}).then((function(a){console.log(a),a&&e.setState((function(e){var a=Object(F.a)(e.data);return a.splice(a.indexOf(t),1),Object(B.a)({},e,{data:a})}))}))}},onRowClick:function(t,a){e.OnEditHandler(t,a)}}),i.a.createElement(J.a,{open:this.state.openAdd,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,{style:{padding:"20px"}},i.a.createElement(kt,{cancel:function(){e.setState({openAdd:!1}),e.handleClose()}}))),i.a.createElement(J.a,{open:this.state.openEdit,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,{style:{padding:"20px"}},i.a.createElement(jt,{ProductionUnit:this.EditData,props:this.props,cancel:function(){e.setState({openEdit:!1}),e.handleClose()}}))))}}]),t}(n.Component),Mt=ie,Rt=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={product_name:"",product_code:"",product_price:"",product_measuring_unit:"",product_registration_date:null,description:"",errors:[],success:!1,measuring_units:[]},a.onAddHandler=function(){K.a.post("/products/add-product",{product_name:a.state.product_name,product_code:a.state.product_code,product_price:a.state.product_price,product_measuring_unit:a.state.product_measuring_unit,product_registration_date:a.state.product_registration_date,description:a.state.description}).then((function(e){console.log(e),e.data.errors.length>0?(console.log(e.data.errors),a.setState({errors:Object(F.a)(e.data.errors),success:!1})):a.props.cancel()})).catch((function(e){return console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;oe(this.props,"Manage Products")&&K.a.get("/measuring-units/measuring-units").then((function(t){console.log(t),e.setState({measuring_units:Object(F.a)(t.data.MeasuringUnits)})}))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:Mt.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Add Product"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:Mt.box_msg,bgcolor:"#f73067",key:t},e)})):null,i.a.createElement(ne,null,i.a.createElement(m.a,{style:Mt.box_field},i.a.createElement(m.a,{style:Mt.box,marginRight:"10px"},i.a.createElement(X.a,{fullWidth:!0,required:!0,variant:"outlined",label:"Product Name",type:"text",value:this.state.product_name,onChange:function(t){e.setState({product_name:t.target.value})}})),i.a.createElement(m.a,{style:Mt.box},i.a.createElement(X.a,{fullWidth:!0,required:!0,value:this.state.product_code,variant:"outlined",label:"Product Code",type:"text",onChange:function(t){e.setState({product_code:t.target.value})}}))),i.a.createElement(m.a,{style:Mt.box_field},i.a.createElement(X.a,{fullWidth:!0,required:!0,value:this.state.product_price,variant:"outlined",label:"Product Price",type:"text",onChange:function(t){e.setState({product_price:t.target.value})}})),i.a.createElement(ue,{id:"1",Name:"Product Registration Date",Req:"true",marginBottom:"10px",minDate:"01/01/1990",maxDate:new Date,value:this.state.product_registration_date,setDate:function(t){e.setState({product_registration_date:t})}}),i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select Measuring Unit"),i.a.createElement(ee.a,{style:Mt.box_field,required:!0,value:this.state.product_measuring_unit,onChange:function(t){console.log(t.target.value),e.setState({product_measuring_unit:t.target.value})}},this.state.measuring_units.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.measuring_unit_name)})))),i.a.createElement(m.a,{style:Mt.box_field},i.a.createElement(X.a,{fullWidth:!0,required:!0,value:this.state.description,variant:"outlined",label:"Description",type:"text",onChange:function(t){e.setState({description:t.target.value})}}))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(O.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(O.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:this.onAddHandler},"Add"))))}}]),t}(n.Component),Wt=ie,zt=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={_id:"",product_name:"",product_code:"",product_price:0,product_measuring_unit:"",product_registration_date:"",description:"",errors:[],measuring_units:[]},a.onEditHandler=function(){K.a.post("/products/edit-product",{_id:a.state._id,product_name:a.state.product_name,product_code:a.state.product_code,product_price:a.state.product_price,product_measuring_unit:a.state.product_measuring_unit,product_registration_date:a.state.product_registration_date,description:a.state.description}).then((function(e){console.log(e),e.data.errors&&(e.data.errors.length>0?(console.log(e.data.errors),a.setState({errors:Object(F.a)(e.data.errors)})):a.props.cancel())})).catch((function(e){return console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;oe(this.props,"Manage Products")&&(K.a.get("/measuring-units/measuring-units").then((function(t){console.log(t),e.setState({measuring_units:Object(F.a)(t.data.MeasuringUnits)})})),""===this.state.product_name&&this.setState({_id:this.props.Product._id,product_name:this.props.Product.product_name,product_code:this.props.Product.product_code,product_price:this.props.Product.product_price,product_measuring_unit:this.props.Product.product_measuring_unit,product_registration_date:this.props.Product.product_registration_date,description:this.props.Product.description}))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:Wt.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Edit Product"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:Wt.box_msg,bgcolor:"#f73067",key:t},e)})):null,i.a.createElement(ne,null,i.a.createElement(m.a,{style:Wt.box_field},i.a.createElement(m.a,{style:Wt.box,marginRight:"10px"},i.a.createElement(X.a,{fullWidth:!0,required:!0,value:this.state.product_name,variant:"outlined",label:"Product Name",type:"text",onChange:function(t){e.setState({product_name:t.target.value})}})),i.a.createElement(m.a,{style:Wt.box},i.a.createElement(X.a,{fullWidth:!0,required:!0,value:this.state.product_code,variant:"outlined",label:"Product Code",type:"text",onChange:function(t){e.setState({product_code:t.target.value})}}))),i.a.createElement(m.a,{style:Wt.box_field},i.a.createElement(X.a,{fullWidth:!0,required:!0,value:this.state.product_price,variant:"outlined",label:"Product Price",type:"text",onChange:function(t){e.setState({product_price:t.target.value})}})),i.a.createElement(ue,{id:"1",Name:"Product Registration Date",Req:"true",marginBottom:"20px",value:this.state.product_registration_date,setDate:function(t){e.setState({product_registration_date:t})}}),i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select Measuring Unit"),i.a.createElement(ee.a,{style:Wt.box_field,required:!0,value:this.state.product_measuring_unit,onChange:function(t){console.log(t.target.value),e.setState({product_measuring_unit:t.target.value})}},this.state.measuring_units.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.measuring_unit_name)})))),i.a.createElement(m.a,{style:Wt.box_field},i.a.createElement(X.a,{fullWidth:!0,required:!0,value:this.state.description,variant:"outlined",label:"Description",type:"text",onChange:function(t){e.setState({description:t.target.value})}}))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(O.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(O.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:this.onEditHandler},"Update"))))}}]),t}(n.Component),qt=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).EditData={},a.state={columns:[{title:"ID",field:"id"},{title:"Product Name",field:"product_name"},{title:"Product code",field:"product_code"},{title:"Product price",field:"product_price"},{title:"Measuring Unit",field:"product_measuring_unit"},{title:"Description",field:"description"}],data:[],openAdd:!1,openEdit:!1},a.OnEditHandler=function(e,t){console.log(t._id),K.a.post("/products/product",{_id:t._id}).then((function(e){console.log(e),a.EditData=Object(B.a)({},e.data.Product),console.log(a.EditData[0]),a.setState({openEdit:!0})}))},a.handleClose=function(){K.a.get("/products/products").then((function(e){for(var t=function(t){e.data.Products[t].id=t+1,K.a.post("/measuring-units/measuring-unit",{_id:e.data.Products[t].product_measuring_unit}).then((function(n){console.log(n),n.data.MeasuringUnit[0]?(console.log(n.data.MeasuringUnit[0].measuring_unit_name),e.data.Products[t].product_measuring_unit=n.data.MeasuringUnit[0].measuring_unit_name,a.setState({data:Object(F.a)(e.data.Products)})):(e.data.Products[t].product_measuring_unit="problem loading Measuring Unit",a.setState({data:Object(F.a)(e.data.Products)}))}))},n=0;n<e.data.Products.length;n++)t(n)})).catch((function(e){console.log("Error")}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){oe(this.props,"Manage Products")&&this.handleClose()}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Manage Products"),i.a.createElement(m.a,{width:"90%",display:"flex",flexDirection:"row"},i.a.createElement(O.a,{variant:"contained",color:"primary",style:{marginBottom:"20px",display:"flex",marginRight:"10px"},size:"large",onClick:function(){e.setState({openAdd:!0})}},"Add")),i.a.createElement(Q.a,{title:" ",columns:this.state.columns,data:this.state.data,style:{width:"90%",maxHeight:"500px",overflow:"auto"},options:{sorting:!0,headerStyle:{backgroundColor:"#3f51b5",color:"#FFF"}},actions:[{icon:"edit",tooltip:"Edit",onClick:function(t,a){e.OnEditHandler(t,a)}}],editable:{onRowDelete:function(t){return K.a.post("/products/delete-product",{_id:t._id}).then((function(a){console.log(a),a&&e.setState((function(e){var a=Object(F.a)(e.data);return a.splice(a.indexOf(t),1),Object(B.a)({},e,{data:a})}))}))}},onRowClick:function(t,a){e.OnEditHandler(t,a)}}),i.a.createElement(J.a,{open:this.state.openAdd,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,{style:{padding:"20px"}},i.a.createElement(Rt,{cancel:function(){e.setState({openAdd:!1}),e.handleClose()}}))),i.a.createElement(J.a,{open:this.state.openEdit,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,{style:{padding:"20px"}},i.a.createElement(zt,{Product:this.EditData[0],cancel:function(){e.setState({openEdit:!1}),e.handleClose()}}))))}}]),t}(n.Component),At=ie,It=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={department_name:"",description:"",errors:[],status:"Add"},a.onAddHandler=function(){a.setState({status:"wait.."}),K.a.post("/departments/add-department",{department_name:a.state.department_name,description:a.state.description}).then((function(e){a.setState({status:"Add"}),console.log(e),e.data.errors.length>0?(console.log(e.data.errors),a.setState({errors:Object(F.a)(e.data.errors)})):a.props.cancel()})).catch((function(e){return console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){oe(this.props,"Manage Departments")}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:At.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Add Department"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:At.box_msg,bgcolor:"#f73067",key:t},e)})):null,i.a.createElement(ne,null,i.a.createElement(m.a,{style:At.box_field},i.a.createElement(X.a,{fullWidth:!0,required:!0,value:this.state.department_name,variant:"outlined",label:"Department Name",type:"text",onChange:function(t){e.setState({department_name:t.target.value})}})),i.a.createElement(m.a,{style:At.box_field},i.a.createElement(X.a,{fullWidth:!0,required:!0,value:this.state.description,variant:"outlined",label:"Description",type:"text",onChange:function(t){e.setState({description:t.target.value})}}))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(O.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(O.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:this.onAddHandler},this.state.status))))}}]),t}(n.Component),Pt=ie,Tt=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={_id:"",department_name:"",description:"",errors:[],status:"Add"},a.onEditHandler=function(){a.setState({status:"wait.."}),K.a.post("/departments/edit-department",{_id:a.state._id,department_name:a.state.department_name,description:a.state.description}).then((function(e){a.setState({status:"Update"}),console.log(e),e.data.errors&&(e.data.errors.length>0?(console.log(e.data.errors),a.setState({errors:Object(F.a)(e.data.errors)})):a.props.cancel())})).catch((function(e){return console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){oe(this.props.props,"Manage Departments")&&(console.log(this.props),""===this.state.department_name&&this.setState({department_name:this.props.Department.department_name,description:this.props.Department.description,_id:this.props.Department._id}))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:Pt.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Edit Department"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:Pt.box_msg,bgcolor:"#f73067",key:t},e)})):null,i.a.createElement(ne,null,i.a.createElement(m.a,{style:Pt.box_field},i.a.createElement(X.a,{fullWidth:!0,required:!0,value:this.state.department_name,variant:"outlined",label:"Department Name",type:"text",onChange:function(t){e.setState({department_name:t.target.value})}})),i.a.createElement(m.a,{style:Pt.box_field},i.a.createElement(X.a,{fullWidth:!0,required:!0,value:this.state.description,variant:"outlined",label:"Description",type:"text",onChange:function(t){e.setState({description:t.target.value})}}))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(O.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(O.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:this.onEditHandler},this.state.status))))}}]),t}(n.Component),Ut=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).EditData={},a.state={columns:[{title:"ID",field:"id"},{title:"Department Name",field:"department_name"},{title:"Description",field:"description"}],data:[],openAdd:!1,openEdit:!1},a.OnEditHandler=function(e,t){K.a.post("/departments/department",{_id:t._id}).then((function(e){a.EditData=Object(B.a)({},e.data.Department[0]),console.log(a.EditData),a.setState({openEdit:!0})}))},a.handleClose=function(){K.a.get("/departments/departments").then((function(e){console.log(e.data.Departments);for(var t=0;t<e.data.Departments.length;t++)e.data.Departments[t].id=t+1;a.setState({data:Object(F.a)(e.data.Departments)})}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){oe(this.props,"Manage Departments")&&this.handleClose()}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Manage Departments"),i.a.createElement(m.a,{width:"90%",display:"flex",flexDirection:"row"},i.a.createElement(O.a,{variant:"contained",color:"primary",style:{marginBottom:"20px",display:"flex",marginRight:"10px"},size:"large",onClick:function(){e.setState({openAdd:!0})}},"Add")),i.a.createElement(Q.a,{title:" ",columns:this.state.columns,data:this.state.data,style:{width:"90%",maxHeight:"500px",overflow:"auto"},options:{sorting:!0,headerStyle:{backgroundColor:"#3f51b5",color:"#FFF"}},actions:[{icon:"edit",tooltip:"Edit",onClick:function(t,a){e.OnEditHandler(t,a)}}],editable:{onRowDelete:function(t){return K.a.post("/departments/delete-department",{department_name:t.department_name}).then((function(a){console.log(a),a&&e.setState((function(e){var a=Object(F.a)(e.data);return a.splice(a.indexOf(t),1),Object(B.a)({},e,{data:a})}))}))}},onRowClick:function(t,a){e.OnEditHandler(t,a)}}),i.a.createElement(J.a,{open:this.state.openAdd,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,{style:{padding:"20px"}},i.a.createElement(It,{cancel:function(){e.setState({openAdd:!1}),e.handleClose()}}))),i.a.createElement(J.a,{open:this.state.openEdit,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,{style:{padding:"20px"}},i.a.createElement(Tt,{Department:this.EditData,props:this.props,cancel:function(){e.setState({openEdit:!1}),e.handleClose()}}))))}}]),t}(n.Component),Lt=a(90),Ht=a.n(Lt),Nt=a(91),Ft=a.n(Nt),Bt=ie,Vt=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={vendor_name:"",vendor_location:"",vendor_tax_no:"",vendor_mobile_no:"",vendor_email:"",vendor_address:"",vendor_country:"",vendor_state:"",vendor_city:"",vendor_postal_code:"",vendor_point_of_contacts:[{name:"",designation:"",mobile_no:"",sec_mobile_no:""}],poc_name:"",poc_designation:"",poc_mobile_no:"",poc_sec_mobile_no:"",description:"",errors:[],countries:[],states:[],cities:[]},a.onAddHandler=function(){K.a.post("/vendors/add-vendor",{vendor_name:a.state.vendor_name,vendor_location:a.state.vendor_location,vendor_tax_no:a.state.vendor_tax_no,vendor_mobile_no:a.state.vendor_mobile_no,vendor_email:a.state.vendor_email,vendor_address:a.state.vendor_address,vendor_country:a.state.vendor_country,vendor_state:a.state.vendor_state,vendor_city:a.state.vendor_city,vendor_postal_code:a.state.vendor_postal_code,vendor_point_of_contact:a.state.vendor_point_of_contacts,description:a.state.description}).then((function(e){console.log(e),e.data.errors.length>0?(console.log(e.data.errors),a.setState({errors:Object(F.a)(e.data.errors)})):a.props.cancel()})).catch((function(e){return console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;oe(this.props,"Manage Vendors")&&K.a.get("/countries/countries").then((function(t){e.setState({countries:Object(F.a)(t.data.Countries)})}))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:Bt.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Add Vendor"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:Bt.box_msg,bgcolor:"#f73067",key:t},e)})):null,i.a.createElement(ne,null,i.a.createElement(m.a,{style:Bt.box_field},i.a.createElement(m.a,{style:Bt.box,marginRight:"10px"},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,value:this.state.vendor_name,variant:"outlined",label:"Vendor Name",type:"text",onChange:function(t){e.setState({vendor_name:t.target.value})}})),i.a.createElement(m.a,{style:Bt.box,marginRight:"10px"},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,value:this.state.vendor_location,variant:"outlined",label:"Location",type:"text",onChange:function(t){e.setState({vendor_location:t.target.value})}})),i.a.createElement(m.a,{style:Bt.box},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,value:this.state.vendor_tax_no,variant:"outlined",label:"Tax Number (GSTIN/VAT)",type:"text",onChange:function(t){e.setState({vendor_tax_no:t.target.value})}}))),i.a.createElement(m.a,{style:Bt.box_field},i.a.createElement(m.a,{style:Bt.box,marginRight:"10px"},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,value:this.state.vendor_mobile_no,variant:"outlined",label:"Mobile Number",type:"text",onChange:function(t){e.setState({vendor_mobile_no:t.target.value})}})),i.a.createElement(m.a,{style:Bt.box},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,value:this.state.vendor_email,variant:"outlined",label:"Email",type:"email",onChange:function(t){e.setState({vendor_email:t.target.value})}}))),i.a.createElement(m.a,{style:Bt.box},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,value:this.state.vendor_address,variant:"outlined",label:"Address",type:"text",onChange:function(t){e.setState({vendor_address:t.target.value})}})),i.a.createElement(m.a,{style:Bt.box_field,marginTop:"10px"},i.a.createElement(m.a,{style:Bt.box,marginRight:"10px"},i.a.createElement(Z.a,{size:"small",required:!0,variant:"outlined",fullWidth:!0,display:"flex"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select Country"),i.a.createElement(ee.a,{required:!0,value:this.state.vendor_country,onChange:function(t){console.log(t.target.value),e.setState({vendor_country:t.target.value,cities:[]}),K.a.post("/states/state-country",{country_id:t.target.value}).then((function(t){console.log(t),e.setState({states:Object(F.a)(t.data.state)})}))}},this.state.countries.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.country_name)}))))),i.a.createElement(m.a,{style:Bt.box,marginRight:"10px"},i.a.createElement(Z.a,{size:"small",required:!0,variant:"outlined",fullWidth:!0},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select State"),i.a.createElement(ee.a,{required:!0,value:this.state.vendor_state,onChange:function(t){console.log(t.target.value),e.setState({vendor_state:t.target.value}),K.a.post("/cities/city-state",{state_id:t.target.value}).then((function(t){console.log(t),e.setState({cities:Object(F.a)(t.data.city)})}))}},this.state.states.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.state_name)}))))),i.a.createElement(m.a,{style:Bt.box},i.a.createElement(Z.a,{size:"small",required:!0,variant:"outlined",fullWidth:!0},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select City"),i.a.createElement(ee.a,{required:!0,value:this.state.vendor_city,onChange:function(t){console.log(t.target.value),e.setState({vendor_city:t.target.value})}},this.state.cities.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.city_name)})))))),i.a.createElement(m.a,{style:Bt.box_field},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,value:this.state.vendor_postal_code,variant:"outlined",label:"Postal Code",type:"text",onChange:function(t){e.setState({vendor_postal_code:t.target.value})}})),i.a.createElement(m.a,{style:Bt.box},i.a.createElement(X.a,{size:"small",fullWidth:!0,multiline:!0,rowsMax:4,required:!0,value:this.state.description,variant:"outlined",label:"Description",type:"text",onChange:function(t){e.setState({description:t.target.value})}})),i.a.createElement(m.a,{fontWeight:"bold",fontSize:"1.2vw",mt:1,mb:1,display:"flex",justifyContent:"flex-start",width:"100%"},"Point of contact"),i.a.createElement(m.a,{style:Bt.box_field,padding:"10px",border:"1px solid #3f51b5",marginBottom:"10px",flexDirection:"column"},this.state.vendor_point_of_contacts.map((function(t,a){return i.a.createElement(m.a,{style:Bt.box_field},i.a.createElement(m.a,{style:Bt.box,marginRight:"10px"},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,value:e.state.vendor_point_of_contacts[a].name,variant:"outlined",label:"Name",type:"text",onChange:function(t){e.setState({poc_name:t.target.value}),e.setState((function(e){e.vendor_point_of_contacts[a].name=e.poc_name,console.log(e.vendor_point_of_contacts[a])}))}})),i.a.createElement(m.a,{style:Bt.box,marginRight:"10px"},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,value:e.state.vendor_point_of_contacts[a].designation,variant:"outlined",label:"Designation",type:"text",onChange:function(t){e.setState({poc_designation:t.target.value}),e.setState((function(e){e.vendor_point_of_contacts[a].designation=e.poc_designation,console.log(e.vendor_point_of_contacts[a])}))}})),i.a.createElement(m.a,{style:Bt.box,marginRight:"10px"},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,value:e.state.vendor_point_of_contacts[a].mobile_no,variant:"outlined",label:"Mobile No",type:"text",onChange:function(t){e.setState({poc_mobile_no:t.target.value}),e.setState((function(e){e.vendor_point_of_contacts[a].mobile_no=e.poc_mobile_no,console.log(e.vendor_point_of_contacts[a])}))}})),i.a.createElement(m.a,{style:Bt.box,marginRight:"10px"},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,value:e.state.vendor_point_of_contacts[a].sec_mobile_no,variant:"outlined",label:"Secondary Mobile No",type:"text",onChange:function(t){e.setState({poc_sec_mobile_no:t.target.value}),e.setState((function(e){e.vendor_point_of_contacts[a].sec_mobile_no=e.poc_sec_mobile_no,console.log(e.vendor_point_of_contacts[a])}))}})),e.state.vendor_point_of_contacts.length===a+1?i.a.createElement(Ht.a,{color:"secondary",fontSize:"medium",onClick:function(){e.setState({}),e.setState((function(e){e.vendor_point_of_contacts.push({name:"",designation:"",mobile_no:"",sec_mobile_no:""}),console.log(e.vendor_point_of_contacts)}))}}):i.a.createElement(Ft.a,{color:"secondary",fontSize:"medium",onClick:function(){e.setState({}),e.setState((function(e){e.vendor_point_of_contacts.splice(a,1),console.log(e.vendor_point_of_contacts)}))}}))})).reverse())),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(O.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(O.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:this.onAddHandler},"Add"))))}}]),t}(n.Component),Qt=ie,Yt=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={_id:"",vendor_name:"",vendor_location:"",vendor_tax_no:"",vendor_mobile_no:"",vendor_email:"",vendor_address:"",vendor_country:"",vendor_state:"",vendor_city:"",vendor_postal_code:"",vendor_point_of_contacts:[{name:"",designation:"",mobile_no:"",sec_mobile_no:""}],description:"",errors:[],fieldErrors:{vendor_name:!1,vendor_location:!1,vendor_tax_no:!1,vendor_mobile_no:!1,vendor_email:!1,vendor_address:!1,vendor_country:!1,vendor_state:!1,vendor_city:!1,vendor_postal_code:!1,vendor_point_of_contacts:!1},countries:[],states:[],cities:[],poc_name:"",poc_designation:"",poc_mobile_no:"",poc_sec_mobile_no:""},a.onEditHandler=function(){a.state.vendor_point_of_contacts.map((function(e,t){var n=e.name,i=e.mobile_no;return n||i||a.state.vendor_point_of_contacts.splice(t,1),null})),console.log(a.state.vendor_point_of_contacts),K.a.post("/vendors/edit-vendor",{_id:a.state._id,vendor_name:a.state.vendor_name,vendor_location:a.state.vendor_location,vendor_tax_no:a.state.vendor_tax_no,vendor_mobile_no:a.state.vendor_mobile_no,vendor_email:a.state.vendor_email,vendor_address:a.state.vendor_address,vendor_country:a.state.vendor_country,vendor_state:a.state.vendor_state,vendor_city:a.state.vendor_city,vendor_postal_code:a.state.vendor_postal_code,vendor_point_of_contact:a.state.vendor_point_of_contacts,description:a.state.description}).then((function(e){console.log(e),e.data.errors&&(e.data.errors.length>0?(console.log(e.data.errors),a.setState({errors:Object(F.a)(e.data.errors)})):a.props.cancel())})).catch((function(e){return console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;console.log(this.props.Vendor),console.log(this.props.Vendor.vendor_point_of_contact),oe(this.props,"Manage Vendors")&&K.a.get("/countries/countries").then((function(t){e.setState({countries:Object(F.a)(t.data.Countries)}),K.a.post("/states/state-country",{country_id:e.props.Vendor.vendor_country}).then((function(t){e.setState({states:Object(F.a)(t.data.state)}),K.a.post("/cities/city-state",{state_id:e.props.Vendor.vendor_state}).then((function(t){e.setState({cities:Object(F.a)(t.data.city)}),""===e.state.vendor_name&&e.setState({_id:e.props.Vendor._id,vendor_name:e.props.Vendor.vendor_name,vendor_location:e.props.Vendor.vendor_location,vendor_tax_no:e.props.Vendor.vendor_tax_no,vendor_mobile_no:e.props.Vendor.vendor_mobile_no,vendor_email:e.props.Vendor.vendor_email,vendor_address:e.props.Vendor.vendor_address,vendor_country:e.props.Vendor.vendor_country,vendor_state:e.props.Vendor.vendor_state,vendor_city:e.props.Vendor.vendor_city,vendor_postal_code:e.props.Vendor.vendor_postal_code,vendor_point_of_contacts:e.props.Vendor.vendor_point_of_contact,description:e.props.Vendor.description})}))}))}))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:Qt.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Edit Vendor"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:Qt.box_msg,bgcolor:"#f73067",key:t},e)})):null,i.a.createElement(ne,null,i.a.createElement(m.a,{style:Qt.box_field},i.a.createElement(m.a,{style:Qt.box,marginRight:"10px"},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,value:this.state.vendor_name,variant:"outlined",label:"Vendor Name",type:"text",onChange:function(t){e.setState({vendor_name:t.target.value})}})),i.a.createElement(m.a,{style:Qt.box,marginRight:"10px"},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,value:this.state.vendor_location,variant:"outlined",label:"Location",type:"text",onChange:function(t){e.setState({vendor_location:t.target.value})}})),i.a.createElement(m.a,{style:Qt.box},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,value:this.state.vendor_tax_no,variant:"outlined",label:"Tax Number (GSTIN/VAT)",type:"text",onChange:function(t){e.setState({vendor_tax_no:t.target.value})}}))),i.a.createElement(m.a,{style:Qt.box_field},i.a.createElement(m.a,{style:Qt.box,marginRight:"10px"},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,value:this.state.vendor_mobile_no,variant:"outlined",label:"Mobile Number",type:"text",onChange:function(t){e.setState({vendor_mobile_no:t.target.value})}})),i.a.createElement(m.a,{style:Qt.box},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,value:this.state.vendor_email,variant:"outlined",label:"Email",type:"email",onChange:function(t){e.setState({vendor_email:t.target.value})}}))),i.a.createElement(m.a,{style:Qt.box},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,value:this.state.vendor_address,variant:"outlined",label:"Address",type:"text",onChange:function(t){e.setState({vendor_address:t.target.value})}})),i.a.createElement(m.a,{style:Qt.box_field,marginTop:"10px"},i.a.createElement(m.a,{style:Qt.box,marginRight:"10px"},i.a.createElement(Z.a,{size:"small",required:!0,variant:"outlined",fullWidth:!0,display:"flex"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select Country"),i.a.createElement(ee.a,{required:!0,value:this.state.vendor_country,onChange:function(t){console.log(t.target.value),e.setState({vendor_country:t.target.value,cities:[]}),K.a.post("/states/state-country",{country_id:t.target.value}).then((function(t){console.log(t),e.setState({states:Object(F.a)(t.data.state)})}))}},this.state.countries.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.country_name)}))))),i.a.createElement(m.a,{style:Qt.box,marginRight:"10px"},i.a.createElement(Z.a,{size:"small",required:!0,variant:"outlined",fullWidth:!0},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select State"),i.a.createElement(ee.a,{required:!0,value:this.state.vendor_state,onChange:function(t){console.log(t.target.value),e.setState({vendor_state:t.target.value}),K.a.post("/cities/city-state",{state_id:t.target.value}).then((function(t){console.log(t),e.setState({cities:Object(F.a)(t.data.city)})}))}},this.state.states.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.state_name)}))))),i.a.createElement(m.a,{style:Qt.box},i.a.createElement(Z.a,{size:"small",required:!0,variant:"outlined",fullWidth:!0},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select City"),i.a.createElement(ee.a,{required:!0,value:this.state.vendor_city,onChange:function(t){console.log(t.target.value),e.setState({vendor_city:t.target.value})}},this.state.cities.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.city_name)})))))),i.a.createElement(m.a,{style:Qt.box_field},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,value:this.state.vendor_postal_code,variant:"outlined",label:"Postal Code",type:"text",onChange:function(t){e.setState({vendor_postal_code:t.target.value})}})),i.a.createElement(m.a,{style:Qt.box},i.a.createElement(X.a,{size:"small",fullWidth:!0,multiline:!0,rowsMax:4,required:!0,value:this.state.description,variant:"outlined",label:"Description",type:"text",onChange:function(t){e.setState({description:t.target.value})}})),i.a.createElement(m.a,{fontWeight:"bold",fontSize:"1.2vw",mt:1,mb:1,display:"flex",justifyContent:"flex-start",width:"100%"},"Point of contact"),i.a.createElement(m.a,{style:Qt.box_field,padding:"10px",border:"1px solid #3f51b5",marginBottom:"10px",flexDirection:"column"},this.state.vendor_point_of_contacts.map((function(t,a){return i.a.createElement(m.a,{key:a,style:Qt.box_field},i.a.createElement(m.a,{style:Qt.box,marginRight:"10px"},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,value:e.state.vendor_point_of_contacts[a].name,variant:"outlined",label:"Name",type:"text",onChange:function(t){e.setState({poc_name:t.target.value}),e.setState((function(e){e.vendor_point_of_contacts[a].name=e.poc_name,console.log(e.vendor_point_of_contacts[a])}))}})),i.a.createElement(m.a,{style:Qt.box,marginRight:"10px"},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,value:e.state.vendor_point_of_contacts[a].designation,variant:"outlined",label:"Designation",type:"text",onChange:function(t){e.setState({poc_designation:t.target.value}),e.setState((function(e){e.vendor_point_of_contacts[a].designation=e.poc_designation,console.log(e.vendor_point_of_contacts[a])}))}})),i.a.createElement(m.a,{style:Qt.box,marginRight:"10px"},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,value:e.state.vendor_point_of_contacts[a].mobile_no,variant:"outlined",label:"Mobile No",type:"text",onChange:function(t){e.setState({poc_mobile_no:t.target.value}),e.setState((function(e){e.vendor_point_of_contacts[a].mobile_no=e.poc_mobile_no,console.log(e.vendor_point_of_contacts[a])}))}})),i.a.createElement(m.a,{style:Qt.box,marginRight:"10px"},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,value:e.state.vendor_point_of_contacts[a].sec_mobile_no,variant:"outlined",label:"Secondary Mobile No",type:"text",onChange:function(t){e.setState({poc_sec_mobile_no:t.target.value}),e.setState((function(e){e.vendor_point_of_contacts[a].sec_mobile_no=e.poc_sec_mobile_no,console.log(e.vendor_point_of_contacts[a])}))}})),e.state.vendor_point_of_contacts.length===a+1?i.a.createElement(Ht.a,{color:"secondary",style:{fontSize:"30px"},onClick:function(){e.setState({}),e.setState((function(e){e.vendor_point_of_contacts.push({name:"",designation:"",mobile_no:"",sec_mobile_no:""}),console.log(e.vendor_point_of_contacts)}))}}):i.a.createElement(Ft.a,{color:"secondary",style:{fontSize:"30px"},onClick:function(){e.setState({}),e.setState((function(e){e.vendor_point_of_contacts.splice(a,1),console.log(e.vendor_point_of_contacts)}))}}))})).reverse())),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(O.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(O.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:this.onEditHandler},"Update"))))}}]),t}(n.Component),Jt=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).EditData={},a.state={columns:[{title:"ID",field:"id"},{title:"Vendor Name",field:"vendor_name"},{title:"Vendor Location",field:"vendor_location"},{title:"Description",field:"description"}],data:[],openAdd:!1,openEdit:!1},a.OnEditHandler=function(e,t){console.log(t._id),K.a.post("/vendors/vendor",{_id:t._id}).then((function(e){console.log(e),a.EditData=Object(B.a)({},e.data.Vendor),console.log(a.EditData[0]),a.setState({openEdit:!0})}))},a.handleClose=function(){K.a.get("/vendors/vendors").then((function(e){for(var t=0;t<e.data.Vendors.length;t++)e.data.Vendors[t].id=t+1;a.setState({data:Object(F.a)(e.data.Vendors)})})).catch((function(e){console.log("Error")}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){oe(this.props,"Manage Vendors")&&this.handleClose()}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Manage Vendors"),i.a.createElement(m.a,{width:"90%",display:"flex",flexDirection:"row"},i.a.createElement(O.a,{variant:"contained",color:"primary",style:{marginBottom:"20px",display:"flex",marginRight:"10px"},size:"large",onClick:function(){e.setState({openAdd:!0})}},"Add")),i.a.createElement(Q.a,{title:" ",columns:this.state.columns,data:this.state.data,style:{width:"90%",maxHeight:"500px",overflow:"auto"},options:{sorting:!0,headerStyle:{backgroundColor:"#3f51b5",color:"#FFF"}},actions:[{icon:"edit",tooltip:"Edit",onClick:function(t,a){e.OnEditHandler(t,a)}}],editable:{onRowDelete:function(t){return K.a.post("/vendors/delete-vendor",{_id:t._id}).then((function(a){console.log(a),a&&e.setState((function(e){var a=Object(F.a)(e.data);return a.splice(a.indexOf(t),1),Object(B.a)({},e,{data:a})}))}))}},onRowClick:function(t,a){e.OnEditHandler(t,a)}}),i.a.createElement(J.a,{open:this.state.openAdd,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,{style:{padding:"20px"}},i.a.createElement(Vt,{cancel:function(){e.setState({openAdd:!1}),e.handleClose()}}))),i.a.createElement(J.a,{open:this.state.openEdit,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,{style:{padding:"20px"}},i.a.createElement(Yt,{Vendor:this.EditData[0],cancel:function(){e.setState({openEdit:!1}),e.handleClose()}}))))}}]),t}(n.Component),Gt=ie,Kt=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={distributor_name:"",distributor_location:"",distributor_tax_no:"",distributor_mobile_no:"",distributor_email:"",distributor_address:"",distributor_country:"",distributor_state:"",distributor_city:"",distributor_postal_code:"",distributor_point_of_contacts:[{name:"",designation:"",mobile_no:"",sec_mobile_no:""}],description:"",errors:[],countries:[],states:[],cities:[],poc_name:"",poc_designation:"",poc_mobile_no:"",poc_sec_mobile_no:""},a.onAddHandler=function(){K.a.post("/distributors/add-distributor",{distributor_name:a.state.distributor_name,distributor_location:a.state.distributor_location,distributor_tax_no:a.state.distributor_tax_no,distributor_mobile_no:a.state.distributor_mobile_no,distributor_email:a.state.distributor_email,distributor_address:a.state.distributor_address,distributor_country:a.state.distributor_country,distributor_state:a.state.distributor_state,distributor_city:a.state.distributor_city,distributor_postal_code:a.state.distributor_postal_code,distributor_point_of_contact:a.state.distributor_point_of_contacts,description:a.state.description}).then((function(e){console.log(e),e.data.errors.length>0?(console.log(e.data.errors),a.setState({errors:Object(F.a)(e.data.errors)})):a.props.cancel()})).catch((function(e){return console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;oe(this.props,"Manage Distributors")&&K.a.get("/countries/countries").then((function(t){e.setState({countries:Object(F.a)(t.data.Countries)})}))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:Gt.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Add Distributor"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:Gt.box_msg,bgcolor:"#f73067",key:t},e)})):null,i.a.createElement(ne,null,i.a.createElement(m.a,{style:Gt.box_field},i.a.createElement(m.a,{style:Gt.box,marginRight:"10px"},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,value:this.state.distributor_name,variant:"outlined",label:"Distributor Name",type:"text",onChange:function(t){e.setState({distributor_name:t.target.value})}})),i.a.createElement(m.a,{style:Gt.box,marginRight:"10px"},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,value:this.state.distributor_location,variant:"outlined",label:"Location",type:"text",onChange:function(t){e.setState({distributor_location:t.target.value})}})),i.a.createElement(m.a,{style:Gt.box},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,value:this.state.distributor_tax_no,variant:"outlined",label:"Tax Number (GSTIN/VAT)",type:"text",onChange:function(t){e.setState({distributor_tax_no:t.target.value})}}))),i.a.createElement(m.a,{style:Gt.box_field},i.a.createElement(m.a,{style:Gt.box,marginRight:"10px"},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,value:this.state.distributor_mobile_no,variant:"outlined",label:"Mobile Number",type:"text",onChange:function(t){e.setState({distributor_mobile_no:t.target.value})}})),i.a.createElement(m.a,{style:Gt.box},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,value:this.state.distributor_email,variant:"outlined",label:"Email",type:"email",onChange:function(t){e.setState({distributor_email:t.target.value})}}))),i.a.createElement(m.a,{style:Gt.box},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,value:this.state.distributor_address,variant:"outlined",label:"Address",type:"text",onChange:function(t){e.setState({distributor_address:t.target.value})}})),i.a.createElement(m.a,{style:Gt.box_field,marginTop:"10px"},i.a.createElement(m.a,{style:Gt.box,marginRight:"10px"},i.a.createElement(Z.a,{size:"small",required:!0,variant:"outlined",fullWidth:!0,display:"flex"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select Country"),i.a.createElement(ee.a,{required:!0,value:this.state.distributor_country,onChange:function(t){console.log(t.target.value),e.setState({distributor_country:t.target.value,cities:[]}),K.a.post("/states/state-country",{country_id:t.target.value}).then((function(t){console.log(t),e.setState({states:Object(F.a)(t.data.state)})}))}},this.state.countries.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.country_name)}))))),i.a.createElement(m.a,{style:Gt.box,marginRight:"10px"},i.a.createElement(Z.a,{size:"small",required:!0,variant:"outlined",fullWidth:!0},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select State"),i.a.createElement(ee.a,{required:!0,value:this.state.distributor_state,onChange:function(t){console.log(t.target.value),e.setState({distributor_state:t.target.value}),K.a.post("/cities/city-state",{state_id:t.target.value}).then((function(t){console.log(t),e.setState({cities:Object(F.a)(t.data.city)})}))}},this.state.states.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.state_name)}))))),i.a.createElement(m.a,{style:Gt.box},i.a.createElement(Z.a,{size:"small",required:!0,variant:"outlined",fullWidth:!0},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select City"),i.a.createElement(ee.a,{required:!0,value:this.state.distributor_city,onChange:function(t){console.log(t.target.value),e.setState({distributor_city:t.target.value})}},this.state.cities.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.city_name)})))))),i.a.createElement(m.a,{style:Gt.box_field},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,value:this.state.distributor_postal_code,variant:"outlined",label:"Postal Code",type:"text",onChange:function(t){e.setState({distributor_postal_code:t.target.value})}})),i.a.createElement(m.a,{style:Gt.box},i.a.createElement(X.a,{size:"small",fullWidth:!0,multiline:!0,rowsMax:4,required:!0,value:this.state.description,variant:"outlined",label:"Description",type:"text",onChange:function(t){e.setState({description:t.target.value})}})),i.a.createElement(m.a,{fontWeight:"bold",fontSize:"1.2vw",mt:1,mb:1,display:"flex",justifyContent:"flex-start",width:"100%"},"Point of contact"),i.a.createElement(m.a,{style:Gt.box_field,padding:"10px",border:"1px solid #3f51b5",marginBottom:"10px",flexDirection:"column"},this.state.distributor_point_of_contacts.map((function(t,a){return i.a.createElement(m.a,{style:Gt.box_field},i.a.createElement(m.a,{style:Gt.box,marginRight:"10px"},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,value:e.state.distributor_point_of_contacts[a].name,variant:"outlined",label:"Name",type:"text",onChange:function(t){e.setState({poc_name:t.target.value}),e.setState((function(e){e.distributor_point_of_contacts[a].name=e.poc_name,console.log(e.distributor_point_of_contacts[a])}))}})),i.a.createElement(m.a,{style:Gt.box,marginRight:"10px"},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,value:e.state.distributor_point_of_contacts[a].designation,variant:"outlined",label:"Designation",type:"text",onChange:function(t){e.setState({poc_designation:t.target.value}),e.setState((function(e){e.distributor_point_of_contacts[a].designation=e.poc_designation,console.log(e.distributor_point_of_contacts[a])}))}})),i.a.createElement(m.a,{style:Gt.box,marginRight:"10px"},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,value:e.state.distributor_point_of_contacts[a].mobile_no,variant:"outlined",label:"Mobile No",type:"text",onChange:function(t){e.setState({poc_mobile_no:t.target.value}),e.setState((function(e){e.distributor_point_of_contacts[a].mobile_no=e.poc_mobile_no,console.log(e.distributor_point_of_contacts[a])}))}})),i.a.createElement(m.a,{style:Gt.box,marginRight:"10px"},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,value:e.state.distributor_point_of_contacts[a].sec_mobile_no,variant:"outlined",label:"Secondary Mobile No",type:"text",onChange:function(t){e.setState({poc_sec_mobile_no:t.target.value}),e.setState((function(e){e.distributor_point_of_contacts[a].sec_mobile_no=e.poc_sec_mobile_no,console.log(e.distributor_point_of_contacts[a])}))}})),e.state.distributor_point_of_contacts.length===a+1?i.a.createElement(Ht.a,{color:"secondary",fontSize:"medium",onClick:function(){e.setState({}),e.setState((function(e){e.distributor_point_of_contacts.push({name:"",designation:"",mobile_no:"",sec_mobile_no:""}),console.log(e.distributor_point_of_contacts)}))}}):i.a.createElement(Ft.a,{color:"secondary",fontSize:"medium",onClick:function(){e.setState({}),e.setState((function(e){e.distributor_point_of_contacts.splice(a,1),console.log(e.distributor_point_of_contacts)}))}}))})).reverse())),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(O.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(O.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:this.onAddHandler},"Add"))))}}]),t}(n.Component),Xt=ie,Zt=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={_id:"",distributor_name:"",distributor_location:"",distributor_tax_no:"",distributor_mobile_no:"",distributor_email:"",distributor_address:"",distributor_country:"",distributor_state:"",distributor_city:"",distributor_postal_code:"",distributor_point_of_contacts:[{name:"",designation:"",mobile_no:"",sec_mobile_no:""}],description:"",errors:[],fieldErrors:{distributor_name:!1,distributor_location:!1,distributor_tax_no:!1,distributor_mobile_no:!1,distributor_email:!1,distributor_address:!1,distributor_country:!1,distributor_state:!1,distributor_city:!1,distributor_postal_code:!1,distributor_point_of_contacts:!1},countries:[],states:[],cities:[],poc_name:"",poc_designation:"",poc_mobile_no:"",poc_sec_mobile_no:""},a.onEditHandler=function(){a.state.distributor_point_of_contacts.map((function(e,t){var n=e.name,i=e.mobile_no;return n||i||a.state.distributor_point_of_contacts.splice(t,1),null})),console.log(a.state.distributor_point_of_contacts),K.a.post("/distributors/edit-distributor",{_id:a.state._id,distributor_name:a.state.distributor_name,distributor_location:a.state.distributor_location,distributor_tax_no:a.state.distributor_tax_no,distributor_mobile_no:a.state.distributor_mobile_no,distributor_email:a.state.distributor_email,distributor_address:a.state.distributor_address,distributor_country:a.state.distributor_country,distributor_state:a.state.distributor_state,distributor_city:a.state.distributor_city,distributor_postal_code:a.state.distributor_postal_code,distributor_point_of_contact:a.state.distributor_point_of_contacts,description:a.state.description}).then((function(e){console.log(e),e.data.errors&&(e.data.errors.length>0?(console.log(e.data.errors),a.setState({errors:Object(F.a)(e.data.errors)})):a.props.cancel())})).catch((function(e){return console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;console.log(this.props.Distributor),console.log(this.props.Distributor.distributor_point_of_contact),oe(this.props,"Manage Distributors")&&K.a.get("/countries/countries").then((function(t){e.setState({countries:Object(F.a)(t.data.Countries)}),K.a.post("/states/state-country",{country_id:e.props.Distributor.distributor_country}).then((function(t){e.setState({states:Object(F.a)(t.data.state)}),K.a.post("/cities/city-state",{state_id:e.props.Distributor.distributor_state}).then((function(t){e.setState({cities:Object(F.a)(t.data.city)}),""===e.state.distributor_name&&e.setState({_id:e.props.Distributor._id,distributor_name:e.props.Distributor.distributor_name,distributor_location:e.props.Distributor.distributor_location,distributor_tax_no:e.props.Distributor.distributor_tax_no,distributor_mobile_no:e.props.Distributor.distributor_mobile_no,distributor_email:e.props.Distributor.distributor_email,distributor_address:e.props.Distributor.distributor_address,distributor_country:e.props.Distributor.distributor_country,distributor_state:e.props.Distributor.distributor_state,distributor_city:e.props.Distributor.distributor_city,distributor_postal_code:e.props.Distributor.distributor_postal_code,distributor_point_of_contacts:e.props.Distributor.distributor_point_of_contact,description:e.props.Distributor.description})}))}))}))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:Xt.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Edit Distributor"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:Xt.box_msg,bgcolor:"#f73067",key:t},e)})):null,i.a.createElement(ne,null,i.a.createElement(m.a,{style:Xt.box_field},i.a.createElement(m.a,{style:Xt.box,marginRight:"10px"},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,value:this.state.distributor_name,variant:"outlined",label:"Distributor Name",type:"text",onChange:function(t){e.setState({distributor_name:t.target.value})}})),i.a.createElement(m.a,{style:Xt.box,marginRight:"10px"},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,value:this.state.distributor_location,variant:"outlined",label:"Location",type:"text",onChange:function(t){e.setState({distributor_location:t.target.value})}})),i.a.createElement(m.a,{style:Xt.box},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,value:this.state.distributor_tax_no,variant:"outlined",label:"Tax Number (GSTIN/VAT)",type:"text",onChange:function(t){e.setState({distributor_tax_no:t.target.value})}}))),i.a.createElement(m.a,{style:Xt.box_field},i.a.createElement(m.a,{style:Xt.box,marginRight:"10px"},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,value:this.state.distributor_mobile_no,variant:"outlined",label:"Mobile Number",type:"text",onChange:function(t){e.setState({distributor_mobile_no:t.target.value})}})),i.a.createElement(m.a,{style:Xt.box},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,value:this.state.distributor_email,variant:"outlined",label:"Email",type:"email",onChange:function(t){e.setState({distributor_email:t.target.value})}}))),i.a.createElement(m.a,{style:Xt.box},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,value:this.state.distributor_address,variant:"outlined",label:"Address",type:"text",onChange:function(t){e.setState({distributor_address:t.target.value})}})),i.a.createElement(m.a,{style:Xt.box_field,marginTop:"10px"},i.a.createElement(m.a,{style:Xt.box,marginRight:"10px"},i.a.createElement(Z.a,{size:"small",required:!0,variant:"outlined",fullWidth:!0,display:"flex"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select Country"),i.a.createElement(ee.a,{required:!0,value:this.state.distributor_country,onChange:function(t){console.log(t.target.value),e.setState({distributor_country:t.target.value,cities:[]}),K.a.post("/states/state-country",{country_id:t.target.value}).then((function(t){console.log(t),e.setState({states:Object(F.a)(t.data.state)})}))}},this.state.countries.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.country_name)}))))),i.a.createElement(m.a,{style:Xt.box,marginRight:"10px"},i.a.createElement(Z.a,{size:"small",required:!0,variant:"outlined",fullWidth:!0},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select State"),i.a.createElement(ee.a,{required:!0,value:this.state.distributor_state,onChange:function(t){console.log(t.target.value),e.setState({distributor_state:t.target.value}),K.a.post("/cities/city-state",{state_id:t.target.value}).then((function(t){console.log(t),e.setState({cities:Object(F.a)(t.data.city)})}))}},this.state.states.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.state_name)}))))),i.a.createElement(m.a,{style:Xt.box},i.a.createElement(Z.a,{size:"small",required:!0,variant:"outlined",fullWidth:!0},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select City"),i.a.createElement(ee.a,{required:!0,value:this.state.distributor_city,onChange:function(t){console.log(t.target.value),e.setState({distributor_city:t.target.value})}},this.state.cities.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.city_name)})))))),i.a.createElement(m.a,{style:Xt.box_field},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,value:this.state.distributor_postal_code,variant:"outlined",label:"Postal Code",type:"text",onChange:function(t){e.setState({distributor_postal_code:t.target.value})}})),i.a.createElement(m.a,{style:Xt.box},i.a.createElement(X.a,{size:"small",fullWidth:!0,multiline:!0,rowsMax:4,required:!0,value:this.state.description,variant:"outlined",label:"Description",type:"text",onChange:function(t){e.setState({description:t.target.value})}})),i.a.createElement(m.a,{fontWeight:"bold",fontSize:"1.2vw",mt:1,mb:1,display:"flex",justifyContent:"flex-start",width:"100%"},"Point of contact"),i.a.createElement(m.a,{style:Xt.box_field,padding:"10px",border:"1px solid #3f51b5",marginBottom:"10px",flexDirection:"column"},this.state.distributor_point_of_contacts.map((function(t,a){return i.a.createElement(m.a,{style:Xt.box_field},i.a.createElement(m.a,{style:Xt.box,marginRight:"10px"},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,value:e.state.distributor_point_of_contacts[a].name,variant:"outlined",label:"Name",type:"text",onChange:function(t){e.setState({poc_name:t.target.value}),e.setState((function(e){e.distributor_point_of_contacts[a].name=e.poc_name,console.log(e.distributor_point_of_contacts[a])}))}})),i.a.createElement(m.a,{style:Xt.box,marginRight:"10px"},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,value:e.state.distributor_point_of_contacts[a].designation,variant:"outlined",label:"Designation",type:"text",onChange:function(t){e.setState({poc_designation:t.target.value}),e.setState((function(e){e.distributor_point_of_contacts[a].designation=e.poc_designation,console.log(e.distributor_point_of_contacts[a])}))}})),i.a.createElement(m.a,{style:Xt.box,marginRight:"10px"},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,value:e.state.distributor_point_of_contacts[a].mobile_no,variant:"outlined",label:"Mobile No",type:"text",onChange:function(t){e.setState({poc_mobile_no:t.target.value}),e.setState((function(e){e.distributor_point_of_contacts[a].mobile_no=e.poc_mobile_no,console.log(e.distributor_point_of_contacts[a])}))}})),i.a.createElement(m.a,{style:Xt.box,marginRight:"10px"},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,value:e.state.distributor_point_of_contacts[a].sec_mobile_no,variant:"outlined",label:"Secondary Mobile No",type:"text",onChange:function(t){e.setState({poc_sec_mobile_no:t.target.value}),e.setState((function(e){e.distributor_point_of_contacts[a].sec_mobile_no=e.poc_sec_mobile_no,console.log(e.distributor_point_of_contacts[a])}))}})),e.state.distributor_point_of_contacts.length===a+1?i.a.createElement(Ht.a,{color:"secondary",fontSize:"medium",onClick:function(){e.setState({}),e.setState((function(e){e.distributor_point_of_contacts.push({name:"",designation:"",mobile_no:"",sec_mobile_no:""}),console.log(e.distributor_point_of_contacts)}))}}):i.a.createElement(Ft.a,{color:"secondary",fontSize:"medium",onClick:function(){e.setState({}),e.setState((function(e){e.distributor_point_of_contacts.splice(a,1),console.log(e.distributor_point_of_contacts)}))}}))})).reverse())),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(O.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(O.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:this.onEditHandler},"Update"))))}}]),t}(n.Component),$t=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).EditData={},a.state={columns:[{title:"ID",field:"id"},{title:"Distributor Name",field:"distributor_name"},{title:"Distributor Location",field:"distributor_location"},{title:"Description",field:"description"}],data:[],openAdd:!1,openEdit:!1},a.OnEditHandler=function(e,t){console.log(t._id),K.a.post("/distributors/distributor",{_id:t._id}).then((function(e){console.log(e),a.EditData=Object(B.a)({},e.data.Distributor),console.log(a.EditData[0]),a.setState({openEdit:!0})}))},a.handleClose=function(){K.a.get("/distributors/distributors").then((function(e){for(var t=0;t<e.data.Distributors.length;t++)e.data.Distributors[t].id=t+1;a.setState({data:Object(F.a)(e.data.Distributors)})})).catch((function(e){console.log("Error")}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){oe(this.props,"Manage Distributors")&&this.handleClose()}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Manage Distributors"),i.a.createElement(m.a,{width:"90%",display:"flex",flexDirection:"row"},i.a.createElement(O.a,{variant:"contained",color:"primary",style:{marginBottom:"20px",display:"flex",marginRight:"10px"},size:"large",onClick:function(){e.setState({openAdd:!0})}},"Add")),i.a.createElement(Q.a,{title:" ",columns:this.state.columns,data:this.state.data,style:{width:"90%",maxHeight:"500px",overflow:"auto"},options:{sorting:!0,headerStyle:{backgroundColor:"#3f51b5",color:"#FFF"}},actions:[{icon:"edit",tooltip:"Edit",onClick:function(t,a){e.OnEditHandler(t,a)}}],editable:{onRowDelete:function(t){return K.a.post("/distributors/delete-distributor",{_id:t._id}).then((function(a){console.log(a),a&&e.setState((function(e){var a=Object(F.a)(e.data);return a.splice(a.indexOf(t),1),Object(B.a)({},e,{data:a})}))}))}},onRowClick:function(t,a){e.OnEditHandler(t,a)}}),i.a.createElement(J.a,{open:this.state.openAdd,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,{style:{padding:"20px"}},i.a.createElement(Kt,{cancel:function(){e.setState({openAdd:!1}),e.handleClose()}}))),i.a.createElement(J.a,{open:this.state.openEdit,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,{style:{padding:"20px"}},i.a.createElement(Zt,{Distributor:this.EditData[0],cancel:function(){e.setState({openEdit:!1}),e.handleClose()}}))))}}]),t}(n.Component),ea=ie,ta=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={designation_name:"",description:"",errors:[],status:"Add"},a.onAddHandler=function(){a.setState({status:"wait.."}),K.a.post("/designations/add-designation",{designation_name:a.state.designation_name,description:a.state.description}).then((function(e){a.setState({status:"Add"}),console.log(e),e.data.errors.length>0?(console.log(e.data.errors),a.setState({errors:Object(F.a)(e.data.errors)})):a.props.cancel()})).catch((function(e){return console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){oe(this.props,"Manage Designations")}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:ea.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Add Designation"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:ea.box_msg,bgcolor:"#f73067",key:t},e)})):null,i.a.createElement(ne,null,i.a.createElement(m.a,{style:ea.box_field},i.a.createElement(X.a,{fullWidth:!0,required:!0,value:this.state.designation_name,variant:"outlined",label:"Designation Name",type:"text",onChange:function(t){e.setState({designation_name:t.target.value})}})),i.a.createElement(m.a,{style:ea.box_field},i.a.createElement(X.a,{fullWidth:!0,required:!0,value:this.state.description,variant:"outlined",label:"Description",type:"text",onChange:function(t){e.setState({description:t.target.value})}}))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(O.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(O.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:this.onAddHandler},this.state.status))))}}]),t}(n.Component),aa=ie,na=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={_id:"",designation_name:"",description:"",errors:[],status:"Add"},a.onEditHandler=function(){a.setState({status:"wait.."}),K.a.post("/designations/edit-designation",{_id:a.state._id,designation_name:a.state.designation_name,description:a.state.description}).then((function(e){a.setState({status:"Update"}),console.log(e),e.data.errors&&(e.data.errors.length>0?(console.log(e.data.errors),a.setState({errors:Object(F.a)(e.data.errors)})):a.props.cancel())})).catch((function(e){return console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){oe(this.props.props,"Manage Designations")&&(console.log(this.props),""===this.state.designation_name&&this.setState({designation_name:this.props.Designation.designation_name,description:this.props.Designation.description,_id:this.props.Designation._id}))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:aa.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Edit Designation"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:aa.box_msg,bgcolor:"#f73067",key:t},e)})):null,i.a.createElement(ne,null,i.a.createElement(m.a,{style:aa.box_field},i.a.createElement(X.a,{fullWidth:!0,required:!0,value:this.state.designation_name,variant:"outlined",label:"Designation Name",type:"text",onChange:function(t){e.setState({designation_name:t.target.value})}})),i.a.createElement(m.a,{style:aa.box_field},i.a.createElement(X.a,{fullWidth:!0,required:!0,value:this.state.description,variant:"outlined",label:"Description",type:"text",onChange:function(t){e.setState({description:t.target.value})}}))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(O.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(O.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:this.onEditHandler},this.state.status))))}}]),t}(n.Component),ia=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).EditData={},a.state={columns:[{title:"ID",field:"id"},{title:"Designation Name",field:"designation_name"},{title:"Description",field:"description"}],data:[],openAdd:!1,openEdit:!1},a.OnEditHandler=function(e,t){K.a.post("/designations/designation",{_id:t._id}).then((function(e){a.EditData=Object(B.a)({},e.data.Designation[0]),console.log(a.EditData),a.setState({openEdit:!0})}))},a.handleClose=function(){K.a.get("/designations/designations").then((function(e){console.log(e.data.Designations);for(var t=0;t<e.data.Designations.length;t++)e.data.Designations[t].id=t+1;a.setState({data:Object(F.a)(e.data.Designations)})}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){oe(this.props,"Manage Designations")&&this.handleClose()}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Manage Designations"),i.a.createElement(m.a,{width:"90%",display:"flex",flexDirection:"row"},i.a.createElement(O.a,{variant:"contained",color:"primary",style:{marginBottom:"20px",display:"flex",marginRight:"10px"},size:"large",onClick:function(){e.setState({openAdd:!0})}},"Add")),i.a.createElement(Q.a,{title:" ",columns:this.state.columns,data:this.state.data,style:{width:"90%",maxHeight:"500px",overflow:"auto"},options:{sorting:!0,headerStyle:{backgroundColor:"#3f51b5",color:"#FFF"}},actions:[{icon:"edit",tooltip:"Edit",onClick:function(t,a){e.OnEditHandler(t,a)}}],editable:{onRowDelete:function(t){return K.a.post("/designations/delete-designation",{designation_name:t.designation_name}).then((function(a){console.log(a),a&&e.setState((function(e){var a=Object(F.a)(e.data);return a.splice(a.indexOf(t),1),Object(B.a)({},e,{data:a})}))}))}},onRowClick:function(t,a){e.OnEditHandler(t,a)}}),i.a.createElement(J.a,{open:this.state.openAdd,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,{style:{padding:"20px"}},i.a.createElement(ta,{cancel:function(){e.setState({openAdd:!1}),e.handleClose()}}))),i.a.createElement(J.a,{open:this.state.openEdit,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,{style:{padding:"20px"}},i.a.createElement(na,{Designation:this.EditData,props:this.props,cancel:function(){e.setState({openEdit:!1}),e.handleClose()}}))))}}]),t}(n.Component),oa=ie,la=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={box_name:"",box_size:"",description:"",errors:[],status:"Add"},a.onAddHandler=function(){a.setState({status:"wait.."}),K.a.post("/boxes/add-box",{box_name:a.state.box_name,box_size:a.state.box_size,description:a.state.description}).then((function(e){a.setState({status:"Add"}),console.log(e),e.data.errors.length>0?(console.log(e.data.errors),a.setState({errors:Object(F.a)(e.data.errors)})):a.props.cancel()})).catch((function(e){return console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){oe(this.props,"Manage Boxes")}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:oa.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Add Box"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:oa.box_msg,bgcolor:"#f73067",key:t},e)})):null,i.a.createElement(ne,null,i.a.createElement(m.a,{style:oa.box_field},i.a.createElement(X.a,{fullWidth:!0,required:!0,value:this.state.box_name,variant:"outlined",label:"Box Name",type:"text",onChange:function(t){e.setState({box_name:t.target.value})}})),i.a.createElement(m.a,{style:oa.box_field},i.a.createElement(X.a,{fullWidth:!0,required:!0,value:this.state.box_size,variant:"outlined",label:"Box Size",type:"text",onChange:function(t){e.setState({box_size:t.target.value})}})),i.a.createElement(m.a,{style:oa.box_field},i.a.createElement(X.a,{fullWidth:!0,required:!0,value:this.state.description,variant:"outlined",label:"Description",type:"text",onChange:function(t){e.setState({description:t.target.value})}}))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(O.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(O.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:this.onAddHandler},this.state.status))))}}]),t}(n.Component),ra=ie,sa=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={_id:"",box_name:"",box_size:"",description:"",errors:[],status:"Add"},a.onEditHandler=function(){a.setState({status:"wait.."}),K.a.post("/boxes/edit-box",{_id:a.state._id,box_name:a.state.box_name,box_size:a.state.box_size,description:a.state.description}).then((function(e){a.setState({status:"Update"}),console.log(e),e.data.errors&&(e.data.errors.length>0?(console.log(e.data.errors),a.setState({errors:Object(F.a)(e.data.errors)})):a.props.cancel())})).catch((function(e){return console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){oe(this.props.props,"Manage Boxes")&&(console.log(this.props),""===this.state.box_name&&this.setState({box_name:this.props.Box.box_name,box_size:this.props.Box.box_size,description:this.props.Box.description,_id:this.props.Box._id}))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:ra.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Edit Box"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:ra.box_msg,bgcolor:"#f73067",key:t},e)})):null,i.a.createElement(ne,null,i.a.createElement(m.a,{style:ra.box_field},i.a.createElement(X.a,{fullWidth:!0,required:!0,value:this.state.box_name,variant:"outlined",label:"Box Name",type:"text",onChange:function(t){e.setState({box_name:t.target.value})}})),i.a.createElement(m.a,{style:ra.box_field},i.a.createElement(X.a,{fullWidth:!0,required:!0,value:this.state.box_size,variant:"outlined",label:"Box Size",type:"text",onChange:function(t){e.setState({box_size:t.target.value})}})),i.a.createElement(m.a,{style:ra.box_field},i.a.createElement(X.a,{fullWidth:!0,required:!0,value:this.state.description,variant:"outlined",label:"Description",type:"text",onChange:function(t){e.setState({description:t.target.value})}}))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(O.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(O.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:this.onEditHandler},this.state.status))))}}]),t}(n.Component),ca=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).EditData={},a.state={columns:[{title:"ID",field:"id"},{title:"Box Name",field:"box_name"},{title:"Box Size",field:"box_size"},{title:"Description",field:"description"}],data:[],openAdd:!1,openEdit:!1},a.OnEditHandler=function(e,t){console.log(t._id),K.a.post("/boxes/box",{_id:t._id}).then((function(e){console.log(e.data),a.EditData=Object(B.a)({},e.data.box[0]),console.log(a.EditData),a.setState({openEdit:!0})}))},a.handleClose=function(){K.a.get("/boxes/boxes").then((function(e){console.log(e.data.Boxes);for(var t=0;t<e.data.Boxes.length;t++)e.data.Boxes[t].id=t+1;a.setState({data:Object(F.a)(e.data.Boxes)})}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){oe(this.props,"Manage Boxes")&&this.handleClose()}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Manage Boxes"),i.a.createElement(m.a,{width:"90%",display:"flex",flexDirection:"row"},i.a.createElement(O.a,{variant:"contained",color:"primary",style:{marginBottom:"20px",display:"flex",marginRight:"10px"},size:"large",onClick:function(){e.setState({openAdd:!0})}},"Add")),i.a.createElement(Q.a,{title:" ",columns:this.state.columns,data:this.state.data,style:{width:"90%",maxHeight:"500px",overflow:"auto"},options:{sorting:!0,headerStyle:{backgroundColor:"#3f51b5",color:"#FFF"}},actions:[{icon:"edit",tooltip:"Edit",onClick:function(t,a){e.OnEditHandler(t,a)}}],editable:{onRowDelete:function(t){return K.a.post("/boxes/delete-box",{_id:t._id}).then((function(a){console.log(a),a&&e.setState((function(e){var a=Object(F.a)(e.data);return a.splice(a.indexOf(t),1),Object(B.a)({},e,{data:a})}))}))}},onRowClick:function(t,a){e.OnEditHandler(t,a)}}),i.a.createElement(J.a,{open:this.state.openAdd,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,{style:{padding:"20px"}},i.a.createElement(la,{cancel:function(){e.setState({openAdd:!1}),e.handleClose()}}))),i.a.createElement(J.a,{open:this.state.openEdit,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,{style:{padding:"20px"}},i.a.createElement(sa,{Box:this.EditData,props:this.props,cancel:function(){e.setState({openEdit:!1}),e.handleClose()}}))))}}]),t}(n.Component),da=a(116),ua=function(){return i.a.createElement(m.a,{style:{width:"100%"}},i.a.createElement(da.b,{exact:!0,path:"/home/management/manage-employees",component:_e}),i.a.createElement(da.b,{path:"/home/management/manage-users",component:ve}),i.a.createElement(da.b,{exact:!0,path:"/home/management/manage-roles",component:We}),i.a.createElement(da.b,{exact:!0,path:"/home/management/manage-shifts",component:Pe}),i.a.createElement(da.b,{exact:!0,path:"/home/management/manage-countries",component:Xe}),i.a.createElement(da.b,{exact:!0,path:"/home/management/manage-states",component:Ve}),i.a.createElement(da.b,{exact:!0,path:"/home/management/manage-cities",component:nt}),i.a.createElement(da.b,{exact:!0,path:"/home/management/manage-measuring-units",component:ct}),i.a.createElement(da.b,{exact:!0,path:"/home/management/manage-material-types",component:ht}),i.a.createElement(da.b,{exact:!0,path:"/home/management/manage-raw-materials",component:bt}),i.a.createElement(da.b,{exact:!0,path:"/home/management/manage-work-locations",component:Ct}),i.a.createElement(da.b,{exact:!0,path:"/home/management/manage-products",component:qt}),i.a.createElement(da.b,{exact:!0,path:"/home/management/manage-production-units",component:Dt}),i.a.createElement(da.b,{exact:!0,path:"/home/management/manage-departments",component:Ut}),i.a.createElement(da.b,{exact:!0,path:"/home/management/manage-vendors",component:Jt}),i.a.createElement(da.b,{exact:!0,path:"/home/management/manage-distributors",component:$t}),i.a.createElement(da.b,{exact:!0,path:"/home/management/manage-designations",component:ia}),i.a.createElement(da.b,{exact:!0,path:"/home/management/manage-boxes",component:ca}))},ma=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={dashboardItems:[],width:"17vw"},a.permissions=JSON.parse(sessionStorage.getItem("permissions")),a.contents=["Manage Employees","Manage Users","Manage Roles","Manage Products","Manage Raw Materials","Manage Vendors","Manage Distributors","Manage Countries","Manage States","Manage Cities","Manage Work Locations","Manage Shifts","Manage Measuring Units","Manage Material Types","Manage Departments","Manage Production Units","Manage Designations","Manage Boxes"],a.logout=function(){E.logout()&&a.props.history.push("/")},a.home=function(){a.props.history.push("/home")},a.dashboardMin=function(){a.setState({width:".1px"})},a.dashboardMax=function(){a.setState({width:"17vw"})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.contents.map((function(t){if(e.permissions.find((function(e){return e===t}))){var a=t.toLowerCase().replace(/ /g,"-");e.setState({}),e.setState((function(e){e.dashboardItems.push({Name:t,Path:a})}))}return null}))}},{key:"render",value:function(){return i.a.createElement(m.a,null,i.a.createElement(H,{name:"Management",logout:this.logout,home:this.home,dashboardMax:this.dashboardMax,dashboardMin:this.dashboardMin}),i.a.createElement(m.a,{display:"flex"},i.a.createElement(b,{items:this.state.dashboardItems,componentName:"home/management",width:this.state.width,dashboardMin:this.dashboardMin}),i.a.createElement(m.a,{display:"flex",flexDirection:"column",alignItems:"center",width:"100%",marginTop:"10px"},i.a.createElement(ua,null))))}}]),t}(i.a.Component),pa=a(573),ha=a.n(pa),fa=a(574),ga=a.n(fa),_a={box:{display:"flex",width:"100%",alignItems:"center",justifyContent:"center",marginBottom:"20px"}},ya=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={user_name:"",password:"",success:!1,errors:[]},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){E.logout(),this.props.history.location.state&&this.props.history.location.state.Errors[0]&&this.setState({errors:this.props.history.location.state.Errors})}}]),Object(s.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{flexDirection:"column",height:"100vh",bgcolor:"#3f51b5",style:_a.box},i.a.createElement(m.a,{width:"30vw"},i.a.createElement(ne,null,i.a.createElement(m.a,{style:{fontWeight:"bolder",color:"#3f51b5"},fontSize:"3vw",mb:3},"Login"),i.a.createElement(m.a,{style:_a.box},i.a.createElement(ha.a,{style:{fontSize:"40px",marginRight:"10px"},color:"primary"}),i.a.createElement(X.a,{color:"primary",size:"small",fullWidth:!0,required:!0,variant:"outlined",label:"User Name",type:"text",onChange:function(t){e.setState({user_name:t.target.value})}})),i.a.createElement(m.a,{style:_a.box},i.a.createElement(ga.a,{style:{fontSize:"40px",marginRight:"10px"},color:"primary"}),i.a.createElement(X.a,{size:"small",variant:"outlined",fullWidth:!0,label:"Password",required:!0,type:"password",onChange:function(t){e.setState({password:t.target.value})}})),i.a.createElement(O.a,{variant:"contained",size:"large",color:"primary",onClick:function(){K.a.post("/users/login",{name:e.state.user_name,password:e.state.password}).then((function(t){t.data.name===e.state.user_name?(console.log("User: ",t.data),sessionStorage.setItem("User Name",t.data.name),sessionStorage.setItem("User ID",t.data.employee_id?t.data.employee_id:"not specified"),console.log("User ID: ",sessionStorage.getItem("User ID")),sessionStorage.setItem("Role ID",t.data.role),E.login(t.data.name===e.state.user_name),K.a.post("roles/role",{_id:t.data.role}).then((function(t){var a=[];console.log(t.data),t.data.Role[0].permissions.map((function(e){return a.push(e.name),null})),sessionStorage.setItem("permissions",JSON.stringify(a)),e.props.history.push("/home")})).catch((function(t){console.log(t),e.setState({errors:["Problem in user. Contact Administrator"]})}))):(console.log(t.data.message),e.setState({errors:t.data.message}))})).catch((function(t){e.setState({errors:["Could not reach the server"]}),console.log(t)}))}},"Login"),this.state.errors.length>0?this.state.errors.map((function(e,t){return null!=e?i.a.createElement(m.a,{key:t,bgcolor:"#f73067",marginTop:"10px",padding:"10px",width:"90%",textAlign:"center"},e):i.a.createElement(m.a,{key:t})})):i.a.createElement(m.a,null))))}}]),t}(n.Component),ba=a(591),Ea=function(e){var t=e.component,a=Object(ba.a)(e,["component"]);return i.a.createElement(da.b,Object.assign({},a,{render:function(e){return E.isAuthenticated()?i.a.createElement(t,e):i.a.createElement(da.a,{to:{pathname:"/",state:{from:e.location,Errors:["Please Login to get access"]}}})}}))},xa=a(934),va={box_field:{display:"flex",width:"100%",alignItems:"center",justifyContent:"center",marginBottom:"20px"},box:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",height:"80%"},box_msg:{marginBottom:"10px",padding:"10px",width:"90%",textAlign:"center",fontSize:"15px",textTransform:"uppercase "},icons:{fontSize:"40px",marginRight:"10px"},root:{display:"flex",flexDirection:"column",justifyContent:"center",width:"100%"},heading:{display:"flex",justifyContent:"center",width:"100%",paddingTop:"15px",paddingBottom:"25px"},lbox:{display:"flex",flexDirection:"row",justifyContent:"center",width:"100%"},form:{display:"flex",flexDirection:"column",width:"90%",justifyContent:"space-around"},boxSize2:{display:"flex",flexDirection:"row",alignContent:"center",paddingTop:"5px",paddingLeft:"5px",paddingRight:"5px",paddingBottom:"5px",minWidth:"10%",maxWidth:"100%"},lastboxSize2:{display:"flex",flexDirection:"row",alignContent:"center",paddingTop:"5px",paddingLeft:"15px",paddingRight:"15px",paddingBottom:"20px"},addbtns:{display:"flex",alignSelf:"center",paddingLeft:"10px",paddingRight:"10px"},addbtnl:{display:"flex",alignSelf:"flex-end",paddingLeft:"10px",paddingRight:"10px"},submit:{display:"flex",justifyContent:"flex-end",paddingTop:"20px",paddingBottom:"10px",marginRight:"60px",alignSelf:"flex-end"},add:{display:"flex",justifyContent:"flex-start",paddingTop:"20px",paddingBottom:"10px",marginRight:"60px",alignSelf:"flex-start"},paper:{overflow:"auto",width:"100%"},table:{overflow:"auto"},link:{backgroundColor:"white",display:"flex",alignItems:"center",borderRadius:"5px",color:"black",fontSize:"20px",fontWeight:"bold"}},Sa=a(576),Ca=a.n(Sa),wa=a(575),ka=a.n(wa),Oa=a(932),ja=a(933),Da=Object(h.a)({root:{minWidth:275},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12}}),Ma=function(e){var t=Object(n.useState)(e.data),a=Object(v.a)(t,1)[0];Object(n.useEffect)((function(){console.log(a)}),[a]);var o=Da();return i.a.createElement(m.a,{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Request Log"),i.a.createElement(m.a,{display:"flex",width:"100%",flexDirection:"column",alignItems:"center",bgcolor:"#d6f2ff",maxHeight:"500px",overflow:"auto"},a.map((function(e,t){var a="Admin"===e.Address.From?"#ccffd2":"white";return i.a.createElement(m.a,{key:t,display:"flex",alignItems:"Admin"===e.Address.From?"flex-end":"flex-start",padding:"5px",width:"90%",flexDirection:"column"},i.a.createElement(Oa.a,{className:o.root,style:{color:"red",backgroundColor:"".concat(a),width:"40%"}},i.a.createElement(ja.a,null,i.a.createElement(w.a,{className:o.title,color:"textSecondary",gutterBottom:!0},e.Address.From," To ",e.Address.To),i.a.createElement(w.a,{className:o.pos,color:"textSecondary"},new de.a(e.Entry_Date).format("DD-MM-YYYY HH:m:s")),i.a.createElement(w.a,{variant:"body2",component:"p"},e.Comments))))}))))},Ra=va,Wa={marginRight:"6px",marginLeft:"6px"},za=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={_id:"",Raw_Material_Id:"",Raw_Material_Code:"",Quantity:"",Measuring_Unit:"",Priority:"",Due_Date:null,Status:"",Comments:"",Total_Price:"",Vendor:"",errors:[],success:!1,measuring_units:[],materials:[],vendors:[],code:"",to:"",quotation:"",openLog:!1,logs:[]},a.onEditHandler=function(){K.a.post("/logs/comment",{logs:{reqId:e.Purchase._id,from:"Admin",to:a.state.to,comments:a.state.Comments}}).then((function(e){console.log("Comments: ",e),K.a.post("/request-details/edit",{_id:a.state._id,Raw_Material_Id:a.state.Raw_Material_Id,Raw_Material_Code:a.state.Raw_Material_Code,Quantity:a.state.Quantity,Measuring_Unit:a.state.Measuring_Unit,Quotation_Document_URL:[],Priority:a.state.Priority,Due_Date:a.state.Due_Date,Status:a.state.Status,Comments:e.data.Comments,Vendor:a.state.Vendor,Total_Price:a.state.Total_Price}).then((function(e){console.log(e.data)}))})).catch((function(e){return console.log(e)})),a.props.cancel()},a.loadStatus=function(){return["ForwardedToPurchase","ForwardedToFinance","Rejected"].map((function(e,t){return i.a.createElement(W.a,{key:t,value:e},e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;console.log("Props: ",this.props.Purchase),K.a.get("/raw-materials/raw-materials").then((function(t){console.log(t),e.setState((function(e){e.materials=Object(F.a)(t.data.RawMaterials)})),e.setState({Raw_Material_Id:e.props.Purchase.Raw_Material_Id,Raw_Material_Code:e.props.Purchase.Raw_Material_Code})})),K.a.get("/vendors/vendors").then((function(t){console.log(t),e.setState((function(e){e.vendors=Object(F.a)(t.data.Vendors)})),e.setState({Vendor:e.props.Purchase.Vendor})})),K.a.get("/measuring-units/measuring-units").then((function(t){console.log(t),e.setState((function(e){e.measuring_units=Object(F.a)(t.data.MeasuringUnits)})),e.setState({Measuring_Unit:e.props.Purchase.Measuring_Unit})})),console.log("Props: ",this.props.Purchase._id),this.setState({_id:this.props.Purchase._id,Quantity:this.props.Purchase.Quantity,Priority:this.props.Purchase.Priority,Due_Date:this.props.Purchase.Due_Date,Comments:this.props.Purchase.Comments,Total_Price:this.props.Purchase.Total_Price,quotation:this.props.Purchase.Quotation_Document_URL})}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:Ra.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Request Details"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:Ra.box_msg,bgcolor:"#f73067",key:t},e)})):!0===this.state.success?i.a.createElement(m.a,{bgcolor:"#3df45b",style:Ra.box_msg},"Successful"):null,i.a.createElement(m.a,{style:Ra.root},i.a.createElement(m.a,{display:"flex",justifyContent:"center"},i.a.createElement(m.a,{style:Ra.lbox},i.a.createElement(m.a,{style:Ra.form},i.a.createElement(m.a,{style:Ra.boxSize2},i.a.createElement(m.a,{width:"50%",style:Wa},i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Material Name"),i.a.createElement(ee.a,{disabled:!0,variant:"outlined",required:!0,name:"Raw_Material_Id",value:this.state.Raw_Material_Id,onChange:function(t){var a;e.state.materials.map((function(e){return e._id===t.target.value&&(a=e.raw_material_code,console.log("code: ",a)),null})),e.setState({Raw_Material_Id:t.target.value,Raw_Material_Code:a})}},this.state.materials.map((function(e,t){return i.a.createElement(W.a,{key:t,value:e._id},e.raw_material_name)}))))),i.a.createElement(m.a,{width:"50%",style:Wa},i.a.createElement(X.a,{disabled:!0,size:"small",fullWidth:!0,variant:"outlined",label:"Material_Code",required:!0,name:"Material_Code",value:this.state.Raw_Material_Code,onChange:function(t){e.setState({Material_Code:t.target.value}),console.log(t.target.value)}}))),i.a.createElement(m.a,{style:Ra.boxSize2},i.a.createElement(m.a,{width:"50%",style:Wa},i.a.createElement(X.a,{disabled:this.props.disabled.quantity,size:"small",fullWidth:!0,variant:"outlined",label:"Quantity",required:!0,name:"Quantity",value:this.state.Quantity,onChange:function(t){e.setState({Quantity:t.target.value})}})),i.a.createElement(m.a,{width:"50%",style:Wa},i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Measuring Unit"),i.a.createElement(ee.a,{disabled:this.props.disabled.unit,name:"Measuring_Unit",variant:"outlined",required:!0,value:this.state.Measuring_Unit,onChange:function(t){e.setState({Measuring_Unit:t.target.value}),console.log(t.target.value)}},this.state.measuring_units.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.measuring_unit_name)})))))),i.a.createElement(m.a,{style:Ra.boxSize2},i.a.createElement(m.a,{width:"50%",style:Wa},i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Vendor Name"),i.a.createElement(ee.a,{disabled:this.props.disabled.vendor,variant:"outlined",required:!0,name:"Vendor",value:this.state.Vendor,onChange:function(t){e.setState({Vendor:t.target.value})}},this.state.vendors.map((function(e,t){return i.a.createElement(W.a,{key:t,value:e._id},e.vendor_name)}))))),i.a.createElement(m.a,{width:"50%",style:Wa},i.a.createElement(X.a,{disabled:this.props.disabled.vendor,size:"small",fullWidth:!0,variant:"outlined",label:"Total_Price",required:!0,name:"Total_Price",value:this.state.Total_Price,onChange:function(t){e.setState({Total_Price:t.target.value})}}))),i.a.createElement(m.a,{style:Ra.boxSize2},i.a.createElement(m.a,{width:"50%",style:Wa},i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Priority"),i.a.createElement(ee.a,{disabled:!0,variant:"outlined",required:!0,name:"Priority",value:this.state.Priority,onChange:function(t){e.setState({Priority:t.target.value})}},i.a.createElement(W.a,{value:"Priority",disabled:!0},"Priority"),i.a.createElement(W.a,{value:"Low"},"Low"),i.a.createElement(W.a,{value:"Medium"},"Medium"),i.a.createElement(W.a,{value:"High"},"High")))),i.a.createElement(m.a,{width:"50%",style:Wa},i.a.createElement(ue,{disabled:!0,id:"4",variant:"outlined",Name:"Due_Date",minDate:new Date,value:this.state.Due_Date,setDate:function(t){e.setState({Due_Date:t}),console.log(t)}}))),i.a.createElement(m.a,{style:Ra.boxSize2},i.a.createElement(m.a,{width:"100%",style:Wa},i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Status"),i.a.createElement(ee.a,{disabled:this.props.disabled.status,variant:"outlined",required:!0,name:"Status",value:this.state.Status,onChange:function(t){e.setState({Status:t.target.value}),"ForwardedToFinance"===t.target.value?e.setState((function(e){e.to="Finance"})):"ForwardedToPurchase"===t.target.value?e.setState((function(e){e.to="Purchase"})):e.setState((function(e){e.to="Rejected"})),console.log(e.state.to)}},this.loadStatus()))),i.a.createElement(m.a,{width:"100%",style:Wa,display:"flex",justifyContent:"space-between"},i.a.createElement(m.a,{display:"flex",width:"85%"},i.a.createElement(X.a,{disabled:this.props.disabled.comment,size:"small",multiline:!0,rowsMax:"3",variant:"outlined",fullWidth:!0,label:"Comments",value:this.state.Comments,onChange:function(t){e.setState({Comments:t.target.value})}})),i.a.createElement(m.a,{display:"flex"},i.a.createElement(O.a,{variant:"outlined",color:"secondary",size:"small",fontWeight:"Bold",onClick:function(){K.a.post("/logs/logs",{Request_Id:e.state._id}).then((function(t){console.log(t.data),e.setState({logs:t.data}),e.setState({openLog:!0})}))}},i.a.createElement(ka.a,null))))))))),i.a.createElement(m.a,{pt:2,pb:2,m:0,display:"flex",justifyContent:"space-between",width:"88%"},i.a.createElement(m.a,{display:"flex"},i.a.createElement(xa.a,{style:Ra.link,href:this.state.quotation,target:"_blank",rel:"noreferrer"},i.a.createElement(Ca.a,{color:"secondary"}),"Quotation")),i.a.createElement(m.a,{display:"flex"},i.a.createElement(m.a,null,i.a.createElement(O.a,{variant:"contained",color:"primary",size:"large",fontWeight:"Bold",onClick:function(){e.props.cancel()},style:{fontWeight:"bold"}},this.props.disabled.btnText)),i.a.createElement(m.a,{marginLeft:"10px"},i.a.createElement(O.a,{variant:"contained",color:"primary",size:"large",fontWeight:"bold",onClick:this.onEditHandler,style:{fontWeight:"bold"}},"Submit")),i.a.createElement(J.a,{open:this.state.openLog,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,null,i.a.createElement(Ma,{data:this.state.logs,cancel:function(){e.setState({openLog:!1}),e.handleClose()}}),i.a.createElement(m.a,{width:"95%",display:"flex",justifyContent:"flex-end",marginTop:"20px"},i.a.createElement(O.a,{variant:"contained",color:"primary",size:"large",onClick:function(){e.setState({openLog:!1})}},"Close")))))))}}]),t}(n.Component),qa=va,Aa={marginRight:"6px",marginLeft:"6px"},Ia=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={file:null,_id:"",Raw_Material_Id:"",Raw_Material_Code:"",Quantity:"",Measuring_Unit:"",Priority:"",Due_Date:null,Status:"",Comments:"",Total_Price:"",Vendor:"",errors:[],success:!1,measuring_units:[],materials:[],vendors:[],code:"",to:""},a.onUploadHandler=function(){var e=new FormData;console.log(a.state.file),a.state.file?(e.append("file",a.state.file),K.a.post("/request-details/upload",e,{headers:{"content-type":"multipart/form-data"}}).then((function(e){e.data&&a.onAddHandler(e.data)})).catch((function(e){console.error(e)}))):(a.setState({}),a.setState((function(e){e.errors.push("Choose a file")})),console.log(a.state.errors))},a.onAddHandler=function(e){console.log("Add:",e),K.a.post("/request-details/add",{Raw_Material_Id:a.state.Raw_Material_Id,Raw_Material_Code:a.state.Raw_Material_Code,Quantity:a.state.Quantity,Measuring_Unit:a.state.Measuring_Unit,Priority:a.state.Priority,Due_Date:a.state.Due_Date,Status:a.state.Status,Comments:a.state.Comments,Quotation_Document_URL:[e.filePath],Vendor:a.state.Vendor,Total_Price:a.state.Total_Price,Created_By:{Employee_Id:sessionStorage.getItem("User ID"),Role_Id:sessionStorage.getItem("Role ID")},logs:{from:"Admin",to:a.state.to,comments:a.state.Comments}}).then((function(e){console.log(e.data),e.data.errors.length>0?a.setState({errors:Object(F.a)(e.data.errors)}):(a.setState({errors:Object(F.a)(e.data.errors)}),a.props.cancel())})).catch((function(e){console.log(e)}))},a.loadStatus=function(){return["ForwardedToPurchase","ForwardedToFinance","Rejected"].map((function(e,t){return i.a.createElement(W.a,{key:t,value:e},e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;K.a.get("/raw-materials/raw-materials").then((function(t){console.log(t),e.setState({materials:Object(F.a)(t.data.RawMaterials)})})),K.a.get("/vendors/vendors").then((function(t){console.log(t),e.setState({vendors:Object(F.a)(t.data.Vendors)})})),K.a.get("/measuring-units/measuring-units").then((function(t){console.log(t),e.setState({measuring_units:Object(F.a)(t.data.MeasuringUnits)})}))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:qa.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Request Details"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:qa.box_msg,bgcolor:"#f73067",key:t},e)})):!0===this.state.success?i.a.createElement(m.a,{bgcolor:"#3df45b",style:qa.box_msg},"Successful"):null,i.a.createElement(m.a,{style:qa.root},i.a.createElement(m.a,{display:"flex",justifyContent:"center"},i.a.createElement(m.a,{style:qa.lbox},i.a.createElement(m.a,{style:qa.form},i.a.createElement(m.a,{style:qa.boxSize2},i.a.createElement(m.a,{width:"50%",style:Aa},i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Material Name"),i.a.createElement(ee.a,{variant:"outlined",required:!0,name:"Raw_Material_Id",value:this.state.Raw_Material_Id,onChange:function(t){var a;e.state.materials.map((function(e){return e._id===t.target.value&&(a=e.raw_material_code,console.log("code: ",a)),null})),e.setState({Raw_Material_Id:t.target.value,Raw_Material_Code:a})}},this.state.materials.map((function(e,t){return i.a.createElement(W.a,{key:t,value:e._id},e.raw_material_name)}))))),i.a.createElement(m.a,{width:"50%",style:Aa},i.a.createElement(X.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Material_Code",required:!0,name:"Material_Code",value:this.state.Raw_Material_Code,onChange:function(t){e.setState({Material_Code:t.target.value}),console.log(t.target.value)}}))),i.a.createElement(m.a,{style:qa.boxSize2},i.a.createElement(m.a,{width:"50%",style:Aa},i.a.createElement(X.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Quantity",required:!0,name:"Quantity",value:this.state.Quantity,onChange:function(t){e.setState({Quantity:t.target.value})}})),i.a.createElement(m.a,{width:"50%",style:Aa},i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Measuring Unit"),i.a.createElement(ee.a,{name:"Measuring_Unit",variant:"outlined",required:!0,value:this.state.Measuring_Unit,onChange:function(t){e.setState({Measuring_Unit:t.target.value}),console.log(t.target.value)}},this.state.measuring_units.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.measuring_unit_name)})))))),i.a.createElement(m.a,{style:qa.boxSize2},i.a.createElement(m.a,{width:"50%",style:Aa},i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Vendor Name"),i.a.createElement(ee.a,{variant:"outlined",required:!0,name:"Vendor",value:this.state.Vendor,onChange:function(t){e.setState({Vendor:t.target.value})}},this.state.vendors.map((function(e,t){return i.a.createElement(W.a,{key:t,value:e._id},e.vendor_name)}))))),i.a.createElement(m.a,{width:"50%",style:Aa},i.a.createElement(X.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Total_Price",required:!0,name:"Total_Price",value:this.state.Total_Price,onChange:function(t){e.setState({Total_Price:t.target.value})}}))),i.a.createElement(m.a,{style:qa.boxSize2},i.a.createElement(m.a,{width:"50%",style:Aa},i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Priority"),i.a.createElement(ee.a,{variant:"outlined",required:!0,name:"Priority",value:this.state.Priority,onChange:function(t){e.setState({Priority:t.target.value})}},i.a.createElement(W.a,{value:"Priority",disabled:!0},"Priority"),i.a.createElement(W.a,{value:"Low"},"Low"),i.a.createElement(W.a,{value:"Medium"},"Medium"),i.a.createElement(W.a,{value:"High"},"High")))),i.a.createElement(m.a,{width:"50%",style:Aa},i.a.createElement(ue,{id:"4",variant:"outlined",Name:"Due_Date",minDate:new Date,value:this.state.Due_Date,setDate:function(t){e.setState({Due_Date:t}),console.log(t)}}))),i.a.createElement(m.a,{style:qa.boxSize2},i.a.createElement(m.a,{width:"100%",style:Aa},i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Status"),i.a.createElement(ee.a,{variant:"outlined",required:!0,name:"Status",value:this.state.Status,onChange:function(t){e.setState({Status:t.target.value}),"ForwardedToFinance"===t.target.value?e.setState((function(e){e.to="Finance"})):"ForwardedToPurchase"===t.target.value?e.setState((function(e){e.to="Purchase"})):e.setState((function(e){e.to="Rejected"})),console.log(e.state.to)}},this.loadStatus()))),i.a.createElement(m.a,{width:"100%",style:Aa},i.a.createElement(X.a,{size:"small",multiline:!0,rowsMax:"3",variant:"outlined",fullWidth:!0,label:"Comments",value:this.state.Comments,onChange:function(t){e.setState({Comments:t.target.value}),console.log(t.target.value)}}))),i.a.createElement(m.a,{style:{display:"flex",flexDirection:"column",alignContent:"center",paddingTop:"5px",paddingLeft:"5px",paddingRight:"5px",paddingBottom:"5px",minWidth:"10%"}},i.a.createElement(m.a,{fontWeight:"bold",fontSize:"1.2vw",mb:1,ml:1,display:"flex"},"Add Quotation"),i.a.createElement(m.a,{width:"100%",style:Aa},i.a.createElement("input",{multiple:!0,id:"file",type:"file",onChange:function(t){console.log(t.target.files[0]),e.setState({file:t.target.files[0]}),console.log(e.state.file)}}))))))),i.a.createElement(m.a,{pt:2,pb:2,m:0,display:"flex",justifyContent:"flex-end",width:"87%"},i.a.createElement(m.a,{display:"flex"},i.a.createElement(O.a,{variant:"contained",color:"primary",size:"large",fontWeight:"Bold",onClick:function(){e.props.cancel()},style:{fontWeight:"bold"}},"Cancel")),i.a.createElement(m.a,{marginLeft:"10px"},i.a.createElement(O.a,{variant:"contained",color:"primary",size:"large",fontWeight:"bold",onClick:this.onUploadHandler,style:{fontWeight:"bold"}},"Submit"))))}}]),t}(n.Component),Pa=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).EditData={},a.req=[],a.state={columns:[{title:"Material",field:"Raw_Material_Name"},{title:"Quantity",field:"Quantity"},{title:"Measuring Unit",field:"Measuring_Unit_Name"},{title:"Vendor",field:"Vendor_Name"},{title:"Total Price",field:"Total_Price"},{title:"Priority",field:"Priority"},{title:"Status",field:"Status"}],data:[],openAdd:!1,openEdit:!1,openAll:!1,alert:!1,fieldDisabled:{quantity:!1,unit:!1,vendor:!1,amount:!1,status:!1,comment:!1,btnDisplay:"none",btnText:"Close"},found:!1,msg:"Fetching Data..."},a.closeAlert=function(){a.setState({alert:!1})},a.OnEditHandler=function(e,t){K.a.post("/request-details",{_id:t._id}).then((function(e){console.log(e.data[0]),a.EditData=Object(B.a)({},e.data[0]),console.log(a.EditData),a.setState({openEdit:!0})}))},a.loadRawMaterial=function(e){K.a.post("/raw-materials/raw-material",{_id:e.Raw_Material_Id}).then((function(t){e.Raw_Material_Name=t.data.RawMaterial[0].raw_material_name,a.req.push(e),a.setState({data:Object(F.a)(a.req)})})).catch((function(t){e.Raw_Material_Name="Problem Loading Raw Material",a.req.push(e),a.setState({data:Object(F.a)(a.req)})}))},a.loadMeasuringUnit=function(e){K.a.post("/measuring-units/measuring-unit",{_id:e.Measuring_Unit}).then((function(t){e.Measuring_Unit_Name=t.data.MeasuringUnit[0].measuring_unit_name,a.loadRawMaterial(e)})).catch((function(t){e.Measuring_Unit_Name="Problem Loading Measuring Unit",a.loadRawMaterial(e)}))},a.loadVendor=function(e){K.a.post("/vendors/vendor",{_id:e.Vendor}).then((function(t){e.Vendor_Name=t.data.Vendor[0].vendor_name,a.loadMeasuringUnit(e)})).catch((function(t){e.Vendor_Name="Problem Loading Vendor",a.loadMeasuringUnit(e)}))},a.handleClose=function(){a.req=[],a.setState({msg:"Fetching Data..."}),K.a.get("/request-details").then((function(e){void 0!==e.data[0]?e.data.map((function(e){return a.props.load?("Completed"!==e.Status&&(a.loadVendor(e),a.setState({found:!0})),a.state.found?a.setState({msg:"Loading...."}):a.setState({msg:"No data Found!"})):(console.log("1: ".concat(e.Created_By.Role_Id," 2:").concat(sessionStorage.getItem("Role ID"))),"ForwardedToAdmin"!==e.Status&&e.Created_By.Role_Id!==sessionStorage.getItem("Role ID")||(a.setState({found:!0}),a.loadVendor(e)),a.state.found?a.setState({msg:"Loading...."}):a.setState({msg:"No data Found!"})),a.setState({data:Object(F.a)(a.req)}),null})):a.setState({msg:"No data Found!"})}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.handleClose()}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",mb:3,fontWeight:"bold"},"Request Details"),this.props.load?null:i.a.createElement(m.a,{width:"90%",display:"flex",flexDirection:"row"},i.a.createElement(O.a,{variant:"contained",color:"primary",style:{marginBottom:"20px",display:"flex",marginRight:"10px"},size:"large",onClick:function(){e.setState({openAdd:!0})}},"Add"),i.a.createElement(O.a,{variant:"contained",color:"primary",style:{marginBottom:"20px",display:"flex",marginRight:"10px"},size:"large",onClick:function(){e.setState({openAll:!0})}},"All Requests")),i.a.createElement(Q.a,{title:" ",columns:this.state.columns,data:this.state.data,style:{width:"90%",maxHeight:"500px",overflow:"auto"},localization:{body:{emptyDataSourceMessage:this.state.msg}},options:{sorting:!0,headerStyle:{backgroundColor:"#3f51b5",color:"#FFF",fontSize:"medium",fontWeight:"bold"}},actions:[{icon:"edit",tooltip:"Edit User",onClick:function(t,a){"ForwardedToAdmin"===a.Status||"ForwardedToFinance"===a.Status||"ForwardedToPurchase"===a.Status||"Requesting"===a.Status||"Rejected"===a.Status||"Finance-Accepted"===a.Status?(e.setState({fieldDisabled:{quantity:!1,unit:!1,vendor:!1,amount:!1,status:!1,comment:!1,btnDisplay:"flex",btnText:"Cancel"}}),e.OnEditHandler(t,a)):e.setState({alert:!0})}}],onRowClick:function(t,a){e.setState({fieldDisabled:{quantity:!0,unit:!0,vendor:!0,amount:!0,status:!0,comment:!0,btnDisplay:"none",btnText:"Close"}}),e.OnEditHandler(t,a)}}),i.a.createElement(J.a,{open:this.state.openAll,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,{style:{padding:"20px"}},i.a.createElement(m.a,null,i.a.createElement(t,{load:!0}),i.a.createElement(m.a,{width:"95%",display:"flex",justifyContent:"flex-end",marginTop:"20px"},i.a.createElement(O.a,{variant:"contained",color:"primary",size:"large",onClick:function(){e.setState({openAll:!1})}},"Close"))))),i.a.createElement(J.a,{open:this.state.openEdit,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,null,i.a.createElement(za,{disabled:this.state.fieldDisabled,Purchase:this.EditData,cancel:function(){e.setState({openEdit:!1}),e.handleClose()}}))),i.a.createElement(J.a,{open:this.state.openAdd,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,null,i.a.createElement(Ia,{disabled:!1,Purchase:this.EditData,cancel:function(){e.setState({openAdd:!1}),e.handleClose()}}))),i.a.createElement(Se.a,{open:this.state.alert,autoHideDuration:3e3,anchorOrigin:{vertical:"bottom",horizontal:"center"},onClose:this.closeAlert},i.a.createElement(Ce.a,{severity:"error",variant:"filled",onClose:this.closeAlert},"You cannot modify / reject this record")))}}]),t}(n.Component),Ta=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={width:"17vw",dashboardItems:[]},a.permissions=JSON.parse(sessionStorage.getItem("permissions")),a.contents=["Purchase Requests"],a.logout=function(){E.logout()&&a.props.history.push("/")},a.home=function(){a.props.history.push("/home")},a.dashboardMin=function(){a.setState({width:".1px"})},a.dashboardMax=function(){a.setState({width:"17vw"})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;console.log(this.permissions),this.contents.map((function(t){if(e.permissions.find((function(e){return e===t}))){var a=t.toLowerCase().replace(/ /g,"-");e.setState({}),e.setState((function(e){e.dashboardItems.push({Name:t,Path:a})}))}return null}))}},{key:"render",value:function(){return i.a.createElement(m.a,null,i.a.createElement(H,{name:"Requests",logout:this.logout,home:this.home,dashboardMax:this.dashboardMax,dashboardMin:this.dashboardMin}),i.a.createElement(m.a,{display:"flex"},i.a.createElement(b,{items:this.state.dashboardItems,componentName:"home/requests",width:this.state.width,dashboardMin:this.dashboardMin}),i.a.createElement(m.a,{display:"flex",flexDirection:"column",alignItems:"center",width:"100%",marginTop:"10px"},i.a.createElement(da.b,{exact:!0,path:"/home/requests/purchase-requests",component:Pa}))))}}]),t}(n.Component),Ua=a(115),La=a(54),Ha=Ua.StyleSheet.create({page:{flexDirection:"coulmn",backgroundColor:"#fff",display:"flex",justifyContent:"center",fontSize:10,width:"100%",padding:20},section:{margin:10,padding:10,flexGrow:1}}),Na=function(e){return i.a.createElement(Ua.Document,{title:"Purchase Report ".concat((new de.a).format("DD/MM/YYYY HH:m:s"))},i.a.createElement(Ua.Page,{orientation:"landscape",size:"A4",style:Ha.page},i.a.createElement(Ua.Text,{style:{textAlign:"center"}},"Purcase Report"),i.a.createElement(Ua.View,{style:(Ha.section,{marginTop:"10"})},i.a.createElement(La.Table,{data:e.data},i.a.createElement(La.TableHeader,{fontSize:"10"},i.a.createElement(La.TableCell,{style:{padding:"5"}},"Raw Material Name"),i.a.createElement(La.TableCell,{style:{padding:"5"}},"Material Code"),i.a.createElement(La.TableCell,{style:{padding:"5"}},"Qty"),i.a.createElement(La.TableCell,{style:{padding:"5"}},"Unit"),i.a.createElement(La.TableCell,{style:{padding:"5"}},"Priority"),i.a.createElement(La.TableCell,{style:{padding:"5"}},"Status"),i.a.createElement(La.TableCell,{style:{padding:"5"}},"Vendor"),i.a.createElement(La.TableCell,{style:{padding:"5"}},"Total Price"),i.a.createElement(La.TableCell,{style:{padding:"5"}},"Created By"),i.a.createElement(La.TableCell,{style:{padding:"5"}},"Designation"),i.a.createElement(La.TableCell,{style:{padding:"5"}},"Date")),i.a.createElement(La.TableBody,{fontSize:"10"},i.a.createElement(La.DataTableCell,{style:{padding:"5"},getContent:function(e){return e.Raw_Material_Name}}),i.a.createElement(La.DataTableCell,{style:{padding:"5"},getContent:function(e){return e.Raw_Material_Code}}),i.a.createElement(La.DataTableCell,{style:{padding:"5"},getContent:function(e){return e.Quantity}}),i.a.createElement(La.DataTableCell,{style:{padding:"5",width:"10"},getContent:function(e){return e.Measuring_Unit}}),i.a.createElement(La.DataTableCell,{style:{padding:"5"},getContent:function(e){return e.Priority}}),i.a.createElement(La.DataTableCell,{style:{padding:"5"},getContent:function(e){return e.Status}}),i.a.createElement(La.DataTableCell,{style:{padding:"5"},getContent:function(e){return e.Vendor}}),i.a.createElement(La.DataTableCell,{style:{padding:"5"},getContent:function(e){return e.Total_Price}}),i.a.createElement(La.DataTableCell,{style:{padding:"5"},getContent:function(e){return e.Employee}}),i.a.createElement(La.DataTableCell,{style:{padding:"5"},getContent:function(e){return e.Role}}),i.a.createElement(La.DataTableCell,{style:{padding:"5"},getContent:function(e){return e.date}})))),i.a.createElement(Ua.View,{style:Ha.section})))},Fa=a(589),Ba=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).headers=[{label:"Raw Material Name",key:"Raw_Material_Name"},{label:"Material Code",key:"Raw_Material_Code"},{label:"Quantity",key:"Quantity"},{label:"Unit",key:"Measuring_Unit"},{label:"Priority",key:"Priority"},{label:"Status",key:"Status"},{label:"Vendor",key:"Vendor"},{label:"Total Price",key:"Total_Price"},{label:"Created By",key:"Employee"},{label:"Designation",key:"Role"},{label:"Created Date",key:"date"}],a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return i.a.createElement(Fa.CSVLink,{filename:this.props.name,headers:this.headers,data:this.props.data,style:{textDecoration:"none",backgroundColor:"#3f51b5",padding:"10px",color:"white",borderRadius:"5px"}},"Click to download")}}]),t}(n.Component),Va=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={from_date:null,to_date:null,from_due_date:null,to_due_date:null,from_quantity:"",to_quantity:"",measuring_unit:"",raw_material_id:"",raw_material_code:"",status:"",vendor:"",from_total_price:"",to_total_price:"",disabled:!1,columns:[{title:"Material Name",field:"Raw_Material_Name"},{title:"Quantity",field:"Quantity"},{title:"Vendor",field:"Vendor"},{title:"Total Price",field:"Total_Price"},{title:"Status",field:"Status"}],data:[],raw_materials:[],vendors:[],measuring_units:[],openReport:!1,openPDF:!1,openCSV:!1},a.ref=i.a.createRef(),a.onFilterHandler=function(){K.a.post("/request-details/request-details-filter",{from_date:a.state.from_date,to_date:a.state.to_date,from_due_date:a.state.from_due_date,to_due_date:a.state.to_due_date,from_quantity:a.state.from_quantity,to_quantity:a.state.to_quantity,measuring_unit:a.state.measuring_unit,raw_material_id:a.state.raw_material_id,vendor:a.state.vendor,raw_material_code:a.state.raw_material_code,status:a.state.status,from_total_price:a.state.from_total_price,to_total_price:a.state.to_total_price}).then((function(e){console.log(e.data),e.data.map((function(t){return console.log(t.Vendor),t.date=t.date.split("T"),t.date=t.date[0].split("-").reverse().join("-"),K.a.post("/raw-materials/raw-material",{_id:t.Raw_Material_Id}).then((function(n){console.log(n),t.Raw_Material_Name=n.data.RawMaterial[0].raw_material_name,a.setState({data:Object(F.a)(e.data)})})),K.a.post("/measuring-units/measuring-unit",{_id:t.Measuring_Unit}).then((function(n){console.log(n),t.Measuring_Unit=n.data.MeasuringUnit[0].measuring_unit_name,a.setState({data:Object(F.a)(e.data)})})),K.a.post("/vendors/vendor",{_id:t.Vendor}).then((function(n){n.data.Vendor?(console.log(n.data.Vendor[0].vendor_name),t.Vendor=n.data.Vendor[0].vendor_name):t.Vendor="not specified",a.setState({data:Object(F.a)(e.data)})})),K.a.post("/roles/role",{_id:t.Created_By.Role_Id}).then((function(n){n.data.Role[0]?t.Role=n.data.Role[0].role_name:t.Role="not specified",a.setState({data:Object(F.a)(e.data)})})),"not specified"!==t.Created_By.Employee_Id?(console.log(t.Created_By.Employee_Id),K.a.post("/employees/employee",{_id:t.Created_By.Employee_Id}).then((function(n){n.data.Employee[0]?(console.log(n.data.Employee[0].employee_first_name),t.Employee=n.data.Employee[0].employee_first_name):t.Employee="not specified",a.setState({data:Object(F.a)(e.data)})}))):t.Employee="not specified",null})),a.setState({data:Object(F.a)(e.data),openReport:!0}),console.log(a.state.data)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;K.a.get("/raw-materials/raw-materials").then((function(t){e.setState({raw_materials:Object(F.a)(t.data.RawMaterials)})})),K.a.get("/vendors/vendors").then((function(t){e.setState({vendors:Object(F.a)(t.data.Vendors)})})),K.a.get("/measuring-units/measuring-units").then((function(t){e.setState({measuring_units:Object(F.a)(t.data.MeasuringUnits)})}))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Purchase Report"),i.a.createElement(ne,null,i.a.createElement(m.a,{style:ie.box,alignContent:"center"},i.a.createElement(m.a,{style:ie.box_field},i.a.createElement(m.a,{style:ie.box,marginRight:"10px"},i.a.createElement(ue,{id:"1",Name:"From Requested Date",minDate:new Date("01-01-1990"),maxDate:new Date,value:this.state.from_date,setDate:function(t){t=t.startOf("day"),e.setState({from_date:t,disabled:!0})}})),i.a.createElement(m.a,{style:ie.box},i.a.createElement(ue,{disabled:null===this.state.from_date,id:"2",Name:"To Requested Date",minDate:this.state.from_date,value:this.state.to_date,setDate:function(t){t=t.endOf("day"),e.setState({to_date:t,disabled:!1})}}))),i.a.createElement(m.a,{style:ie.box_field},i.a.createElement(m.a,{style:ie.box,marginRight:"10px"},i.a.createElement(ue,{id:"1",Name:"From Due Date",minDate:new Date("01-01-1990"),value:this.state.from_due_date,setDate:function(t){t=t.startOf("day"),e.setState({from_due_date:t,disabled:!0})}})),i.a.createElement(m.a,{style:ie.box},i.a.createElement(ue,{disabled:null===this.state.from_due_date,id:"2",Name:"To Due Date",minDate:this.state.from_due_date,value:this.state.to_due_date,setDate:function(t){t=t.endOf("day"),e.setState({to_due_date:t,disabled:!1})}}))),i.a.createElement(m.a,{style:ie.box},i.a.createElement(Z.a,{size:"small",variant:"outlined",fullWidth:!0},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select Raw Material"),i.a.createElement(ee.a,{style:ie.box_field,value:this.state.raw_material_id,onChange:function(t){e.setState({raw_material_id:t.target.value})}},this.state.raw_materials.map((function(e,t){return i.a.createElement(W.a,{key:t,selected:!0,value:e._id},e.raw_material_name)}))))),i.a.createElement(m.a,{style:ie.box},i.a.createElement(Z.a,{size:"small",variant:"outlined",fullWidth:!0},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Status"),i.a.createElement(ee.a,{style:ie.box_field,name:"status",fullWidth:!0,variant:"outlined",value:this.state.status,onChange:function(t){e.setState({status:t.target.value})}},i.a.createElement(W.a,{value:"Requesting"},"Requesting"),i.a.createElement(W.a,{value:"Processing"},"Processing"),i.a.createElement(W.a,{value:"ForwardedToAdmin"},"ForwardedToAdmin"),i.a.createElement(W.a,{value:"ForwardedToFinance"},"ForwardedToFinance"),i.a.createElement(W.a,{value:"Rejected"},"Rejected")))),i.a.createElement(m.a,{style:ie.box},i.a.createElement(Z.a,{size:"small",variant:"outlined",fullWidth:!0},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select Vendors"),i.a.createElement(ee.a,{style:ie.box_field,value:this.state.vendor,onChange:function(t){e.setState({vendor:t.target.value})}},this.state.vendors.map((function(e,t){return i.a.createElement(W.a,{key:t,selected:!0,value:e._id},e.vendor_name)}))))),i.a.createElement(m.a,{style:ie.box},i.a.createElement(Z.a,{size:"small",variant:"outlined",fullWidth:!0},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select Measuring Unit"),i.a.createElement(ee.a,{style:ie.box_field,value:this.state.measuring_unit,onChange:function(t){e.setState({measuring_unit:t.target.value})}},this.state.measuring_units.map((function(e,t){return i.a.createElement(W.a,{key:t,selected:!0,value:e._id},e.measuring_unit_name)}))))),i.a.createElement(m.a,{style:ie.box_field},i.a.createElement(m.a,{style:ie.box,marginRight:"10px",marginBottom:"20px"},i.a.createElement(X.a,{size:"small",fullWidth:!0,value:this.state.from_quantity,variant:"outlined",label:"From Quantity",type:"text",onChange:function(t){e.setState({from_quantity:t.target.value,disabled:!0})}})),i.a.createElement(m.a,{style:ie.box},i.a.createElement(X.a,{disabled:""===this.state.from_quantity,size:"small",fullWidth:!0,value:this.state.to_quantity,variant:"outlined",label:"To Quantity",type:"text",onChange:function(t){e.setState({to_quantity:t.target.value}),e.setState((function(e){parseFloat(e.to_quantity)>=parseFloat(e.from_quantity)?e.disabled=!1:e.disabled=!0}))},helperText:"must be greater than From Quantity"})))),i.a.createElement(m.a,{style:ie.box_field},i.a.createElement(m.a,{style:ie.box,marginRight:"10px",marginBottom:"20px"},i.a.createElement(X.a,{size:"small",fullWidth:!0,value:this.state.from_total_price,variant:"outlined",label:"From Total Price",type:"text",onChange:function(t){e.setState({from_total_price:t.target.value,disabled:!0})}})),i.a.createElement(m.a,{style:ie.box},i.a.createElement(X.a,{disabled:""===this.state.from_total_price,size:"small",fullWidth:!0,value:this.state.to_total_price,variant:"outlined",label:"To Total Price",type:"text",onChange:function(t){e.setState({to_total_price:t.target.value}),e.setState((function(e){parseFloat(e.to_total_price)>=parseFloat(e.from_total_price)?e.disabled=!1:e.disabled=!0}))},helperText:"must be greater than from Total Price"})))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(O.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.setState({from_date:null,to_date:null,from_due_date:null,to_due_date:null,from_quantity:"",to_quantity:"",measuring_unit:"",raw_material_id:"",raw_material_code:"",status:"",vendor:"",from_total_price:"",to_total_price:"",disabled:!1})}},"Clear")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(O.a,{disabled:this.state.disabled,fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:this.onFilterHandler},"Report"))),i.a.createElement(J.a,{fullScreen:!0,maxWidth:"lg",open:this.state.openReport,fullWidth:!0},i.a.createElement(Y.a,{ref:this.ref},i.a.createElement(m.a,{fontSize:"30px",mb:3,disabled:"flex",textAlign:"center"},"Purchase Report"),i.a.createElement(m.a,{style:ie.box},i.a.createElement(Q.a,{title:"",style:{width:"95%",maxHeight:"500px",overflow:"auto"},columns:this.state.columns,data:this.state.data,options:{search:!1,draggable:!1,sorting:!0,headerStyle:{backgroundColor:"#3f51b5",color:"#FFF"},pageSize:this.state.data.length}}),i.a.createElement(m.a,{width:"95%",display:"flex",justifyContent:"flex-end",marginTop:"20px"},i.a.createElement(m.a,{marginRight:"10px"},i.a.createElement(O.a,{variant:"contained",color:"primary",size:"large",onClick:function(){e.setState({openReport:!1})}},"Close")),i.a.createElement(m.a,{marginRight:"10px"},i.a.createElement(O.a,{variant:"contained",color:"primary",size:"large",onClick:function(){e.setState({openCSV:!0})}},"Export CSV")),i.a.createElement(m.a,null,i.a.createElement(O.a,{variant:"contained",color:"primary",size:"large",onClick:function(){e.setState({openPDF:!0})}},"Export PDF")))))),i.a.createElement(J.a,{onClose:function(){e.setState({openPDF:!1})},open:this.state.openPDF,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,null,i.a.createElement(Ua.PDFViewer,{style:{minHeight:"500px"},width:"100%"},i.a.createElement(Na,{data:this.state.data})))),i.a.createElement(J.a,{onClose:function(){e.setState({openCSV:!1})},open:this.state.openCSV,maxWidth:"sm"},i.a.createElement(Y.a,null,i.a.createElement(m.a,{style:ie.box_field,flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Purchase Report CSV"),i.a.createElement(Ba,{name:"Purchase Report ".concat((new de.a).format("DD/MM/YYYY HH:m:s"),".csv"),data:this.state.data}))))))}}]),t}(n.Component),Qa=a(590),Ya=function(e){var t=Object(n.useState)("line"),a=Object(v.a)(t,2),o=a[0],l=a[1],r=i.a.useMemo((function(){return e.ChartContent}),[e.ChartContent]),s=i.a.useMemo((function(){return{type:o}}),[o]),c=i.a.useMemo((function(){return[{primary:!0,type:"ordinal",position:"bottom"},{type:"linear",position:"left"}]}),[]),d=i.a.useCallback((function(){return{transition:"all .5s ease"}}),[]),u=i.a.useCallback((function(){return{transition:"all .5s ease"}}),[]);return i.a.createElement(m.a,{style:ie.box},i.a.createElement(ne,null,i.a.createElement(m.a,{width:"900px",height:"400px",overflow:"hidden"},i.a.createElement(Qa.Chart,{data:r,series:s,axes:c,getSeriesStyle:d,getDatumStyle:u,tooltip:!0})),i.a.createElement(ee.a,{value:o,onChange:function(e){l(e.target.value)}},i.a.createElement(W.a,{value:"bar"},"Bar"),i.a.createElement(W.a,{value:"line"},"Line"),i.a.createElement(W.a,{value:"area"},"Area"))))},Ja=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).state={start_date:null,end_date:null,label:"",ProductionData:[],SalesData:[],ChartContent:[],ChartOpen:!1},a.onReportHandler=function(){a.setState({ChartContent:[],ProductionData:[],SalesData:[]}),K.a.post("/sales/sale",{start_date:a.state.start_date,end_date:a.state.end_date}).then((function(e){console.log(e.data),e.data.Sale.map((function(e){a.setState({label:"Sales"}),a.setState((function(t){t.SalesData.push([e.Product_ID+"-"+new de.a(e.Selling_Date).format("MMM-YYYY"),e.Quantity])}))})),a.setState((function(e){e.ChartContent.push({label:e.label,data:e.SalesData})})),K.a.post("/productions/production",{start_date:a.state.start_date,end_date:a.state.end_date}).then((function(e){console.log(e.data),e.data.Production.map((function(e){a.setState({label:"Production"}),a.setState((function(t){t.ProductionData.push([e.Product_ID+"-"+new de.a(e.Manufacture_Date).format("MMM-YYYY"),e.Quantity])}))})),a.setState((function(e){e.ChartContent.push({label:e.label,data:e.ProductionData})})),a.setState({ChartOpen:!0}),console.log(a.state.ChartContent)}))}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,null,i.a.createElement(m.a,{fontSize:"30px",mb:3},"Production And Sales Report"),i.a.createElement(m.a,{style:ie.box},i.a.createElement(m.a,{style:ie.box_field},i.a.createElement(ue,{id:"1",Name:"Select Start month",Req:!0,value:this.state.start_date,minDate:new Date("01-01-1990"),maxDate:new Date,setDate:function(t){e.setState({start_date:t.startOf("month")})}})),i.a.createElement(m.a,{style:ie.box_field},i.a.createElement(ue,{id:"2",Name:"Select End Month",Req:!0,value:this.state.end_date,minDate:this.state.start_date,maxDate:new de.a+2592e6,setDate:function(t){e.setState({end_date:t.endOf("month")})}})),i.a.createElement(m.a,null,i.a.createElement(O.a,{onClick:function(){e.onReportHandler()}},"Report"))),i.a.createElement(J.a,{fullWidth:!0,maxWidth:"lg",open:this.state.ChartOpen},i.a.createElement(Y.a,null,i.a.createElement(Ya,{ChartContent:this.state.ChartContent}))))}}]),t}(n.Component),Ga=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={width:"17vw",dashboardItems:[]},a.permissions=JSON.parse(sessionStorage.getItem("permissions")),a.contents=["Purchase Report","Production and Sales Report"],a.logout=function(){E.logout()&&a.props.history.push("/")},a.home=function(){a.props.history.push("/home")},a.dashboardMin=function(){a.setState({width:".1px"})},a.dashboardMax=function(){a.setState({width:"17vw"})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;console.log(this.permissions),this.contents.map((function(t){if(e.permissions.find((function(e){return e===t}))){var a=t.toLowerCase().replace(/ /g,"-");e.setState({}),e.setState((function(e){e.dashboardItems.push({Name:t,Path:a})}))}return null}))}},{key:"render",value:function(){return i.a.createElement(m.a,null,i.a.createElement(H,{name:"Reports",logout:this.logout,home:this.home,dashboardMax:this.dashboardMax,dashboardMin:this.dashboardMin}),i.a.createElement(m.a,{display:"flex"},i.a.createElement(b,{items:this.state.dashboardItems,componentName:"home/reports",width:this.state.width,dashboardMin:this.dashboardMin}),i.a.createElement(m.a,{display:"flex",flexDirection:"column",alignItems:"center",width:"100%",marginTop:"10px"},i.a.createElement(da.b,{exact:!0,path:"/home/reports/purchase-report",component:Va}),i.a.createElement(da.b,{exact:!0,path:"/home/reports/production-and-sales-report",component:Ja}))))}}]),t}(n.Component),Ka={box_field:{display:"flex",width:"100%",alignItems:"center",justifyContent:"center",marginBottom:"20px"},box:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",height:"80%"},box_msg:{marginBottom:"10px",padding:"10px",width:"90%",textAlign:"center",fontSize:"15px",textTransform:"uppercase "},icons:{fontSize:"40px",marginRight:"10px"},root:{display:"flex",flexDirection:"column",justifyContent:"center",width:"100%"},heading:{display:"flex",justifyContent:"center",width:"100%",paddingTop:"15px",paddingBottom:"25px"},lbox:{display:"flex",flexDirection:"row",justifyContent:"center",width:"100%"},form:{display:"flex",flexDirection:"column",width:"90%",justifyContent:"space-around"},boxSize2:{width:"100%",display:"flex",flexDirection:"row",alignContent:"center",paddingTop:"5px",paddingLeft:"5px",paddingRight:"5px",paddingBottom:"5px",minWidth:"10%",maxWidth:"100%"},lastboxSize2:{display:"flex",flexDirection:"row",alignContent:"center",paddingTop:"5px",paddingLeft:"15px",paddingRight:"15px",paddingBottom:"20px"},addbtns:{display:"flex",alignSelf:"center",paddingLeft:"10px",paddingRight:"10px"},addbtnl:{display:"flex",alignSelf:"flex-end",paddingLeft:"10px",paddingRight:"10px"},submit:{display:"flex",justifyContent:"flex-end",paddingTop:"20px",paddingBottom:"10px",marginRight:"60px",alignSelf:"flex-end"},add:{display:"flex",justifyContent:"flex-start",paddingTop:"20px",paddingBottom:"10px",marginRight:"60px",alignSelf:"flex-start"},paper:{overflow:"auto",width:"100%"},table:{overflow:"auto"}},Xa=function(e){return i.a.createElement(le.a,{utils:se.a},i.a.createElement(re.b,{disabled:e.disabled,size:"small",id:"date-picker-dialog".concat(e.id),label:e.Name,minDate:e.minDate,maxDate:e.maxDate,format:"DD/MM/YYYY",onChange:function(t){e.setDate(t)},value:e.value,KeyboardButtonProps:{"aria-label":"change date"},fullWidth:!0,inputVariant:"outlined",style:{marginRight:e.marginRight,marginTop:"0px",marginBottom:e.marginBottom},required:e.Req}))},Za=a(318),$a=a.n(Za),en=Ka,tn={marginRight:"6px",marginLeft:"6px"},an=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(c.a)(this,Object(d.a)(t).call(this))).state={invoice_quantity:null,unitList:[],munit:"",vendors:[],vendor:"",invoice_amount:null,invoice_date:null,invoice_document_url:[],status:"",file:[],Id:[{id:""}],a_id:"",idType:""},n.loadStatus=function(){return["ForwardedToFinance","Purchase-Accepted","Purchase-Rejected","Purchase-Inprogress","Purchase-Completed","ForwardedToProduction"].map((function(e,t){return i.a.createElement(W.a,{key:t,value:e},e)}))},n.showFile=function(){for(var e=[],t=0;t<n.state.file.length;t++)e.push(i.a.createElement(m.a,{key:t},n.state.file[t].name));return e},n.loadFile=function(){var e=[];return n.props.Purchase.Quotation_Document_URL.map((function(t,n){try{a(289)("./".concat(t)),e.push(i.a.createElement(m.a,{key:n},i.a.createElement(g.b,{to:"document",target:"_blank",onClick:function(e){e.preventDefault(),window.open(a(289)("./".concat(t)))},style:{textDecoration:"none",color:"black"}},t),i.a.createElement(Ea,{path:"document",component:!function(){var e=new Error("Cannot find module 'undefined'");throw e.code="MODULE_NOT_FOUND",e}()})))}catch(o){return e.push("File not found")}})),e},n.onSubmit=function(){if(isNaN(n.state.invoice_quantity)||null===n.state.invoice_quantity||isNaN(n.state.invoice_amount)||null===n.state.invoice_amount||""===n.state.munit||null===n.state.invoice_date||0===n.state.file.length||""===n.state.status)alert("Some fields contain invalid value!");else{for(var e=Date.now(),t=new FormData,a=0;a<n.state.file.length;a++)t.append("file",n.state.file[a],"i"+e+"-"+n.state.file[a].name);K.a.post("/files",t,{headers:{"content-type":"multipart/form-data"}}).then((function(e){K.a.post("/request-details/invoice",{_id:n.props.Purchase._id,Invoice_Quantity:n.state.invoice_quantity,Invoice_Measuring_Unit:n.state.munit,Invoice_Amount:n.state.invoice_amount,Invoice_Date:n.state.invoice_date,Invoice_Document:e.data,Id_Type:n.state.idType,Id:n.state.Id,Status:n.state.status}).then((function(e){K.a.post("/purchase-stocks/add",{Purchase_List:n.props.Purchase._id,Purchase_Id:n.props.Purchase._id,Measuring_Unit:n.props.Purchase.Measuring_Unit,Total_Quantity:e.data}).then((function(e){K.a.post("/purchase-stocks/add-production",{_id:n.props.Purchase._id,Raw_Material_Id:n.props.Purchase.Raw_Material_Id,Raw_Material_Code:n.props.Purchase.Raw_Material_Code,Quantity:n.props.Purchase.Quantity,Measuring_Unit:n.props.Purchase.Measuring_Unit,Id:n.props.Purchase._id}).then((function(e){console.log("response: ",e),n.props.closeDialog()})).catch((function(e){console.log("stock not reduced",e)}))})).catch((function(e){console.log("Stock not added",e)}))})).catch((function(e){console.log("Invoice not added",e)}))})).catch((function(e){console.log("File not added",e)}))}},n}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;K.a.get("/measuring-unit").then((function(t){e.setState({unitList:Object(F.a)(t.data.MeasuringUnits)})})),K.a.get("/vendors").then((function(t){e.setState({vendors:Object(F.a)(t.data.Vendors)})}))}},{key:"render",value:function(){var e,t=this;return i.a.createElement(m.a,{display:"flex",flexDirection:"column",alignItems:"center"},i.a.createElement(m.a,{fontSize:"30px",mb:3,fontWeight:"bold"},"Add to Stock"),i.a.createElement(m.a,{style:en.boxSize2},i.a.createElement(m.a,{width:"100%",style:tn},i.a.createElement(X.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Invoice_Quantity",required:!0,value:this.state.invoice_quantity,onChange:function(e){t.setState({invoice_quantity:e.target.value})}})),i.a.createElement(m.a,{width:"100%",style:tn},i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Measuring Unit"),i.a.createElement(ee.a,{name:"Measuring_Unit",variant:"outlined",required:!0,value:this.state.munit,onChange:function(e){t.setState({munit:e.target.value}),console.log(e.target.value)}},this.state.unitList.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.measuring_unit_name)})))))),i.a.createElement(m.a,{style:en.boxSize2},i.a.createElement(m.a,{width:"100%",style:tn},i.a.createElement(X.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Invoice_Amount",required:!0,value:this.state.invoice_amount,onChange:function(e){t.setState({invoice_amount:e.target.value})}})),i.a.createElement(m.a,{width:"100%",style:tn},i.a.createElement(ue,{id:"1",Name:"Invoice_Date",Req:"true",marginBottom:"10px",minDate:"01/01/1990",maxDate:new Date,value:this.state.invoice_date,setDate:function(e){t.setState({invoice_date:e})}}))),i.a.createElement(m.a,{style:en.boxSize2},i.a.createElement(m.a,{width:"100%",style:tn},i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Status"),i.a.createElement(ee.a,{variant:"outlined",required:!0,value:this.state.status,onChange:function(e){t.setState({status:e.target.value})}},this.loadStatus()))),i.a.createElement(m.a,{width:"100%",style:tn},i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Id Type"),i.a.createElement(ee.a,{variant:"outlined",required:!0,value:this.state.idType,onChange:function(e){t.setState({idType:e.target.value})}},i.a.createElement(W.a,{value:"Box"},"Box"),i.a.createElement(W.a,{value:"Individual"},"Individual"))))),i.a.createElement(m.a,{style:en.boxSize2},i.a.createElement(m.a,{width:"100%",style:tn,display:"flex",flexWrap:"wrap",flexDirection:"row"},this.state.Id.map((function(e,a){return i.a.createElement(m.a,{display:"flex",alignItems:"center",width:"100%"},i.a.createElement(X.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Id",required:!0,value:t.state.Id[a].id,onChange:function(e){t.setState({a_id:e.target.value}),console.log(e.target.value),t.setState((function(e){e.Id[a].id=e.a_id}))}}),t.state.Id.length===a+1?i.a.createElement(Ht.a,{color:"secondary",style:{display:"flex"},onClick:function(){t.setState({}),t.setState((function(e){e.Id.push({id:""}),console.log(e.Id)}))}}):i.a.createElement(Ft.a,{color:"secondary",style:{display:"flex"},onClick:function(){t.setState({}),t.setState((function(e){e.Id.splice(a,1),console.log(e.Id)}))}}))})).reverse())),i.a.createElement(m.a,{style:en.boxSize2},i.a.createElement(m.a,(e={display:this.props.uploadFile},Object(x.a)(e,"display","flex"),Object(x.a)(e,"flexDirection","column"),e),i.a.createElement("input",{style:{display:"none"},id:"#file2",type:"file",accept:"image/*,application/pdf",multiple:"multiple",onChange:function(e){var a=e.target.files;t.setState({file:a}),console.log("temp: ",a)}}),i.a.createElement("label",{htmlFor:"#file2"},i.a.createElement(O.a,{style:{marginLeft:"10px"},variant:"contained",component:"span",color:"default",startIcon:i.a.createElement($a.a,null)},"Upload Invoice")),i.a.createElement(m.a,{style:{marginLeft:"10px",paddingTop:"5px"}},this.showFile()),i.a.createElement(m.a,{display:this.state.invoice_document_url.length>0?"flex":"none",marginLeft:"10px",alignSelf:"center"},this.loadFile()))),i.a.createElement(m.a,{pt:2,pb:2,m:0,display:"flex",justifyContent:"flex-end",width:"87%"},i.a.createElement(m.a,{display:"flex"},i.a.createElement(O.a,{variant:"contained",color:"primary",size:"large",fontWeight:"Bold",onClick:function(){t.props.closeDialog()},style:{fontWeight:"bold"}},"Cancel")),i.a.createElement(m.a,{marginLeft:"10px"},i.a.createElement(O.a,{variant:"contained",color:"primary",size:"large",fontWeight:"bold",onClick:this.onSubmit,style:{fontWeight:"bold"}},"Submit"))))}}]),t}(n.Component),nn=Ka,on={marginRight:"6px",marginLeft:"6px"},ln=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(c.a)(this,Object(d.a)(t).call(this))).state={_id:"",Raw_Material_Id:"Raw_material_Id",Raw_Material_Code:null,Quantity:null,Measuring_Unit:"",Priority:"",Due_Date:null,Status:"",Comments:"no comments",Total_Price:null,Vendor:"",errors:[],success:!1,unitList:[],materials:[],vendorList:[],logComments:"no comments",To:"Finance",file:"",openDialog:!1,vendorInfo:!1},n.openDialog=function(){n.setState({openDialog:!0})},n.closeDialog=function(){n.setState({openDialog:!1})},n.onEditHandler=function(){n.checkTo();var t=Date.now(),a=new FormData;console.log("fileLength: ",n.state.file);for(var i=0;i<n.state.file.length;i++){n.state.file[i];a.append("file",n.state.file[i],"q"+t+"-"+n.state.file[i].name)}K.a.post("/files",a,{headers:{"content-type":"multipart/form-data"}}).then((function(t){console.log("file: ",t),K.a.post("/logs/comment",{logs:{reqId:e.Purchase._id,from:"Purchase",to:"Finance",comments:n.state.Comments}}).then((function(e){console.log("Comments: ",e),K.a.post("/request-details/edit",{_id:n.state._id,Raw_Material_Id:n.state.Raw_Material_Id,Raw_Material_Code:n.state.Raw_Material_Code,Quantity:n.state.Quantity,Measuring_Unit:n.state.Measuring_Unit,Priority:n.state.Priority,Due_Date:n.state.Due_Date,Status:n.state.Status,Comments:n.state.Comments,Vendor:n.state.Vendor,Total_Price:n.state.Total_Price,Quotation_Document_URL:t.data})})).then(n.props.cancel())})).catch((function(e){return console.log(e)}))},n.checkTo=function(){"ForwardedToProduction"===n.state.Status?n.setState({To:"Production"}):"ForwardedToFinance"===n.state.Status?n.setState({To:"Finance"}):n.setState({To:n.props.To})},n.showFile=function(){for(var e=[],t=0;t<n.state.file.length;t++)e.push(i.a.createElement(m.a,{key:t},n.state.file[t].name));return e},n.loadFile=function(){var e=[];return n.props.Purchase.Quotation_Document_URL.map((function(t,n){try{a(289)("./".concat(t)),e.push(i.a.createElement(m.a,{key:n},i.a.createElement(g.b,{to:"document",target:"_blank",onClick:function(e){e.preventDefault(),window.open(a(289)("./".concat(t)))},style:{textDecoration:"none",color:"black"}},t),i.a.createElement(Ea,{path:"document",component:!function(){var e=new Error("Cannot find module 'undefined'");throw e.code="MODULE_NOT_FOUND",e}()})))}catch(o){return e.push("File not found")}})),e},n.loadStatus=function(){return["Requesting","Finance-Accepted","Purchase-Completed","ForwardedToFinance","Purchase-Accepted","Purchase-Rejected","Purchase-Completed","ForwardedToProduction"].map((function(e,t){return i.a.createElement(W.a,{key:t,value:e,disabled:"Requesting"===e||"Finance-Accepted"===e},e)}))},n.vendorInfo=function(){var e=[];return n.state.vendorList.map((function(t,a){t._id===n.state.Vendor?(console.log("matched"),e.push(i.a.createElement(m.a,{key:a},i.a.createElement("h4",{style:{padding:"0px",margin:"0px"}},"Vendor:"),"".concat(t.vendor_name," - ").concat(t.vendor_mobile_no," - ").concat(t.vendor_email)," ",i.a.createElement("br",null),i.a.createElement("h4",{style:{padding:"0px",margin:"0px"}},"Point of contacts:"),t.vendor_point_of_contact.map((function(e,t){return i.a.createElement(m.a,{key:t},e.name+" ( "+e.designation+" ) - "+e.mobile_no)}))))):console.log("not match")})),e},n}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;K.a.get("/raw-material").then((function(t){console.log(t),e.setState({materials:Object(F.a)(t.data.RawMaterials)})})),K.a.get("/vendors/vendors").then((function(t){console.log(t),e.setState({vendorList:Object(F.a)(t.data.Vendors)})})),K.a.get("/measuring-units/measuring-units").then((function(t){console.log(t),e.setState({unitList:Object(F.a)(t.data.MeasuringUnits)})})),this.setState({_id:this.props.Purchase._id,Raw_Material_Id:this.props.Purchase.Raw_Material_Id,Raw_Material_Code:this.props.Purchase.Raw_Material_Code,Quantity:this.props.Purchase.Quantity,Measuring_Unit:this.props.Purchase.Measuring_Unit,Priority:this.props.Purchase.Priority,Due_Date:this.props.Purchase.Due_Date,Status:this.props.Purchase.Status,Comments:this.state.Comments,Vendor:this.props.Purchase.Vendor,Total_Price:this.props.Purchase.Total_Price})}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:nn.box},i.a.createElement(m.a,{fontSize:"30px",mb:3,fontWeight:"bold"},"Request Details"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:nn.box_msg,bgcolor:"#f73067",key:t},e)})):!0===this.state.success?i.a.createElement(m.a,{bgcolor:"#3df45b",style:nn.box_msg},"Successful"):null,i.a.createElement(m.a,{style:nn.root},i.a.createElement(m.a,{display:"flex",justifyContent:"center"},i.a.createElement(m.a,{style:nn.lbox},i.a.createElement(m.a,{style:nn.form},i.a.createElement(m.a,{style:nn.boxSize2},i.a.createElement(m.a,{width:"50%",style:on},i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Material Name"),i.a.createElement(ee.a,{disabled:!0,variant:"outlined",required:!0,name:"Raw_Material_Id",value:this.state.Raw_Material_Id,onChange:function(t){var a;e.state.materials.map((function(e){e._id===t.target.value&&(a=e.raw_material_code,console.log("code: ",a))})),e.setState({Raw_Material_Id:t.target.value,Raw_Material_Code:a})}},this.state.materials.map((function(e,t){return i.a.createElement(W.a,{key:t,value:e._id},e.raw_material_name)}))))),i.a.createElement(m.a,{width:"50%",style:on},i.a.createElement(X.a,{disabled:!0,size:"small",fullWidth:!0,variant:"outlined",label:"Material_Code",required:!0,value:this.state.Raw_Material_Code,onChange:function(t){e.setState({Material_Code:t.target.value}),console.log(t.target.value)}}))),i.a.createElement(m.a,{style:nn.boxSize2},i.a.createElement(m.a,{width:"50%",style:on},i.a.createElement(X.a,{disabled:this.props.disabled.quantity,size:"small",fullWidth:!0,variant:"outlined",label:"Quantity",required:!0,value:this.state.Quantity,onChange:function(t){e.setState({Quantity:t.target.value})}})),i.a.createElement(m.a,{width:"50%",style:on},i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Measuring Unit"),i.a.createElement(ee.a,{disabled:this.props.disabled.unit,name:"Measuring_Unit",variant:"outlined",required:!0,value:this.state.Measuring_Unit,onChange:function(t){e.setState({Measuring_Unit:t.target.value}),console.log(t.target.value)}},this.state.unitList.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.measuring_unit_name)})))))),i.a.createElement(m.a,{style:nn.boxSize2},i.a.createElement(m.a,{width:"50%",style:on},i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Vendor Name"),i.a.createElement(ee.a,{disabled:this.props.disabled.vendor,variant:"outlined",required:!0,name:"Vendor",value:this.state.Vendor,onChange:function(t){e.setState({Vendor:t.target.value})}},this.state.vendorList.map((function(e,t){return i.a.createElement(W.a,{key:t,value:e._id},e.vendor_name)}))))),i.a.createElement(m.a,{width:"50%",style:on},i.a.createElement(X.a,{disabled:this.props.disabled.amount,size:"small",fullWidth:!0,variant:"outlined",label:"Total_Price",required:!0,value:this.state.Total_Price,onChange:function(t){e.setState({Total_Price:t.target.value})}}))),i.a.createElement(m.a,{style:nn.boxSize2},i.a.createElement(m.a,{width:"50%",style:on},i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Priority"),i.a.createElement(ee.a,{disabled:!0,variant:"outlined",required:!0,name:"Priority",value:this.props.Purchase.Priority},i.a.createElement(W.a,{value:"Priority",disabled:!0},"Priority"),i.a.createElement(W.a,{value:"Low"},"Low"),i.a.createElement(W.a,{value:"Medium"},"Medium"),i.a.createElement(W.a,{value:"High"},"High")))),i.a.createElement(m.a,{width:"50%",style:on},i.a.createElement(Xa,{disabled:!0,id:"4",variant:"outlined",Name:"Due_Date",value:this.state.Due_Date,setDate:function(t){e.setState({Due_Date:t}),console.log(t)}}))),i.a.createElement(m.a,{style:nn.boxSize2},i.a.createElement(m.a,{width:"100%",style:on},i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Status"),i.a.createElement(ee.a,{disabled:this.props.disabled.status,variant:"outlined",required:!0,name:"Status",value:this.state.Status,onChange:function(t){e.setState({Status:t.target.value})}},this.loadStatus()))),i.a.createElement(m.a,{width:"100%",style:on,display:"flex",flexDirection:"column"},i.a.createElement(X.a,{disabled:this.props.disabled.comment,size:"small",multiline:!0,rowsMax:"3",variant:"outlined",fullWidth:!0,label:"Comment",value:this.state.Comments,onChange:function(t){e.setState({Comments:t.target.value}),console.log(t.target.value)}}))),i.a.createElement(m.a,{style:nn.boxSize2},i.a.createElement(m.a,Object(x.a)({width:"100%",display:this.props.uploadFile},"display","flex"),i.a.createElement("input",{style:{display:"none"},accept:"image/*,application/pdf",id:"#file",type:"file",multiple:"multiple",onChange:function(t){e.setState({file:t.target.files}),console.log("temp: ",e.state.file)}}),i.a.createElement(m.a,{display:"flex",flexDirection:"column"},i.a.createElement("label",{htmlFor:"#file"},i.a.createElement(O.a,{style:{display:this.props.uploadFile,marginLeft:"10px"},variant:"contained",component:"span",color:"default",startIcon:i.a.createElement($a.a,null)},"Upload Quotation")),i.a.createElement(m.a,{style:{marginLeft:"10px",paddingTop:"5px"}},this.showFile())),i.a.createElement(m.a,{display:this.props.Purchase.Quotation_Document_URL.length>0?"flex":"none",marginLeft:"10px",alignSelf:"center"},this.loadFile()))))))),i.a.createElement(m.a,{pt:2,pb:2,m:0,display:"flex",justifyContent:"flex-end",width:"87%"},i.a.createElement(m.a,{display:"flex"},i.a.createElement(O.a,{variant:"contained",color:"primary",size:"large",fontWeight:"Bold",onClick:function(){e.props.cancel()},style:{fontWeight:"bold"}},this.props.disabled.btnText)),i.a.createElement(m.a,{marginLeft:"10px",display:""!==this.state.Vendor?"flex":"none"},i.a.createElement(O.a,{variant:"contained",color:"primary",size:"large",fontWeight:"bold",onClick:function(){e.setState({vendorInfo:!0}),e.openDialog()},style:{fontWeight:"bold"}},"Vendor Info")),i.a.createElement(m.a,{marginLeft:"10px",display:"Finance-Accepted"===this.props.Purchase.Status?"flex":"none"},i.a.createElement(O.a,{variant:"contained",color:"primary",size:"large",fontWeight:"bold",onClick:function(){e.setState({vendorInfo:!1}),e.openDialog()},style:{fontWeight:"bold"}},"Add Stock")),i.a.createElement(m.a,{marginLeft:"10px",display:this.props.disabled.btnDisplay},i.a.createElement(O.a,{variant:"contained",color:"primary",size:"large",fontWeight:"bold",onClick:this.onEditHandler,style:{fontWeight:"bold"}},"Submit"))),i.a.createElement(J.a,{open:this.state.openDialog,onBackdropClick:function(){return!0===e.state.vendorInfo?e.closeDialog():i.a.createElement(m.a,null)},maxWidth:"sm",fullWidth:!0},i.a.createElement(Y.a,null,!0===this.state.vendorInfo?i.a.createElement(m.a,{display:"flex",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"25px",mb:3,textAlign:"center",fontWeight:"bold"},"Vendor Information"),this.vendorInfo()):i.a.createElement(an,{Purchase:this.props.Purchase,closeDialog:this.closeDialog,upload:this.props.uploadFile}))))}}]),t}(n.Component),rn=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).EditData={},a.state={columns:[{title:"Material Name",field:"Raw_Material_Id"},{title:"Quantity",field:"Quantity"},{title:"Measuring Unit",field:"Measuring_Unit"},{title:"Status",field:"Status"},{title:"Comments",field:"Comments"}],data:[],openAdd:!1,openEdit:!1,alert:!1,vendorList:[],unitList:[],materialList:[],fieldDisabled:{quantity:!1,unit:!1,vendor:!1,amount:!1,status:!1,comment:!1,btnDisplay:"none",btnText:"Close",from:"",to:"",uploadFile:"flex"},logComments:"",temp:[]},a.closeAlert=function(){a.setState({alert:!1})},a.OnEditHandler=function(e,t){K.a.post("/request-details",{_id:t._id}).then((function(e){a.EditData=Object(B.a)({},e.data[0]),a.setState({openEdit:!0})}))},a.getMaterialName=function(e){var t=e;return a.state.materialList.map((function(a){a._id===e&&(t=a.raw_material_name)})),t},a.getUnit=function(e){var t=e;return a.state.unitList.map((function(a){a._id===e&&(t=a.measuring_unit_name)})),t},a.getVendor=function(e){var t=e;return""!==e?a.state.vendorList.map((function(a){a._id===e&&(t=a.vendor_name)})):t="undefined",t},a.handleClose=function(){K.a.get("/raw-materials/raw-materials").then((function(e){a.setState({materialList:Object(F.a)(e.data.RawMaterials)})})).catch((function(e){console.log("cannot get materialList",e)})),K.a.get("/measuring-units/measuring-units").then((function(e){a.setState({unitList:Object(F.a)(e.data.MeasuringUnits)})})).catch((function(e){console.log("cannot get unitList",e)})),K.a.get("vendors/vendors").then((function(e){a.setState({vendorList:Object(F.a)(e.data.Vendors)})})).catch((function(e){console.log("cannot get vendorList",e)})),K.a.get("/request-details").then((function(e){var t=[];console.log("Details: ",e.data);for(var n=0;n<e.data.length;n++)e.data[n].Raw_Material_Id=a.getMaterialName(e.data[n].Raw_Material_Id),e.data[n].Measuring_Unit=a.getUnit(e.data[n].Measuring_Unit),e.data[n].Vendor=a.getVendor(e.data[n].Vendor),t.push(e.data[n]);a.setState({data:t})}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.handleClose()}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",mb:3,fontWeight:"bold"},"Request Details"),i.a.createElement(m.a,{width:"90%",display:"flex",flexDirection:"row"},i.a.createElement(Q.a,{title:" ",columns:this.state.columns,data:this.state.data,style:{width:"100%",maxHeight:"500px",overflow:"auto"},options:{sorting:!0,headerStyle:{backgroundColor:"#3f51b5",color:"#FFF",fontSize:"medium",fontWeight:"bold"}},actions:[{icon:"edit",tooltip:"Edit User",onClick:function(t,a){"Requesting"===a.Status||"ForwardedToPurchase"===a.Status||"Finance-Accepted"===a.Status?"Finance-Accepted"===a.Status?(e.setState({logComments:a.Comments,from:a.From,to:a.To,uploadFile:"none",fieldDisabled:{quantity:!0,unit:!0,vendor:!0,amount:!0,status:!0,comment:!0,btnDisplay:"none",btnText:"Close"}}),e.OnEditHandler(t,a)):(e.setState({logComments:a.Comments,from:a.From,to:a.To,uploadFile:"flex",fieldDisabled:{quantity:!1,unit:!1,vendor:!1,amount:!1,status:!1,comment:!1,btnDisplay:"flex",btnText:"Cancel"}}),e.OnEditHandler(t,a)):e.setState({alert:!0})}}],onRowClick:function(t,a){e.setState({logComments:a.Comments,from:a.From,to:a.To,uploadFile:"none",fieldDisabled:{quantity:!0,unit:!0,vendor:!0,amount:!0,status:!0,comment:!0,btnDisplay:"none",btnText:"Close"}}),e.OnEditHandler(t,a)}})),i.a.createElement(J.a,{open:this.state.openEdit,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,{style:{padding:"20px"}},i.a.createElement(ln,{disabled:this.state.fieldDisabled,dept:"Purchase",uploadFile:this.state.uploadFile,From:this.state.from,To:this.state.to,logComments:this.state.logComments,Purchase:this.EditData,cancel:function(){e.setState({openEdit:!1}),e.handleClose()}}))),i.a.createElement(Se.a,{open:this.state.alert,autoHideDuration:3e3,anchorOrigin:{vertical:"bottom",horizontal:"center"},onClose:this.closeAlert},i.a.createElement(Ce.a,{severity:"error",variant:"filled",onClose:this.closeAlert},"You cannot modify / reject this record")))}}]),t}(n.Component),sn=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).EditData={},a.state={columns:[{title:"Material Code",field:"Raw_Material_Code"},{title:"Material Name",field:"Raw_Material_Id"},{title:"Quantity",field:"Total_Quantity"},{title:"Measuring Unit",field:"Measuring_Unit"}],data:[],materialList:[],unitList:[],reqDetails:[],stockDetails:[]},a.getMaterialDetails=function(e,t){var n=e;return"name"===t?a.state.materialList.map((function(t){t._id===e&&(console.log("name called"),n=t.raw_material_name)})):a.state.materialList.map((function(t){t._id===e&&(console.log("code called"),n=t.raw_material_code)})),n},a.getUnit=function(e){var t=e;return a.state.unitList.map((function(a){a._id===e&&(t=a.measuring_unit_name)})),t},a.getDetails=function(e,t){var n=e;return console.log("reqdetails:",a.state.reqDetails),a.state.reqDetails.map((function(i){i._id===e&&(n=a.getMaterialDetails(i.Raw_Material_Id,t))})),n},a.getFullDetails=function(e){var t=[];return console.log("fulldetails called"),a.state.reqDetails.map((function(a){a._id===e&&(t=a)})),t},a.loadDetails=function(){var e=[];console.log("fulldetails: ",a.state.stockDetails);for(var t=0;t<a.state.stockDetails[0].stock.length;t++)a.state.stockDetails[0].stock[t].Purchase_List.map((function(t){var n=a.getFullDetails(t);console.log(t),e.push(n)}));a.setState({data:e})},a.callDetails=function(){K.a.get("/raw-material").then((function(e){a.setState({materialList:Object(F.a)(e.data.RawMaterials)})})).catch((function(e){console.log("cannot get materialList",e)})),K.a.get("/measuring-unit").then((function(e){a.setState({unitList:Object(F.a)(e.data.MeasuringUnits)})})).catch((function(e){console.log("cannot get unitList",e)})),K.a.get("/request-details").then((function(e){a.setState({reqDetails:Object(F.a)(e.data)}),K.a.get("/purchase-stocks").then((function(e){var t=[];console.log("Stocks: ",e.data.stock);for(var n=0;n<e.data.stock.length;n++)e.data.stock[n].Raw_Material_Id=a.getDetails(e.data.stock[n].Purchase_Id,"name"),e.data.stock[n].Raw_Material_Code=a.getDetails(e.data.stock[n].Purchase_Id,"code"),e.data.stock[n].Measuring_Unit=a.getUnit(e.data.stock[n].Measuring_Unit),console.log("rm: ",e.data.stock[n].Total_Quantity),t.push(e.data.stock[n]);a.setState({data:t,stockDetails:[e.data]})}))})).catch((function(e){console.log("cannot get reqDetails",e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.callDetails()}},{key:"render",value:function(){return i.a.createElement(m.a,{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",mb:8,fontWeight:"bold "},"Raw Material Stock Details"),i.a.createElement(m.a,{width:"90%",display:"flex",flexDirection:"row"},i.a.createElement(Q.a,{title:" ",columns:this.state.columns,data:this.state.data,style:{width:"100%",overflow:"auto",alignItems:"left"},options:{sorting:!0,headerStyle:{backgroundColor:"#3f51b5",color:"#FFF",fontSize:"medium",fontWeight:"bold"}}})))}}]),t}(n.Component),cn={box_field:{display:"flex",width:"100%",alignItems:"center",justifyContent:"center",marginBottom:"20px"},box:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",height:"80%"},box_msg:{marginBottom:"10px",padding:"10px",width:"90%",textAlign:"center",fontSize:"15px",textTransform:"uppercase "},icons:{fontSize:"40px",marginRight:"10px"},root:{display:"flex",flexDirection:"column",justifyContent:"center",width:"100%"},heading:{display:"flex",justifyContent:"center",width:"100%",paddingTop:"15px",paddingBottom:"25px"},lbox:{display:"flex",flexDirection:"row",justifyContent:"center",width:"100%"},form:{display:"flex",flexDirection:"column",width:"90%",justifyContent:"space-around"},boxSize2:{width:"100%",display:"flex",flexDirection:"row",alignContent:"center",paddingTop:"5px",paddingLeft:"5px",paddingRight:"5px",paddingBottom:"5px",minWidth:"10%",maxWidth:"100%"},lastboxSize2:{display:"flex",flexDirection:"row",alignContent:"center",paddingTop:"5px",paddingLeft:"15px",paddingRight:"15px",paddingBottom:"20px"},addbtns:{display:"flex",alignSelf:"center",paddingLeft:"10px",paddingRight:"10px"},addbtnl:{display:"flex",alignSelf:"flex-end",paddingLeft:"10px",paddingRight:"10px"},submit:{display:"flex",justifyContent:"flex-end",paddingTop:"20px",paddingBottom:"10px",marginRight:"60px",alignSelf:"flex-end"},add:{display:"flex",justifyContent:"flex-start",paddingTop:"20px",paddingBottom:"10px",marginRight:"60px",alignSelf:"flex-start"},paper:{overflow:"auto",width:"100%"},table:{overflow:"auto"}},dn=function(e){return i.a.createElement(le.a,{utils:se.a},i.a.createElement(re.b,{disabled:e.disabled,size:"small",id:"date-picker-dialog".concat(e.id),label:e.Name,minDate:e.minDate,maxDate:e.maxDate,format:"DD/MM/YYYY",onChange:function(t){e.setDate(t)},value:e.value,KeyboardButtonProps:{"aria-label":"change date"},fullWidth:!0,inputVariant:"outlined",style:{marginRight:e.marginRight,marginTop:"0px",marginBottom:e.marginBottom},required:e.Req}))},un=cn,mn={marginRight:"6px",marginLeft:"6px"},pn=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={Raw_Material_Id:"",Quantity:"",raw_material_code:"",Id_Type:"",Id:[{id:""}],Measuring_Unit:"",Wastage_Date:null,Description:"",errors:[],openAdd:!1,success:!1,materials:[],measuring_units:[],a_id:""},a.onAddHandler=function(){console.log("Ready to add"),K.a.post("/purchase-wastages/add",{Raw_Material_Id:a.state.Raw_Material_Id,Quantity:a.state.Quantity,Product_ID:a.state.Product_ID,Raw_Material_Code:a.state.raw_material_code,Id_Type:a.state.Id_Type,Id:a.state.Id,Measuring_Unit:a.state.Measuring_Unit,Wastage_Date:a.state.Wastage_Date,Description:a.state.Description}).then((function(e){console.log(e),a.props.cancel()}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;K.a.get("/raw-material").then((function(t){console.log(t),e.setState({materials:Object(F.a)(t.data.RawMaterials)})})),K.a.get("/measuring-unit").then((function(t){console.log(t),e.setState({measuring_units:Object(F.a)(t.data.MeasuringUnits)})}))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:un.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Add Wastage"),i.a.createElement(m.a,{style:un.root},i.a.createElement(m.a,{display:"flex",justifyContent:"center"},i.a.createElement(m.a,{style:un.lbox},i.a.createElement(m.a,{style:un.form},i.a.createElement(m.a,{style:un.boxSize2},i.a.createElement(m.a,{width:"50%",style:mn},i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Material Name"),i.a.createElement(ee.a,{variant:"outlined",required:!0,name:"Raw_Material_Id",value:this.state.Raw_Material_Id,onChange:function(t){var a,n;e.state.materials.map((function(e){e._id===t.target.value&&(a=e.raw_material_code,n=e.raw_material_measuring_unit,console.log("code: ",a))})),e.setState({Raw_Material_Id:t.target.value,raw_material_code:a,Measuring_Unit:n})}},this.state.materials.map((function(e,t){return i.a.createElement(W.a,{key:t,value:e._id},e.raw_material_name)}))))),i.a.createElement(m.a,{width:"50%",style:mn},i.a.createElement(X.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Quantity",required:!0,name:"Quantity",value:this.state.Quantity,onChange:function(t){e.setState({Quantity:t.target.value})}}))),i.a.createElement(m.a,{style:un.boxSize2},i.a.createElement(m.a,{width:"50%",style:mn},i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Id Type"),i.a.createElement(ee.a,{variant:"outlined",required:!0,name:"Id_Type",value:this.state.Id_Type,onChange:function(t){e.setState({Id_Type:t.target.value})}},i.a.createElement(W.a,{value:"Id Type",disabled:!0},"Id Type"),i.a.createElement(W.a,{value:"Individual"},"Individual"),i.a.createElement(W.a,{value:"Box"},"Box")))),i.a.createElement(m.a,{width:"50%",style:mn},i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Measuring Unit"),i.a.createElement(ee.a,{name:"Measuring_Unit",variant:"outlined",required:!0,value:this.state.Measuring_Unit,onChange:function(t){e.setState({Measuring_Unit:t.target.value}),console.log(t.target.value)}},this.state.measuring_units.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.measuring_unit_name)})))))),i.a.createElement(m.a,{style:un.boxSize2},i.a.createElement(m.a,{width:"100%",maxHeight:"100px",style:mn,flexDirection:"row",display:"flex",flexWrap:"wrap",overflow:"auto"},this.state.Id.map((function(t,a){return i.a.createElement(m.a,{display:"flex",width:"33.33%",pt:1},i.a.createElement(X.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Id",required:!0,name:"Id",value:e.state.Id[a].id,onChange:function(t){e.setState({a_id:t.target.value}),console.log(t.target.value),e.setState((function(e){e.Id[a].id=e.a_id,console.log("====",e.Id[a])}))}}),e.state.Id.length===a+1?i.a.createElement(Ht.a,{color:"secondary",style:{fontSize:"30px",margin:"4px",padding:"0px"},onClick:function(){e.setState({}),e.setState((function(e){e.Id.push({id:""}),console.log(e.Id)}))}}):i.a.createElement(Ft.a,{color:"secondary",style:{fontSize:"30px",padding:"0px",margin:"4px"},onClick:function(){e.setState({}),e.setState((function(e){e.Id.splice(a,1),console.log(e.Id)}))}}))})).reverse())),i.a.createElement(m.a,{style:un.boxSize2},i.a.createElement(m.a,{width:"100%",style:mn},i.a.createElement(dn,{id:"4",variant:"outlined",Name:"Wastage Date",value:this.state.Wastage_Date,setDate:function(t){e.setState({Wastage_Date:t}),console.log(t)}}))),i.a.createElement(m.a,{style:un.boxSize2},i.a.createElement(m.a,{width:"100%",style:mn},i.a.createElement(X.a,{multiline:!0,rowsMax:"3",variant:"outlined",fullWidth:!0,label:"Reasons",size:"small",value:this.state.Description,onChange:function(t){e.setState({Description:t.target.value}),console.log(t.target.value)}}))))))),i.a.createElement(m.a,{display:" flex",pt:2,pb:2,m:0,justifyContent:"flex-end",width:"87%"},i.a.createElement(m.a,{display:" flex"},i.a.createElement(O.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",style:{fontWeight:"bold"},onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{marginLeft:"10px"},i.a.createElement(O.a,{fullWidth:!0,variant:"contained",color:"primary",style:{fontWeight:"bold"},size:"large",onClick:function(){e.onAddHandler()}},"Submit"))))}}]),t}(n.Component),hn=cn,fn={marginRight:"6px",marginLeft:"6px"},gn=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={_id:"",Product_Name:"",Raw_Material_Id:"",Quantity:"",Raw_Material_Code:"",Id_Type:"",Id:[{id:""}],Measuring_Unit:"",Wastage_Date:"",Description:"",errors:[],materials:[],products:[],measuring_units:[],A_Id:""},a.onEditHandler=function(){K.a.post("/wastage/edit",{_id:a.state._id,Wastage_Type:a.state.Wastage_Type,Product_Name:a.state.Product_Name,Raw_Material_Id:a.state.Raw_Material_Id,Quantity:a.state.Quantity,Product_ID:a.state.Product_ID,Raw_Material_Code:a.state.Raw_Material_Code,Id_Type:a.state.Id_Type,Id:a.state.Id,Measuring_Unit:a.state.Measuring_Unit,Wastage_Date:a.state.Wastage_Date,Description:a.state.Description}).then((function(e){console.log(e.data),a.props.cancel()})).catch((function(e){return console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;K.a.get("/measuring-unit").then((function(t){console.log(t),e.setState({measuring_units:Object(F.a)(t.data.MeasuringUnits)})})),K.a.get("/raw-material").then((function(t){console.log(t),e.setState({materials:Object(F.a)(t.data.RawMaterials),Raw_Material_Id:e.props.wastage.Raw_Material_Id})})),this.setState({Wastage_Type:this.props.wastage.Wastage_Type,Quantity:this.props.wastage.Quantity,Product_ID:this.props.wastage.Product_ID,Raw_Material_Code:this.props.wastage.raw_material_code,Id_Type:this.props.wastage.Id_Type,Id:this.props.wastage.Id,Measuring_Unit:this.props.wastage.Measuring_Unit,Wastage_Date:this.props.wastage.Wastage_Date,Description:this.props.wastage.Description,_id:this.props.wastage._id})}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:hn.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Edit Wastage"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:hn.box_msg,bgcolor:"#f73067",key:t},e)})):!0===this.state.success?i.a.createElement(m.a,{bgcolor:"#3df45b",style:hn.box_msg},"Successful"):null,i.a.createElement(m.a,{style:hn.root},i.a.createElement(m.a,{display:"flex",justifyContent:"center"},i.a.createElement(m.a,{style:hn.lbox},i.a.createElement(m.a,{style:hn.form},i.a.createElement(m.a,{style:hn.boxSize2},i.a.createElement(m.a,{width:"50%",style:fn},i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Material Name"),i.a.createElement(ee.a,{disabled:this.props.disabled.Raw_Material_Id,variant:"outlined",required:!0,name:"Raw_Material_Id",value:this.state.Raw_Material_Id,onChange:function(t){var a;e.state.materials.map((function(e){e._id===t.target.value&&(a=e.raw_material_code,console.log("code: ",a))})),e.setState({Raw_Material_Id:t.target.value,Raw_Material_Code:a})}},this.state.materials.map((function(e,t){return i.a.createElement(W.a,{key:t,value:e._id},e.raw_material_name)}))))),i.a.createElement(m.a,{width:"50%",style:fn},i.a.createElement(X.a,{disabled:this.props.disabled.Quantity,size:"small",fullWidth:!0,variant:"outlined",label:"Quantity",required:!0,name:"Quantity",value:this.state.Quantity,onChange:function(t){e.setState({Quantity:t.target.value})}}))),i.a.createElement(m.a,{style:hn.boxSize2},i.a.createElement(m.a,{width:"50%",style:fn},i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Id Type"),i.a.createElement(ee.a,{disabled:this.props.disabled.Id_Type,variant:"outlined",required:!0,name:"Id_Type",value:this.state.Id_Type,onChange:function(t){e.setState({Id_Type:t.target.value})}},i.a.createElement(W.a,{value:"Id Type",disabled:!0},"Id Type"),i.a.createElement(W.a,{value:"Individual"},"Individual"),i.a.createElement(W.a,{value:"Box"},"Box")))),i.a.createElement(m.a,{width:"50%",style:fn},i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Measuring Unit"),i.a.createElement(ee.a,{disabled:this.props.disabled.Measuring_Unit,name:"Measuring_Unit",variant:"outlined",required:!0,value:this.state.Measuring_Unit,onChange:function(t){e.setState({Measuring_Unit:t.target.value})}},this.state.measuring_units.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.measuring_unit_name)})))))),i.a.createElement(m.a,{style:hn.boxSize2},i.a.createElement(m.a,{width:"100%",style:fn,flexDirection:"row",display:"flex",flexWrap:"wrap",overflow:"auto",maxHeight:"100px"},this.state.Id.map((function(t,a){return i.a.createElement(m.a,{display:"flex",width:"33.33%",pt:1},i.a.createElement(X.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Id",required:!0,name:"Id",value:e.state.Id[a].id,disabled:e.props.disabled.Id,onFocus:function(){console.log("wiiid:",e.state.Id[a].Id)},onChange:function(t){e.setState({A_Id:t.target.value}),console.log(t.target.value),e.setState((function(e){e.Id[a].id=e.A_Id,console.log(e.Id[a])}))}}),e.state.Id.length===a+1?i.a.createElement(Ht.a,{color:"secondary",style:{fontSize:"30px",margin:"4px",padding:"0px"},onClick:function(){e.setState({}),e.setState((function(e){e.Id.push({id:""}),console.log(e.Id)}))}}):i.a.createElement(Ft.a,{color:"secondary",style:{fontSize:"30px",margin:"4px",padding:"0px"},onClick:function(){e.setState({}),e.setState((function(e){e.Id.splice(a,1),console.log(e.Id)}))}}))})).reverse())),i.a.createElement(m.a,{style:hn.boxSize2},i.a.createElement(m.a,{width:"100%",style:fn},i.a.createElement(dn,{disabled:this.props.disabled.Wastage_Date,id:"4",variant:"outlined",name:"Wastage Date",value:this.state.Wastage_Date,onChange:function(t){e.setState({Wastage_Date:t.target.value})}}))),i.a.createElement(m.a,{style:hn.boxSize2},i.a.createElement(m.a,{style:fn,display:"flex",alignItems:"center",width:"100%"},i.a.createElement(X.a,{disabled:this.props.disabled.Description,size:"small",multiline:!0,rowsMax:"3",variant:"outlined",fullWidth:!0,label:"Reasons",value:this.state.Description,onChange:function(t){e.setState({Description:t.target.value})}}))))))),i.a.createElement(m.a,{display:" flex",pt:2,pb:2,m:0,justifyContent:"flex-end",width:"87%"},i.a.createElement(m.a,{display:" flex"},i.a.createElement(O.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",style:{fontWeight:"bold"},onClick:function(){e.props.cancel()}},"close")),i.a.createElement(m.a,{marginLeft:"10px",display:this.props.disabled.btnDisplay},i.a.createElement(O.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",fontWeight:"bold",onClick:this.onEditHandler},"Update"))))}}]),t}(n.Component),_n=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).EditData={},a.state={columns:[{title:"Material Name",field:"Item_Name"},{title:"Quantity",field:"Quantity"},{title:"Measuring Unit",field:"Measuring_Unit"}],data:[],openAdd:!1,openEdit:!1,fieldDisabled:{Wastage_Type:!1,Product_Name:!1,Raw_Material_Id:!1,Quantity:!1,Id_Type:!1,Id:!1,Measuring_Unit:!1,Wastage_Date:!1,Description:!1,btnDisplay:"none",btnText:"Close"}},a.OnEditHandler=function(e,t){K.a.post("/purchase-wastages",{_id:t._id}).then((function(e){a.EditData=Object(B.a)({},e.data[0]),console.log(a.EditData),a.setState({openEdit:!0})}))},a.handleClose=function(){K.a.get("/purchase-wastages").then((function(e){console.log(e.data);for(var t=function(t){e.data[t].id=t+1,K.a.post("/measuring-unit",{_id:e.data[t].Measuring_Unit}).then((function(n){console.log(n),n.data.MeasuringUnit[0]?(console.log(n.data.MeasuringUnit[0].measuring_unit_name),e.data[t].Measuring_Unit=n.data.MeasuringUnit[0].measuring_unit_name,a.setState({data:Object(F.a)(e.data)})):(e.data[t].Measuring_Unit="problem loading Measuring Unit",a.setState({data:Object(F.a)(e.data)}))})),K.a.post("/raw-material",{_id:e.data[t].Raw_Material_Id}).then((function(n){console.log(n),n.data.RawMaterial[0]?(console.log(n.data.RawMaterial[0].raw_material_name),e.data[t].Item_Name=n.data.RawMaterial[0].raw_material_name,a.setState({data:Object(F.a)(e.data)})):(e.data[t].Item_Name="problem loading",a.setState({data:Object(F.a)(e.data)}))}))},n=0;n<e.data.length;n++)t(n)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.handleClose()}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",mb:3,fontWeight:"bold"},"Wastage Details"),i.a.createElement(m.a,{width:"90%",display:"flex",flexDirection:"row"},i.a.createElement(O.a,{variant:"contained",color:"primary",style:{marginBottom:"20px",display:"flex",marginRight:"10px",fontWeight:"bold"},size:"large",onClick:function(){e.setState({openAdd:!0})}},"Add")),i.a.createElement(Q.a,{title:" ",columns:this.state.columns,data:this.state.data,style:{width:"90%",maxHeight:"500px",overflow:"auto"},options:{sorting:!0,headerStyle:{backgroundColor:"#3f51b5",color:"#FFF",fontSize:"medium",fontWeight:"bold"}},onRowClick:function(t,a){e.setState({fieldDisabled:{Wastage_Type:!0,Product_Name:!0,Raw_Material_Id:!0,Quantity:!0,Id_Type:!0,Id:!0,Measuring_Unit:!0,Wastage_Date:!0,Description:!0,btnDisplay:"none",btnText:"Close"}}),e.OnEditHandler(t,a)}}),i.a.createElement(J.a,{open:this.state.openAdd,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,null,i.a.createElement(pn,{cancel:function(){e.setState({openAdd:!1}),e.handleClose()}}))),i.a.createElement(J.a,{open:this.state.openEdit,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,null,i.a.createElement(gn,{disabled:this.state.fieldDisabled,wastage:this.EditData,cancel:function(){e.setState({openEdit:!1}),e.handleClose()}}))))}}]),t}(n.Component),yn=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={width:"17vw",dashboardItems:[]},a.permissions=JSON.parse(sessionStorage.getItem("permissions")),a.contents=["Manage Purchase","Manage Purchase Stocks","Manage Purchase Wastages"],a.logout=function(){E.logout()&&a.props.history.push("/")},a.dashboardMin=function(){a.setState({width:".1px"})},a.home=function(){a.props.history.push("/home")},a.dashboardMax=function(){a.setState({width:"17vw"})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.contents.map((function(t){if(e.permissions.find((function(e){return e===t}))){var a=t.toLowerCase().replace(/ /g,"-");e.setState({}),e.setState((function(e){e.dashboardItems.push({Name:t,Path:a})}))}return null}))}},{key:"render",value:function(){return i.a.createElement(m.a,null,i.a.createElement(H,{name:"Purchase",logout:this.logout,home:this.home,dashboardMax:this.dashboardMax,dashboardMin:this.dashboardMin}),i.a.createElement(m.a,{display:"flex"},i.a.createElement(b,{items:this.state.dashboardItems,componentName:"home/purchase",width:this.state.width,dashboardMin:this.dashboardMin}),i.a.createElement(m.a,{display:"flex",flexDirection:"column",alignItems:"center",width:"100%",marginTop:"10px"},i.a.createElement(da.b,{exact:!0,path:"/home/purchase/manage-purchase",component:rn}),i.a.createElement(da.b,{exact:!0,path:"/home/purchase/manage-purchase-stocks",component:sn}),i.a.createElement(da.b,{exact:!0,path:"/home/purchase/manage-purchase-wastages",component:_n}))))}}]),t}(n.Component),bn=ie,En=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={code_prefix:"",code_separator:"",errors:[],success:!1},a.onEditHandler=function(){K.a.post("/product-code/edit-product-code",{_id:"5e61d45fa171c936c86002fb",code_prefix:a.state.code_prefix,code_separator:a.state.code_separator}).then((function(e){console.log(e),e.data.errors.length>0?(console.log(e.data.errors),a.setState({errors:Object(F.a)(e.data.errors),success:!1})):a.setState({errors:Object(F.a)(e.data.errors),success:!0})})).catch((function(e){return console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;oe(this.props,"Product Code")&&K.a.post("/product-code/product-code",{_id:"5e61d45fa171c936c86002fb"}).then((function(t){e.setState({code_prefix:t.data.ProductCode[0].code_prefix,code_separator:t.data.ProductCode[0].code_separator})}))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:bn.box,marginTop:"30px"},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Product Code"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:bn.box_msg,bgcolor:"#f73067",key:t},e)})):!0===this.state.success?i.a.createElement(m.a,{bgcolor:"#3df45b",style:bn.box_msg},"Success"):null,i.a.createElement(ne,null,i.a.createElement(m.a,{style:bn.box_field},i.a.createElement(m.a,{style:bn.box,marginRight:"10px"},i.a.createElement(X.a,{fullWidth:!0,required:!0,value:this.state.code_prefix,variant:"outlined",label:"code Prefix",type:"text",onChange:function(t){e.setState({code_prefix:t.target.value})}})),i.a.createElement(m.a,{style:bn.box},i.a.createElement(X.a,{fullWidth:!0,required:!0,value:this.state.code_separator,variant:"outlined",label:"code separator",type:"text",onChange:function(t){e.setState({code_separator:t.target.value})}})))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{width:"100px"},i.a.createElement(O.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:this.onEditHandler},"Save"))))}}]),t}(n.Component),xn=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={width:"17vw",dashboardItems:[]},a.permissions=JSON.parse(sessionStorage.getItem("permissions")),a.contents=["Product Code"],a.logout=function(){E.logout()&&a.props.history.push("/")},a.home=function(){a.props.history.push("/home")},a.dashboardMin=function(){a.setState({width:".1px"})},a.dashboardMax=function(){a.setState({width:"17vw"})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.contents.map((function(t){if(e.permissions.find((function(e){return e===t}))){var a=t.toLowerCase().replace(/ /g,"-");e.setState({}),e.setState((function(e){e.dashboardItems.push({Name:t,Path:a})}))}return null}))}},{key:"render",value:function(){return i.a.createElement(m.a,null,i.a.createElement(H,{name:"Configurations",logout:this.logout,home:this.home,dashboardMax:this.dashboardMax,dashboardMin:this.dashboardMin}),i.a.createElement(m.a,{display:"flex"},i.a.createElement(b,{items:this.state.dashboardItems,componentName:"home/configurations",width:this.state.width,dashboardMin:this.dashboardMin}),i.a.createElement(m.a,{display:"flex",flexDirection:"column",alignItems:"center",width:"100%",marginTop:"10px"},i.a.createElement(da.b,{exact:!0,path:"/home/configurations/product-code",component:En}))))}}]),t}(n.Component);var vn=function(){return i.a.createElement(g.a,null,i.a.createElement(da.b,{path:"/",exact:!0,component:ya}),i.a.createElement(Ea,{exact:!0,path:"/home",component:N}),i.a.createElement(Ea,{path:"/home/management",component:ma}),i.a.createElement(Ea,{path:"/home/requests",component:Ta}),i.a.createElement(Ea,{path:"/home/reports",component:Ga}),i.a.createElement(Ea,{path:"/home/configurations",component:xn}),i.a.createElement(Ea,{path:"/home/purchase",component:yn}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(i.a.createElement(vn,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[599,1,2]]]);
//# sourceMappingURL=main.00d681c4.chunk.js.map