(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{568:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABkCAYAAAA2VDb+AAAABGdBTUEAALGPC/xhBQAABEhJREFUeF7tnEtME0EYx1s8YKIx8eBVY9IY0MTQbmkRNVHDRS9igCpX4hPFRxQfKEKAtjzCQTj4ChctlIegIHLxYBQPgomJJh5EBDUmgjwSoPug7e44WyiGYHB3tq1lvyH5QkJmZvl+85/v+2bbGaNh/od3mU2SZOw3JCSsD/9Nd7+NUtWaa++uLvFrxp2W4XNaRdZlRXo3X4XlIyoxJCxAkEps67DTs3p3fLF/TMMCALY8pRKW81jlTiaIDPMq8DmZKXAA8FLn62ybQypQ5zyD2Mo0xFbvjC+rSlcdu6YrzcmqAHD4IeKvL0gSxfg0v4D8L28rBqEaQHDkE5IkKe6Nq9+vCII6AE4GSdx03DsvT5DQfCY6AMSpkRUBgLvviAIAHDWFzutxD0CcmcRB2h4dAKFs4bYj/uFRJLRfWsYKkdDjRIEP3ThYBjRBEye+o9nee0h4UrT8M1vPI67+gCLHw1lPXQwgLJG52n3EAMTRQVUOqUvnVhQTALjimkuZBNlj9kWdTgAEyJaB4FUWzdXOfEyXAOvCCsAFCokCeM8xHShAE4Dj0AGcAA6gETgAofEkbAUITaegA8gHDsB7mgIgLXKU9ItNKayhDlC6r1fi7N/arAAABcCXQDN0AC1ngSug5RxwAK3gAVyArgDoANqgA3h0EfgSoAAuQVdAIXAA7dABdFwGroCOKxQA6V5fSb/4fx/w+CpwBTy+BhzAE/AAiqAr4DpwAJ03gAPoAg+gGLoCbgIH8BQ8gBLgCugupQCUbGpI28T/Zqi7DLgCnoEHUA5cAT0VFABpgFPSL/6DID4joMQR0jaxA8CTnTXiH+TpA4A4+YPo2+Lc3Ww9ALCi4HAfEQC2eoc+APhfN5ABcKXqAwB/55B6AEF/VJ2XA2eMgmDopDaSguqOzfjfd+kIQOjMYbEqFbD4tBlpelPaL3YKmD9y5+9vUgRBiPLnAX85NMX8UkpNazuudi8Kfn2LpFluEQyR96HA517E1uyK+syHfeAqmY2h4/Mz5eZSrY4R9a/ZjbjaPfgegtg5Hf4/8aURgYUbJEbzt67FF4v4iZwgPFH6v5/Fua31i26SYV0Wu88N5BYZt+UNQgbjkqt0Bm6ZEtkKy2ssjyCHZ1ZvhtPxT77MmvfPu5HkO3ZQyabVerKBAlPiPx2nDSgBSoASoAQoAYgEGnMYQ0vuoKE5d1iTeY/0GVpzVskIcZ1tnEhJfTVutg1rs9ShSYttd3hakrM8B5MdniFsw1osKcfz/M9Ue48I2HEUGXPslQf+yaTZxi12acJiR1ptzGIXFwA4PL7kwx4UCUvK9G6ZGzdizmOIjY4MeciJ1PQdkQIgA4wGgG2Z3rnb5CgAqoBIrX+6BGgMoEGQZgGaBmkdQAshWgnSUpjuBehmiO4GV9Z2+H3EtsRtWdvlNDhqTjNF6n3AWIrtW/h9QJLDMxqJlyHyGKbshg3yuL8B8pEPTHk6kwYAAAAASUVORK5CYII="},606:function(e,t,a){e.exports=a(906)},611:function(e,t,a){},612:function(e,t,a){},727:function(e,t){},729:function(e,t){},770:function(e,t){},771:function(e,t){},906:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),o=a(41),l=a.n(o),r=(a(611),a(612),a(9)),s=a(8),c=a(11),d=a(10),u=a(12),m=a(391),p=a(932),g=a(107),h=Object(g.a)((function(e){return{boxOutProp:{color:"#000",backgroundColor:"#f5f6fc",padding:0,display:"flex",flexDirection:"column",alignItems:"left",maxHeight:"92vh",minHeight:"92vh",overflow:"auto",transition:"all .2s","&:hover":{cursor:"pointer",maxWidth:"17vw",transition:"all .2s","&::-webkit-scrollbar":{width:"0.25em"},"&::-webkit-scrollbar-thumb":{backgroundColor:"rgba(0,0,0,.1)",outline:"1px solid slategrey"}},"&::-webkit-scrollbar":{width:"0.0em"}},boxInProp:{fontSize:"1.2vw",color:"black",fontWeight:"bold",textDecoration:"none","&:hover":{cursor:"pointer",color:"#7d8cfa",transition:"all .2s",backgroundColor:"#e4e5f0"}},position:{display:"flex",position:"sticky",backgroundColor:"#f5f6fc",color:"black",padding:10,top:0,fontWeight:"bold",flexDirection:"row",width:"92.5%"}}})),f=a(112),_=a(567),y=a.n(_);function b(e){var t=h(),a={navStyle:{display:"flex",textDecoration:"none",padding:"15px",color:"black"},navStyleActive:{color:"#3f51b5"}};return i.a.createElement(m.a,{display:"flex"},i.a.createElement(m.a,{maxWidth:e.width,component:"div",className:t.boxOutProp},i.a.createElement(m.a,{className:t.position},i.a.createElement(m.a,{display:"flex",flexDirection:"row",width:"100vw",justifyContent:"space-between"},i.a.createElement(m.a,{fontSize:"30px",marginLeft:"5px"},"DASHBOARD"))),i.a.createElement(p.a,null),e.items.map((function(n,o){return i.a.createElement("div",{key:o},i.a.createElement(m.a,{className:t.boxInProp},i.a.createElement(f.c,{activeStyle:a.navStyleActive,style:a.navStyle,to:"/".concat(e.componentName,"/").concat(n.Path)},n.Name)),i.a.createElement(p.a,null))}))),".1px"===e.dashboard?i.a.createElement(m.a,{style:{color:"black",display:"flex",padding:"20px"}},i.a.createElement(y.a,{style:{fontSize:"40px"}})):null)}var E=new(function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).login=function(e){console.log(e),sessionStorage.setItem("authenticated",e)},a.logout=function(){return sessionStorage.clear(),!0},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"isAuthenticated",value:function(){return sessionStorage.getItem("authenticated")}}]),t}(i.a.Component)),v=a(307),x=a(39),S=a(933),C=a(394),w=a(94),D=a(5),R=a(192),M=a(247),k=a(569),O=a.n(k),j=a(294),z=a(471),P=a(600),I=a(570),W=a.n(I),q=a(571),U=a.n(q),T=a(568),L=a.n(T),A=Object(g.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2),color:"#ed3237",transition:"all .3s"},title:{flexGrow:1},expand:{transform:"rotate(45deg)",color:"#fff",transition:"all .3s"}}}));function N(e){var t=Object(n.useState)(!0),a=Object(x.a)(t,2),o=a[0],l=a[1],r=Object(n.useState)(null),s=Object(x.a)(r,2),c=s[0],d=s[1],u=A();return i.a.createElement(m.a,{className:u.root},i.a.createElement(S.a,{position:"static"},i.a.createElement(C.a,null,i.a.createElement(M.a,{edge:"start",className:Object(D.a)(Object(v.a)({},u.expand,o),u.menuButton),color:"inherit","aria-label":"menu",onClick:function(){o?(l(!o),e.dashboardMin()):(l(!o),e.dashboardMax())}},i.a.createElement(O.a,null)),i.a.createElement(w.a,{variant:"h6",className:u.title},e.name),e.homeButtonDisable?null:i.a.createElement(R.a,{color:"inherit",onClick:e.home},"Home"),i.a.createElement(R.a,{color:"inherit",onClick:function(e){return d(e.currentTarget)}},i.a.createElement(W.a,{style:{fontSize:"25px",marginRight:"5px"}}),sessionStorage.getItem("User Name")),i.a.createElement("img",{src:L.a,alt:"Logo",style:{marginLeft:"10px",width:"20px",height:"30px",backgroundColor:"white",padding:"5px",borderRadius:"5px"}}),i.a.createElement(j.a,{style:{marginTop:"40px"},id:"user-menu",anchorEl:c,keepMounted:!0,open:Boolean(c),TransitionComponent:P.a,onClose:function(){d(null)}},i.a.createElement(z.a,{onClick:e.logout},i.a.createElement(U.a,{style:{fontSize:"20px",marginRight:"5px",padding:"5px"}}),"Logout")))))}var B=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={width:"17vw",dashboardItems:[]},a.permissions=JSON.parse(sessionStorage.getItem("permissions")),a.contents=["Management","Requests","Reports","Purchase","Finance","Production","Configurations"],a.logout=function(){E.logout()&&a.props.history.push("/")},a.dashboardMin=function(){a.setState({width:".1px"})},a.dashboardMax=function(){a.setState({width:"17vw"})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.contents.map((function(t){if(e.permissions.find((function(e){return e===t}))){var a=t.toLowerCase().replace(/ /g,"-");e.setState({}),e.setState((function(e){e.dashboardItems.push({Name:t,Path:a})}))}return null}))}},{key:"render",value:function(){return i.a.createElement(m.a,null,i.a.createElement(N,{name:"Home",logout:this.logout,homeButtonDisable:!0,dashboardMax:this.dashboardMax,dashboardMin:this.dashboardMin}),i.a.createElement(m.a,null,i.a.createElement(b,{items:this.state.dashboardItems,componentName:"home",width:this.state.width,dashboardMin:this.dashboardMin}),i.a.createElement(m.a,{display:"flex",flexDirection:"column",alignItems:"center",width:"100%",marginTop:"10px"},i.a.createElement(m.a,{width:"90%",display:"flex",justifyContent:"center",flexDirection:"column"},this.props.history.location.state?i.a.createElement(m.a,{color:"red",textAlign:"center"},this.props.history.location.state.msg):null))))}}]),t}(n.Component),Q=a(4),F=a(22),V=a(26),H=a.n(V),Y=a(493),G=a(921),J=a(919),K=a(3),X=a.n(K),Z=a(314),$=a(395),ee=a(396),te=a(405),ae=a(190),ne=Object(g.a)((function(e){return{paper:{padding:e.spacing(3),display:"flex",overflow:"auto",flexDirection:"column",width:"90%",alignItems:"center"},fixedHeight:{maxHeight:"29.5vw",minWidth:"300px",minHeight:"5px"}}})),ie=function(e){var t=ne(),a=Object(D.a)(t.paper,t.fixedHeight);return i.a.createElement(ae.a,{className:a,elevation:2},e.children)},oe={box_field:{display:"flex",width:"100%",alignItems:"center",justifyContent:"center",marginBottom:"10px"},box:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"},box_msg:{color:"white",marginBottom:"20px",padding:"10px",width:"88%",textAlign:"center",fontSize:"15px",textTransform:"uppercase",borderRadius:"5px"},icons:{fontSize:"40px",marginRight:"10px"}},le=function(e,t){var a=JSON.parse(sessionStorage.getItem("permissions"));console.log(a);var n=a.find((function(e){return e===t}));return console.log(typeof n),"undefined"!==typeof n||(e.history.push({pathname:"/home",state:{msg:"Permission not Granted. Contact Administrator"}}),!1)},re=a(945),se=a(51),ce=a(359),de=a(578),ue=a(78),me=a.n(ue),pe=function(e){return i.a.createElement(se.a,{utils:de.a},i.a.createElement(ce.b,{disabled:e.disabled,size:"small",id:"date-picker-dialog".concat(e.id),label:e.Name,minDate:e.minDate,maxDate:e.maxDate,format:"DD/MM/YYYY",onChange:function(t){e.setDate(new me.a(t))},value:e.value,KeyboardButtonProps:{"aria-label":"change date"},fullWidth:!0,inputVariant:"outlined",style:{marginRight:e.marginRight,marginTop:"0px",marginBottom:e.marginBottom},required:e.Req}))},ge=oe,he=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={employee_first_name:"",employee_middle_name:"",employee_last_name:"",employee_dob:null,employee_age:"",employee_gender:"",employee_mobile_no:"",employee_email:"",employee_father_or_spouse_name:"",employee_no_of_children:"",employee_address:"",employee_country:"",employee_state:"",employee_city:"",employee_postal_code:"",employee_id:"",employee_date_of_joinig:null,employee_designation:"",employee_salary:"",employee_work_location:"",employee_shift:"",employee_bank_account_no:"",employee_bank_name:"",employee_bank_branch:"",employee_bank_ifsc:"",errors:[],countries:[],states:[],cities:[],designations:[],work_locations:[],shifts:[],dataReceived:!1},a.onAddHandler=function(){a.setState({dataReceived:!1}),X.a.post("/employees/add-employee",{employee_first_name:a.state.employee_first_name,employee_middle_name:a.state.employee_middle_name,employee_last_name:a.state.employee_last_name,employee_dob:a.state.employee_dob,employee_age:a.state.employee_age,employee_gender:a.state.employee_gender,employee_mobile_no:a.state.employee_mobile_no,employee_email:a.state.employee_email,employee_father_or_spouse_name:a.state.employee_father_or_spouse_name,employee_no_of_children:a.state.employee_no_of_children,employee_address:a.state.employee_address,employee_country:a.state.employee_country,employee_state:a.state.employee_state,employee_city:a.state.employee_city,employee_postal_code:a.state.employee_postal_code,employee_id:a.state.employee_id,employee_date_of_joinig:a.state.employee_date_of_joinig,employee_designation:a.state.employee_designation,employee_salary:a.state.employee_salary,employee_work_location:a.state.employee_work_location,employee_shift:a.state.employee_shift,employee_bank_account_no:a.state.employee_bank_account_no,employee_bank_name:a.state.employee_bank_name,employee_bank_branch:a.state.employee_bank_branch,employee_bank_ifsc:a.state.employee_bank_ifsc}).then((function(e){console.log(e),e.data.errors.length>0?(console.log(e.data.errors),a.setState({errors:Object(Q.a)(e.data.errors),dataReceived:!0})):(a.setState({dataReceived:!0}),a.props.cancel())})).catch((function(e){return console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;le(this.props,"Manage Employees")&&(this.setState({dataReceived:!1}),X.a.get("/countries/countries").then((function(t){e.setState({countries:Object(Q.a)(t.data.Countries)}),X.a.get("/designations/designations").then((function(t){e.setState({designations:Object(Q.a)(t.data.Designations)}),X.a.get("/work-locations/work-locations").then((function(t){e.setState({work_locations:Object(Q.a)(t.data.WorkLocations)}),X.a.get("/shifts/shifts").then((function(t){e.setState({shifts:Object(Q.a)(t.data.Shifts),dataReceived:!0})}))}))}))})))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:ge.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Add Employee"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:ge.box_msg,bgcolor:"#f73067",key:t},e)})):null,i.a.createElement(m.a,{width:"94%"},this.state.dataReceived?null:i.a.createElement(Y.a,null)),i.a.createElement(ie,null,i.a.createElement(m.a,{fontWeight:"bold",fontSize:"1.2vw",mb:1,display:"flex",justifyContent:"flex-start",width:"100%"},"Personel Details"),i.a.createElement(m.a,{style:oe.box_field,flexDirection:"row"},i.a.createElement(m.a,{style:oe.box,marginRight:"10px"},i.a.createElement(Z.a,{size:"small",required:!0,fullWidth:!0,variant:"outlined",label:"First Name",value:this.state.employee_first_name,onChange:function(t){e.setState({employee_first_name:t.target.value})}})),i.a.createElement(m.a,{style:oe.box,marginRight:"10px"},i.a.createElement(Z.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Middle Name",value:this.state.employee_middle_name,onChange:function(t){e.setState({employee_middle_name:t.target.value})}})),i.a.createElement(m.a,{style:oe.box},i.a.createElement(Z.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Last Name",value:this.state.employee_last_name,onChange:function(t){e.setState({employee_last_name:t.target.value})}}))),i.a.createElement(m.a,{style:oe.box_field},i.a.createElement(pe,{id:"1",Name:"Date Of Birth",Req:!0,marginRight:"10px",minDate:new Date-1893456e6,maxDate:new Date-5680368e5,value:this.state.employee_dob,setDate:function(t){e.setState({}),e.setState((function(e){e.employee_dob=t,e.employee_age=Math.floor((new Date-e.employee_dob)/315576e5)}))}}),i.a.createElement(m.a,{style:oe.box,marginRight:"10px"},i.a.createElement(Z.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Age",type:"number",disabled:!0,value:this.state.employee_age})),i.a.createElement(m.a,{style:ge.box},i.a.createElement($.a,{size:"small",required:!0,variant:"outlined",fullWidth:!0},i.a.createElement(ee.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select Gender"),i.a.createElement(te.a,{required:!0,value:this.state.employee_gender,onChange:function(t){console.log(t.target.value),e.setState({employee_gender:t.target.value})}},i.a.createElement(z.a,{selected:!0,value:"Male"},"Male"),i.a.createElement(z.a,{selected:!0,value:"Female"},"Female"),i.a.createElement(z.a,{selected:!0,value:"Transgender"},"Transgender"))))),i.a.createElement(m.a,{style:oe.box_field},i.a.createElement(m.a,{style:oe.box,marginRight:"10px"},i.a.createElement(Z.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Mobile No",value:this.state.employee_mobile_no,onChange:function(t){e.setState({employee_mobile_no:t.target.value})}})),i.a.createElement(m.a,{style:oe.box,marginRight:"10px"},i.a.createElement(Z.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Email",type:"email",value:this.state.employee_email,onChange:function(t){e.setState({employee_email:t.target.value})}})),i.a.createElement(m.a,{style:oe.box},i.a.createElement(Z.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Father / Spouse Name",type:"email",value:this.state.employee_father_or_spouse_name,onChange:function(t){e.setState({employee_father_or_spouse_name:t.target.value})}}))),i.a.createElement(m.a,{style:ge.box},i.a.createElement(Z.a,{size:"small",fullWidth:!0,required:!0,value:this.state.employee_address,variant:"outlined",label:"Address",type:"text",onChange:function(t){e.setState({employee_address:t.target.value})}})),i.a.createElement(m.a,{style:ge.box_field,marginTop:"10px"},i.a.createElement(m.a,{style:ge.box,marginRight:"10px"},i.a.createElement($.a,{size:"small",variant:"outlined",fullWidth:!0,display:"flex"},i.a.createElement(re.a,{size:"small",id:"country",disableClearable:!0,options:this.state.countries,getOptionLabel:function(e){return e.country_name},renderInput:function(e){return i.a.createElement(Z.a,Object.assign({},e,{required:!0,label:"Select Country",variant:"outlined"}))},value:this.state.employee_country,onChange:function(t,a){console.log(a),e.setState({employee_country:a,cities:[],states:[],employee_state:"",employee_city:"",dataReceived:!1}),X.a.post("/states/state-country",{country_id:a}).then((function(t){console.log("test ===>",e.state.employee_country),e.setState({states:Object(Q.a)(t.data.state),dataReceived:!0})}))}}))),i.a.createElement(m.a,{style:ge.box,marginRight:"10px"},i.a.createElement($.a,{size:"small",variant:"outlined",fullWidth:!0,display:"flex"},i.a.createElement(re.a,{size:"small",id:"state",disableClearable:!0,options:this.state.states,getOptionLabel:function(e){return e.state_name},renderInput:function(e){return i.a.createElement(Z.a,Object.assign({},e,{required:!0,label:"Select State",variant:"outlined"}))},value:this.state.employee_state,onChange:function(t,a){console.log(a),e.setState({employee_state:a,employee_city:"",cities:[],dataReceived:!1}),X.a.post("/cities/city-state",{state_id:a}).then((function(t){console.log(t),e.setState({cities:Object(Q.a)(t.data.city),dataReceived:!0})}))}}))),i.a.createElement(m.a,{style:ge.box},i.a.createElement($.a,{size:"small",variant:"outlined",fullWidth:!0,display:"flex"},i.a.createElement(re.a,{size:"small",id:"city",disableClearable:!0,options:this.state.cities,getOptionLabel:function(e){return e.city_name},renderInput:function(e){return i.a.createElement(Z.a,Object.assign({},e,{required:!0,label:"Select City",variant:"outlined"}))},value:this.state.employee_city,onChange:function(t,a){console.log(a),e.setState({employee_city:a})}})))),i.a.createElement(m.a,{style:ge.box_field},i.a.createElement(Z.a,{size:"small",fullWidth:!0,required:!0,value:this.state.employee_postal_code,variant:"outlined",label:"Postal Code",type:"text",onChange:function(t){e.setState({employee_postal_code:t.target.value})}})),i.a.createElement(m.a,{fontWeight:"bold",fontSize:"1.2vw",mb:1,display:"flex",justifyContent:"flex-start",width:"100%"},"Work Details"),i.a.createElement(m.a,{style:oe.box_field},i.a.createElement(m.a,{style:oe.box,marginRight:"10px"},i.a.createElement(Z.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Employee ID",value:this.state.employee_id,onChange:function(t){e.setState({employee_id:t.target.value})}})),i.a.createElement(pe,{id:"2",Name:"Date Of Joining",Req:!0,value:this.state.employee_date_of_joinig,minDate:"01/01/1990",maxDate:new Date,setDate:function(t){e.setState({employee_date_of_joinig:t})}})),i.a.createElement(m.a,{style:oe.box_field},i.a.createElement(m.a,{style:ge.box,marginRight:"10px"},i.a.createElement($.a,{size:"small",required:!0,variant:"outlined",fullWidth:!0},i.a.createElement(ee.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select Designation"),i.a.createElement(te.a,{required:!0,value:this.state.employee_designation,onChange:function(t){console.log(t.target.value),e.setState({employee_designation:t.target.value})}},this.state.designations.map((function(e,t){return i.a.createElement(z.a,{selected:!0,key:t,value:e._id},e.designation_name)}))))),i.a.createElement(Z.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Salary",type:"number",value:this.state.employee_salary,onChange:function(t){e.setState({employee_salary:t.target.value})}})),i.a.createElement(m.a,{style:oe.box_field},i.a.createElement(m.a,{style:ge.box,marginRight:"10px"},i.a.createElement($.a,{size:"small",variant:"outlined",fullWidth:!0,display:"flex"},i.a.createElement(re.a,{size:"small",id:"work location",disableClearable:!0,options:this.state.work_locations,getOptionLabel:function(e){return e.work_location_name},renderInput:function(e){return i.a.createElement(Z.a,Object.assign({},e,{required:!0,label:"Select Work Location",variant:"outlined"}))},value:this.state.employee_work_location,onChange:function(t,a){e.setState({employee_work_location:a})}}))),i.a.createElement(m.a,{style:ge.box},i.a.createElement($.a,{size:"small",required:!0,variant:"outlined",fullWidth:!0},i.a.createElement(ee.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select Shift"),i.a.createElement(te.a,{required:!0,value:this.state.employee_shift,onChange:function(t){console.log(t.target.value),e.setState({employee_shift:t.target.value})}},this.state.shifts.map((function(e,t){return i.a.createElement(z.a,{selected:!0,key:t,value:e._id},e.shift_name)})))))),i.a.createElement(m.a,{style:oe.box_field},i.a.createElement(m.a,{style:oe.box,marginRight:"10px"},i.a.createElement(Z.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Bank Account Number",value:this.state.employee_bank_account_no,onChange:function(t){e.setState({employee_bank_account_no:t.target.value})}})),i.a.createElement(m.a,{style:oe.box},i.a.createElement(Z.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Bank Name",value:this.state.employee_bank_name,onChange:function(t){e.setState({employee_bank_name:t.target.value})}}))),i.a.createElement(m.a,{style:oe.box_field},i.a.createElement(m.a,{style:oe.box,marginRight:"10px"},i.a.createElement(Z.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Branch",value:this.state.employee_bank_branch,onChange:function(t){e.setState({employee_bank_branch:t.target.value})}})),i.a.createElement(m.a,{style:oe.box},i.a.createElement(Z.a,{size:"small",fullWidth:!0,variant:"outlined",label:"IFSC",value:this.state.employee_bank_ifsc,onChange:function(t){e.setState({employee_bank_ifsc:t.target.value})}})))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:this.onAddHandler},"Add"))))}}]),t}(n.Component),fe=oe,_e=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={_id:"",employee_first_name:"",employee_middle_name:"",employee_last_name:"",employee_dob:null,employee_age:"",employee_gender:"",employee_mobile_no:"",employee_email:"",employee_father_or_spouse_name:"",employee_no_of_children:"",employee_address:"",employee_country:"",employee_state:"",employee_city:"",employee_postal_code:"",employee_id:"",employee_date_of_joinig:null,employee_designation:"",employee_salary:"",employee_work_location:"",employee_shift:"",employee_bank_account_no:"",employee_bank_name:"",employee_bank_branch:"",employee_bank_ifsc:"",errors:[],countries:[],states:[],cities:[],designations:[],work_locations:[],shifts:[],dataReceived:!1},a.onEditHandler=function(){a.setState({dataReceived:!1}),X.a.post("/employees/edit-employee",{_id:a.state._id,employee_first_name:a.state.employee_first_name,employee_middle_name:a.state.employee_middle_name,employee_last_name:a.state.employee_last_name,employee_dob:a.state.employee_dob,employee_age:a.state.employee_age,employee_gender:a.state.employee_gender,employee_mobile_no:a.state.employee_mobile_no,employee_email:a.state.employee_email,employee_father_or_spouse_name:a.state.employee_father_or_spouse_name,employee_no_of_children:a.state.employee_no_of_children,employee_address:a.state.employee_address,employee_country:a.state.employee_country,employee_state:a.state.employee_state,employee_city:a.state.employee_city,employee_postal_code:a.state.employee_postal_code,employee_id:a.state.employee_id,employee_date_of_joinig:a.state.employee_date_of_joinig,employee_designation:a.state.employee_designation,employee_salary:a.state.employee_salary,employee_work_location:a.state.employee_work_location,employee_shift:a.state.employee_shift,employee_bank_account_no:a.state.employee_bank_account_no,employee_bank_name:a.state.employee_bank_name,employee_bank_branch:a.state.employee_bank_branch,employee_bank_ifsc:a.state.employee_bank_ifsc}).then((function(e){console.log(e),e.data.errors&&(e.data.errors.length>0?(console.log(e.data.errors),a.setState({errors:Object(Q.a)(e.data.errors),dataReceived:!0})):(a.setState({dataReceived:!0}),a.props.cancel()))})).catch((function(e){return console.log(e)}))},a.onGetCountry=function(e){X.a.post("/countries/country",{_id:e}).then((function(e){console.log(e.data.Country[0]),a.setState({employee_country:e.data.Country[0]})}))},a.onGetState=function(e){X.a.post("/states/state",{_id:e}).then((function(e){console.log(e.data.state),a.setState({employee_state:e.data.state[0]})}))},a.onGetCity=function(e){X.a.post("/cities/city",{_id:e}).then((function(e){a.setState({employee_city:e.data.city[0]})}))},a.onGetWorkLocation=function(e){X.a.post("/work-locations/work-location",{_id:e}).then((function(e){a.setState({employee_work_location:e.data.WorkLocation[0]})}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;le(this.props,"Manage Employees")&&(this.setState({dataReceived:!1}),X.a.get("/countries/countries").then((function(t){e.setState({countries:Object(Q.a)(t.data.Countries)}),e.onGetCountry(e.props.Employee.employee_country),X.a.post("/states/state-country",{country_id:e.props.Employee.employee_country}).then((function(t){e.setState({states:Object(Q.a)(t.data.state)}),e.onGetState(e.props.Employee.employee_state),X.a.post("/cities/city-state",{state_id:e.props.Employee.employee_state}).then((function(t){e.setState({cities:Object(Q.a)(t.data.city)}),e.onGetCity(e.props.Employee.employee_city),X.a.get("/work-locations/work-locations").then((function(t){e.setState({work_locations:Object(Q.a)(t.data.WorkLocations)}),e.onGetWorkLocation(e.props.Employee.employee_work_location),X.a.get("/shifts/shifts").then((function(t){e.setState({shifts:Object(Q.a)(t.data.Shifts)}),X.a.get("/designations/designations").then((function(t){e.setState({designations:Object(Q.a)(t.data.Designations)}),X.a.get("/work-locations/work-locations").then((function(t){e.setState({work_locations:Object(Q.a)(t.data.WorkLocations)}),X.a.get("/shifts/shifts").then((function(t){e.setState({shifts:Object(Q.a)(t.data.Shifts)}),""===e.state.employee_first_name&&(console.log("Props: ",e.props.Employee),e.setState({_id:e.props.Employee._id,employee_first_name:e.props.Employee.employee_first_name,employee_middle_name:e.props.Employee.employee_middle_name,employee_last_name:e.props.Employee.employee_last_name,employee_dob:e.props.Employee.employee_dob,employee_age:e.props.Employee.employee_age,employee_gender:e.props.Employee.employee_gender,employee_mobile_no:e.props.Employee.employee_mobile_no,employee_email:e.props.Employee.employee_email,employee_father_or_spouse_name:e.props.Employee.employee_father_or_spouse_name,employee_no_of_children:e.props.Employee.employee_no_of_children,employee_address:e.props.Employee.employee_address,employee_postal_code:e.props.Employee.employee_postal_code,employee_id:e.props.Employee.employee_id,employee_date_of_joinig:e.props.Employee.employee_date_of_joinig,employee_designation:e.props.Employee.employee_designation,employee_salary:e.props.Employee.employee_salary,employee_shift:e.props.Employee.employee_shift,employee_bank_account_no:e.props.Employee.employee_bank_account_no,employee_bank_name:e.props.Employee.employee_bank_name,employee_bank_branch:e.props.Employee.employee_bank_branch,employee_bank_ifsc:e.props.Employee.employee_bank_ifsc,dataReceived:!0}))}))}))}))}))}))}))}))})))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:fe.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Edit Employee"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:fe.box_msg,bgcolor:"#f73067",key:t},e)})):null,i.a.createElement(m.a,{width:"94%"},this.state.dataReceived?null:i.a.createElement(Y.a,null)),i.a.createElement(ie,null,i.a.createElement(m.a,{fontWeight:"bold",fontSize:"1.2vw",mb:1,display:"flex",justifyContent:"flex-start",width:"100%"},"Personel Details"),i.a.createElement(m.a,{style:oe.box_field,flexDirection:"row"},i.a.createElement(m.a,{style:oe.box,marginRight:"10px"},i.a.createElement(Z.a,{size:"small",required:!0,fullWidth:!0,variant:"outlined",label:"First Name",value:this.state.employee_first_name,onChange:function(t){e.setState({employee_first_name:t.target.value})}})),i.a.createElement(m.a,{style:oe.box,marginRight:"10px"},i.a.createElement(Z.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Middle Name",value:this.state.employee_middle_name,onChange:function(t){e.setState({employee_middle_name:t.target.value})}})),i.a.createElement(m.a,{style:oe.box},i.a.createElement(Z.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Last Name",value:this.state.employee_last_name,onChange:function(t){e.setState({employee_last_name:t.target.value})}}))),i.a.createElement(m.a,{style:oe.box_field},i.a.createElement(pe,{id:"2",Name:"Date Of Birth",Req:!0,marginRight:"10px",value:this.state.employee_dob,minDate:new Date-1893456e6,maxDate:new Date-5680368e5,setDate:function(t){e.setState({}),e.setState((function(a){a.employee_dob=t,a.employee_age=e.state.employee_dob-new Date}))}}),i.a.createElement(m.a,{style:oe.box,marginRight:"10px"},i.a.createElement(Z.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Age",type:"number",disabled:!0,value:this.state.employee_age,onChange:function(t){e.setState({employee_age:e.state.employee_dob-new Date})}})),i.a.createElement(m.a,{style:fe.box},i.a.createElement($.a,{size:"small",required:!0,variant:"outlined",fullWidth:!0},i.a.createElement(ee.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select Gender"),i.a.createElement(te.a,{required:!0,value:this.state.employee_gender,onChange:function(t){console.log(t.target.value),e.setState({employee_gender:t.target.value})}},i.a.createElement(z.a,{selected:!0,value:"Male"},"Male"),i.a.createElement(z.a,{selected:!0,value:"Female"},"Female"),i.a.createElement(z.a,{selected:!0,value:"Transgender"},"Transgender"))))),i.a.createElement(m.a,{style:oe.box_field},i.a.createElement(m.a,{style:oe.box,marginRight:"10px"},i.a.createElement(Z.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Mobile No",value:this.state.employee_mobile_no,onChange:function(t){e.setState({employee_mobile_no:t.target.value})}})),i.a.createElement(m.a,{style:oe.box,marginRight:"10px"},i.a.createElement(Z.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Email",type:"email",value:this.state.employee_email,onChange:function(t){e.setState({employee_email:t.target.value})}})),i.a.createElement(m.a,{style:oe.box},i.a.createElement(Z.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Father / Spouse Name",type:"email",value:this.state.employee_father_or_spouse_name,onChange:function(t){e.setState({employee_father_or_spouse_name:t.target.value})}}))),i.a.createElement(m.a,{style:fe.box},i.a.createElement(Z.a,{size:"small",fullWidth:!0,required:!0,value:this.state.employee_address,variant:"outlined",label:"Address",type:"text",onChange:function(t){e.setState({employee_address:t.target.value})}})),i.a.createElement(m.a,{style:fe.box_field,marginTop:"10px"},i.a.createElement(m.a,{style:fe.box,marginRight:"10px"},i.a.createElement($.a,{size:"small",variant:"outlined",fullWidth:!0,display:"flex"},i.a.createElement(re.a,{size:"small",id:"country",disableClearable:!0,options:this.state.countries,getOptionLabel:function(e){return e.country_name},renderInput:function(e){return i.a.createElement(Z.a,Object.assign({},e,{required:!0,label:"Select Country",variant:"outlined"}))},value:this.state.employee_country,onChange:function(t,a){console.log(a),e.setState({employee_country:a,cities:[],states:[],employee_state:"",employee_city:"",dataReceived:!1}),X.a.post("/states/state-country",{country_id:a}).then((function(t){console.log("test ===>",e.state.employee_country),e.setState({states:Object(Q.a)(t.data.state),dataReceived:!0})}))}}))),i.a.createElement(m.a,{style:fe.box,marginRight:"10px"},i.a.createElement($.a,{size:"small",variant:"outlined",fullWidth:!0,display:"flex"},i.a.createElement(re.a,{size:"small",id:"state",disableClearable:!0,options:this.state.states,getOptionLabel:function(e){return e.state_name},renderInput:function(e){return i.a.createElement(Z.a,Object.assign({},e,{required:!0,label:"Select State",variant:"outlined"}))},value:this.state.employee_state,onChange:function(t,a){console.log(a),e.setState({employee_state:a,employee_city:"",cities:[],dataReceived:!1}),X.a.post("/cities/city-state",{state_id:a}).then((function(t){console.log(t),e.setState({cities:Object(Q.a)(t.data.city),dataReceived:!0})}))}}))),i.a.createElement(m.a,{style:fe.box},i.a.createElement($.a,{size:"small",variant:"outlined",fullWidth:!0,display:"flex"},i.a.createElement(re.a,{size:"small",id:"city",disableClearable:!0,options:this.state.cities,getOptionLabel:function(e){return e.city_name},renderInput:function(e){return i.a.createElement(Z.a,Object.assign({},e,{required:!0,label:"Select City",variant:"outlined"}))},value:this.state.employee_city,onChange:function(t,a){console.log(a),e.setState({employee_city:a})}})))),i.a.createElement(m.a,{style:fe.box_field},i.a.createElement(Z.a,{size:"small",fullWidth:!0,required:!0,value:this.state.employee_postal_code,variant:"outlined",label:"Postal Code",type:"text",onChange:function(t){e.setState({employee_postal_code:t.target.value})}})),i.a.createElement(m.a,{fontWeight:"bold",fontSize:"1.2vw",mb:1,display:"flex",justifyContent:"flex-start",width:"100%"},"Work Details"),i.a.createElement(m.a,{style:oe.box_field},i.a.createElement(m.a,{style:oe.box,marginRight:"10px"},i.a.createElement(Z.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Employee ID",value:this.state.employee_id,onChange:function(t){e.setState({employee_id:t.target.value})}})),i.a.createElement(pe,{id:"1",Name:"Date Of Joining",Req:!0,value:this.state.employee_date_of_joinig,minDate:"01/01/1990",maxDate:new Date,setDate:function(t){e.setState({employee_date_of_joinig:t})}})),i.a.createElement(m.a,{style:oe.box_field},i.a.createElement(m.a,{style:fe.box,marginRight:"10px"},i.a.createElement($.a,{size:"small",required:!0,variant:"outlined",fullWidth:!0},i.a.createElement(ee.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select Designation"),i.a.createElement(te.a,{required:!0,value:this.state.employee_designation,onChange:function(t){console.log(t.target.value),e.setState({employee_designation:t.target.value})}},this.state.designations.map((function(e,t){return i.a.createElement(z.a,{selected:!0,key:t,value:e._id},e.designation_name)}))))),i.a.createElement(Z.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Salary",type:"number",value:this.state.employee_salary,onChange:function(t){e.setState({employee_salary:t.target.value})}})),i.a.createElement(m.a,{style:oe.box_field},i.a.createElement(m.a,{style:fe.box,marginRight:"10px"},i.a.createElement($.a,{size:"small",variant:"outlined",fullWidth:!0,display:"flex"},i.a.createElement(re.a,{size:"small",id:"work location",disableClearable:!0,options:this.state.work_locations,getOptionLabel:function(e){return e.work_location_name},renderInput:function(e){return i.a.createElement(Z.a,Object.assign({},e,{required:!0,label:"Select Work Location",variant:"outlined"}))},value:this.state.employee_work_location,onChange:function(t,a){e.setState({employee_work_location:a})}}))),i.a.createElement(m.a,{style:fe.box},i.a.createElement($.a,{size:"small",required:!0,variant:"outlined",fullWidth:!0},i.a.createElement(ee.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select Shift"),i.a.createElement(te.a,{required:!0,value:this.state.employee_shift,onChange:function(t){console.log(t.target.value),e.setState({employee_shift:t.target.value})}},this.state.shifts.map((function(e,t){return i.a.createElement(z.a,{selected:!0,key:t,value:e._id},e.shift_name)})))))),i.a.createElement(m.a,{style:oe.box_field},i.a.createElement(m.a,{style:oe.box,marginRight:"10px"},i.a.createElement(Z.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Bank Account Number",value:this.state.employee_bank_account_no,onChange:function(t){e.setState({employee_bank_account_no:t.target.value})}})),i.a.createElement(m.a,{style:oe.box},i.a.createElement(Z.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Bank Name",value:this.state.employee_bank_name,onChange:function(t){e.setState({employee_bank_name:t.target.value})}}))),i.a.createElement(m.a,{style:oe.box_field},i.a.createElement(m.a,{style:oe.box,marginRight:"10px"},i.a.createElement(Z.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Branch",value:this.state.employee_bank_branch,onChange:function(t){e.setState({employee_bank_branch:t.target.value})}})),i.a.createElement(m.a,{style:oe.box},i.a.createElement(Z.a,{size:"small",fullWidth:!0,variant:"outlined",label:"IFSC",value:this.state.employee_bank_ifsc,onChange:function(t){e.setState({employee_bank_ifsc:t.target.value})}})))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:this.onEditHandler},"Update"))))}}]),t}(n.Component);function ye(e){var t=Object(n.useState)(e.filters.firstName),a=Object(x.a)(t,2),o=a[0],l=a[1],r=Object(n.useState)(e.filters.lastName),s=Object(x.a)(r,2),c=s[0],d=s[1],u=Object(n.useState)(e.filters.fromDOB),p=Object(x.a)(u,2),g=p[0],h=p[1],f=Object(n.useState)(e.filters.toDOB),_=Object(x.a)(f,2),y=_[0],b=_[1],E=Object(n.useState)(e.filters.fromAge),v=Object(x.a)(E,2),S=v[0],C=v[1],w=Object(n.useState)(e.filters.toAge),D=Object(x.a)(w,2),M=D[0],k=D[1],O=Object(n.useState)(e.filters.gender),j=Object(x.a)(O,2),P=j[0],I=j[1],W=Object(n.useState)(e.filters.mobile),q=Object(x.a)(W,2),U=q[0],T=q[1],L=Object(n.useState)(e.filters.email),A=Object(x.a)(L,2),N=A[0],B=A[1],F=Object(n.useState)(e.filters.country),V=Object(x.a)(F,2),H=V[0],G=V[1],J=Object(n.useState)([]),K=Object(x.a)(J,2),ae=K[0],ne=K[1],le=Object(n.useState)(e.filters.state),se=Object(x.a)(le,2),ce=se[0],de=se[1],ue=Object(n.useState)([]),me=Object(x.a)(ue,2),ge=me[0],he=me[1],fe=Object(n.useState)(e.filters.city),_e=Object(x.a)(fe,2),ye=_e[0],be=_e[1],Ee=Object(n.useState)([]),ve=Object(x.a)(Ee,2),xe=ve[0],Se=ve[1],Ce=Object(n.useState)(e.filters.postalCode),we=Object(x.a)(Ce,2),De=we[0],Re=we[1],Me=Object(n.useState)(e.filters.employeeId),ke=Object(x.a)(Me,2),Oe=ke[0],je=ke[1],ze=Object(n.useState)(e.filters.fromDateOfJoining),Pe=Object(x.a)(ze,2),Ie=Pe[0],We=Pe[1],qe=Object(n.useState)(e.filters.toDateOfJoining),Ue=Object(x.a)(qe,2),Te=Ue[0],Le=Ue[1],Ae=Object(n.useState)(e.filters.designation),Ne=Object(x.a)(Ae,2),Be=Ne[0],Qe=Ne[1],Fe=Object(n.useState)([]),Ve=Object(x.a)(Fe,2),He=Ve[0],Ye=Ve[1],Ge=Object(n.useState)(e.filters.fromSalary),Je=Object(x.a)(Ge,2),Ke=Je[0],Xe=Je[1],Ze=Object(n.useState)(e.filters.toSalary),$e=Object(x.a)(Ze,2),et=$e[0],tt=$e[1],at=Object(n.useState)(e.filters.workLocation),nt=Object(x.a)(at,2),it=nt[0],ot=nt[1],lt=Object(n.useState)([]),rt=Object(x.a)(lt,2),st=rt[0],ct=rt[1],dt=Object(n.useState)(e.filters.shift),ut=Object(x.a)(dt,2),mt=ut[0],pt=ut[1],gt=Object(n.useState)([]),ht=Object(x.a)(gt,2),ft=ht[0],_t=ht[1],yt=Object(n.useState)(!1),bt=Object(x.a)(yt,2),Et=bt[0],vt=bt[1];return Object(n.useEffect)((function(){vt(!1),X.a.get("/countries/countries").then((function(t){ne(Object(Q.a)(t.data.Countries)),G(e.filters.country),X.a.post("/states/state-country",{country_id:e.filters.country}).then((function(t){he(Object(Q.a)(t.data.state)),de(e.filters.state),X.a.post("/cities/city-state",{state_id:e.filters.state}).then((function(t){X.a.get("/designations/designations").then((function(a){Ye(a.data.Designations),X.a.get("/work-locations/work-locations").then((function(a){ct(a.data.WorkLocations),X.a.get("/shifts/shifts").then((function(a){_t(a.data.Shifts),Se(Object(Q.a)(t.data.city)),be(e.filters.city),vt(!0)}))}))}))}))}))}))}),[e.filters.country,e.filters.state,e.filters.city]),i.a.createElement(m.a,{style:oe.box,alignContent:"center"},i.a.createElement(m.a,{width:"94%"},Et?null:i.a.createElement(Y.a,null)),i.a.createElement(ie,null,i.a.createElement(m.a,{style:oe.box_field},i.a.createElement(m.a,{style:oe.box,marginRight:"10px"},i.a.createElement(Z.a,{size:"small",required:!0,fullWidth:!0,variant:"outlined",label:"First Name",value:o,onChange:function(e){l(e.target.value)}})),i.a.createElement(m.a,{style:oe.box},i.a.createElement(Z.a,{size:"small",required:!0,fullWidth:!0,variant:"outlined",label:"Last Name",value:c,onChange:function(e){d(e.target.value)}}))),i.a.createElement(m.a,{style:oe.box_field},i.a.createElement(m.a,{style:oe.box,marginRight:"10px"},i.a.createElement(pe,{id:"1",Name:"From Date of Birth",value:g,setDate:function(e){e=e.startOf("day"),h(e)}})),i.a.createElement(m.a,{style:oe.box},i.a.createElement(pe,{disabled:null===g,id:"2",Name:"To Date of Birth",minDate:g,value:y,setDate:function(e){e=e.endOf("day"),b(e)}}))),i.a.createElement(m.a,{style:oe.box_field},i.a.createElement(m.a,{style:oe.box,marginRight:"10px"},i.a.createElement(Z.a,{size:"small",required:!0,fullWidth:!0,variant:"outlined",label:"From Age",value:S,onChange:function(e){C(e.target.value)}})),i.a.createElement(m.a,{style:oe.box},i.a.createElement(Z.a,{size:"small",required:!0,fullWidth:!0,variant:"outlined",label:"To Age",value:M,onChange:function(e){k(e.target.value)}}))),i.a.createElement(m.a,{style:oe.box_field},i.a.createElement($.a,{size:"small",required:!0,variant:"outlined",fullWidth:!0},i.a.createElement(ee.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select Gender"),i.a.createElement(te.a,{required:!0,value:P,onChange:function(e){I(e.target.value)}},i.a.createElement(z.a,{selected:!0,value:"Male"},"Male"),i.a.createElement(z.a,{selected:!0,value:"Female"},"Female"),i.a.createElement(z.a,{selected:!0,value:"Transgender"},"Transgender")))),i.a.createElement(m.a,{style:oe.box_field},i.a.createElement(Z.a,{size:"small",required:!0,fullWidth:!0,variant:"outlined",label:"Mobile No",value:U,onChange:function(e){T(e.target.value)}})),i.a.createElement(m.a,{style:oe.box_field},i.a.createElement(Z.a,{size:"small",required:!0,fullWidth:!0,variant:"outlined",label:"Email",value:N,onChange:function(e){B(e.target.value)}})),i.a.createElement(m.a,{style:oe.box_field},i.a.createElement(m.a,{style:oe.box,marginRight:"10px"},i.a.createElement($.a,{size:"small",variant:"outlined",fullWidth:!0,display:"flex"},i.a.createElement(re.a,{size:"small",id:"country",disableClearable:!0,options:ae,getOptionLabel:function(e){return e.country_name},renderInput:function(e){return i.a.createElement(Z.a,Object.assign({},e,{required:!0,label:"Select Country",variant:"outlined"}))},value:H,onChange:function(e,t){G(t),vt(!1),X.a.post("/states/state-country",{country_id:t}).then((function(e){he(Object(Q.a)(e.data.state)),vt(!0)}))}}))),i.a.createElement(m.a,{style:oe.box,marginRight:"10px"},i.a.createElement($.a,{size:"small",variant:"outlined",fullWidth:!0,display:"flex"},i.a.createElement(re.a,{size:"small",id:"state",disableClearable:!0,options:ge,getOptionLabel:function(e){return e.state_name},renderInput:function(e){return i.a.createElement(Z.a,Object.assign({},e,{required:!0,label:"Select State",variant:"outlined"}))},value:ce,onChange:function(e,t){de(t),vt(!1),X.a.post("/cities/city-state",{state_id:t}).then((function(e){Se(Object(Q.a)(e.data.city)),vt(!0)}))}}))),i.a.createElement(m.a,{style:oe.box},i.a.createElement($.a,{size:"small",variant:"outlined",fullWidth:!0,display:"flex"},i.a.createElement(re.a,{size:"small",id:"city",disableClearable:!0,options:xe,getOptionLabel:function(e){return e.city_name},renderInput:function(e){return i.a.createElement(Z.a,Object.assign({},e,{required:!0,label:"Select City",variant:"outlined"}))},value:ye,onChange:function(e,t){be(t)}})))),i.a.createElement(m.a,{style:oe.box_field},i.a.createElement(Z.a,{size:"small",required:!0,fullWidth:!0,variant:"outlined",label:"Postal Code",value:De,onChange:function(e){Re(e.target.value)}})),i.a.createElement(m.a,{style:oe.box_field},i.a.createElement(Z.a,{size:"small",required:!0,fullWidth:!0,variant:"outlined",label:"Employee Id",value:Oe,onChange:function(e){je(e.target.value)}})),i.a.createElement(m.a,{style:oe.box_field},i.a.createElement(m.a,{style:oe.box,marginRight:"10px"},i.a.createElement(pe,{id:"3",Name:"From Date of Joining",value:Ie,setDate:function(e){e=e.startOf("day"),We(e)}})),i.a.createElement(m.a,{style:oe.box},i.a.createElement(pe,{disabled:null===Ie,id:"4",Name:"To Date of Joining",minDate:Ie,value:Te,setDate:function(e){e=e.endOf("day"),Le(e)}}))),i.a.createElement(m.a,{style:oe.box_field},i.a.createElement($.a,{size:"small",required:!0,variant:"outlined",fullWidth:!0,display:"flex"},i.a.createElement(ee.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select Designation"),i.a.createElement(te.a,{required:!0,value:Be,onChange:function(e){Qe(e.target.value)}},He.map((function(e,t){return i.a.createElement(z.a,{selected:!0,key:t,value:e._id},e.designation_name)}))))),i.a.createElement(m.a,{style:oe.box_field},i.a.createElement(m.a,{style:oe.box,marginRight:"10px"},i.a.createElement(Z.a,{size:"small",required:!0,fullWidth:!0,variant:"outlined",label:"From Salary",value:Ke,onChange:function(e){Xe(e.target.value)}})),i.a.createElement(m.a,{style:oe.box},i.a.createElement(Z.a,{size:"small",required:!0,fullWidth:!0,variant:"outlined",label:"To Salary",value:et,onChange:function(e){tt(e.target.value)}}))),i.a.createElement(m.a,{style:oe.box_field},i.a.createElement($.a,{size:"small",variant:"outlined",fullWidth:!0,display:"flex"},i.a.createElement(re.a,{size:"small",id:"work location",disableClearable:!0,options:st,getOptionLabel:function(e){return e.work_location_name},renderInput:function(e){return i.a.createElement(Z.a,Object.assign({},e,{required:!0,label:"Select Work Location",variant:"outlined"}))},value:it,onChange:function(e,t){ot(t)}}))),i.a.createElement(m.a,{style:oe.box_field},i.a.createElement($.a,{size:"small",required:!0,variant:"outlined",fullWidth:!0,display:"flex"},i.a.createElement(ee.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select Shifts"),i.a.createElement(te.a,{required:!0,value:mt,onChange:function(e){pt(e.target.value)}},ft.map((function(e,t){return i.a.createElement(z.a,{selected:!0,key:t,value:e._id},e.shift_name)})))))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{width:"100px"},i.a.createElement(R.a,{variant:"contained",color:"primary",style:{marginBottom:"20px",display:"flex"},size:"large",onClick:function(){var e={firstName:"",lastName:"",fromDOB:null,toDOB:null,fromAge:"",toAge:"",gender:"",mobile:"",email:"",country:"",state:"",city:"",postalCode:"",employeeId:"",fromDateOfJoining:null,toDateOfJoining:null,designation:"",fromSalary:"",toSalary:""};e.designation="",e.workLocation="",e.shift="",l(""),d(""),h(null),b(null),k(""),I(""),T(""),B(""),G(""),de(""),he([]),be(""),Se([]),Re(""),je(""),We(null),Le(null),Qe(""),Xe(""),tt(""),Qe(""),ot(""),pt("")}},"clear")),i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(R.a,{variant:"contained",color:"primary",style:{marginBottom:"20px",display:"flex"},size:"large",onClick:function(){e.cancel()}},"Cancel")),i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(R.a,{variant:"contained",color:"primary",style:{marginBottom:"20px",display:"flex"},size:"large",onClick:function(){var t={};t.firstName=o,t.lastName=c,t.fromDOB=g,t.toDOB=y,t.fromAge=S,t.toAge=M,t.gender=P,t.mobile=U,t.email=N,t.country=H,t.state=ce,t.city=ye,t.postalCode=De,t.employeeId=Oe,t.fromDateOfJoining=Ie,t.toDateOfJoining=Te,t.designation=Be,t.fromSalary=Ke,t.toSalary=et,t.designation=Be,t.workLocation=it,t.shift=mt,vt(!1),X.a.post("/employees/filter",{firstName:o,lastName:c,fromDOB:g,toDOB:y,fromAge:S,toAge:M,gender:P,mobile:U,email:N,country:H,state:ce,city:ye,postalCode:De,employeeId:Oe,fromDateOfJoining:Ie,toDateOfJoining:Te,designation:Be,fromSalary:Ke,toSalary:et,workLocation:it,shift:mt}).then((function(a){vt(!0),e.setData(a),e.saveFilters(t)}))}},"Apply"))))}var be=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).EditData={},a.state={columns:[{title:"ID",field:"id"},{title:"First Name",field:"employee_first_name"},{title:"Last Name",field:"employee_last_name"},{title:"ID",field:"employee_id"},{title:"shift",field:"employee_shift_name"},{title:"Designation",field:"employee_designation_name"},{title:"Work Location",field:"employee_work_location_name"}],data:[],filters:{firstName:"",lastName:"",fromDOB:null,toDOB:null,fromAge:"",toAge:"",gender:"",mobile:"",email:"",country:"",state:"",city:"",postalCode:"",employeeId:"",fromDateOfJoining:null,toDateOfJoining:null,designation:"",fromSalary:"",toSalary:"",workLocation:"",shift:""},openAdd:!1,openEdit:!1,openFilter:!1,shifts:[],workLocations:[],dataReceived:!1,designations:[]},a.OnEditHandler=function(e,t){console.log(t._id),a.setState({dataReceived:!1}),X.a.post("/employees/employee",{_id:t._id}).then((function(e){console.log(e),a.EditData=Object(F.a)({},e.data.Employee),console.log(a.EditData[0]),a.setState({openEdit:!0,dataReceived:!0})}))},a.dataFetch=function(){X.a.get("/employees/employees").then((function(e){a.handleClose(e),a.setState({dataReceived:!0})})).catch((function(e){}))},a.handleClose=function(e){for(var t=function(t){e.data.Employees[t].id=t+1,a.state.designations.find((function(n,i){return n._id===e.data.Employees[t].employee_designation?e.data.Employees[t].employee_designation_name=n.designation_name:i!==a.state.designations.length-1||e.data.Employees[t].employee_designation_name||(e.data.Employees[t].employee_designation_name=" Problem Loading Data"),null})),a.state.workLocations.find((function(n,i){return n._id===e.data.Employees[t].employee_work_location?e.data.Employees[t].employee_work_location_name=n.work_location_name:i!==a.state.workLocations.length-1||e.data.Employees[t].employee_work_location_name||(e.data.Employees[t].employee_work_location_name=" Problem Loading Data"),null})),a.state.shifts.find((function(n,i){return n._id===e.data.Employees[t].employee_shift?e.data.Employees[t].employee_shift_name=n.shift_name:i!==a.state.shifts.length-1||e.data.Employees[t].employee_shift_name||(e.data.Employees[t].employee_shift_name=" Problem Loading Data"),null}))},n=0;n<e.data.Employees.length;n++)t(n);a.setState({data:Object(Q.a)(e.data.Employees)})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;le(this.props,"Manage Employees")&&0===this.state.shifts.length&&0===this.state.designations.length&&0===this.state.workLocations.length&&(this.setState({dataReceived:!1}),X.a.get("/shifts/shifts").then((function(t){e.setState({shifts:t.data.Shifts}),X.a.get("/work-locations/work-locations").then((function(t){e.setState({workLocations:t.data.WorkLocations}),X.a.get("/designations/designations").then((function(t){e.setState({designations:t.data.Designations}),e.dataFetch()}))}))})))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Manage Employees"),i.a.createElement(m.a,{width:"90%",display:"flex",flexDirection:"row"},i.a.createElement(R.a,{variant:"contained",color:"primary",style:{marginBottom:"20px",display:"flex",marginRight:"10px"},size:"large",onClick:function(){e.setState({openAdd:!0})}},"Add"),i.a.createElement(R.a,{variant:"contained",color:"primary",style:{marginBottom:"20px",display:"flex"},size:"large",onClick:function(){e.setState({openFilter:!0})}},"Filters")),i.a.createElement(m.a,{width:"90%"},this.state.dataReceived?null:i.a.createElement(Y.a,null)),i.a.createElement(H.a,{title:" ",columns:this.state.columns,data:this.state.data,style:{width:"90%",maxHeight:"500px",overflow:"auto"},options:{sorting:!0,headerStyle:{backgroundColor:"#3f51b5",color:"#FFF"}},actions:[{icon:"edit",tooltip:"Edit",onClick:function(t,a){e.OnEditHandler(t,a)}}],editable:{onRowDelete:function(t){return X.a.post("/employees/delete-employee",{_id:t._id}).then((function(a){console.log(a),a&&e.setState((function(e){var a=Object(Q.a)(e.data);return a.splice(a.indexOf(t),1),Object(F.a)({},e,{data:a})}))}))}},onRowClick:function(t,a){e.OnEditHandler(t,a)}}),i.a.createElement(J.a,{open:this.state.openAdd,maxWidth:"lg",fullWidth:!0},i.a.createElement(G.a,{style:{padding:"20px"}},i.a.createElement(he,{cancel:function(){e.setState({openAdd:!1}),e.dataFetch()}}))),i.a.createElement(J.a,{open:this.state.openEdit,maxWidth:"lg",fullWidth:!0},i.a.createElement(G.a,{style:{padding:"20px"}},i.a.createElement(_e,{Employee:this.EditData[0],cancel:function(){e.setState({openEdit:!1}),e.dataFetch()}}))),i.a.createElement(J.a,{open:this.state.openFilter,maxWidth:"lg",fullWidth:!0},i.a.createElement(G.a,{style:{padding:"20px"}},i.a.createElement(ye,{filters:this.state.filters,setData:function(t){e.handleClose(t)},cancel:function(){e.setState({openFilter:!1})},saveFilters:function(t){e.setState((function(e){e.filters=t})),e.setState({openFilter:!1})}}))))}}]),t}(n.Component),Ee=oe,ve=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={employee_id:"",user_name:"",password:"",password2:"",role:"",errors:[],success:!1,Roles:[],Employees:[],dataReceived:!1},a.onAddHandler=function(){a.setState({dataReceived:!1}),X.a.post("/users/add-user",{employee_id:a.state.employee_id,name:a.state.user_name,password:a.state.password,password2:a.state.password2,role:a.state.role}).then((function(e){console.log(e),e.data.errors.length>0?(console.log(e.data.errors),a.setState({errors:Object(Q.a)(e.data.errors),success:!1,dataReceived:!0})):(a.setState({dataReceived:!0}),a.props.cancel())})).catch((function(e){return console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;le(this.props,"Manage Users")&&(this.setState({dataReceived:!1}),X.a.get("/employees/employees").then((function(t){console.log(t.data.Employees),e.setState({Employees:Object(Q.a)(t.data.Employees)}),X.a.get("/roles/roles").then((function(t){console.log(t.data.Roles),e.setState({Roles:Object(Q.a)(t.data.Roles),dataReceived:!0})}))})))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:Ee.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Add User"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:Ee.box_msg,bgcolor:"#f73067",key:t},e)})):null,i.a.createElement(m.a,{width:"94%"},this.state.dataReceived?null:i.a.createElement(Y.a,null)),i.a.createElement(ie,null,i.a.createElement(m.a,{style:Ee.box_field},i.a.createElement($.a,{size:"small",variant:"outlined",fullWidth:!0,display:"flex"},i.a.createElement(re.a,{size:"small",id:"employee",disableClearable:!0,options:this.state.Employees,getOptionLabel:function(e){return e.employee_first_name},renderInput:function(e){return i.a.createElement(Z.a,Object.assign({},e,{required:!0,label:"Select Employee",variant:"outlined"}))},value:this.state.employee_id,onChange:function(t,a){e.setState({employee_id:a})}}))),i.a.createElement(m.a,{style:Ee.box_field},i.a.createElement(Z.a,{size:"small",fullWidth:!0,required:!0,value:this.state.user_name,variant:"outlined",label:"User Name",type:"text",onChange:function(t){e.setState({user_name:t.target.value})}})),i.a.createElement(m.a,{style:Ee.box_field},i.a.createElement(Z.a,{size:"small",fullWidth:!0,required:!0,value:this.state.password,variant:"outlined",label:"Password",type:"password",onChange:function(t){e.setState({password:t.target.value})}})),i.a.createElement(m.a,{style:Ee.box_field},i.a.createElement(Z.a,{size:"small",fullWidth:!0,required:!0,value:this.state.password2,variant:"outlined",label:"Confirm Password",type:"password",onChange:function(t){e.setState({password2:t.target.value})}})),i.a.createElement(m.a,{style:Ee.box_field},i.a.createElement($.a,{size:"small",required:!0,variant:"outlined",fullWidth:!0},i.a.createElement(ee.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select Role"),i.a.createElement(te.a,{required:!0,value:this.state.role,onChange:function(t){console.log(t.target.value),e.setState({role:t.target.value})}},this.state.Roles.map((function(e,t){return i.a.createElement(z.a,{selected:!0,key:t,value:e._id},e.role_name)})))))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"90%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:this.onAddHandler},"Add"))))}}]),t}(n.Component),xe=oe,Se=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={employee_id:"",user_name:"",password:"",password2:"",errors:[],success:!1,role:"",Roles:[],Employees:[],dataReceived:!1},a.onEditHandler=function(){a.setState({dataReceived:!1}),X.a.post("/users/edit-user",{name:a.state.user_name,password:a.state.password,password2:a.state.password2,role:a.state.role}).then((function(e){console.log(e),e.data.errors?e.data.errors.length>0&&(console.log(e.data.errors),a.setState({errors:Object(Q.a)(e.data.errors),success:!1,dataReceived:!0})):(a.setState({dataReceived:!0}),a.props.cancel())})).catch((function(e){return console.log(e)}))},a.onGetEmployee=function(e){X.a.post("/employees/employee",{_id:e}).then((function(e){console.log(e.data.Employee[0]),a.setState({employee_id:e.data.Employee[0]})}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;le(this.props,"Manage Users")&&(this.setState({dataReceived:!1}),X.a.get("/roles/roles").then((function(t){e.setState({Roles:t.data.Roles}),X.a.get("/employees/employees").then((function(t){console.log(t.data.Employees),e.setState({Employees:Object(Q.a)(t.data.Employees)}),e.onGetEmployee(e.props.user.employee_id),e.setState({user_name:e.props.user.name,role:e.props.user.role,dataReceived:!0})}))})))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:xe.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Edit User"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:xe.box_msg,bgcolor:"#f73067",key:t},e)})):!0===this.state.success?i.a.createElement(m.a,{bgcolor:"#3df45b",style:xe.box_msg},"Registration Successful"):i.a.createElement(m.a,null),i.a.createElement(m.a,{width:"94%"},this.state.dataReceived?null:i.a.createElement(Y.a,null)),i.a.createElement(ie,null,i.a.createElement(m.a,{style:xe.box_field},i.a.createElement($.a,{size:"small",variant:"outlined",fullWidth:!0,display:"flex"},i.a.createElement(re.a,{size:"small",id:"employee",disabled:!0,disableClearable:!0,options:this.state.Employees,getOptionLabel:function(e){return e.employee_first_name},renderInput:function(e){return i.a.createElement(Z.a,Object.assign({},e,{required:!0,label:"Select Employee",variant:"outlined"}))},value:this.state.employee_id,onChange:function(t,a){e.setState({employee_id:a})}}))),i.a.createElement(m.a,{style:xe.box_field},i.a.createElement(Z.a,{disabled:!0,size:"small",fullWidth:!0,required:!0,value:this.state.user_name,variant:"outlined",label:"User Name",type:"text",onChange:function(t){e.setState({user_name:t.target.value})}})),i.a.createElement(m.a,{style:{width:"100%"}},i.a.createElement(m.a,{style:xe.box_field},i.a.createElement(Z.a,{size:"small",fullWidth:!0,required:!0,value:this.state.password,variant:"outlined",label:"Password",type:"password",onChange:function(t){e.setState({password:t.target.value})}})),i.a.createElement(m.a,{style:xe.box_field},i.a.createElement(Z.a,{fullWidth:!0,size:"small",required:!0,value:this.state.password2,variant:"outlined",label:"Confirm Password",type:"password",onChange:function(t){e.setState({password2:t.target.value})}}))),i.a.createElement(m.a,{style:xe.box_field},i.a.createElement($.a,{size:"small",variant:"outlined",fullWidth:!0},i.a.createElement(ee.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select Role"),i.a.createElement(te.a,{required:!0,value:this.state.role,onChange:function(t){console.log(t.target.value),e.setState({role:t.target.value})}},this.state.Roles.map((function(e,t){return i.a.createElement(z.a,{selected:!0,key:t,value:e._id},e.role_name)})))))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"97%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px",style:{display:"flex"}},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px",style:{display:""}},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:this.onEditHandler},"Update"))))}}]),t}(n.Component),Ce=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).EditData={},a.state={columns:[{title:"ID",field:"id"},{title:"Employee ID",field:"employee_id"},{title:"Name",field:"name"},{title:"Role",field:"role"}],data:[],openAdd:!1,openEdit:!1,msg:"",progress:0,progressLength:0,completed:0,dataReceived:!1},a.OnEditHandler=function(e,t){a.setState({dataReceived:!1}),X.a.post("/users/user",{name:t.name}).then((function(e){a.EditData=Object(F.a)({},e.data.Users[0]),console.log("Edit Data",a.EditData),a.setState({dataReceived:!0,openEdit:!0})}))},a.handleClose=function(){a.setState({progress:0,progressLength:0,completed:0,dataReceived:!1}),X.a.get("/users/users").then((function(e){console.log(e.data.Users),a.setState({progressLength:e.data.Users.length}),console.log(e.data.Users);for(var t=function(t){e.data.Users[t].id=t+1,X.a.post("/roles/role",{_id:e.data.Users[t].role}).then((function(n){n.data.Role[0]?(console.log("role: ",n.data.Role[0].role_name),e.data.Users[t].role=n.data.Role[0].role_name,a.setState({data:Object(Q.a)(e.data.Users)})):(e.data.Users[t].role="problem loading role",a.setState({data:Object(Q.a)(e.data.Users)})),X.a.post("/employees/employee",{_id:e.data.Users[t].employee_id}).then((function(n){a.setState((function(e){e.dataReceived=!0,e.progress++,e.completed=e.progress/e.progressLength*100})),n.data.Employee[0]?(console.log("employee: ",n.data.Employee[0].employee_id),e.data.Users[t].employee_id=n.data.Employee[0].employee_id,a.setState({data:Object(Q.a)(e.data.Users)})):(e.data.Users[t].employee_id="problem loading Employee ID",a.setState({data:Object(Q.a)(e.data.Users)}))}))}))},n=0;n<e.data.Users.length;n++)t(n);a.setState({data:Object(Q.a)(e.data.Users)})}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){le(this.props,"Manage Users")&&this.handleClose()}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Manage User"),i.a.createElement(m.a,{width:"90%"},i.a.createElement(R.a,{variant:"contained",color:"primary",style:{marginBottom:"20px",display:"flex"},size:"large",onClick:function(){e.setState({openAdd:!0})}},"Add Users")),i.a.createElement(m.a,{width:"90%"},this.state.dataReceived?100!==this.state.completed?i.a.createElement(Y.a,{variant:"determinate",value:this.state.completed}):null:i.a.createElement(Y.a,null)),i.a.createElement(H.a,{title:"",columns:this.state.columns,data:this.state.data,style:{width:"90%",maxHeight:"500px",overflow:"auto"},options:{sorting:!0,headerStyle:{backgroundColor:"#3f51b5",color:"#FFF"}},actions:[{icon:"edit",tooltip:"Edit User",onClick:function(t,a){e.OnEditHandler(t,a)}}],editable:{onRowDelete:function(t){return X.a.post("/users/delete-user",{_id:t._id}).then((function(a){console.log(a),a&&e.setState((function(e){var a=Object(Q.a)(e.data);return a.splice(a.indexOf(t),1),Object(F.a)({},e,{data:a})}))}))}},onRowClick:function(t,a){e.OnEditHandler(t,a)}}),i.a.createElement(J.a,{open:this.state.openAdd,maxWidth:"lg",fullWidth:!0},i.a.createElement(G.a,{style:{padding:"20px"}},i.a.createElement(ve,{cancel:function(){e.setState({openAdd:!1,msg:"Added"}),e.handleClose()},snack:function(){e.openSnack()}}))),i.a.createElement(J.a,{open:this.state.openEdit,maxWidth:"lg",fullWidth:!0},i.a.createElement(G.a,{style:{padding:"20px"}},i.a.createElement(Se,{user:this.EditData,cancel:function(){e.setState({openEdit:!1,msg:"Updated"}),e.handleClose()},snack:function(){e.openSnack()}}))))}}]),t}(n.Component),we=a(944),De=a(947),Re=a(492),Me=a(561),ke=[{name:"Manage Employees",value:!1,component:"management"},{name:"Manage Users",value:!1,component:"management"},{name:"Manage Roles",value:!1,component:"management"},{name:"Manage Products",value:!1,component:"management"},{name:"Manage Raw Materials",value:!1,component:"management"},{name:"Manage Vendors",value:!1,component:"management"},{name:"Manage Distributors",value:!1,component:"management"},{name:"Manage Countries",value:!1,component:"management"},{name:"Manage States",value:!1,component:"management"},{name:"Manage Cities",value:!1,component:"management"},{name:"Manage Work Locations",value:!1,component:"management"},{name:"Manage Shifts",value:!1,component:"management"},{name:"Manage Measuring Units",value:!1,component:"management"},{name:"Manage Material Types",value:!1,component:"management"},{name:"Manage Departments",value:!1,component:"management"},{name:"Manage Production Units",value:!1,component:"management"},{name:"Manage Designations",value:!1,component:"management"},{name:"Manage Boxes",value:!1,component:"management"},{name:"Purchase Requests",value:!1,component:"requests"},{name:"Purchase Report",value:!1,component:"reports"},{name:"Production and Sales Report",value:!1,component:"reports"},{name:"Product Code",value:!1,component:"configurations"},{name:"Currency",value:!1,component:"configurations"},{name:"Manage Purchase",value:!1,component:"purchase"},{name:"Manage Purchase Wastages",value:!1,component:"purchase"},{name:"Manage Purchase Stocks",value:!1,component:"purchase"},{name:"Manage Finance",value:!1,component:"finance"},{name:"Manage PreProduction",value:!1,component:"production"},{name:"Manage Production",value:!1,component:"production"},{name:"Manage Raw Material Request",value:!1,component:"production"},{name:"Manage Wastage",value:!1,component:"production"},{name:"Manage Unit Request",value:!1,component:"production"},{name:"Manage Quality Check",value:!1,component:"production"},{name:"Manage Sales",value:!1,component:"production"},{name:"Manage Product Stock",value:!1,component:"production"},{name:"Manage Raw Material Stock",value:!1,component:"production"},{name:"Manage Unit",value:!1,component:"production"}],Oe=oe,je=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={role_name:"",description:"",permissions:ke,management:!1,requests:!1,reports:!1,configurations:!1,finance:!1,purchase:!1,production:!1,errors:[],success:!1,dataReceived:!1},a.manageSelected=0,a.requestSelected=0,a.reportSelected=0,a.configurationSelected=0,a.purchaseSelected=0,a.financeSelected=0,a.productionSelected=0,a.onAddHandler=function(){a.setState({dataReceived:!1});var e=[];a.state.management&&e.push({name:"Management",Value:!0}),a.state.reports&&e.push({name:"Reports",Value:!0}),a.state.requests&&e.push({name:"Requests",Value:!0}),a.state.configurations&&e.push({name:"Configurations",Value:!0}),a.state.purchase&&e.push({name:"Purchase",Value:!0}),a.state.finance&&e.push({name:"Finance",Value:!0}),a.state.production&&e.push({name:"Production",Value:!0}),a.state.permissions.map((function(t){return!0===t.value&&e.push(t),null})),X.a.post("/roles/add-role",{role_name:a.state.role_name,description:a.state.description,permissions:e}).then((function(e){console.log(e),e.data.errors.length>0?(console.log(e.data.errors),a.setState({errors:Object(Q.a)(e.data.errors),success:!1,dataReceived:!0})):(a.setState({dataReceived:!0}),a.props.cancel(),a.props.snack())})).catch((function(e){return console.log(e)}))},a.onCheckHandle=function(e,t){switch(e){case"management":t?a.manageSelected++:a.manageSelected--,a.manageSelected>0?a.setState({management:!0}):a.setState({management:!1});break;case"reports":console.log("reports ".concat(t)),t?a.reportSelected++:a.reportSelected--,a.reportSelected>0?a.setState({reports:!0}):a.setState({reports:!1});break;case"requests":console.log("requests ".concat(t)),t?a.requestSelected++:a.requestSelected--,a.requestSelected>0?a.setState({requests:!0}):a.setState({requests:!1});break;case"configurations":console.log("configurations ".concat(t)),t?a.configurationSelected++:a.configurationSelected--,a.configurationSelected>0?a.setState({configurations:!0}):a.setState({configurations:!1});break;case"purchase":console.log("purchase ".concat(t)),t?a.purchaseSelected++:a.purchaseSelected--,a.purchaseSelected>0?a.setState({purchase:!0}):a.setState({purchase:!1});break;case"finance":console.log("finance ".concat(t)),t?a.financeSelected++:a.financeSelected--,a.financeSelected>0?a.setState({finance:!0}):a.setState({finance:!1});break;case"production":console.log("production ".concat(t)),t?a.productionSelected++:a.productionSelected--,a.productionSelected>0?a.setState({production:!0}):a.setState({production:!1})}},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){le(this.props,"Manage Roles")&&this.setState({dataReceived:!0})}},{key:"componentWillUnmount",value:function(){this.state.permissions.map((function(e){return!0===e.value&&(e.value=!1),null}))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:Oe.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Add Role"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:Oe.box_msg,bgcolor:"#f73067",key:t},e)})):!0===this.state.success?i.a.createElement(m.a,{bgcolor:"#3df45b",style:Oe.box_msg},"Registration Successful"):i.a.createElement(m.a,null),i.a.createElement(m.a,{width:"94%"},this.state.dataReceived?null:i.a.createElement(Y.a,null)),i.a.createElement(ie,null,i.a.createElement(m.a,{style:Oe.box_field},i.a.createElement(Z.a,{fullWidth:!0,required:!0,value:this.state.role_name,variant:"outlined",label:"Role Name",type:"text",onChange:function(t){e.setState({role_name:t.target.value})}})),i.a.createElement(m.a,{style:Oe.box_field},i.a.createElement(Z.a,{fullWidth:!0,multiline:!0,value:this.state.description,variant:"outlined",label:"Description",type:"text",onChange:function(t){e.setState({description:t.target.value})}})),i.a.createElement(m.a,{fontWeight:"bold",fontSize:"20px",mb:1,display:"flex",justifyContent:"flex-start",width:"100%"},"Permissions*"),i.a.createElement(m.a,{display:"flex",flexWrap:"wrap",maxHeight:"200px",overflow:"auto",border:"2px solid #dbdbdb",padding:"5px"},i.a.createElement(m.a,{width:"20%",display:"flex"},i.a.createElement(Re.a,{control:i.a.createElement(Me.a,{checked:this.state.management,value:this.state.management,onClick:function(){e.setState({}),e.setState((function(t){t.management=!t.management,!0===t.management?t.permissions.map((function(t){return"management"===t.component&&!1===t.value&&(t.value=!0,e.manageSelected++),null})):t.permissions.map((function(e){return"management"===e.component&&(e.value=!1),null}))}))}}),label:"Management"})),i.a.createElement(m.a,{width:"20%",display:"flex"},i.a.createElement(Re.a,{control:i.a.createElement(Me.a,{checked:this.state.requests,value:this.state.requests,onClick:function(){e.setState({}),e.setState((function(t){t.requests=!t.requests,!0===t.requests?t.permissions.map((function(t){return"requests"===t.component&&!1===t.value&&(t.value=!0,e.requestSelected++),null})):t.permissions.map((function(e){return"requests"===e.component&&(e.value=!1),null}))}))}}),label:"Requests"})),i.a.createElement(m.a,{width:"20%",display:"flex"},i.a.createElement(Re.a,{control:i.a.createElement(Me.a,{checked:this.state.reports,value:this.state.reports,onClick:function(){e.setState({}),e.setState((function(t){t.reports=!t.reports,!0===t.reports?t.permissions.map((function(t){return"reports"===t.component&&!1===t.value&&(t.value=!0,e.reportSelected++),null})):t.permissions.map((function(e){return"reports"===e.component&&(e.value=!1),null}))}))}}),label:"Reports"})),i.a.createElement(m.a,{width:"20%",display:"flex"},i.a.createElement(Re.a,{control:i.a.createElement(Me.a,{checked:this.state.purchase,value:this.state.purchase,onClick:function(){e.setState({}),e.setState((function(t){t.purchase=!t.purchase,!0===t.purchase?t.permissions.map((function(t){return"purchase"===t.component&&!1===t.value&&(t.value=!0,e.purchaseSelected++),null})):t.permissions.map((function(e){return"purchase"===e.component&&(e.value=!1),null}))}))}}),label:"Purchase"})),i.a.createElement(m.a,{width:"20%",display:"flex"},i.a.createElement(Re.a,{control:i.a.createElement(Me.a,{checked:this.state.finance,value:this.state.finance,onClick:function(){e.setState({}),e.setState((function(t){t.finance=!t.finance,!0===t.finance?t.permissions.map((function(t){return"finance"===t.component&&!1===t.value&&(t.value=!0,e.financeSelected++),null})):t.permissions.map((function(e){return"finance"===e.component&&(e.value=!1),null}))}))}}),label:"Finance"})),i.a.createElement(m.a,{width:"20%",display:"flex"},i.a.createElement(Re.a,{control:i.a.createElement(Me.a,{checked:this.state.production,value:this.state.production,onClick:function(){e.setState({}),e.setState((function(t){t.production=!t.production,!0===t.production?t.permissions.map((function(t){return"production"===t.component&&!1===t.value&&(t.value=!0,e.productionSelected++),null})):t.permissions.map((function(e){return"production"===e.component&&(e.value=!1),null}))}))}}),label:"Production"})),i.a.createElement(m.a,{width:"20%",display:"flex"},i.a.createElement(Re.a,{control:i.a.createElement(Me.a,{checked:this.state.configurations,value:this.state.configurations,onClick:function(){e.setState({}),e.setState((function(t){t.configurations=!t.configurations,!0===t.configurations?t.permissions.map((function(t){return"configurations"===t.component&&!1===t.value&&(t.value=!0,e.configurationSelected++),null})):t.permissions.map((function(e){return"configurations"===e.component&&(e.value=!1),null}))}))}}),label:"Configurations"})),this.state.permissions.map((function(t,a){return i.a.createElement(m.a,{width:"20%",display:"flex",key:a},i.a.createElement(Re.a,{control:i.a.createElement(Me.a,{checked:t.value,onClick:function(a){t.value=!t.value,console.log(t.component),e.onCheckHandle(t.component,t.value),e.setState({permissions:Object(Q.a)(e.state.permissions)})},value:"".concat(t.name)}),label:"".concat(t.name)}))})))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"90%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:this.onAddHandler},"Add"))))}}]),t}(n.Component),ze=oe,Pe=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={_id:"",role_name:"",description:"",permissions:ke,management:!1,requests:!1,reports:!1,configurations:!1,finance:!1,purchase:!1,production:!1,errors:[],success:!1,open:!1,dataReceived:!1},a.manageSelected=0,a.requestSelected=0,a.reportSelected=0,a.purchaseSelected=0,a.configurationSelected=0,a.financeSelected=0,a.productionSelected=0,a.onEditHandler=function(){var e=[];a.setState({dataReceived:!1}),a.state.management&&e.push({name:"Management",Value:!0}),a.state.reports&&e.push({name:"Reports",Value:!0}),a.state.requests&&e.push({name:"Requests",Value:!0}),a.state.configurations&&e.push({name:"Configurations",Value:!0}),a.state.purchase&&e.push({name:"Purchase",Value:!0}),a.state.finance&&e.push({name:"Finance",Value:!0}),a.state.production&&e.push({name:"Production",Value:!0}),a.state.permissions.map((function(t){return!0===t.value&&e.push(t),null})),X.a.post("/roles/edit-role",{_id:a.state._id,role_name:a.state.role_name,description:a.state.description,permissions:e}).then((function(e){console.log(e),e.data.errors.length>0?(console.log(e.data.errors),a.setState({errors:Object(Q.a)(e.data.errors),success:!1,dataReceived:!0})):(a.state.permissions.map((function(e){return e.value=!1,null})),a.setState({dataReceived:!0}),a.props.snack(),a.props.cancel())})).catch((function(e){return console.log(e)}))},a.onCheckHandle=function(e,t){switch(e){case"management":console.log("management ".concat(t)),t?a.manageSelected++:a.manageSelected--,a.manageSelected>0?a.setState({management:!0}):a.setState({management:!1});break;case"reports":console.log("reports ".concat(t)),t?a.reportSelected++:a.reportSelected--,a.reportSelected>0?a.setState({reports:!0}):a.setState({reports:!1});break;case"requests":console.log("requests ".concat(t)),t?a.requestSelected++:a.requestSelected--,a.requestSelected>0?a.setState({requests:!0}):a.setState({requests:!1});break;case"configurations":console.log("configurations ".concat(t)),t?a.configurationSelected++:a.configurationSelected--,a.configurationSelected>0?a.setState({configurations:!0}):a.setState({configurations:!1});break;case"purchase":console.log("purchase ".concat(t)),t?a.purchaseSelected++:a.purchaseSelected--,a.purchaseSelected>0?a.setState({purchase:!0}):a.setState({purchase:!1});break;case"finance":console.log("finance ".concat(t)),t?a.financeSelected++:a.financeSelected--,a.financeSelected>0?a.setState({finance:!0}):a.setState({finance:!1});break;case"production":console.log("production ".concat(t)),t?a.productionSelected++:a.productionSelected--,a.productionSelected>0?a.setState({production:!0}):a.setState({production:!1})}},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;le(this.props,"Manage Roles")&&(this.setState({dataReceived:!1}),""===this.state.role_name&&(this.setState({role_name:this.props.role.role_name,description:this.props.role.description,_id:this.props.role._id}),this.state.permissions.map((function(t){return e.props.role.permissions.map((function(a){return t.name===a.name&&("management"===a.component?(e.setState({management:!0}),e.manageSelected++):"requests"===a.component?(e.setState({requests:!0}),e.requestSelected++):"reports"===a.component?(e.setState({reports:!0}),e.reportSelected++):"purchase"===a.component?(e.setState({purchase:!0}),e.purchaseSelected++):"configurations"===a.component?(e.setState({configurations:!0}),e.configurationSelected++):"finance"===a.component?(e.setState({finance:!0}),e.financeSelected++):"production"===a.component&&(e.setState({production:!0}),e.productionSelected++),t.value=!0),null})),null})),this.setState({dataReceived:!0})))}},{key:"componentWillUnmount",value:function(){this.state.permissions.map((function(e){return e.value=!1,null}))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:ze.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Edit Role"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:ze.box_msg,bgcolor:"#f73067",key:t},e)})):!0===this.state.success?i.a.createElement(m.a,{bgcolor:"#3df45b",style:ze.box_msg},"Registration Successful"):i.a.createElement(m.a,null),i.a.createElement(m.a,{width:"94%"},this.state.dataReceived?null:i.a.createElement(Y.a,null)),i.a.createElement(ie,null,i.a.createElement(m.a,{style:ze.box_field},i.a.createElement(Z.a,{fullWidth:!0,required:!0,value:this.state.role_name,variant:"outlined",label:"Role Name",type:"text",onChange:function(t){e.setState({role_name:t.target.value})}})),i.a.createElement(m.a,{style:ze.box_field},i.a.createElement(Z.a,{fullWidth:!0,multiline:!0,value:this.state.description,variant:"outlined",label:"Description",type:"text",onChange:function(t){e.setState({description:t.target.value})}})),i.a.createElement(m.a,{fontWeight:"bold",fontSize:"20px",mb:1,display:"flex",justifyContent:"flex-start",width:"100%"},"Permissions*"),i.a.createElement(m.a,{display:"flex",flexWrap:"wrap",maxHeight:"200px",overflow:"auto",border:"2px solid #dbdbdb",padding:"5px"},i.a.createElement(m.a,{width:"20%",display:"flex"},i.a.createElement(Re.a,{control:i.a.createElement(Me.a,{checked:this.state.management,value:this.state.management,onClick:function(){e.setState({}),e.setState((function(t){t.management=!t.management,!0===t.management?t.permissions.map((function(t){return"management"===t.component&&!1===t.value&&(t.value=!0,e.manageSelected++),null})):t.permissions.map((function(e){return"management"===e.component&&(e.value=!1),null}))}))}}),label:"Management"})),i.a.createElement(m.a,{width:"20%",display:"flex"},i.a.createElement(Re.a,{control:i.a.createElement(Me.a,{checked:this.state.requests,value:this.state.requests,onClick:function(){e.setState({}),e.setState((function(t){t.requests=!t.requests,!0===t.requests?t.permissions.map((function(t){return"requests"===t.component&&!1===t.value&&(t.value=!0,e.requestSelected++),null})):t.permissions.map((function(e){return"requests"===e.component&&(e.value=!1),null}))}))}}),label:"Requests"})),i.a.createElement(m.a,{width:"20%",display:"flex"},i.a.createElement(Re.a,{control:i.a.createElement(Me.a,{checked:this.state.reports,value:this.state.reports,onClick:function(){e.setState({}),e.setState((function(t){t.reports=!t.reports,!0===t.reports?t.permissions.map((function(t){return"reports"===t.component&&!1===t.value&&(t.value=!0,e.reportSelected++),null})):t.permissions.map((function(e){return"reports"===e.component&&(e.value=!1),null}))}))}}),label:"Reports"})),i.a.createElement(m.a,{width:"20%",display:"flex"},i.a.createElement(Re.a,{control:i.a.createElement(Me.a,{checked:this.state.purchase,value:this.state.purchase,onClick:function(){e.setState({}),e.setState((function(t){t.purchase=!t.purchase,!0===t.purchase?t.permissions.map((function(t){return"purchase"===t.component&&!1===t.value&&(t.value=!0,e.purchaseSelected++),null})):t.permissions.map((function(e){return"purchase"===e.component&&(e.value=!1),null}))}))}}),label:"Purchase"})),i.a.createElement(m.a,{width:"20%",display:"flex"},i.a.createElement(Re.a,{control:i.a.createElement(Me.a,{checked:this.state.finance,value:this.state.finance,onClick:function(){e.setState({}),e.setState((function(t){t.finance=!t.finance,!0===t.finance?t.permissions.map((function(t){return"finance"===t.component&&!1===t.value&&(t.value=!0,e.financeSelected++),null})):t.permissions.map((function(e){return"finance"===e.component&&(e.value=!1),null}))}))}}),label:"Finance"})),i.a.createElement(m.a,{width:"20%",display:"flex"},i.a.createElement(Re.a,{control:i.a.createElement(Me.a,{checked:this.state.production,value:this.state.production,onClick:function(){e.setState({}),e.setState((function(t){t.production=!t.production,!0===t.production?t.permissions.map((function(t){return"production"===t.component&&!1===t.value&&(t.value=!0,e.productionSelected++),null})):t.permissions.map((function(e){return"production"===e.component&&(e.value=!1),null}))}))}}),label:"Production"})),i.a.createElement(m.a,{width:"20%",display:"flex"},i.a.createElement(Re.a,{control:i.a.createElement(Me.a,{checked:this.state.configurations,value:this.state.configurations,onClick:function(){e.setState({}),e.setState((function(t){t.configurations=!t.configurations,!0===t.configurations?t.permissions.map((function(t){return"configurations"===t.component&&!1===t.value&&(t.value=!0,e.configurationSelected++),null})):t.permissions.map((function(e){return"configurations"===e.component&&(e.value=!1),null}))}))}}),label:"Configurations"})),this.state.permissions.map((function(t,a){return i.a.createElement(m.a,{width:"20%",display:"flex",key:a},i.a.createElement(Re.a,{control:i.a.createElement(Me.a,{checked:t.value,onClick:function(a){t.value=!t.value,console.log(t.component),e.onCheckHandle(t.component,t.value),e.setState({permissions:Object(Q.a)(e.state.permissions)})},value:"".concat(t.name)}),label:"".concat(t.name)}))})))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"90%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:this.onEditHandler},"Update"))))}}]),t}(n.Component),Ie=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).EditData={},a.state={columns:[{title:"ID",field:"id"},{title:"Role Name",field:"role_name"},{title:"Description",field:"description"}],data:[],open:!1,openAdd:!1,openEdit:!1,msg:"",dataReceived:!1},a.onEditHandler=function(e,t){a.setState({dataReceived:!1}),X.a.post("/roles/role",{_id:t._id}).then((function(e){a.EditData=Object(F.a)({},e.data.Role[0]),console.log("Edit ",a.EditData),a.setState({openEdit:!0,dataReceived:!0})}))},a.handleClose=function(){a.setState({dataReceived:!1}),X.a.get("/roles/roles").then((function(e){console.log(e.data);for(var t=0;t<e.data.Roles.length;t++)e.data.Roles[t].id=t+1;a.setState({data:Object(Q.a)(e.data.Roles),dataReceived:!0})})).catch((function(){}))},a.openSnack=function(){a.setState({open:!0})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){le(this.props,"Manage Roles")&&this.handleClose()}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Manage Role"),i.a.createElement(m.a,{width:"90%"},i.a.createElement(R.a,{variant:"contained",color:"primary",style:{marginBottom:"20px",display:"flex"},size:"large",onClick:function(){e.setState({openAdd:!0})}},"Add Role")),i.a.createElement(m.a,{width:"90%"},this.state.dataReceived?null:i.a.createElement(Y.a,null)),i.a.createElement(H.a,{title:"",columns:this.state.columns,data:this.state.data,style:{width:"90%",maxHeight:"500px",overflow:"auto"},options:{sorting:!0,headerStyle:{backgroundColor:"#3f51b5",color:"#FFF"}},actions:[{icon:"edit",tooltip:"edit Role",onClick:function(t,a){e.onEditHandler(t,a)}}],editable:{onRowDelete:function(t){return X.a.post("/roles/delete-role",{role_name:t.role_name}).then((function(a){console.log(a),a&&(e.setState((function(e){var a=Object(Q.a)(e.data);return a.splice(a.indexOf(t),1),Object(F.a)({},e,{data:a})})),e.setState({msg:"Deleted"}),e.openSnack())}))}},onRowClick:function(t,a){e.onEditHandler(t,a)}}),i.a.createElement(J.a,{open:this.state.openAdd,maxWidth:"lg",fullWidth:!0},i.a.createElement(G.a,{style:{padding:"20px"}},i.a.createElement(je,{cancel:function(){e.setState({openAdd:!1,msg:"Added"}),e.handleClose()},snack:function(){e.openSnack()}}))),i.a.createElement(J.a,{open:this.state.openEdit,maxWidth:"lg",fullWidth:!0},i.a.createElement(G.a,{style:{padding:"20px"}},i.a.createElement(Pe,{role:this.EditData,cancel:function(){e.setState({openEdit:!1,msg:"Updated"}),e.handleClose()},snack:function(){e.openSnack()}}))),i.a.createElement(we.a,{open:this.state.open,autoHideDuration:3e3,onClose:function(){e.setState({open:!1})}},i.a.createElement(De.a,{onClose:function(){e.setState({open:!1})},severity:"success",elevation:6,variant:"filled"},"Role ",this.state.msg,"!")))}}]),t}(n.Component),We=function(e){var t=!1,a="",n=!1,i=e.target,o=i.name,l=i.value;switch(console.log(o,l),o){case"shift_name":l.length>20?(t=!0,a="must have less than 20 characters"):0===l.length?(t=!0,a="Name required"):(t=!1,a="",n=!0);break;case"description":l.length>200?(t=!0,a="must have less than 200 characters"):(t=!1,a="",n=!0)}return{status:t,msg:a,isValid:n}},qe=oe,Ue=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={shift_name:"",description:"",errors:[],success:!1,fieldError:{shift_name:{status:!1,msg:""},description:{status:!1,msg:""}},isValid:!1,dataReceived:!1},a.onAddHandler=function(){a.setState({}),""===a.state.shift_name?a.setState((function(e){e.fieldError.shift_name.status=!0,e.fieldError.shift_name.msg="Name required"})):(a.setState({dataReceived:!1}),X.a.post("/shifts/add-shift",{shift_name:a.state.shift_name,description:a.state.description}).then((function(e){console.log(e),e.data.errors.length>0?(console.log(e.data.errors),a.setState({errors:Object(Q.a)(e.data.errors),success:!1,dataReceived:!0})):(a.setState({dataReceived:!0}),a.props.cancel())})).catch((function(e){return console.log(e)})))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){le(this.props,"Manage Shifts")&&this.setState({dataReceived:!0})}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:qe.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Add Shift"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:qe.box_msg,bgcolor:"#f73067",key:t},e)})):!0===this.state.success?i.a.createElement(m.a,{bgcolor:"#3df45b",style:qe.box_msg},"Registration Successful"):null,i.a.createElement(m.a,{width:"94%"},this.state.dataReceived?null:i.a.createElement(Y.a,null)),i.a.createElement(ie,null,i.a.createElement(m.a,{style:qe.box_field},i.a.createElement(Z.a,{name:"shift_name",size:"small",fullWidth:!0,required:!0,value:this.state.shift_name,variant:"outlined",label:"Shift Name",type:"text",onChange:function(t){e.setState({shift_name:t.target.value});var a=We(t),n=a.status,i=a.msg,o=a.isValid;e.setState((function(e){e.fieldError.shift_name.status=n,e.fieldError.shift_name.msg=i,e.isValid=o}))},error:this.state.fieldError.shift_name.status,helperText:this.state.fieldError.shift_name.msg})),i.a.createElement(m.a,{style:qe.box_field},i.a.createElement(Z.a,{name:"description",size:"small",fullWidth:!0,multiline:!0,value:this.state.description,variant:"outlined",label:"Description",type:"text",onChange:function(t){e.setState({description:t.target.value});var a=We(t),n=a.status,i=a.msg,o=a.isValid;e.setState((function(e){e.fieldError.description.status=n,e.fieldError.description.msg=i,e.isValid=o}))},error:this.state.fieldError.description.status,helperText:this.state.fieldError.description.msg}))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",disabled:!this.state.isValid,onClick:this.onAddHandler},"Add"))))}}]),t}(n.Component),Te=oe,Le=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={_id:"",shift_name:"",description:"",errors:[],success:!1,fieldError:{shift_name:{status:!1,msg:""},description:{status:!1,msg:""}},isValid:!1,dataReceived:!1},a.onEditHandler=function(){a.setState({}),""===a.state.shift_name?a.setState((function(e){e.fieldError.shift_name.status=!0,e.fieldError.shift_name.msg="Name required"})):(a.setState({dataReceived:!1}),X.a.post("/shifts/edit-shift",{_id:a.state._id,shift_name:a.state.shift_name,description:a.state.description}).then((function(e){console.log(e),e.data.errors&&(e.data.errors.length>0?(console.log(e.data.errors),a.setState({errors:Object(Q.a)(e.data.errors),success:!1,dataReceived:!0})):(a.setState({dataReceived:!0}),a.props.cancel()))})).catch((function(e){return console.log(e)})))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){le(this.props,"Manage Shifts")&&(this.setState({dataReceived:!1}),""===this.state.shift_name&&this.setState({shift_name:this.props.shift.shift_name,description:this.props.shift.description,_id:this.props.shift._id,dataReceived:!0}))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:Te.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Edit Shift"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:Te.box_msg,bgcolor:"#f73067",key:t},e)})):!0===this.state.success?i.a.createElement(m.a,{bgcolor:"#3df45b",style:Te.box_msg},"Registration Successful"):null,i.a.createElement(m.a,{width:"94%"},this.state.dataReceived?null:i.a.createElement(Y.a,null)),i.a.createElement(ie,null,i.a.createElement(m.a,{style:Te.box_field},i.a.createElement(Z.a,{name:"shift_name",size:"small",fullWidth:!0,required:!0,value:this.state.shift_name,variant:"outlined",label:"Shift Name",type:"text",onChange:function(t){e.setState({shift_name:t.target.value});var a=We(t),n=a.status,i=a.msg,o=a.isValid;e.setState((function(e){e.fieldError.shift_name.status=n,e.fieldError.shift_name.msg=i,e.isValid=o}))},error:this.state.fieldError.shift_name.status,helperText:this.state.fieldError.shift_name.msg})),i.a.createElement(m.a,{style:Te.box_field},i.a.createElement(Z.a,{name:"description",size:"small",fullWidth:!0,multiline:!0,value:this.state.description,variant:"outlined",label:"Description",type:"text",onChange:function(t){e.setState({description:t.target.value});var a=We(t),n=a.status,i=a.msg,o=a.isValid;e.setState((function(e){e.fieldError.description.status=n,e.fieldError.description.msg=i,e.isValid=o}))},error:this.state.fieldError.description.status,helperText:this.state.fieldError.description.msg}))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",disabled:!this.state.isValid,onClick:this.onEditHandler},"Update"))))}}]),t}(n.Component),Ae=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).EditData={},a.state={columns:[{title:"ID",field:"id"},{title:"Shift Name",field:"shift_name"},{title:"Description",field:"description"}],data:[],openAdd:!1,dataReceived:!1,openEdit:!1},a.OnEditHandler=function(e,t){a.setState({dataReceived:!1}),X.a.post("/shifts/shift",{_id:t._id}).then((function(e){console.log(e),a.EditData=Object(F.a)({},e.data.shift[0]),console.log(a.EditData),a.setState({dataReceived:!0,openEdit:!0})}))},a.handleClose=function(){a.setState({dataReceived:!1}),X.a.get("/shifts/shifts").then((function(e){console.log(e.data);for(var t=0;t<e.data.Shifts.length;t++)e.data.Shifts[t].id=t+1;a.setState({data:Object(Q.a)(e.data.Shifts),dataReceived:!0})}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){le(this.props,"Manage Shifts")&&this.handleClose()}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Manage Shift"),i.a.createElement(m.a,{width:"90%"},i.a.createElement(R.a,{variant:"contained",color:"primary",style:{marginBottom:"20px",display:"flex"},size:"large",onClick:function(){e.setState({openAdd:!0})}},"Add Shift")),i.a.createElement(m.a,{width:"90%"},this.state.dataReceived?null:i.a.createElement(Y.a,null)),i.a.createElement(H.a,{title:" ",columns:this.state.columns,data:this.state.data,style:{width:"90%",maxHeight:"500px",overflow:"auto"},options:{sorting:!0,headerStyle:{backgroundColor:"#3f51b5",color:"#FFF"}},actions:[{icon:"edit",tooltip:"Edit User",onClick:function(t,a){e.OnEditHandler(t,a)}}],editable:{onRowDelete:function(t){return X.a.post("/shifts/delete-shift",{shift_name:t.shift_name}).then((function(a){console.log(a),a&&e.setState((function(e){var a=Object(Q.a)(e.data);return a.splice(a.indexOf(t),1),Object(F.a)({},e,{data:a})}))}))}},onRowClick:function(t,a){e.OnEditHandler(t,a)}}),i.a.createElement(J.a,{open:this.state.openAdd,maxWidth:"lg",fullWidth:!0},i.a.createElement(G.a,{style:{padding:"20px"}},i.a.createElement(Ue,{cancel:function(){e.setState({openAdd:!1}),e.handleClose()}}))),i.a.createElement(J.a,{open:this.state.openEdit,maxWidth:"lg",fullWidth:!0},i.a.createElement(G.a,{style:{padding:"20px"}},i.a.createElement(Le,{shift:this.EditData,cancel:function(){e.setState({openEdit:!1}),e.handleClose()}}))))}}]),t}(n.Component),Ne=function(e){var t=!1,a="",n=!1,i=e.target,o=i.name,l=i.value;switch(console.log(o,l),o){case"state_name":l.length>20?(t=!0,a="must have less than 20 characters"):0===l.length?(t=!0,a="Name required"):(t=!1,a="",n=!0);break;case"description":l.length>200?(t=!0,a="must have less than 200 characters"):(t=!1,a="",n=!0)}return{status:t,msg:a,isValid:n}},Be=oe,Qe=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={state_name:"",country_id:"",description:"",errors:[],success:!1,states:[],Countries:[],fieldError:{state_name:{status:!1,msg:""},country:{status:!1,msg:""},description:{status:!1,msg:""}},isValid:!1,dataReceived:!1},a.onAddHandler=function(){""===a.state.country_id?(a.setState({}),a.setState((function(e){e.fieldError.country.status=!0})),a.setState({errors:["Select Country"]})):(a.setState({dataReceived:!1}),X.a.post("/states/add-state",{state_name:a.state.state_name,country_id:a.state.country_id,description:a.state.description}).then((function(e){console.log(e),e.data.errors.length>0?(console.log(e.data.errors),a.setState({errors:Object(Q.a)(e.data.errors),success:!1,dataReceived:!0})):(a.setState({dataReceived:!0}),a.props.cancel())})).catch((function(e){return console.log(e)})))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;le(this.props,"Manage States")&&(this.setState({dataReceived:!1}),X.a.get("/countries/countries").then((function(t){e.setState({Countries:Object(Q.a)(t.data.Countries),dataReceived:!0})})))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:Be.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Add State"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:Be.box_msg,bgcolor:"#f73067",key:t},e)})):!0===this.state.success?i.a.createElement(m.a,{bgcolor:"#3df45b",style:Be.box_msg},"Registration Successful"):null,i.a.createElement(m.a,{width:"94%"},this.state.dataReceived?null:i.a.createElement(Y.a,null)),i.a.createElement(ie,null,i.a.createElement(m.a,{style:Be.box_field},i.a.createElement(Z.a,{size:"small",name:"state_name",fullWidth:!0,required:!0,value:this.state.state_name,variant:"outlined",label:"State Name",type:"text",onChange:function(t){e.setState({state_name:t.target.value});var a=Ne(t),n=a.status,i=a.msg,o=a.isValid;e.setState((function(e){e.fieldError.state_name.status=n,e.fieldError.state_name.msg=i,e.isValid=o}))},error:this.state.fieldError.state_name.status,helperText:this.state.fieldError.state_name.msg})),i.a.createElement($.a,{size:"small",variant:"outlined",fullWidth:!0,display:"flex",marginBottom:"10px"},i.a.createElement(re.a,{size:"small",id:"country",disableClearable:!0,options:this.state.Countries,getOptionLabel:function(e){return e.country_name},renderInput:function(e){return i.a.createElement(Z.a,Object.assign({},e,{required:!0,label:"Select Country",variant:"outlined"}))},value:this.state.distributor_country,onChange:function(t,a){console.log(a),e.setState({country_id:a})}})),i.a.createElement(m.a,{mt:"10px",style:Be.box_field},i.a.createElement(Z.a,{size:"small",name:"description",fullWidth:!0,value:this.state.description,variant:"outlined",label:"Description",type:"text",onChange:function(t){e.setState({description:t.target.value});var a=Ne(t),n=a.status,i=a.msg,o=a.isValid;e.setState((function(e){e.fieldError.description.status=n,e.fieldError.description.msg=i,e.isValid=o}))},error:this.state.fieldError.description.status,helperText:this.state.fieldError.description.msg}))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",disabled:!this.state.isValid,onClick:this.onAddHandler},"Add"))))}}]),t}(n.Component),Fe=oe,Ve=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={_id:"",state_name:"",country_id:"",description:"",errors:[],success:!1,countries:[],fieldError:{state_name:{status:!1,msg:""},country:{status:!1,msg:""},description:{status:!1,msg:""}},isValid:!1,dataReceived:!1},a.onGetCountry=function(e){X.a.post("/countries/country",{_id:e}).then((function(e){console.log(e.data.Country[0]),a.setState({country_id:e.data.Country[0]})}))},a.onEditHandler=function(){""===a.state.country_id?(a.setState({}),a.setState((function(e){e.fieldError.country.status=!0})),a.setState({errors:["Select Country"]})):(a.setState({dataReceived:!1}),X.a.post("/states/edit-state",{_id:a.state._id,state_name:a.state.state_name,country_id:a.state.country_id,description:a.state.description}).then((function(e){console.log(e),e.data.errors&&(e.data.errors.length>0?(console.log(e.data.errors),a.setState({errors:Object(Q.a)(e.data.errors),success:!1,dataReceived:!0})):(a.setState({dataReceived:!0}),a.props.cancel()))})).catch((function(e){return console.log(e)})))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;le(this.props,"Manage States")&&(this.setState({dataReceived:!1}),X.a.get("/countries/countries").then((function(t){e.setState({countries:Object(Q.a)(t.data.Countries)}),e.onGetCountry(e.props.state.country_id),""===e.state.state_name&&(console.log(e.props.state),e.setState({_id:e.props.state._id,state_name:e.props.state.state_name,description:e.props.state.description,dataReceived:!0}))})))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:Fe.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Edit State"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:Fe.box_msg,bgcolor:"#f73067",key:t},e)})):!0===this.state.success?i.a.createElement(m.a,{bgcolor:"#3df45b",style:Fe.box_msg},"Registration Successful"):null,i.a.createElement(m.a,{width:"94%"},this.state.dataReceived?null:i.a.createElement(Y.a,null)),i.a.createElement(ie,null,i.a.createElement(m.a,{style:Fe.box_field},i.a.createElement(Z.a,{size:"small",name:"state_name",fullWidth:!0,required:!0,value:this.state.state_name,variant:"outlined",label:"State Name",type:"text",onChange:function(t){e.setState({state_name:t.target.value});var a=Ne(t),n=a.status,i=a.msg,o=a.isValid;e.setState((function(e){e.fieldError.state_name.status=n,e.fieldError.state_name.msg=i,e.isValid=o}))},error:this.state.fieldError.state_name.status,helperText:this.state.fieldError.state_name.msg})),i.a.createElement($.a,{size:"small",variant:"outlined",fullWidth:!0,display:"flex",marginBottom:"10px"},i.a.createElement(re.a,{size:"small",id:"country",disableClearable:!0,options:this.state.countries,getOptionLabel:function(e){return e.country_name},renderInput:function(e){return i.a.createElement(Z.a,Object.assign({},e,{required:!0,label:"Select Country",variant:"outlined"}))},value:this.state.country_id,onChange:function(t,a){console.log(a),e.setState({country_id:a,isValid:!0}),e.setState((function(e){e.fieldError.country.status=!1})),e.setState({errors:[]})},error:this.state.fieldError.country.status})),i.a.createElement(m.a,{mt:"10px",style:Fe.box_field},i.a.createElement(Z.a,{size:"small",name:"description",fullWidth:!0,value:this.state.description,variant:"outlined",label:"Description",type:"text",onChange:function(t){e.setState({description:t.target.value});var a=Ne(t),n=a.status,i=a.msg,o=a.isValid;e.setState((function(e){e.fieldError.description.status=n,e.fieldError.description.msg=i,e.isValid=o}))},error:this.state.fieldError.description.status,helperText:this.state.fieldError.description.msg}))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",disabled:!this.state.isValid,onClick:this.onEditHandler},"Add"))))}}]),t}(n.Component),He=a(218),Ye=a.n(He),Ge=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={bulk_upload:[]},a.onBulkAddHandler=function(){a.state.bulk_upload.map((function(e){return console.log(e[1]),X.a.post("/countries/country-name",{country_name:e[1]}).then((function(t){console.log(t),X.a.post("/states/add-state",{state_name:e[0],country_id:t.data.Country[0]._id,description:e[2]}).then((function(e){console.log(e),e.data.errors.length>0&&(console.log(e.data.errors),a.setState({errors:Object(Q.a)(e.data.errors),success:!1}))})).catch((function(e){return console.log(e)}))})).catch((function(e){console.log(e),a.props.cancel()})),null}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{display:"flex",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",fontWeight:"bold"},"State CSV upload"),i.a.createElement(m.a,{display:"flex"},i.a.createElement(m.a,{display:"flex",flex:"2",alignItems:"center"},i.a.createElement(Ye.a,{onFileLoaded:function(t){console.log(t);var a=t.length-2;console.log(a),(t=t.splice(1,a)).push("EOF"),e.setState({bulk_upload:Object(Q.a)(t)})}})),i.a.createElement(m.a,{display:"flex",alignSelf:"flex-end",flex:"1"},i.a.createElement(R.a,{style:{marginRight:"10px"},variant:"contained",color:"primary",onClick:function(){e.onBulkAddHandler()}},"upload"),i.a.createElement(R.a,{variant:"contained",color:"primary",onClick:function(){e.props.cancel()}},"cancel"))))}}]),t}(n.Component),Je=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).EditData={},a.state={columns:[{title:"ID",field:"id"},{title:"State Name",field:"state_name"},{title:"Country Name",field:"country_id"},{title:"Description",field:"description"}],data:[],openAdd:!1,openEdit:!1,openUploadCSV:!1,samp:"hello",progress:0,progressLength:0,completed:0,dataReceived:!1},a.OnEditHandler=function(e,t){console.log(t._id),a.setState({dataReceived:!1}),X.a.post("/states/state",{_id:t._id}).then((function(e){console.log(e),a.EditData=Object(F.a)({},e.data.state),console.log(a.EditData[0]),a.setState({dataReceived:!0,openEdit:!0})}))},a.handleClose=function(){a.setState({progress:0,progressLength:0,completed:0,dataReceived:!1}),X.a.get("/states/states").then((function(e){a.setState({progressLength:e.data.States.length});for(var t=function(t){e.data.States[t].id=t+1,X.a.post("/countries/country",{_id:e.data.States[t].country_id}).then((function(n){a.setState((function(e){e.dataReceived=!0,e.progress++,e.completed=e.progress/e.progressLength*100})),n.data.Country[0]?(console.log(n.data.Country[0].country_name),e.data.States[t].country_id=n.data.Country[0].country_name,a.setState({data:Object(Q.a)(e.data.States)})):(e.data.States[t].country_id="problem loading country",a.setState({data:Object(Q.a)(e.data.States)}))}))},n=0;n<e.data.States.length;n++)t(n)})).catch((function(e){console.log("Error")}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){le(this.props,"Manage States")&&this.handleClose()}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Manage State"),i.a.createElement(m.a,{width:"90%",display:"flex",flexDirection:"row"},i.a.createElement(R.a,{variant:"contained",color:"primary",style:{marginBottom:"20px",display:"flex",marginRight:"10px"},size:"large",onClick:function(){e.setState({openAdd:!0})}},"Add State"),i.a.createElement(R.a,{variant:"contained",color:"primary",style:{marginBottom:"20px",display:"flex"},size:"large",onClick:function(){e.setState({openUploadCSV:!0})}},"Upload CSV")),i.a.createElement(m.a,{width:"90%"},this.state.dataReceived?100!==this.state.completed?i.a.createElement(Y.a,{variant:"determinate",value:this.state.completed}):null:i.a.createElement(Y.a,null)),i.a.createElement(H.a,{title:" ",columns:this.state.columns,data:this.state.data,style:{width:"90%",maxHeight:"500px",overflow:"auto"},options:{sorting:!0,headerStyle:{backgroundColor:"#3f51b5",color:"#FFF"}},actions:[{icon:"edit",tooltip:"Edit User",onClick:function(t,a){e.OnEditHandler(t,a)}}],editable:{onRowDelete:function(t){return X.a.post("/states/delete-state",{state_name:t.state_name}).then((function(a){console.log(a),a&&e.setState((function(e){var a=Object(Q.a)(e.data);return a.splice(a.indexOf(t),1),Object(F.a)({},e,{data:a})}))}))}},onRowClick:function(t,a){e.OnEditHandler(t,a)}}),i.a.createElement(J.a,{open:this.state.openAdd,maxWidth:"lg",fullWidth:!0},i.a.createElement(G.a,{style:{padding:"20px"}},i.a.createElement(Qe,{cancel:function(){e.setState({openAdd:!1}),e.handleClose()}}))),i.a.createElement(J.a,{open:this.state.openEdit,maxWidth:"lg",fullWidth:!0},i.a.createElement(G.a,{style:{padding:"20px"}},i.a.createElement(Ve,{state:this.EditData[0],cancel:function(){e.setState({openEdit:!1}),e.handleClose()}}))),i.a.createElement(J.a,{open:this.state.openUploadCSV,maxWidth:"sm",fullWidth:!0},i.a.createElement(G.a,{style:{padding:"20px"}},i.a.createElement(Ge,{cancel:function(){e.setState({openUploadCSV:!1}),e.handleClose()}}))))}}]),t}(n.Component),Ke=function(e){var t=!1,a="",n=!1,i=e.target,o=i.name,l=i.value;switch(console.log(o,l),o){case"country_name":l.length>20?(t=!0,a="must have less than 20 characters"):0===l.length?(t=!0,a="Name required"):(t=!1,a="",n=!0);break;case"description":l.length>200?(t=!0,a="must have less than 200 characters"):(t=!1,a="",n=!0)}return{status:t,msg:a,isValid:n}},Xe=oe,Ze=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={country_name:"",description:"",errors:[],success:!1,fieldError:{country_name:{status:!1,msg:""},description:{status:!1,msg:""}},isValid:!1,dataReceived:!1},a.onAddHandler=function(){a.setState({dataReceived:!1}),X.a.post("/countries/add-country",{country_name:a.state.country_name,description:a.state.description}).then((function(e){console.log(e),e.data.errors.length>0?(console.log(e.data.errors),a.setState({errors:Object(Q.a)(e.data.errors),success:!1,dataReceived:!0})):(a.setState({dataReceived:!0}),a.props.cancel())})).catch((function(e){return console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){le(this.props,"Manage Countries")&&this.setState({dataReceived:!0})}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:Xe.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Add Country"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:Xe.box_msg,bgcolor:"#f73067",key:t},e)})):!0===this.state.success?i.a.createElement(m.a,{bgcolor:"#3df45b",style:Xe.box_msg},"Registration Successful"):null,i.a.createElement(m.a,{width:"94%"},this.state.dataReceived?null:i.a.createElement(Y.a,null)),i.a.createElement(ie,null,i.a.createElement(m.a,{style:Xe.box_field},i.a.createElement(Z.a,{name:"country_name",fullWidth:!0,required:!0,value:this.state.country_name,variant:"outlined",label:"Country Name",type:"text",size:"small",onChange:function(t){e.setState({country_name:t.target.value});var a=Ke(t),n=a.status,i=a.msg,o=a.isValid;e.setState((function(e){e.fieldError.country_name.status=n,e.fieldError.country_name.msg=i,e.isValid=o}))},error:this.state.fieldError.country_name.status,helperText:this.state.fieldError.country_name.msg})),i.a.createElement(m.a,{style:Xe.box_field},i.a.createElement(Z.a,{name:"description",fullWidth:!0,value:this.state.description,variant:"outlined",label:"Description",type:"text",size:"small",onChange:function(t){e.setState({description:t.target.value});var a=Ke(t),n=a.status,i=a.msg,o=a.isValid;e.setState((function(e){e.fieldError.description.status=n,e.fieldError.description.msg=i,e.isValid=o}))},error:this.state.fieldError.description.status,helperText:this.state.fieldError.description.msg}))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:this.onAddHandler,disabled:!this.state.isValid},"Add"))))}}]),t}(n.Component),$e=oe,et=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={_id:"",country_name:"",description:"",errors:[],success:!1,fieldError:{country_name:{status:!1,msg:""},description:{status:!1,msg:""}},dataReceived:!1,isValid:!1},a.onEditHandler=function(){a.setState({dataReceived:!1}),X.a.post("/countries/edit-country",{_id:a.state._id,country_name:a.state.country_name,description:a.state.description}).then((function(e){console.log(e),e.data.errors&&(e.data.errors.length>0?(console.log(e.data.errors),a.setState({errors:Object(Q.a)(e.data.errors),success:!1,dataReceived:!0})):(a.setState({dataReceived:!0}),a.props.cancel()))})).catch((function(e){return console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){le(this.props,"Manage Countries")&&(console.log(this.props),""===this.state.country_name&&this.setState({country_name:this.props.country.country_name,description:this.props.country.description,_id:this.props.country._id,dataReceived:!0}))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:$e.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Edit Country"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:$e.box_msg,bgcolor:"#f73067",key:t},e)})):!0===this.state.success?i.a.createElement(m.a,{bgcolor:"#3df45b",style:$e.box_msg},"Registration Successful"):null,i.a.createElement(m.a,{width:"94%"},this.state.dataReceived?null:i.a.createElement(Y.a,null)),i.a.createElement(ie,null,i.a.createElement(m.a,{style:$e.box_field},i.a.createElement(Z.a,{name:"country_name",fullWidth:!0,required:!0,value:this.state.country_name,variant:"outlined",label:"Country Name",type:"text",size:"small",onChange:function(t){e.setState({country_name:t.target.value});var a=Ke(t),n=a.status,i=a.msg,o=a.isValid;e.setState((function(e){e.fieldError.country_name.status=n,e.fieldError.country_name.msg=i,e.isValid=o}))},error:this.state.fieldError.country_name.status,helperText:this.state.fieldError.country_name.msg})),i.a.createElement(m.a,{style:$e.box_field},i.a.createElement(Z.a,{name:"description",fullWidth:!0,value:this.state.description,variant:"outlined",label:"Description",type:"text",size:"small",onChange:function(t){e.setState({description:t.target.value});var a=Ke(t),n=a.status,i=a.msg,o=a.isValid;e.setState((function(e){e.fieldError.description.status=n,e.fieldError.description.msg=i,e.isValid=o}))},error:this.state.fieldError.description.status,helperText:this.state.fieldError.description.msg}))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",disabled:!this.state.isValid,onClick:this.onEditHandler},"Update"))))}}]),t}(n.Component),tt=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={bulk_upload:[]},a.onBulkAddHandler=function(){a.state.bulk_upload.map((function(e){return console.log(e[0]),X.a.post("/countries/add-country",{country_name:e[0],description:e[1]}).then((function(e){console.log(e),e.data.errors.length>0&&(console.log(e.data.errors),a.setState({errors:Object(Q.a)(e.data.errors),success:!1}))})).catch((function(e){console.log(e)})),a.props.cancel(),null}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{display:"flex",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",fontWeight:"bold"},"Country CSV upload"),i.a.createElement(m.a,{display:"flex"},i.a.createElement(m.a,{display:"flex",flex:"2",alignItems:"center"},i.a.createElement(Ye.a,{onFileLoaded:function(t){console.log(t);var a=t.length-2;console.log(a),t=t.splice(1,a),e.setState({bulk_upload:Object(Q.a)(t)})}})),i.a.createElement(m.a,{display:"flex",alignSelf:"flex-end",flex:"1"},i.a.createElement(R.a,{style:{marginRight:"10px"},variant:"contained",color:"primary",onClick:function(){e.onBulkAddHandler()}},"upload"),i.a.createElement(R.a,{variant:"contained",color:"primary",onClick:function(){e.props.cancel()}},"cancel"))))}}]),t}(n.Component),at=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).EditData={},a.state={columns:[{title:"ID",field:"id"},{title:"Country Name",field:"country_name"},{title:"Description",field:"description"}],data:[],openAdd:!1,openEdit:!1,dataReceived:!1,openUploadCSV:!1},a.OnEditHandler=function(e,t){X.a.post("/countries/country",{_id:t._id}).then((function(e){a.EditData=Object(F.a)({},e.data.Country[0]),console.log(a.EditData),a.setState({openEdit:!0})}))},a.handleClose=function(){a.setState({dataReceived:!1}),X.a.get("/countries/countries").then((function(e){console.log(e.data.Countries);for(var t=0;t<e.data.Countries.length;t++)e.data.Countries[t].id=t+1;a.setState({data:Object(Q.a)(e.data.Countries),dataReceived:!0})}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){le(this.props,"Manage Countries")&&this.handleClose()}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Manage Countries"),i.a.createElement(m.a,{width:"90%",display:"flex",flexDirection:"row"},i.a.createElement(R.a,{variant:"contained",color:"primary",style:{marginBottom:"20px",display:"flex",marginRight:"10px"},size:"large",onClick:function(){e.setState({openAdd:!0})}},"Add Countries"),i.a.createElement(R.a,{variant:"contained",color:"primary",style:{marginBottom:"20px",display:"flex"},size:"large",onClick:function(){e.setState({openUploadCSV:!0})}},"Upload CSV")),i.a.createElement(m.a,{width:"90%"},this.state.dataReceived?null:i.a.createElement(Y.a,null)),i.a.createElement(H.a,{title:" ",columns:this.state.columns,data:this.state.data,style:{width:"90%",maxHeight:"500px",overflow:"auto"},options:{sorting:!0,headerStyle:{backgroundColor:"#3f51b5",color:"#FFF"}},actions:[{icon:"edit",tooltip:"Edit User",onClick:function(t,a){e.OnEditHandler(t,a)}}],editable:{onRowDelete:function(t){return X.a.post("/countries/delete-country",{country_name:t.country_name}).then((function(a){console.log(a),a&&e.setState((function(e){var a=Object(Q.a)(e.data);return a.splice(a.indexOf(t),1),Object(F.a)({},e,{data:a})}))}))}},onRowClick:function(t,a){e.OnEditHandler(t,a)}}),i.a.createElement(J.a,{open:this.state.openAdd,maxWidth:"lg",fullWidth:!0},i.a.createElement(G.a,{style:{padding:"20px"}},i.a.createElement(Ze,{cancel:function(){e.setState({openAdd:!1}),e.handleClose()}}))),i.a.createElement(J.a,{open:this.state.openEdit,maxWidth:"lg",fullWidth:!0},i.a.createElement(G.a,{style:{padding:"20px"}},i.a.createElement(et,{country:this.EditData,cancel:function(){e.setState({openEdit:!1}),e.handleClose()}}))),i.a.createElement(J.a,{open:this.state.openUploadCSV,maxWidth:"sm",fullWidth:!0},i.a.createElement(G.a,{style:{padding:"20px"}},i.a.createElement(tt,{cancel:function(){e.setState({openUploadCSV:!1}),e.handleClose()}}))))}}]),t}(n.Component),nt=function(e){var t=!1,a="",n=!1,i=e.target,o=i.name,l=i.value;switch(console.log(o,l),o){case"city_name":l.length>20?(t=!0,a="must have less than 20 characters"):0===l.length?(t=!0,a="Name required"):(t=!1,a="",n=!0);break;case"description":l.length>200?(t=!0,a="must have less than 200 characters"):(t=!1,a="",n=!0)}return{status:t,msg:a,isValid:n}},it=oe,ot=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={city_name:"",state_id:"",description:"",errors:[],success:!1,states:[],bulk_upload:[],fieldError:{city_name:{status:!1,msg:""},state:{status:!1,msg:""},description:{status:!1,msg:""}},isValid:!1,dataReceived:!1},a.onAddHandler=function(){""===a.state.state_id?(a.setState({}),a.setState((function(e){e.fieldError.state.status=!0})),a.setState({errors:["Select State"]})):(a.setState({dataReceived:!1}),X.a.post("/cities/add-city",{city_name:a.state.city_name,state_id:a.state.state_id,description:a.state.description}).then((function(e){console.log(e),e.data.errors.length>0?(console.log(e.data.errors),a.setState({errors:Object(Q.a)(e.data.errors),dataReceived:!0,success:!1})):(a.setState({dataReceived:!0}),a.props.cancel())})).catch((function(e){return console.log(e)})))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;le(this.props,"Manage Cities")&&(this.setState({dataReceived:!1}),X.a.get("/states/states").then((function(t){e.setState({states:Object(Q.a)(t.data.States),dataReceived:!0})})))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:it.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Add City"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:it.box_msg,bgcolor:"#f73067",key:t},e)})):!0===this.state.success?i.a.createElement(m.a,{bgcolor:"#3df45b",style:it.box_msg},"Registration Successful"):null,i.a.createElement(m.a,{width:"94%"},this.state.dataReceived?null:i.a.createElement(Y.a,null)),i.a.createElement(ie,null,i.a.createElement(m.a,{style:it.box_field},i.a.createElement(Z.a,{size:"small",name:"city_name",fullWidth:!0,required:!0,value:this.state.city_name,variant:"outlined",label:"City Name",type:"text",onChange:function(t){e.setState({city_name:t.target.value});var a=nt(t),n=a.status,i=a.msg,o=a.isValid;e.setState((function(e){e.fieldError.city_name.status=n,e.fieldError.city_name.msg=i,e.isValid=o}))},error:this.state.fieldError.city_name.status,helperText:this.state.fieldError.city_name.msg})),i.a.createElement($.a,{size:"small",variant:"outlined",fullWidth:!0,display:"flex"},i.a.createElement(re.a,{size:"small",id:"state",disableClearable:!0,options:this.state.states,getOptionLabel:function(e){return e.state_name},renderInput:function(e){return i.a.createElement(Z.a,Object.assign({},e,{required:!0,label:"Select State",variant:"outlined"}))},value:this.state.state_id,onChange:function(t,a){console.log(a),e.setState({state_id:a}),e.setState((function(e){e.fieldError.state.status=!1})),e.setState({errors:[]})},error:this.state.fieldError.state.status})),i.a.createElement(m.a,{mt:"10px",style:it.box_field},i.a.createElement(Z.a,{size:"small",name:"description",fullWidth:!0,value:this.state.description,variant:"outlined",label:"Description",type:"text",onChange:function(t){e.setState({description:t.target.value});var a=nt(t),n=a.status,i=a.msg,o=a.isValid;e.setState((function(e){e.fieldError.description.status=n,e.fieldError.description.msg=i,e.isValid=o}))},error:this.state.fieldError.description.status,helperText:this.state.fieldError.description.msg}))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",disabled:!this.state.isValid,onClick:this.onAddHandler},"Add"))))}}]),t}(n.Component),lt=oe,rt=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={_id:"",city_name:"",state_id:"",description:"",errors:[],success:!1,states:[],fieldError:{city_name:{status:!1,msg:""},state:{status:!1,msg:""},description:{status:!1,msg:""}},isValid:!1,dataReceived:!1},a.onGetState=function(e){X.a.post("/states/state",{_id:e}).then((function(e){a.setState({state_id:e.data.state[0]})}))},a.onEditHandler=function(){""===a.state.state_id?(a.setState({}),a.setState((function(e){e.fieldError.state.status=!0})),a.setState({errors:["Select State"]})):(a.setState({dataReceived:!1}),X.a.post("/cities/edit-city",{_id:a.state._id,city_name:a.state.city_name,state_id:a.state.state_id,description:a.state.description}).then((function(e){console.log(e),e.data.errors&&(e.data.errors.length>0?(console.log(e.data.errors),a.setState({errors:Object(Q.a)(e.data.errors),success:!1,dataReceived:!0})):(a.setState({dataReceived:!0}),a.props.cancel()))})).catch((function(e){return console.log(e)})))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;le(this.props,"Manage Cities")&&(this.setState({dataReceived:!1}),X.a.get("/states/states").then((function(t){e.setState({states:Object(Q.a)(t.data.States)}),e.onGetState(e.props.city.state_id),""===e.state.city_name&&e.setState({_id:e.props.city._id,city_name:e.props.city.city_name,description:e.props.city.description,dataReceived:!0})})))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:lt.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Edit City"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:lt.box_msg,bgcolor:"#f73067",key:t},e)})):!0===this.state.success?i.a.createElement(m.a,{bgcolor:"#3df45b",style:lt.box_msg},"Registration Successful"):null,i.a.createElement(m.a,{width:"94%"},this.state.dataReceived?null:i.a.createElement(Y.a,null)),i.a.createElement(ie,null,i.a.createElement(m.a,{style:lt.box_field},i.a.createElement(Z.a,{size:"small",name:"city_name",fullWidth:!0,required:!0,value:this.state.city_name,variant:"outlined",label:"City Name",type:"text",onChange:function(t){e.setState({city_name:t.target.value});var a=nt(t),n=a.status,i=a.msg,o=a.isValid;e.setState((function(e){e.fieldError.city_name.status=n,e.fieldError.city_name.msg=i,e.isValid=o}))},error:this.state.fieldError.city_name.status,helperText:this.state.fieldError.city_name.msg})),i.a.createElement($.a,{size:"small",variant:"outlined",fullWidth:!0,display:"flex"},i.a.createElement(re.a,{size:"small",id:"state",disableClearable:!0,options:this.state.states,getOptionLabel:function(e){return e.state_name},renderInput:function(e){return i.a.createElement(Z.a,Object.assign({},e,{required:!0,label:"Select State",variant:"outlined"}))},value:this.state.state_id,onChange:function(t,a){console.log(a),e.setState({state_id:a,isValid:!0}),e.setState((function(e){e.fieldError.state.status=!1})),e.setState({errors:[]})},error:this.state.fieldError.state.status})),i.a.createElement(m.a,{mt:"10px",style:lt.box_field},i.a.createElement(Z.a,{size:"small",fullWidth:!0,value:this.state.description,variant:"outlined",label:"Description",type:"text",onChange:function(t){e.setState({description:t.target.value});var a=nt(t),n=a.status,i=a.msg,o=a.isValid;e.setState((function(e){e.fieldError.description.status=n,e.fieldError.description.msg=i,e.isValid=o}))},error:this.state.fieldError.description.status,helperText:this.state.fieldError.description.msg}))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",disabled:!this.state.isValid,onClick:this.onEditHandler},"Update"))))}}]),t}(n.Component),st=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={bulk_upload:[]},a.onBulkAddHandler=function(){a.state.bulk_upload.map((function(e){return X.a.post("/states/state-name",{state_name:e[1]}).then((function(t){X.a.post("/cities/add-city",{city_name:e[0],state_id:t.data.State[0]._id,description:e[2]}).then((function(e){e.data.errors.length>0&&(console.log(e.data.errors),a.setState({errors:Object(Q.a)(e.data.errors),success:!1}))})).catch((function(e){return console.log(e)}))})).catch((function(e){console.log(e),a.props.cancel()})),null}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{display:"flex",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",fontWeight:"bold"},"City CSV upload"),i.a.createElement(m.a,{display:"flex"},i.a.createElement(m.a,{display:"flex",flex:"2",alignItems:"center"},i.a.createElement(Ye.a,{onFileLoaded:function(t){var a=t.length-2;(t=t.splice(1,a)).push("EOF"),e.setState({bulk_upload:Object(Q.a)(t)})}})),i.a.createElement(m.a,{display:"flex",alignSelf:"flex-end",flex:"1"},i.a.createElement(R.a,{style:{marginRight:"10px"},variant:"contained",color:"primary",onClick:function(){e.onBulkAddHandler()}},"upload"),i.a.createElement(R.a,{variant:"contained",color:"primary",onClick:function(){e.props.cancel()}},"cancel"))))}}]),t}(n.Component),ct=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).EditData={},a.state={columns:[{title:"ID",field:"id"},{title:"City Name",field:"city_name"},{title:"State Name",field:"state_id"},{title:"Description",field:"description"}],data:[],openAdd:!1,openEdit:!1,openUploadCSV:!1,progress:0,progressLength:0,completed:0,dataReceived:!1},a.CancelToken=X.a.CancelToken,a.source=a.CancelToken.source(),a.OnEditHandler=function(e,t){console.log(t._id),a.setState({dataReceived:!1}),X.a.post("/cities/city",{_id:t._id},{cancelToken:a.source.token}).then((function(e){console.log(e),a.EditData=Object(F.a)({},e.data.city),console.log(a.EditData[0]),a.setState({dataReceived:!0,openEdit:!0})}))},a.handleClose=function(){a.setState({progress:0,progressLength:0,completed:0,dataReceived:!1}),X.a.get("/cities/cities",{cancelToken:a.source.token}).then((function(e){a.setState({progressLength:e.data.Cities.length});for(var t=function(t){e.data.Cities[t].id=t+1,X.a.post("/states/state",{_id:e.data.Cities[t].state_id},{cancelToken:a.source.token}).then((function(n){a.setState((function(e){e.dataReceived=!0,e.progress++,e.completed=e.progress/e.progressLength*100})),n.data.state[0]?(console.log(n.data.state[0].state_name),e.data.Cities[t].state_id=n.data.state[0].state_name,a.setState({data:Object(Q.a)(e.data.Cities)})):(e.data.Cities[t].state_id="problem loading state",a.setState({data:Object(Q.a)(e.data.Cities)}))})).catch((function(e){console.log(e)}))},n=0;n<e.data.Cities.length;n++)t(n)})).catch((function(e){console.log("Error")}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){le(this.props,"Manage Cities")&&this.handleClose()}},{key:"componentWillUnmount",value:function(){this.source.cancel("axios call aborted")}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Manage City"),i.a.createElement(m.a,{width:"90%",display:"flex",flexDirection:"row"},i.a.createElement(R.a,{variant:"contained",color:"primary",style:{marginBottom:"20px",display:"flex",marginRight:"10px"},size:"large",onClick:function(){e.setState({openAdd:!0})}},"Add City"),i.a.createElement(R.a,{variant:"contained",color:"primary",style:{marginBottom:"20px",display:"flex"},size:"large",onClick:function(){e.setState({openUploadCSV:!0})}},"Upload CSV")),i.a.createElement(m.a,{width:"90%"},this.state.dataReceived?100!==this.state.completed?i.a.createElement(Y.a,{variant:"determinate",value:this.state.completed}):null:i.a.createElement(Y.a,null)),i.a.createElement(H.a,{fixed:!0,title:" ",columns:this.state.columns,data:this.state.data,style:{width:"90%",maxHeight:"500px",overflow:"auto"},options:{sorting:!0,headerStyle:{backgroundColor:"#3f51b5",color:"#FFF"}},actions:[{icon:"edit",tooltip:"Edit User",onClick:function(t,a){e.OnEditHandler(t,a)}}],editable:{onRowDelete:function(t){return X.a.post("/cities/delete-city",{_id:t._id}).then((function(a){console.log(a),a&&e.setState((function(e){var a=Object(Q.a)(e.data);return a.splice(a.indexOf(t),1),Object(F.a)({},e,{data:a})}))}))}},onRowClick:function(t,a){e.OnEditHandler(t,a)}}),i.a.createElement(J.a,{open:this.state.openAdd,maxWidth:"lg",fullWidth:!0},i.a.createElement(G.a,{style:{padding:"20px"}},i.a.createElement(ot,{cancel:function(){e.setState({openAdd:!1}),e.handleClose()}}))),i.a.createElement(J.a,{open:this.state.openEdit,maxWidth:"lg",fullWidth:!0},i.a.createElement(G.a,{style:{padding:"20px"}},i.a.createElement(rt,{city:this.EditData[0],cancel:function(){e.setState({openEdit:!1}),e.handleClose()}}))),i.a.createElement(J.a,{open:this.state.openUploadCSV,maxWidth:"sm",fullWidth:!0},i.a.createElement(G.a,{style:{padding:"20px"}},i.a.createElement(st,{cancel:function(){e.setState({openUploadCSV:!1}),e.handleClose()}}))))}}]),t}(n.Component),dt=function(e){var t=!1,a="",n=!1,i=e.target,o=i.name,l=i.value;switch(o){case"measuring_unit_name":l.length>20?(t=!0,a="must have less than 20 characters"):0===l.length?(t=!0,a="Name required"):(t=!1,a="",n=!0);break;case"description":l.length>200?(t=!0,a="must have less than 200 characters"):(t=!1,a="",n=!0)}return{status:t,msg:a,isValid:n}},ut=oe,mt=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={measuring_unit_name:"",description:"",errors:[],fieldError:{measuring_unit_name:{status:!1,msg:""},description:{status:!1,msg:""}},isValid:!1,dataReceived:!1},a.onAddHandler=function(){a.setState({dataReceived:!1}),X.a.post("/measuring-units/add-measuring-unit",{measuring_unit_name:a.state.measuring_unit_name,description:a.state.description}).then((function(e){console.log(e),e.data.errors.length>0?(console.log(e.data.errors),a.setState({errors:Object(Q.a)(e.data.errors),dataReceived:!0})):(a.setState({dataReceived:!0}),a.props.cancel())})).catch((function(e){return console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){le(this.props,"Manage Measuring Units")&&this.setState({isValid:!1,dataReceived:!0})}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:ut.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Add Measuring Unit"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:ut.box_msg,bgcolor:"#f73067",key:t},e)})):null,i.a.createElement(m.a,{width:"94%"},this.state.dataReceived?null:i.a.createElement(Y.a,null)),i.a.createElement(ie,null,i.a.createElement(m.a,{style:ut.box_field},i.a.createElement(Z.a,{name:"measuring_unit_name",size:"small",fullWidth:!0,required:!0,value:this.state.measuring_unit_name,variant:"outlined",label:"Measuring Unit Name",type:"text",onChange:function(t){e.setState({measuring_unit_name:t.target.value});var a=dt(t),n=a.status,i=a.msg,o=a.isValid;e.setState((function(e){e.fieldError.measuring_unit_name.status=n,e.fieldError.measuring_unit_name.msg=i,e.isValid=o}))},error:this.state.fieldError.measuring_unit_name.status,helperText:this.state.fieldError.measuring_unit_name.msg})),i.a.createElement(m.a,{style:ut.box_field},i.a.createElement(Z.a,{name:"description",size:"small",multiline:!0,rowsMax:4,fullWidth:!0,value:this.state.description,variant:"outlined",label:"Description",type:"text",onChange:function(t){e.setState({description:t.target.value});var a=dt(t),n=a.status,i=a.msg,o=a.isValid;e.setState((function(e){e.fieldError.description.status=n,e.fieldError.description.msg=i,e.isValid=o}))},error:this.state.fieldError.description.status,helperText:this.state.fieldError.description.msg}))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",disabled:!this.state.isValid,onClick:this.onAddHandler},"Add"))))}}]),t}(n.Component),pt=oe,gt=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={_id:"",measuring_unit_name:"",description:"",errors:[],fieldError:{measuring_unit_name:{status:!1,msg:""},description:{status:!1,msg:""}},isValid:!1,dataReceived:!1},a.onEditHandler=function(){a.setState({dataReceived:!1}),X.a.post("/measuring-units/edit-measuring-unit",{_id:a.state._id,measuring_unit_name:a.state.measuring_unit_name,description:a.state.description}).then((function(e){console.log(e),e.data.errors&&(e.data.errors.length>0?(console.log(e.data.errors),a.setState({isValid:!1,errors:Object(Q.a)(e.data.errors),dataReceived:!0})):(a.setState({dataReceived:!0}),a.props.cancel()))})).catch((function(e){return console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){le(this.props,"Manage Measuring Units")&&(console.log(this.props),""===this.state.measuring_unit_name&&this.setState({measuring_unit_name:this.props.MeasuringUnit.measuring_unit_name,description:this.props.MeasuringUnit.description,_id:this.props.MeasuringUnit._id,dataReceived:!0}))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:pt.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Edit Measuring Unit"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:pt.box_msg,bgcolor:"#f73067",key:t},e)})):!0===this.state.success?i.a.createElement(m.a,{bgcolor:"#3df45b",style:pt.box_msg},"Registration Successful"):null,i.a.createElement(m.a,{width:"94%"},this.state.dataReceived?null:i.a.createElement(Y.a,null)),i.a.createElement(ie,null,i.a.createElement(m.a,{style:pt.box_field},i.a.createElement(Z.a,{name:"measuring_unit_name",size:"small",fullWidth:!0,required:!0,value:this.state.measuring_unit_name,variant:"outlined",label:"Measuring Unit Name",type:"text",onChange:function(t){e.setState({measuring_unit_name:t.target.value});var a=dt(t),n=a.status,i=a.msg,o=a.isValid;console.log(n,i),e.setState((function(e){e.fieldError.measuring_unit_name.status=n,e.fieldError.measuring_unit_name.msg=i,e.isValid=o}))},error:this.state.fieldError.measuring_unit_name.status,helperText:this.state.fieldError.measuring_unit_name.msg})),i.a.createElement(m.a,{style:pt.box_field},i.a.createElement(Z.a,{name:"description",size:"small",fullWidth:!0,value:this.state.description,variant:"outlined",label:"Description",type:"text",onChange:function(t){e.setState({description:t.target.value});var a=dt(t),n=a.status,i=a.msg,o=a.isValid;e.setState((function(e){e.fieldError.description.status=n,e.fieldError.description.msg=i,e.isValid=o}))},error:this.state.fieldError.description.status,helperText:this.state.fieldError.description.msg}))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",disabled:!this.state.isValid,onClick:this.onEditHandler},"Update"))))}}]),t}(n.Component),ht=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).EditData={},a.state={columns:[{title:"ID",field:"id"},{title:"Measuring Unit Name",field:"measuring_unit_name"},{title:"Description",field:"description"}],data:[],openAdd:!1,openEdit:!1,openUploadCSV:!1,dataReceived:!1},a.OnEditHandler=function(e,t){a.setState({dataReceived:!1}),X.a.post("/measuring-units/measuring-unit",{_id:t._id}).then((function(e){console.log(e),a.EditData=Object(F.a)({},e.data.MeasuringUnit[0]),console.log(a.EditData),a.setState({dataReceived:!0,openEdit:!0})}))},a.handleClose=function(){a.setState({dataReceived:!1}),X.a.get("/measuring-units/measuring-units").then((function(e){console.log(e.data.MeasuringUnits);for(var t=0;t<e.data.MeasuringUnits.length;t++)e.data.MeasuringUnits[t].id=t+1;a.setState({data:Object(Q.a)(e.data.MeasuringUnits),dataReceived:!0})}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){le(this.props,"Manage Measuring Units")&&this.handleClose()}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Manage Measuring Units"),i.a.createElement(m.a,{width:"90%",display:"flex",flexDirection:"row"},i.a.createElement(R.a,{variant:"contained",color:"primary",style:{marginBottom:"20px",display:"flex",marginRight:"10px"},size:"large",onClick:function(){e.setState({openAdd:!0})}},"Add")),i.a.createElement(m.a,{width:"90%"},this.state.dataReceived?null:i.a.createElement(Y.a,null)),i.a.createElement(H.a,{title:" ",columns:this.state.columns,data:this.state.data,style:{width:"90%",maxHeight:"500px",overflow:"auto"},options:{sorting:!0,headerStyle:{backgroundColor:"#3f51b5",color:"#FFF"}},actions:[{icon:"edit",tooltip:"Edit User",onClick:function(t,a){e.OnEditHandler(t,a)}}],editable:{onRowDelete:function(t){return X.a.post("/measuring-units/delete-measuring-unit",{measuring_unit_name:t.measuring_unit_name}).then((function(a){console.log(a),a&&e.setState((function(e){var a=Object(Q.a)(e.data);return a.splice(a.indexOf(t),1),Object(F.a)({},e,{data:a})}))}))}},onRowClick:function(t,a){e.OnEditHandler(t,a)}}),i.a.createElement(J.a,{open:this.state.openAdd,maxWidth:"lg",fullWidth:!0},i.a.createElement(G.a,{style:{padding:"20px"}},i.a.createElement(mt,{cancel:function(){e.setState({openAdd:!1}),e.handleClose()}}))),i.a.createElement(J.a,{open:this.state.openEdit,maxWidth:"lg",fullWidth:!0},i.a.createElement(G.a,{style:{padding:"20px"}},i.a.createElement(gt,{MeasuringUnit:this.EditData,cancel:function(){e.setState({openEdit:!1}),e.handleClose()}}))))}}]),t}(n.Component),ft=function(e){var t=!1,a="",n=!1,i=e.target,o=i.name,l=i.value;switch(console.log(o,l),o){case"material_type_name":l.length>20?(t=!0,a="must have less than 20 characters"):0===l.length?(t=!0,a="Name required"):(t=!1,a="",n=!0);break;case"description":l.length>200?(t=!0,a="must have less than 200 characters"):(t=!1,a="",n=!0)}return{status:t,msg:a,isValid:n}},_t=oe,yt=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={material_type_name:"",description:"",errors:[],success:!1,fieldError:{material_type_name:{status:!1,msg:""},description:{status:!1,msg:""}},isValid:!1,dataReceived:!1},a.onAddHandler=function(){a.setState({}),""===a.state.material_type_name?a.setState((function(e){e.fieldError.material_type_name.status=!0,e.fieldError.material_type_name.msg="Name required"})):(a.setState({dataReceived:!1}),X.a.post("/material-types/add-material-type",{material_type_name:a.state.material_type_name,description:a.state.description}).then((function(e){console.log(e),e.data.errors.length>0?(console.log(e.data.errors),a.setState({errors:Object(Q.a)(e.data.errors),success:!1,dataReceived:!0})):(a.setState({dataReceived:!0}),a.props.cancel())})).catch((function(e){return console.log(e)})))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){le(this.props,"Manage Material Types")}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:_t.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Add Material Type"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:_t.box_msg,bgcolor:"#f73067",key:t},e)})):!0===this.state.success?i.a.createElement(m.a,{bgcolor:"#3df45b",style:_t.box_msg},"Registration Successful"):null,i.a.createElement(m.a,{width:"90%"},this.state.dataReceived?null:i.a.createElement(Y.a,null)),i.a.createElement(ie,null,i.a.createElement(m.a,{style:_t.box_field},i.a.createElement(Z.a,{name:"material_type_name",size:"small",fullWidth:!0,required:!0,value:this.state.material_type_name,variant:"outlined",label:"Material Type Name",type:"text",onChange:function(t){e.setState({material_type_name:t.target.value});var a=ft(t),n=a.status,i=a.msg,o=a.isValid;e.setState((function(e){e.fieldError.material_type_name.status=n,e.fieldError.material_type_name.msg=i,e.isValid=o}))},error:this.state.fieldError.material_type_name.status,helperText:this.state.fieldError.material_type_name.msg})),i.a.createElement(m.a,{style:_t.box_field},i.a.createElement(Z.a,{name:"description",size:"small",fullWidth:!0,value:this.state.description,variant:"outlined",label:"Description",type:"text",onChange:function(t){e.setState({description:t.target.value});var a=ft(t),n=a.status,i=a.msg,o=a.isValid;e.setState((function(e){e.fieldError.description.status=n,e.fieldError.description.msg=i,e.isValid=o}))},error:this.state.fieldError.description.status,helperText:this.state.fieldError.description.msg}))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",disabled:!this.state.isValid,onClick:this.onAddHandler},"Add"))))}}]),t}(n.Component),bt=oe,Et=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={_id:"",material_type_name:"",description:"",errors:[],success:!1,fieldError:{material_type_name:{status:!1,msg:""},description:{status:!1,msg:""}},isValid:!1,dataReceived:!1},a.onEditHandler=function(){a.setState({}),""===a.state.material_type_name?a.setState((function(e){e.fieldError.material_type_name.status=!0,e.fieldError.material_type_name.msg="Name required"})):(a.setState({dataReceived:!1}),X.a.post("/material-types/edit-material-type",{_id:a.state._id,material_type_name:a.state.material_type_name,description:a.state.description}).then((function(e){console.log(e),e.data.errors&&(e.data.errors.length>0?(console.log(e.data.errors),a.setState({errors:Object(Q.a)(e.data.errors),success:!1,dataReceived:!0})):(a.setState({dataReceived:!0}),a.props.cancel()))})).catch((function(e){return console.log(e)})))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){le(this.props,"Manage Material Types")&&(console.log(this.props),""===this.state.material_type_name&&this.setState({material_type_name:this.props.MaterialType.material_type_name,description:this.props.MaterialType.description,_id:this.props.MaterialType._id,dataReceived:!0}))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:bt.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Edit Material Type"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:bt.box_msg,bgcolor:"#f73067",key:t},e)})):!0===this.state.success?i.a.createElement(m.a,{bgcolor:"#3df45b",style:bt.box_msg},"Registration Successful"):null,i.a.createElement(m.a,{width:"94%"},this.state.dataReceived?null:i.a.createElement(Y.a,null)),i.a.createElement(ie,null,i.a.createElement(m.a,{style:bt.box_field},i.a.createElement(Z.a,{name:"material_type_name",size:"small",fullWidth:!0,required:!0,value:this.state.material_type_name,variant:"outlined",label:"Material Type Name",type:"text",onChange:function(t){e.setState({material_type_name:t.target.value});var a=ft(t),n=a.status,i=a.msg,o=a.isValid;e.setState((function(e){e.fieldError.material_type_name.status=n,e.fieldError.material_type_name.msg=i,e.isValid=o}))},error:this.state.fieldError.material_type_name.status,helperText:this.state.fieldError.material_type_name.msg})),i.a.createElement(m.a,{style:bt.box_field},i.a.createElement(Z.a,{name:"description",size:"small",fullWidth:!0,value:this.state.description,variant:"outlined",label:"Description",type:"text",onChange:function(t){e.setState({description:t.target.value});var a=ft(t),n=a.status,i=a.msg,o=a.isValid;e.setState((function(e){e.fieldError.description.status=n,e.fieldError.description.msg=i,e.isValid=o}))},error:this.state.fieldError.description.status,helperText:this.state.fieldError.description.msg}))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",disabled:!this.state.isValid,onClick:this.onEditHandler},"Update"))))}}]),t}(n.Component),vt=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).EditData={},a.state={columns:[{title:"ID",field:"id"},{title:"Material Type Name",field:"material_type_name"},{title:"Description",field:"description"}],data:[],openAdd:!1,openEdit:!1,openUploadCSV:!1,dataReceived:!1},a.OnEditHandler=function(e,t){a.setState({dataReceived:!1}),X.a.post("/material-types/material-type",{_id:t._id}).then((function(e){a.EditData=Object(F.a)({},e.data.MaterialType[0]),console.log(a.EditData),a.setState({openEdit:!0,dataReceived:!0})}))},a.handleClose=function(){a.setState({dataReceived:!1}),X.a.get("/material-types/material-types").then((function(e){console.log(e.data.MaterialTypes);for(var t=0;t<e.data.MaterialTypes.length;t++)e.data.MaterialTypes[t].id=t+1;a.setState({data:Object(Q.a)(e.data.MaterialTypes),dataReceived:!0})}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){le(this.props,"Manage Material Types")&&this.handleClose()}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Manage Material Types"),i.a.createElement(m.a,{width:"90%",display:"flex",flexDirection:"row"},i.a.createElement(R.a,{variant:"contained",color:"primary",style:{marginBottom:"20px",display:"flex",marginRight:"10px"},size:"large",onClick:function(){e.setState({openAdd:!0})}},"Add")),i.a.createElement(m.a,{width:"90%"},this.state.dataReceived?null:i.a.createElement(Y.a,null)),i.a.createElement(H.a,{title:" ",columns:this.state.columns,data:this.state.data,style:{width:"90%",maxHeight:"500px",overflow:"auto"},options:{sorting:!0,headerStyle:{backgroundColor:"#3f51b5",color:"#FFF"}},actions:[{icon:"edit",tooltip:"Edit User",onClick:function(t,a){e.OnEditHandler(t,a)}}],editable:{onRowDelete:function(t){return X.a.post("/material-types/delete-material-type",{material_type_name:t.material_type_name}).then((function(a){console.log(a),a&&e.setState((function(e){var a=Object(Q.a)(e.data);return a.splice(a.indexOf(t),1),Object(F.a)({},e,{data:a})}))}))}},onRowClick:function(t,a){e.OnEditHandler(t,a)}}),i.a.createElement(J.a,{open:this.state.openAdd,maxWidth:"lg",fullWidth:!0},i.a.createElement(G.a,{style:{padding:"20px"}},i.a.createElement(yt,{cancel:function(){e.setState({openAdd:!1}),e.handleClose()}}))),i.a.createElement(J.a,{open:this.state.openEdit,maxWidth:"lg",fullWidth:!0},i.a.createElement(G.a,{style:{padding:"20px"}},i.a.createElement(Et,{MaterialType:this.EditData,cancel:function(){e.setState({openEdit:!1}),e.handleClose()}}))))}}]),t}(n.Component),xt=oe,St=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={raw_material_name:"",raw_material_code:"",raw_material_type:"",raw_material_measuring_unit:"",description:"",errors:[],success:!1,material_types:[],measuring_units:[],dataReceived:!1},a.onAddHandler=function(){a.setState({dataReceived:!1}),X.a.post("/raw-materials/add-raw-material",{raw_material_name:a.state.raw_material_name,raw_material_code:a.state.raw_material_code,raw_material_type:a.state.raw_material_type,raw_material_measuring_unit:a.state.raw_material_measuring_unit,description:a.state.description}).then((function(e){console.log(e),e.data.errors.length>0?(console.log(e.data.errors),a.setState({errors:Object(Q.a)(e.data.errors),success:!1,dataReceived:!0})):(a.setState({dataReceived:!0}),a.props.cancel())})).catch((function(e){return console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;le(this.props,"Manage Raw Materials")&&(this.setState({dataReceived:!1}),X.a.get("/material-types/material-types").then((function(t){e.setState({material_types:Object(Q.a)(t.data.MaterialTypes)}),X.a.get("/measuring-units/measuring-units").then((function(t){console.log(t),e.setState({measuring_units:Object(Q.a)(t.data.MeasuringUnits),dataReceived:!0})}))})))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:xt.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Add Raw Material"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:xt.box_msg,bgcolor:"#f73067",key:t},e)})):null,i.a.createElement(m.a,{width:"94%"},this.state.dataReceived?null:i.a.createElement(Y.a,null)),i.a.createElement(ie,null,i.a.createElement(m.a,{style:xt.box_field},i.a.createElement(m.a,{style:xt.box,marginRight:"10px"},i.a.createElement(Z.a,{fullWidth:!0,required:!0,value:this.state.raw_material_name,variant:"outlined",label:"Raw Material Name",type:"text",onChange:function(t){e.setState({raw_material_name:t.target.value})}})),i.a.createElement(m.a,{style:xt.box},i.a.createElement(Z.a,{fullWidth:!0,required:!0,value:this.state.raw_material_code,variant:"outlined",label:"Raw Material Code",type:"text",onChange:function(t){e.setState({raw_material_code:t.target.value})}}))),i.a.createElement($.a,{required:!0,variant:"outlined",fullWidth:!0},i.a.createElement(ee.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select Raw Material Type"),i.a.createElement(te.a,{style:xt.box_field,required:!0,value:this.state.raw_material_type,onChange:function(t){console.log(t.target.value),e.setState({raw_material_type:t.target.value})}},this.state.material_types.map((function(e,t){return i.a.createElement(z.a,{selected:!0,key:t,value:e._id},e.material_type_name)})))),i.a.createElement($.a,{required:!0,variant:"outlined",fullWidth:!0},i.a.createElement(ee.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select Measuring Unit"),i.a.createElement(te.a,{style:xt.box_field,required:!0,value:this.state.raw_material_measuring_unit,onChange:function(t){console.log(t.target.value),e.setState({raw_material_measuring_unit:t.target.value})}},this.state.measuring_units.map((function(e,t){return i.a.createElement(z.a,{selected:!0,key:t,value:e._id},e.measuring_unit_name)})))),i.a.createElement(m.a,{style:xt.box_field},i.a.createElement(Z.a,{fullWidth:!0,required:!0,value:this.state.description,variant:"outlined",label:"Description",type:"text",onChange:function(t){e.setState({description:t.target.value})}}))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:this.onAddHandler},"Add"))))}}]),t}(n.Component),Ct=oe,wt=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={_id:"",raw_material_name:"",raw_material_code:"",raw_material_type:"",raw_material_measuring_unit:"",description:"",errors:[],success:!1,material_types:[],dataReceived:!1,measuring_units:[]},a.onEditHandler=function(){a.setState({dataReceived:!1}),X.a.post("/raw-materials/edit-raw-material",{_id:a.state._id,raw_material_name:a.state.raw_material_name,raw_material_code:a.state.raw_material_code,raw_material_type:a.state.raw_material_type,raw_material_measuring_unit:a.state.raw_material_measuring_unit,description:a.state.description}).then((function(e){console.log(e),e.data.errors&&(e.data.errors.length>0?(console.log(e.data.errors),a.setState({errors:Object(Q.a)(e.data.errors),success:!1,dataReceived:!0})):(a.setState({dataReceived:!0}),a.props.cancel()))})).catch((function(e){return console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;le(this.props,"Manage Raw Materials")&&(this.setState({dataReceived:!1}),X.a.get("/material-types/material-types").then((function(t){e.setState({material_types:Object(Q.a)(t.data.MaterialTypes)}),X.a.get("/measuring-units/measuring-units").then((function(t){console.log(t),e.setState({measuring_units:Object(Q.a)(t.data.MeasuringUnits)}),""===e.state.raw_material_name&&e.setState({_id:e.props.RawMaterial._id,raw_material_name:e.props.RawMaterial.raw_material_name,raw_material_code:e.props.RawMaterial.raw_material_code,raw_material_type:e.props.RawMaterial.raw_material_type,raw_material_measuring_unit:e.props.RawMaterial.raw_material_measuring_unit,description:e.props.RawMaterial.description,dataReceived:!0})}))})))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:Ct.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Edit Raw Material"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:Ct.box_msg,bgcolor:"#f73067",key:t},e)})):null,i.a.createElement(m.a,{width:"94%"},this.state.dataReceived?null:i.a.createElement(Y.a,null)),i.a.createElement(ie,null,i.a.createElement(m.a,{style:Ct.box_field},i.a.createElement(m.a,{style:Ct.box,marginRight:"10px"},i.a.createElement(Z.a,{fullWidth:!0,required:!0,value:this.state.raw_material_name,variant:"outlined",label:"Raw Material Name",type:"text",onChange:function(t){e.setState({raw_material_name:t.target.value})}})),i.a.createElement(m.a,{style:Ct.box},i.a.createElement(Z.a,{fullWidth:!0,required:!0,value:this.state.raw_material_code,variant:"outlined",label:"Raw Material Code",type:"text",onChange:function(t){e.setState({raw_material_code:t.target.value})}}))),i.a.createElement($.a,{required:!0,variant:"outlined",fullWidth:!0},i.a.createElement(ee.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select Raw Material Type"),i.a.createElement(te.a,{style:Ct.box_field,required:!0,value:this.state.raw_material_type,onChange:function(t){console.log(t.target.value),e.setState({raw_material_type:t.target.value})}},this.state.material_types.map((function(e,t){return i.a.createElement(z.a,{selected:!0,key:t,value:e._id},e.material_type_name)})))),i.a.createElement($.a,{required:!0,variant:"outlined",fullWidth:!0},i.a.createElement(ee.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select Measuring Unit"),i.a.createElement(te.a,{style:Ct.box_field,required:!0,value:this.state.raw_material_measuring_unit,onChange:function(t){console.log(t.target.value),e.setState({raw_material_measuring_unit:t.target.value})}},this.state.measuring_units.map((function(e,t){return i.a.createElement(z.a,{selected:!0,key:t,value:e._id},e.measuring_unit_name)})))),i.a.createElement(m.a,{style:Ct.box_field},i.a.createElement(Z.a,{fullWidth:!0,required:!0,value:this.state.description,variant:"outlined",label:"Description",type:"text",onChange:function(t){e.setState({description:t.target.value})}}))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:this.onEditHandler},"Update"))))}}]),t}(n.Component),Dt=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).EditData={},a.state={columns:[{title:"ID",field:"id"},{title:"Name",field:"raw_material_name"},{title:"Code",field:"raw_material_code"},{title:"Type",field:"raw_material_type"},{title:"Measuring Unit",field:"raw_material_measuring_unit"},{title:"Description",field:"description"}],data:[],openAdd:!1,openEdit:!1,progress:0,progressLength:0,completed:0,dataReceived:!1},a.OnEditHandler=function(e,t){console.log(t._id),a.setState({dataReceived:!1}),X.a.post("/raw-materials/raw-material",{_id:t._id}).then((function(e){console.log(e),a.EditData=Object(F.a)({},e.data.RawMaterial),console.log(a.EditData[0]),a.setState({openEdit:!0,dataReceived:!0})}))},a.handleClose=function(){a.setState({progress:0,progressLength:0,completed:0,dataReceived:!1}),X.a.get("/raw-materials/raw-materials").then((function(e){a.setState({progressLength:e.data.RawMaterials.length});for(var t=function(t){e.data.RawMaterials[t].id=t+1,X.a.post("/material-types/material-type",{_id:e.data.RawMaterials[t].raw_material_type}).then((function(n){console.log(n),n.data.MaterialType[0]?(console.log(n.data.MaterialType[0].material_type_name),e.data.RawMaterials[t].raw_material_type=n.data.MaterialType[0].material_type_name,a.setState({data:Object(Q.a)(e.data.RawMaterials)})):(e.data.RawMaterials[t].material_type="problem loading Material Type",a.setState({data:Object(Q.a)(e.data.RawMaterials)})),X.a.post("/measuring-units/measuring-unit",{_id:e.data.RawMaterials[t].raw_material_measuring_unit}).then((function(n){a.setState((function(e){e.dataReceived=!0,e.progress++,e.completed=e.progress/e.progressLength*100})),console.log(n),n.data.MeasuringUnit[0]?(console.log(n.data.MeasuringUnit[0].measuring_unit_name),e.data.RawMaterials[t].raw_material_measuring_unit=n.data.MeasuringUnit[0].measuring_unit_name,a.setState({data:Object(Q.a)(e.data.RawMaterials)})):(e.data.RawMaterials[t].raw_material_measuring_unit="problem loading measuring unit",a.setState({data:Object(Q.a)(e.data.RawMaterial)}))}))}))},n=0;n<e.data.RawMaterials.length;n++)t(n)})).catch((function(e){console.log("Error")}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){le(this.props,"Manage Raw Materials")&&this.handleClose()}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Manage Raw Materials"),i.a.createElement(m.a,{width:"90%",display:"flex",flexDirection:"row"},i.a.createElement(R.a,{variant:"contained",color:"primary",style:{marginBottom:"20px",display:"flex",marginRight:"10px"},size:"large",onClick:function(){e.setState({openAdd:!0})}},"Add")),i.a.createElement(m.a,{width:"90%"},this.state.dataReceived?100!==this.state.completed?i.a.createElement(Y.a,{variant:"determinate",value:this.state.completed}):null:i.a.createElement(Y.a,null)),i.a.createElement(H.a,{title:" ",columns:this.state.columns,data:this.state.data,style:{width:"90%",maxHeight:"500px",overflow:"auto"},options:{sorting:!0,headerStyle:{backgroundColor:"#3f51b5",color:"#FFF"}},actions:[{icon:"edit",tooltip:"Edit",onClick:function(t,a){e.OnEditHandler(t,a)}}],editable:{onRowDelete:function(t){return X.a.post("/raw-materials/delete-raw-material",{_id:t._id}).then((function(a){console.log(a),a&&e.setState((function(e){var a=Object(Q.a)(e.data);return a.splice(a.indexOf(t),1),Object(F.a)({},e,{data:a})}))}))}},onRowClick:function(t,a){e.OnEditHandler(t,a)}}),i.a.createElement(J.a,{open:this.state.openAdd,maxWidth:"lg",fullWidth:!0},i.a.createElement(G.a,{style:{padding:"20px"}},i.a.createElement(St,{cancel:function(){e.setState({openAdd:!1}),e.handleClose()}}))),i.a.createElement(J.a,{open:this.state.openEdit,maxWidth:"lg",fullWidth:!0},i.a.createElement(G.a,{style:{padding:"20px"}},i.a.createElement(wt,{RawMaterial:this.EditData[0],cancel:function(){e.setState({openEdit:!1}),e.handleClose()}}))))}}]),t}(n.Component),Rt=function(e){var t=!1,a="",n=!1,i=e.target,o=i.name,l=i.value;switch(console.log(o,l),o){case"work_location_name":l.length>20?(t=!0,a="must have less than 20 characters"):0===l.length?(t=!0,a="Name required"):(t=!1,a="",n=!0);break;case"description":l.length>200?(t=!0,a="must have less than 200 characters"):(t=!1,a="",n=!0)}return{status:t,msg:a,isValid:n}},Mt=oe,kt=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={work_location_name:"",description:"",errors:[],fieldError:{work_location_name:{status:!1,msg:""},description:{status:!1,msg:""}},isValid:!1,dataReceived:!1},a.onAddHandler=function(){a.setState({}),""===a.state.work_location_name?a.setState((function(e){e.fieldError.work_location_name.status=!0,e.fieldError.work_location_name.msg="Name required"})):(a.setState({dataReceived:!1}),X.a.post("/work-locations/add-work-location",{work_location_name:a.state.work_location_name,description:a.state.description}).then((function(e){console.log(e),e.data.errors.length>0?(console.log(e.data.errors),a.setState({errors:Object(Q.a)(e.data.errors),dataReceived:!0})):(a.setState({dataReceived:!0}),a.props.cancel())})).catch((function(e){return console.log(e)})))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){le(this.props,"Manage Work Locations")&&this.setState({dataReceived:!0})}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:Mt.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Add Work Location"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:Mt.box_msg,bgcolor:"#f73067",key:t},e)})):null,i.a.createElement(m.a,{width:"94%"},this.state.dataReceived?null:i.a.createElement(Y.a,null)),i.a.createElement(ie,null,i.a.createElement(m.a,{style:Mt.box_field},i.a.createElement(Z.a,{name:"work_location_name",size:"small",fullWidth:!0,required:!0,value:this.state.work_location_name,variant:"outlined",label:"Work Location Name",type:"text",onChange:function(t){e.setState({work_location_name:t.target.value});var a=Rt(t),n=a.status,i=a.msg,o=a.isValid;e.setState((function(e){e.fieldError.work_location_name.status=n,e.fieldError.work_location_name.msg=i,e.isValid=o}))},error:this.state.fieldError.work_location_name.status,helperText:this.state.fieldError.work_location_name.msg})),i.a.createElement(m.a,{style:Mt.box_field},i.a.createElement(Z.a,{name:"description",size:"small",fullWidth:!0,required:!0,value:this.state.description,variant:"outlined",label:"Description",type:"text",onChange:function(t){e.setState({description:t.target.value});var a=Rt(t),n=a.status,i=a.msg,o=a.isValid;e.setState((function(e){e.fieldError.description.status=n,e.fieldError.description.msg=i,e.isValid=o}))},error:this.state.fieldError.description.status,helperText:this.state.fieldError.description.msg}))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",disabled:!this.state.isValid,onClick:this.onAddHandler},"Add"))))}}]),t}(n.Component),Ot=oe,jt=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={_id:"",work_location_name:"",description:"",errors:[],fieldError:{work_location_name:{status:!1,msg:""},description:{status:!1,msg:""}},isValid:!1,dataReceived:!1},a.onEditHandler=function(){a.setState({}),""===a.state.work_location_name?a.setState((function(e){e.fieldError.work_location_name.status=!0,e.fieldError.work_location_name.msg="Name required"})):(a.setState({dataReceived:!1}),X.a.post("/work-locations/edit-work-location",{_id:a.state._id,work_location_name:a.state.work_location_name,description:a.state.description}).then((function(e){console.log(e),e.data.errors&&(e.data.errors.length>0?(console.log(e.data.errors),a.setState({errors:Object(Q.a)(e.data.errors),dataReceived:!0})):(a.setState({dataReceived:!0}),a.props.cancel()))})).catch((function(e){return console.log(e)})))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){le(this.props,"Manage Work Locations")&&(console.log(this.props),this.setState({dataReceived:!1}),""===this.state.work_location_name&&this.setState({work_location_name:this.props.WorkLocation.work_location_name,description:this.props.WorkLocation.description,_id:this.props.WorkLocation._id,dataReceived:!0}))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:Ot.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Edit Country"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:Ot.box_msg,bgcolor:"#f73067",key:t},e)})):null,i.a.createElement(m.a,{width:"94%"},this.state.dataReceived?null:i.a.createElement(Y.a,null)),i.a.createElement(ie,null,i.a.createElement(m.a,{style:Ot.box_field},i.a.createElement(Z.a,{name:"work_location_name",size:"small",fullWidth:!0,required:!0,value:this.state.work_location_name,variant:"outlined",label:"Work Location Name",type:"text",onChange:function(t){e.setState({work_location_name:t.target.value});var a=Rt(t),n=a.status,i=a.msg,o=a.isValid;e.setState((function(e){e.fieldError.work_location_name.status=n,e.fieldError.work_location_name.msg=i,e.isValid=o}))},error:this.state.fieldError.work_location_name.status,helperText:this.state.fieldError.work_location_name.msg})),i.a.createElement(m.a,{style:Ot.box_field},i.a.createElement(Z.a,{name:"description",size:"small",fullWidth:!0,required:!0,value:this.state.description,variant:"outlined",label:"Description",type:"text",onChange:function(t){e.setState({description:t.target.value});var a=Rt(t),n=a.status,i=a.msg,o=a.isValid;e.setState((function(e){e.fieldError.description.status=n,e.fieldError.description.msg=i,e.isValid=o}))},error:this.state.fieldError.description.status,helperText:this.state.fieldError.description.msg}))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",disabled:!this.state.isValid,onClick:this.onEditHandler},"Update"))))}}]),t}(n.Component),zt=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).EditData={},a.state={columns:[{title:"ID",field:"id"},{title:"Work Location Name",field:"work_location_name"},{title:"Description",field:"description"}],data:[],openAdd:!1,openEdit:!1,openUploadCSV:!1,dataReceived:!1},a.OnEditHandler=function(e,t){a.setState({dataReceived:!1}),X.a.post("/work-locations/work-location",{_id:t._id}).then((function(e){a.EditData=Object(F.a)({},e.data.WorkLocation[0]),console.log(a.EditData),a.setState({openEdit:!0,dataReceived:!0})}))},a.handleClose=function(){a.setState({dataReceived:!1}),X.a.get("/work-locations/work-locations").then((function(e){console.log(e.data.WorkLocations);for(var t=0;t<e.data.WorkLocations.length;t++)e.data.WorkLocations[t].id=t+1;a.setState({data:Object(Q.a)(e.data.WorkLocations),dataReceived:!0})}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){le(this.props,"Manage Work Locations")&&this.handleClose()}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Manage Work Locations"),i.a.createElement(m.a,{width:"90%",display:"flex",flexDirection:"row"},i.a.createElement(R.a,{variant:"contained",color:"primary",style:{marginBottom:"20px",display:"flex",marginRight:"10px"},size:"large",onClick:function(){e.setState({openAdd:!0})}},"Add")),i.a.createElement(m.a,{width:"90%"},this.state.dataReceived?null:i.a.createElement(Y.a,null)),i.a.createElement(H.a,{title:" ",columns:this.state.columns,data:this.state.data,style:{width:"90%",maxHeight:"500px",overflow:"auto"},options:{sorting:!0,headerStyle:{backgroundColor:"#3f51b5",color:"#FFF"}},actions:[{icon:"edit",tooltip:"Edit User",onClick:function(t,a){e.OnEditHandler(t,a)}}],editable:{onRowDelete:function(t){return X.a.post("/work-locations/delete-work-location",{work_location_name:t.work_location_name}).then((function(a){console.log(a),a&&e.setState((function(e){var a=Object(Q.a)(e.data);return a.splice(a.indexOf(t),1),Object(F.a)({},e,{data:a})}))}))}},onRowClick:function(t,a){e.OnEditHandler(t,a)}}),i.a.createElement(J.a,{open:this.state.openAdd,maxWidth:"lg",fullWidth:!0},i.a.createElement(G.a,{style:{padding:"20px"}},i.a.createElement(kt,{cancel:function(){e.setState({openAdd:!1}),e.handleClose()}}))),i.a.createElement(J.a,{open:this.state.openEdit,maxWidth:"lg",fullWidth:!0},i.a.createElement(G.a,{style:{padding:"20px"}},i.a.createElement(jt,{WorkLocation:this.EditData,cancel:function(){e.setState({openEdit:!1}),e.handleClose()}}))))}}]),t}(n.Component),Pt=function(e){var t=!1,a="",n=!1,i=e.target,o=i.name,l=i.value;switch(console.log(o,l),o){case"production_unit_name":l.length>20?(t=!0,a="must have less than 20 characters"):0===l.length?(t=!0,a="Name required"):(t=!1,a="",n=!0);break;case"description":l.length>200?(t=!0,a="must have less than 200 characters"):(t=!1,a="",n=!0)}return{status:t,msg:a,isValid:n}},It=oe,Wt=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={production_unit_name:"",description:"",errors:[],fieldError:{production_unit_name:{status:!1,msg:""},description:{status:!1,msg:""}},isValid:!1,dataReceived:!1},a.onAddHandler=function(){a.setState({}),""===a.state.production_unit_name?a.setState((function(e){e.fieldError.production_unit_name.status=!0,e.fieldError.production_unit_name.msg="Name required"})):(a.setState({dataReceived:!1}),X.a.post("/production-units/add-production-unit",{production_unit_name:a.state.production_unit_name,description:a.state.description}).then((function(e){console.log(e),e.data.errors.length>0?(console.log(e.data.errors),a.setState({errors:Object(Q.a)(e.data.errors),dataReceived:!0})):(a.setState({dataReceived:!0}),a.props.cancel())})).catch((function(e){return console.log(e)})))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){le(this.props,"Manage Production Units")&&this.setState({dataReceived:!0})}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:It.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Add Production Unit"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:It.box_msg,bgcolor:"#f73067",key:t},e)})):null,i.a.createElement(m.a,{width:"94%"},this.state.dataReceived?null:i.a.createElement(Y.a,null)),i.a.createElement(ie,null,i.a.createElement(m.a,{style:It.box_field},i.a.createElement(Z.a,{name:"production_unit_name",size:"small",fullWidth:!0,required:!0,value:this.state.production_unit_name,variant:"outlined",label:"Production Unit Name",type:"text",onChange:function(t){e.setState({production_unit_name:t.target.value});var a=Pt(t),n=a.status,i=a.msg,o=a.isValid;e.setState((function(e){e.fieldError.production_unit_name.status=n,e.fieldError.production_unit_name.msg=i,e.isValid=o}))},error:this.state.fieldError.production_unit_name.status,helperText:this.state.fieldError.production_unit_name.msg})),i.a.createElement(m.a,{style:It.box_field},i.a.createElement(Z.a,{name:"description",size:"small",fullWidth:!0,value:this.state.description,variant:"outlined",label:"Description",type:"text",onChange:function(t){e.setState({description:t.target.value});var a=Pt(t),n=a.status,i=a.msg,o=a.isValid;e.setState((function(e){e.fieldError.description.status=n,e.fieldError.description.msg=i,e.isValid=o}))},error:this.state.fieldError.description.status,helperText:this.state.fieldError.description.msg}))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",disabled:!this.state.isValid,onClick:this.onAddHandler},"Add"))))}}]),t}(n.Component),qt=oe,Ut=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={_id:"",production_unit_name:"",description:"",errors:[],fieldError:{production_unit_name:{status:!1,msg:""},description:{status:!1,msg:""}},dataReceived:!1,isValid:!1},a.onEditHandler=function(){a.setState({}),""===a.state.production_unit_name?a.setState((function(e){e.fieldError.production_unit_name.status=!0,e.fieldError.production_unit_name.msg="Name required"})):(a.setState({dataReceived:!1}),X.a.post("/production-units/edit-production-unit",{_id:a.state._id,production_unit_name:a.state.production_unit_name,description:a.state.description}).then((function(e){console.log(e),e.data.errors&&(e.data.errors.length>0?(console.log(e.data.errors),a.setState({errors:Object(Q.a)(e.data.errors),dataReceived:!0})):(a.setState({dataReceived:!0}),a.props.cancel()))})).catch((function(e){return console.log(e)})))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){le(this.props.props,"Manage Production Units")&&(console.log(this.props),""===this.state.production_unit_name&&this.setState({production_unit_name:this.props.ProductionUnit.production_unit_name,description:this.props.ProductionUnit.description,_id:this.props.ProductionUnit._id,dataReceived:!0}))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:qt.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Edit Production Unit"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:qt.box_msg,bgcolor:"#f73067",key:t},e)})):null,i.a.createElement(m.a,{width:"94%"},this.state.dataReceived?null:i.a.createElement(Y.a,null)),i.a.createElement(ie,null,i.a.createElement(m.a,{style:qt.box_field},i.a.createElement(Z.a,{name:"production_unit_name",size:"small",fullWidth:!0,required:!0,value:this.state.production_unit_name,variant:"outlined",label:"Production Units Name",type:"text",onChange:function(t){e.setState({production_unit_name:t.target.value});var a=Pt(t),n=a.status,i=a.msg,o=a.isValid;e.setState((function(e){e.fieldError.production_unit_name.status=n,e.fieldError.production_unit_name.msg=i,e.isValid=o}))},error:this.state.fieldError.production_unit_name.status,helperText:this.state.fieldError.production_unit_name.msg})),i.a.createElement(m.a,{style:qt.box_field},i.a.createElement(Z.a,{name:"description",size:"small",fullWidth:!0,value:this.state.description,variant:"outlined",label:"Description",type:"text",onChange:function(t){e.setState({description:t.target.value});var a=Pt(t),n=a.status,i=a.msg,o=a.isValid;e.setState((function(e){e.fieldError.description.status=n,e.fieldError.description.msg=i,e.isValid=o}))},error:this.state.fieldError.description.status,helperText:this.state.fieldError.description.msg}))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:this.onEditHandler},"Update"))))}}]),t}(n.Component),Tt=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).EditData={},a.state={columns:[{title:"ID",field:"id"},{title:"Production Unit Name",field:"production_unit_name"},{title:"Description",field:"description"}],data:[],openAdd:!1,dataReceived:!1,openEdit:!1},a.OnEditHandler=function(e,t){a.setState({dataReceived:!1}),X.a.post("/production-units/production-unit",{_id:t._id}).then((function(e){a.EditData=Object(F.a)({},e.data.ProductionUnit[0]),console.log(a.EditData),a.setState({openEdit:!0,dataReceived:!0})}))},a.handleClose=function(){a.setState({dataReceived:!1}),X.a.get("/production-units/production-units").then((function(e){console.log(e.data.ProductionUnits);for(var t=0;t<e.data.ProductionUnits.length;t++)e.data.ProductionUnits[t].id=t+1;a.setState({data:Object(Q.a)(e.data.ProductionUnits),dataReceived:!0})}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){le(this.props,"Manage Production Units")&&this.handleClose()}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Manage Production Units"),i.a.createElement(m.a,{width:"90%",display:"flex",flexDirection:"row"},i.a.createElement(R.a,{variant:"contained",color:"primary",style:{marginBottom:"20px",display:"flex",marginRight:"10px"},size:"large",onClick:function(){e.setState({openAdd:!0})}},"Add")),i.a.createElement(m.a,{width:"90%"},this.state.dataReceived?null:i.a.createElement(Y.a,null)),i.a.createElement(H.a,{title:" ",columns:this.state.columns,data:this.state.data,style:{width:"90%",maxHeight:"500px",overflow:"auto"},options:{sorting:!0,headerStyle:{backgroundColor:"#3f51b5",color:"#FFF"}},actions:[{icon:"edit",tooltip:"Edit",onClick:function(t,a){e.OnEditHandler(t,a)}}],editable:{onRowDelete:function(t){return X.a.post("/production-units/delete-production-unit",{production_unit_name:t.production_unit_name}).then((function(a){console.log(a),a&&e.setState((function(e){var a=Object(Q.a)(e.data);return a.splice(a.indexOf(t),1),Object(F.a)({},e,{data:a})}))}))}},onRowClick:function(t,a){e.OnEditHandler(t,a)}}),i.a.createElement(J.a,{open:this.state.openAdd,maxWidth:"lg",fullWidth:!0},i.a.createElement(G.a,{style:{padding:"20px"}},i.a.createElement(Wt,{cancel:function(){e.setState({openAdd:!1}),e.handleClose()}}))),i.a.createElement(J.a,{open:this.state.openEdit,maxWidth:"lg",fullWidth:!0},i.a.createElement(G.a,{style:{padding:"20px"}},i.a.createElement(Ut,{ProductionUnit:this.EditData,props:this.props,cancel:function(){e.setState({openEdit:!1}),e.handleClose()}}))))}}]),t}(n.Component),Lt=a(397),At=oe,Nt=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={product_name:"",product_code:"",product_price:"",currency_type:"",product_measuring_unit:"",product_registration_date:null,description:"",errors:[],success:!1,dataReceived:!1,measuring_units:[]},a.onAddHandler=function(){a.setState({dataReceived:!1}),X.a.post("/products/add-product",{product_name:a.state.product_name,product_code:a.state.product_code,product_price:a.state.product_price,product_measuring_unit:a.state.product_measuring_unit,product_registration_date:a.state.product_registration_date,description:a.state.description}).then((function(e){console.log(e),e.data.errors.length>0?(console.log(e.data.errors),a.setState({errors:Object(Q.a)(e.data.errors),success:!1,dataReceived:!0})):(a.setState({dataReceived:!0}),a.props.cancel())})).catch((function(e){return console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;le(this.props,"Manage Products")&&(this.setState({dataReceived:!1}),X.a.get("/measuring-units/measuring-units").then((function(t){console.log(t),e.setState({measuring_units:Object(Q.a)(t.data.MeasuringUnits),dataReceived:!0}),X.a.post("/currency/currency",{_id:"5eb2a1fcfcdc3a03f401855e"}).then((function(t){e.setState({currency_type:t.data.Currency[0].currency_type})}))})))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:At.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Add Product"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:At.box_msg,bgcolor:"#f73067",key:t},e)})):null,i.a.createElement(m.a,{width:"94%"},this.state.dataReceived?null:i.a.createElement(Y.a,null)),i.a.createElement(ie,null,i.a.createElement(m.a,{style:At.box_field},i.a.createElement(m.a,{style:At.box,marginRight:"10px"},i.a.createElement(Z.a,{size:"small",fullWidth:!0,required:!0,variant:"outlined",label:"Product Name",type:"text",value:this.state.product_name,onChange:function(t){e.setState({product_name:t.target.value})}})),i.a.createElement(m.a,{style:At.box},i.a.createElement(Z.a,{size:"small",fullWidth:!0,required:!0,value:this.state.product_code,variant:"outlined",label:"Product Code",type:"text",onChange:function(t){e.setState({product_code:t.target.value})}}))),i.a.createElement(m.a,{style:At.box_field},i.a.createElement(Z.a,{size:"small",fullWidth:!0,required:!0,value:this.state.product_price,variant:"outlined",label:"Product Price",type:"text",onChange:function(t){e.setState({product_price:t.target.value})},InputProps:{endAdornment:i.a.createElement(Lt.a,{position:"start"},this.state.currency_type)}})),i.a.createElement(pe,{id:"1",Name:"Product Registration Date",Req:!0,marginBottom:"10px",minDate:"01/01/1990",maxDate:new Date,value:this.state.product_registration_date,setDate:function(t){e.setState({product_registration_date:t})}}),i.a.createElement($.a,{size:"small",required:!0,variant:"outlined",fullWidth:!0},i.a.createElement(ee.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select Measuring Unit"),i.a.createElement(te.a,{style:At.box_field,required:!0,value:this.state.product_measuring_unit,onChange:function(t){console.log(t.target.value),e.setState({product_measuring_unit:t.target.value})}},this.state.measuring_units.map((function(e,t){return i.a.createElement(z.a,{selected:!0,key:t,value:e._id},e.measuring_unit_name)})))),i.a.createElement(m.a,{style:At.box_field},i.a.createElement(Z.a,{size:"small",fullWidth:!0,value:this.state.description,variant:"outlined",label:"Description",type:"text",onChange:function(t){e.setState({description:t.target.value})}}))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:this.onAddHandler},"Add"))))}}]),t}(n.Component),Bt=oe,Qt=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={_id:"",product_name:"",product_code:"",product_price:0,currency_type:"",product_measuring_unit:"",product_registration_date:"",description:"",errors:[],dataReceived:!1,measuring_units:[]},a.onEditHandler=function(){a.setState({dataReceived:!1}),X.a.post("/products/edit-product",{_id:a.state._id,product_name:a.state.product_name,product_code:a.state.product_code,product_price:a.state.product_price,product_measuring_unit:a.state.product_measuring_unit,product_registration_date:a.state.product_registration_date,description:a.state.description}).then((function(e){console.log(e),e.data.errors&&(e.data.errors.length>0?(console.log(e.data.errors),a.setState({dataReceived:!0,errors:Object(Q.a)(e.data.errors)})):(a.setState({dataReceived:!0}),a.props.cancel()))})).catch((function(e){return console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;le(this.props,"Manage Products")&&(this.setState({dataReceived:!1}),X.a.get("/measuring-units/measuring-units").then((function(t){console.log(t),e.setState({measuring_units:Object(Q.a)(t.data.MeasuringUnits),dataReceived:!0}),X.a.post("/currency/currency",{_id:"5eb2a1fcfcdc3a03f401855e"}).then((function(t){e.setState({currency_type:t.data.Currency[0].currency_type})}))})),""===this.state.product_name&&this.setState({_id:this.props.Product._id,product_name:this.props.Product.product_name,product_code:this.props.Product.product_code,product_price:this.props.Product.product_price,product_measuring_unit:this.props.Product.product_measuring_unit,product_registration_date:this.props.Product.product_registration_date,description:this.props.Product.description}))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:Bt.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Edit Product"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:Bt.box_msg,bgcolor:"#f73067",key:t},e)})):null,i.a.createElement(m.a,{width:"94%"},this.state.dataReceived?null:i.a.createElement(Y.a,null)),i.a.createElement(ie,null,i.a.createElement(m.a,{style:Bt.box_field},i.a.createElement(m.a,{style:Bt.box,marginRight:"10px"},i.a.createElement(Z.a,{size:"small",fullWidth:!0,required:!0,value:this.state.product_name,variant:"outlined",label:"Product Name",type:"text",onChange:function(t){e.setState({product_name:t.target.value})}})),i.a.createElement(m.a,{style:Bt.box},i.a.createElement(Z.a,{size:"small",fullWidth:!0,required:!0,value:this.state.product_code,variant:"outlined",label:"Product Code",type:"text",onChange:function(t){e.setState({product_code:t.target.value})}}))),i.a.createElement(m.a,{style:Bt.box_field},i.a.createElement(Z.a,{size:"small",fullWidth:!0,required:!0,value:this.state.product_price,variant:"outlined",label:"Product Price",type:"text",onChange:function(t){e.setState({product_price:t.target.value})},InputProps:{endAdornment:i.a.createElement(Lt.a,{position:"start"},this.state.currency_type)}})),i.a.createElement(pe,{id:"1",Name:"Product Registration Date",Req:!0,marginBottom:"10px",value:this.state.product_registration_date,setDate:function(t){e.setState({product_registration_date:t})}}),i.a.createElement($.a,{size:"small",required:!0,variant:"outlined",fullWidth:!0},i.a.createElement(ee.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select Measuring Unit"),i.a.createElement(te.a,{style:Bt.box_field,required:!0,value:this.state.product_measuring_unit,onChange:function(t){console.log(t.target.value),e.setState({product_measuring_unit:t.target.value})}},this.state.measuring_units.map((function(e,t){return i.a.createElement(z.a,{selected:!0,key:t,value:e._id},e.measuring_unit_name)})))),i.a.createElement(m.a,{style:Bt.box_field},i.a.createElement(Z.a,{fullWidth:!0,size:"small",required:!0,value:this.state.description,variant:"outlined",label:"Description",type:"text",onChange:function(t){e.setState({description:t.target.value})}}))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:this.onEditHandler},"Update"))))}}]),t}(n.Component),Ft=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).EditData={},a.state={columns:[{title:"ID",field:"id"},{title:"Product Name",field:"product_name"},{title:"Product code",field:"product_code"},{title:"Product price",field:"product_price"},{title:"Measuring Unit",field:"product_measuring_unit"},{title:"Description",field:"description"}],data:[],openAdd:!1,progress:0,progressLength:0,completed:0,dataReceived:!1,openEdit:!1},a.OnEditHandler=function(e,t){console.log(t._id),a.setState({dataReceived:!1}),X.a.post("/products/product",{_id:t._id}).then((function(e){console.log(e),a.EditData=Object(F.a)({},e.data.Product),console.log(a.EditData[0]),a.setState({dataReceived:!0,openEdit:!0})}))},a.handleClose=function(){a.setState({progress:0,progressLength:0,completed:0,dataReceived:!1}),X.a.get("/products/products").then((function(e){a.setState({progressLength:e.data.Products.length});for(var t=function(t){e.data.Products[t].id=t+1,X.a.post("/measuring-units/measuring-unit",{_id:e.data.Products[t].product_measuring_unit}).then((function(n){a.setState((function(e){e.dataReceived=!0,e.progress++,e.completed=e.progress/e.progressLength*100})),console.log(n),n.data.MeasuringUnit[0]?(console.log(n.data.MeasuringUnit[0].measuring_unit_name),e.data.Products[t].product_measuring_unit=n.data.MeasuringUnit[0].measuring_unit_name,a.setState({data:Object(Q.a)(e.data.Products)})):(e.data.Products[t].product_measuring_unit="problem loading Measuring Unit",a.setState({data:Object(Q.a)(e.data.Products)}))}))},n=0;n<e.data.Products.length;n++)t(n)})).catch((function(e){console.log("Error")}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){le(this.props,"Manage Products")&&this.handleClose()}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Manage Products"),i.a.createElement(m.a,{width:"90%",display:"flex",flexDirection:"row"},i.a.createElement(R.a,{variant:"contained",color:"primary",style:{marginBottom:"20px",display:"flex",marginRight:"10px"},size:"large",onClick:function(){e.setState({openAdd:!0})}},"Add")),i.a.createElement(m.a,{width:"90%"},this.state.dataReceived?100!==this.state.completed?i.a.createElement(Y.a,{variant:"determinate",value:this.state.completed}):null:i.a.createElement(Y.a,null)),i.a.createElement(H.a,{title:" ",columns:this.state.columns,data:this.state.data,style:{width:"90%",maxHeight:"500px",overflow:"auto"},options:{sorting:!0,headerStyle:{backgroundColor:"#3f51b5",color:"#FFF"}},actions:[{icon:"edit",tooltip:"Edit",onClick:function(t,a){e.OnEditHandler(t,a)}}],editable:{onRowDelete:function(t){return X.a.post("/products/delete-product",{_id:t._id}).then((function(a){console.log(a),a&&e.setState((function(e){var a=Object(Q.a)(e.data);return a.splice(a.indexOf(t),1),Object(F.a)({},e,{data:a})}))}))}},onRowClick:function(t,a){e.OnEditHandler(t,a)}}),i.a.createElement(J.a,{open:this.state.openAdd,maxWidth:"lg",fullWidth:!0},i.a.createElement(G.a,{style:{padding:"20px"}},i.a.createElement(Nt,{cancel:function(){e.setState({openAdd:!1}),e.handleClose()}}))),i.a.createElement(J.a,{open:this.state.openEdit,maxWidth:"lg",fullWidth:!0},i.a.createElement(G.a,{style:{padding:"20px"}},i.a.createElement(Qt,{Product:this.EditData[0],cancel:function(){e.setState({openEdit:!1}),e.handleClose()}}))))}}]),t}(n.Component),Vt=function(e){var t=!1,a="",n=!1,i=e.target,o=i.name,l=i.value;switch(console.log(o,l),o){case"department_name":l.length>20?(t=!0,a="must have less than 20 characters"):0===l.length?(t=!0,a="Name required"):(t=!1,a="",n=!0);break;case"description":l.length>200?(t=!0,a="must have less than 200 characters"):(t=!1,a="",n=!0)}return{status:t,msg:a,isValid:n}},Ht=oe,Yt=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={department_name:"",description:"",errors:[],status:"Add",fieldError:{department_name:{status:!1,msg:""},description:{status:!1,msg:""}},dataReceived:!1,isValid:!1},a.onAddHandler=function(){a.setState({}),""===a.state.department_name?a.setState((function(e){e.fieldError.department_name.status=!0,e.fieldError.department_name.msg="Name required"})):(a.setState({dataReceived:!1}),X.a.post("/departments/add-department",{department_name:a.state.department_name,description:a.state.description}).then((function(e){a.setState({status:"Add"}),console.log(e),e.data.errors.length>0?(console.log(e.data.errors),a.setState({errors:Object(Q.a)(e.data.errors),dataReceived:!0})):(a.setState({dataReceived:!0}),a.props.cancel())})).catch((function(e){return console.log(e)})))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){le(this.props,"Manage Departments")&&this.setState({dataReceived:!0})}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:Ht.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Add Department"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:Ht.box_msg,bgcolor:"#f73067",key:t},e)})):null,i.a.createElement(m.a,{width:"94%"},this.state.dataReceived?null:i.a.createElement(Y.a,null)),i.a.createElement(ie,null,i.a.createElement(m.a,{style:Ht.box_field},i.a.createElement(Z.a,{name:"department_name",size:"small",fullWidth:!0,required:!0,value:this.state.department_name,variant:"outlined",label:"Department Name",type:"text",onChange:function(t){e.setState({department_name:t.target.value});var a=Vt(t),n=a.status,i=a.msg,o=a.isValid;e.setState((function(e){e.fieldError.department_name.status=n,e.fieldError.department_name.msg=i,e.isValid=o}))},error:this.state.fieldError.department_name.status,helperText:this.state.fieldError.department_name.msg})),i.a.createElement(m.a,{style:Ht.box_field},i.a.createElement(Z.a,{name:"description",size:"small",fullWidth:!0,value:this.state.description,variant:"outlined",label:"Description",type:"text",onChange:function(t){e.setState({description:t.target.value});var a=Vt(t),n=a.status,i=a.msg,o=a.isValid;e.setState((function(e){e.fieldError.description.status=n,e.fieldError.description.msg=i,e.isValid=o}))},error:this.state.fieldError.description.status,helperText:this.state.fieldError.description.msg}))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",disabled:!this.state.isValid,onClick:this.onAddHandler},this.state.status))))}}]),t}(n.Component),Gt=oe,Jt=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={_id:"",department_name:"",description:"",errors:[],status:"Update",fieldError:{department_name:{status:!1,msg:""},description:{status:!1,msg:""}},dataReceived:!1,isValid:!1},a.onEditHandler=function(){a.setState({}),""===a.state.department_name?a.setState((function(e){e.fieldError.department_name.status=!0,e.fieldError.department_name.msg="Name required"})):(a.setState({dataReceived:!1}),X.a.post("/departments/edit-department",{_id:a.state._id,department_name:a.state.department_name,description:a.state.description}).then((function(e){a.setState({status:"Update"}),console.log(e),e.data.errors&&(e.data.errors.length>0?(console.log(e.data.errors),a.setState({errors:Object(Q.a)(e.data.errors),dataReceived:!0})):(a.setState({dataReceived:!0}),a.props.cancel()))})).catch((function(e){return console.log(e)})))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){le(this.props.props,"Manage Departments")&&(console.log(this.props),""===this.state.department_name&&this.setState({department_name:this.props.Department.department_name,description:this.props.Department.description,_id:this.props.Department._id,dataReceived:!0}))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:Gt.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Edit Department"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:Gt.box_msg,bgcolor:"#f73067",key:t},e)})):null,i.a.createElement(m.a,{width:"94%"},this.state.dataReceived?null:i.a.createElement(Y.a,null)),i.a.createElement(ie,null,i.a.createElement(m.a,{style:Gt.box_field},i.a.createElement(Z.a,{name:"department_name",size:"small",fullWidth:!0,required:!0,value:this.state.department_name,variant:"outlined",label:"Department Name",type:"text",onChange:function(t){e.setState({department_name:t.target.value});var a=Vt(t),n=a.status,i=a.msg,o=a.isValid;e.setState((function(e){e.fieldError.department_name.status=n,e.fieldError.department_name.msg=i,e.isValid=o}))},error:this.state.fieldError.department_name.status,helperText:this.state.fieldError.department_name.msg})),i.a.createElement(m.a,{style:Gt.box_field},i.a.createElement(Z.a,{name:"description",size:"small",fullWidth:!0,value:this.state.description,variant:"outlined",label:"Description",type:"text",onChange:function(t){e.setState({description:t.target.value});var a=Vt(t),n=a.status,i=a.msg,o=a.isValid;e.setState((function(e){e.fieldError.description.status=n,e.fieldError.description.msg=i,e.isValid=o}))},error:this.state.fieldError.description.status,helperText:this.state.fieldError.description.msg}))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",disabled:!this.state.isValid,onClick:this.onEditHandler},this.state.status))))}}]),t}(n.Component),Kt=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).EditData={},a.state={columns:[{title:"ID",field:"id"},{title:"Department Name",field:"department_name"},{title:"Description",field:"description"}],data:[],openAdd:!1,dataReceived:!1,openEdit:!1},a.OnEditHandler=function(e,t){a.setState({dataReceived:!1}),X.a.post("/departments/department",{_id:t._id}).then((function(e){a.EditData=Object(F.a)({},e.data.Department[0]),console.log(a.EditData),a.setState({openEdit:!0,dataReceived:!0})}))},a.handleClose=function(){a.setState({dataReceived:!1}),X.a.get("/departments/departments").then((function(e){console.log(e.data.Departments);for(var t=0;t<e.data.Departments.length;t++)e.data.Departments[t].id=t+1;a.setState({data:Object(Q.a)(e.data.Departments),dataReceived:!0})}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){le(this.props,"Manage Departments")&&this.handleClose()}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Manage Departments"),i.a.createElement(m.a,{width:"90%",display:"flex",flexDirection:"row"},i.a.createElement(R.a,{variant:"contained",color:"primary",style:{marginBottom:"20px",display:"flex",marginRight:"10px"},size:"large",onClick:function(){e.setState({openAdd:!0})}},"Add")),i.a.createElement(m.a,{width:"90%"},this.state.dataReceived?null:i.a.createElement(Y.a,null)),i.a.createElement(H.a,{title:" ",columns:this.state.columns,data:this.state.data,style:{width:"90%",maxHeight:"500px",overflow:"auto"},options:{sorting:!0,headerStyle:{backgroundColor:"#3f51b5",color:"#FFF"}},actions:[{icon:"edit",tooltip:"Edit",onClick:function(t,a){e.OnEditHandler(t,a)}}],editable:{onRowDelete:function(t){return X.a.post("/departments/delete-department",{department_name:t.department_name}).then((function(a){console.log(a),a&&e.setState((function(e){var a=Object(Q.a)(e.data);return a.splice(a.indexOf(t),1),Object(F.a)({},e,{data:a})}))}))}},onRowClick:function(t,a){e.OnEditHandler(t,a)}}),i.a.createElement(J.a,{open:this.state.openAdd,maxWidth:"lg",fullWidth:!0},i.a.createElement(G.a,{style:{padding:"20px"}},i.a.createElement(Yt,{cancel:function(){e.setState({openAdd:!1}),e.handleClose()}}))),i.a.createElement(J.a,{open:this.state.openEdit,maxWidth:"lg",fullWidth:!0},i.a.createElement(G.a,{style:{padding:"20px"}},i.a.createElement(Jt,{Department:this.EditData,props:this.props,cancel:function(){e.setState({openEdit:!1}),e.handleClose()}}))))}}]),t}(n.Component),Xt=a(56),Zt=a.n(Xt),$t=a(57),ea=a.n($t),ta=oe,aa=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={vendor_name:"",vendor_location:"",vendor_tax_no:"",vendor_mobile_no:"",vendor_email:"",vendor_address:"",vendor_country:"",vendor_state:"",vendor_city:"",vendor_postal_code:"",vendor_point_of_contacts:[{name:"",designation:"",mobile_no:"",sec_mobile_no:""}],poc_name:"",poc_designation:"",poc_mobile_no:"",poc_sec_mobile_no:"",description:"",errors:[],countries:[],states:[],dataReceived:!1,cities:[]},a.onAddHandler=function(){a.setState({dataReceived:!1}),X.a.post("/vendors/add-vendor",{vendor_name:a.state.vendor_name,vendor_location:a.state.vendor_location,vendor_tax_no:a.state.vendor_tax_no,vendor_mobile_no:a.state.vendor_mobile_no,vendor_email:a.state.vendor_email,vendor_address:a.state.vendor_address,vendor_country:a.state.vendor_country,vendor_state:a.state.vendor_state,vendor_city:a.state.vendor_city,vendor_postal_code:a.state.vendor_postal_code,vendor_point_of_contact:a.state.vendor_point_of_contacts,description:a.state.description}).then((function(e){console.log(e),e.data.errors.length>0?(console.log(e.data.errors),a.setState({dataReceived:!0,errors:Object(Q.a)(e.data.errors)})):(a.setState({dataReceived:!0}),a.props.cancel())})).catch((function(e){return console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;le(this.props,"Manage Vendors")&&(this.setState({dataReceived:!1}),X.a.get("/countries/countries").then((function(t){e.setState({countries:Object(Q.a)(t.data.Countries),dataReceived:!0})})))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:ta.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Add Vendor"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:ta.box_msg,bgcolor:"#f73067",key:t},e)})):null,i.a.createElement(m.a,{width:"94%"},this.state.dataReceived?null:i.a.createElement(Y.a,null)),i.a.createElement(ie,null,i.a.createElement(m.a,{style:ta.box_field},i.a.createElement(m.a,{style:ta.box,marginRight:"10px"},i.a.createElement(Z.a,{size:"small",fullWidth:!0,required:!0,value:this.state.vendor_name,variant:"outlined",label:"Vendor Name",type:"text",onChange:function(t){e.setState({vendor_name:t.target.value})}})),i.a.createElement(m.a,{style:ta.box,marginRight:"10px"},i.a.createElement(Z.a,{size:"small",fullWidth:!0,required:!0,value:this.state.vendor_location,variant:"outlined",label:"Location",type:"text",onChange:function(t){e.setState({vendor_location:t.target.value})}})),i.a.createElement(m.a,{style:ta.box},i.a.createElement(Z.a,{size:"small",fullWidth:!0,required:!0,value:this.state.vendor_tax_no,variant:"outlined",label:"Tax Number (GSTIN/VAT)",type:"text",onChange:function(t){e.setState({vendor_tax_no:t.target.value})}}))),i.a.createElement(m.a,{style:ta.box_field},i.a.createElement(m.a,{style:ta.box,marginRight:"10px"},i.a.createElement(Z.a,{size:"small",fullWidth:!0,required:!0,value:this.state.vendor_mobile_no,variant:"outlined",label:"Mobile Number",type:"text",onChange:function(t){e.setState({vendor_mobile_no:t.target.value})}})),i.a.createElement(m.a,{style:ta.box},i.a.createElement(Z.a,{size:"small",fullWidth:!0,required:!0,value:this.state.vendor_email,variant:"outlined",label:"Email",type:"email",onChange:function(t){e.setState({vendor_email:t.target.value})}}))),i.a.createElement(m.a,{style:ta.box},i.a.createElement(Z.a,{size:"small",fullWidth:!0,required:!0,value:this.state.vendor_address,variant:"outlined",label:"Address",type:"text",onChange:function(t){e.setState({vendor_address:t.target.value})}})),i.a.createElement(m.a,{style:ta.box_field,marginTop:"10px"},i.a.createElement(m.a,{style:ta.box,marginRight:"10px"},i.a.createElement($.a,{size:"small",variant:"outlined",fullWidth:!0,display:"flex"},i.a.createElement(re.a,{size:"small",id:"country",disableClearable:!0,options:this.state.countries,getOptionLabel:function(e){return e.country_name},renderInput:function(e){return i.a.createElement(Z.a,Object.assign({},e,{required:!0,label:"Select Country",variant:"outlined"}))},value:this.state.vendor_country,onChange:function(t,a){console.log(a),e.setState({vendor_country:a,cities:[],states:[],vendor_state:"",vendor_city:"",dataReceived:!1}),X.a.post("/states/state-country",{country_id:a}).then((function(t){console.log("test ===>",e.state.vendor_country),e.setState({states:Object(Q.a)(t.data.state),dataReceived:!0})}))}}))),i.a.createElement(m.a,{style:ta.box,marginRight:"10px"},i.a.createElement($.a,{size:"small",variant:"outlined",fullWidth:!0,display:"flex"},i.a.createElement(re.a,{size:"small",id:"state",disableClearable:!0,options:this.state.states,getOptionLabel:function(e){return e.state_name},renderInput:function(e){return i.a.createElement(Z.a,Object.assign({},e,{required:!0,label:"Select State",variant:"outlined"}))},value:this.state.vendor_state,onChange:function(t,a){console.log(a),e.setState({vendor_state:a,vendor_city:"",cities:[],dataReceived:!1}),X.a.post("/cities/city-state",{state_id:a}).then((function(t){console.log(t),e.setState({cities:Object(Q.a)(t.data.city),dataReceived:!0})}))}}))),i.a.createElement(m.a,{style:ta.box},i.a.createElement($.a,{size:"small",variant:"outlined",fullWidth:!0,display:"flex"},i.a.createElement(re.a,{size:"small",id:"city",disableClearable:!0,options:this.state.cities,getOptionLabel:function(e){return e.city_name},renderInput:function(e){return i.a.createElement(Z.a,Object.assign({},e,{required:!0,label:"Select City",variant:"outlined"}))},value:this.state.vendor_city,onChange:function(t,a){console.log(a),e.setState({vendor_city:a})}})))),i.a.createElement(m.a,{style:ta.box_field},i.a.createElement(Z.a,{size:"small",fullWidth:!0,required:!0,value:this.state.vendor_postal_code,variant:"outlined",label:"Postal Code",type:"text",onChange:function(t){e.setState({vendor_postal_code:t.target.value})}})),i.a.createElement(m.a,{style:ta.box},i.a.createElement(Z.a,{size:"small",fullWidth:!0,multiline:!0,rowsMax:4,required:!0,value:this.state.description,variant:"outlined",label:"Description",type:"text",onChange:function(t){e.setState({description:t.target.value})}})),i.a.createElement(m.a,{fontWeight:"bold",fontSize:"1.2vw",mt:1,mb:1,display:"flex",justifyContent:"flex-start",width:"100%"},"Point of contact"),i.a.createElement(m.a,{style:ta.box_field,padding:"10px",border:"1px solid #3f51b5",marginBottom:"10px",flexDirection:"column"},this.state.vendor_point_of_contacts.map((function(t,a){return i.a.createElement(m.a,{style:ta.box_field},i.a.createElement(m.a,{style:ta.box,marginRight:"10px"},i.a.createElement(Z.a,{size:"small",fullWidth:!0,required:!0,value:e.state.vendor_point_of_contacts[a].name,variant:"outlined",label:"Name",type:"text",onChange:function(t){e.setState({poc_name:t.target.value}),e.setState((function(e){e.vendor_point_of_contacts[a].name=e.poc_name,console.log(e.vendor_point_of_contacts[a])}))}})),i.a.createElement(m.a,{style:ta.box,marginRight:"10px"},i.a.createElement(Z.a,{size:"small",fullWidth:!0,required:!0,value:e.state.vendor_point_of_contacts[a].designation,variant:"outlined",label:"Designation",type:"text",onChange:function(t){e.setState({poc_designation:t.target.value}),e.setState((function(e){e.vendor_point_of_contacts[a].designation=e.poc_designation,console.log(e.vendor_point_of_contacts[a])}))}})),i.a.createElement(m.a,{style:ta.box,marginRight:"10px"},i.a.createElement(Z.a,{size:"small",fullWidth:!0,required:!0,value:e.state.vendor_point_of_contacts[a].mobile_no,variant:"outlined",label:"Mobile No",type:"text",onChange:function(t){e.setState({poc_mobile_no:t.target.value}),e.setState((function(e){e.vendor_point_of_contacts[a].mobile_no=e.poc_mobile_no,console.log(e.vendor_point_of_contacts[a])}))}})),i.a.createElement(m.a,{style:ta.box,marginRight:"10px"},i.a.createElement(Z.a,{size:"small",fullWidth:!0,value:e.state.vendor_point_of_contacts[a].sec_mobile_no,variant:"outlined",label:"Secondary Mobile No",type:"text",onChange:function(t){e.setState({poc_sec_mobile_no:t.target.value}),e.setState((function(e){e.vendor_point_of_contacts[a].sec_mobile_no=e.poc_sec_mobile_no,console.log(e.vendor_point_of_contacts[a])}))}})),e.state.vendor_point_of_contacts.length===a+1?i.a.createElement(Zt.a,{color:"secondary",fontSize:"medium",onClick:function(){e.setState({}),e.setState((function(e){e.vendor_point_of_contacts.push({name:"",designation:"",mobile_no:"",sec_mobile_no:""}),console.log(e.vendor_point_of_contacts)}))}}):i.a.createElement(ea.a,{color:"secondary",fontSize:"medium",onClick:function(){e.setState({}),e.setState((function(e){e.vendor_point_of_contacts.splice(a,1),console.log(e.vendor_point_of_contacts)}))}}))})).reverse())),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:this.onAddHandler},"Add"))))}}]),t}(n.Component),na=oe,ia=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={_id:"",vendor_name:"",vendor_location:"",vendor_tax_no:"",vendor_mobile_no:"",vendor_email:"",vendor_address:"",vendor_country:"",vendor_state:"",vendor_city:"",vendor_postal_code:"",vendor_point_of_contacts:[{name:"",designation:"",mobile_no:"",sec_mobile_no:""}],description:"",errors:[],fieldErrors:{vendor_name:!1,vendor_location:!1,vendor_tax_no:!1,vendor_mobile_no:!1,vendor_email:!1,vendor_address:!1,vendor_country:!1,vendor_state:!1,vendor_city:!1,vendor_postal_code:!1,vendor_point_of_contacts:!1},countries:[],states:[],cities:[],poc_name:"",poc_designation:"",poc_mobile_no:"",dataReceived:!1,poc_sec_mobile_no:""},a.onGetCountry=function(e){X.a.post("/countries/country",{_id:e}).then((function(e){console.log(e.data.Country[0]),a.setState({vendor_country:e.data.Country[0]})}))},a.onGetState=function(e){X.a.post("/states/state",{_id:e}).then((function(e){console.log(e.data.state),a.setState({vendor_state:e.data.state[0]})}))},a.onGetCity=function(e){X.a.post("/cities/city",{_id:e}).then((function(e){a.setState({vendor_city:e.data.city[0]})}))},a.onEditHandler=function(){a.state.vendor_point_of_contacts.map((function(e,t){var n=e.name,i=e.mobile_no;return n||i||a.state.vendor_point_of_contacts.splice(t,1),null})),console.log(a.state.vendor_point_of_contacts),a.setState({dataReceived:!1}),X.a.post("/vendors/edit-vendor",{_id:a.state._id,vendor_name:a.state.vendor_name,vendor_location:a.state.vendor_location,vendor_tax_no:a.state.vendor_tax_no,vendor_mobile_no:a.state.vendor_mobile_no,vendor_email:a.state.vendor_email,vendor_address:a.state.vendor_address,vendor_country:a.state.vendor_country,vendor_state:a.state.vendor_state,vendor_city:a.state.vendor_city,vendor_postal_code:a.state.vendor_postal_code,vendor_point_of_contact:a.state.vendor_point_of_contacts,description:a.state.description}).then((function(e){console.log(e),e.data.errors&&(e.data.errors.length>0?(console.log(e.data.errors),a.setState({errors:Object(Q.a)(e.data.errors),dataReceived:!0})):(a.setState({dataReceived:!0}),a.props.cancel()))})).catch((function(e){return console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;console.log(this.props.Vendor),console.log(this.props.Vendor.vendor_point_of_contact),le(this.props,"Manage Vendors")&&(this.setState({dataReceived:!1}),X.a.get("/countries/countries").then((function(t){e.setState({countries:Object(Q.a)(t.data.Countries)}),e.onGetCountry(e.props.Vendor.vendor_country),X.a.post("/states/state-country",{country_id:e.props.Vendor.vendor_country}).then((function(t){e.setState({states:Object(Q.a)(t.data.state)}),e.onGetState(e.props.Vendor.vendor_state),X.a.post("/cities/city-state",{state_id:e.props.Vendor.vendor_state}).then((function(t){e.setState({cities:Object(Q.a)(t.data.city)}),e.onGetCity(e.props.Vendor.vendor_city),""===e.state.vendor_name&&e.setState({_id:e.props.Vendor._id,vendor_name:e.props.Vendor.vendor_name,vendor_location:e.props.Vendor.vendor_location,vendor_tax_no:e.props.Vendor.vendor_tax_no,vendor_mobile_no:e.props.Vendor.vendor_mobile_no,vendor_email:e.props.Vendor.vendor_email,vendor_address:e.props.Vendor.vendor_address,vendor_postal_code:e.props.Vendor.vendor_postal_code,vendor_point_of_contacts:e.props.Vendor.vendor_point_of_contact,description:e.props.Vendor.description,dataReceived:!0})}))}))})))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:na.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Edit Vendor"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:na.box_msg,bgcolor:"#f73067",key:t},e)})):null,i.a.createElement(m.a,{width:"94%"},this.state.dataReceived?null:i.a.createElement(Y.a,null)),i.a.createElement(ie,null,i.a.createElement(m.a,{style:na.box_field},i.a.createElement(m.a,{style:na.box,marginRight:"10px"},i.a.createElement(Z.a,{size:"small",fullWidth:!0,required:!0,value:this.state.vendor_name,variant:"outlined",label:"Vendor Name",type:"text",onChange:function(t){e.setState({vendor_name:t.target.value})}})),i.a.createElement(m.a,{style:na.box,marginRight:"10px"},i.a.createElement(Z.a,{size:"small",fullWidth:!0,required:!0,value:this.state.vendor_location,variant:"outlined",label:"Location",type:"text",onChange:function(t){e.setState({vendor_location:t.target.value})}})),i.a.createElement(m.a,{style:na.box},i.a.createElement(Z.a,{size:"small",fullWidth:!0,required:!0,value:this.state.vendor_tax_no,variant:"outlined",label:"Tax Number (GSTIN/VAT)",type:"text",onChange:function(t){e.setState({vendor_tax_no:t.target.value})}}))),i.a.createElement(m.a,{style:na.box_field},i.a.createElement(m.a,{style:na.box,marginRight:"10px"},i.a.createElement(Z.a,{size:"small",fullWidth:!0,required:!0,value:this.state.vendor_mobile_no,variant:"outlined",label:"Mobile Number",type:"text",onChange:function(t){e.setState({vendor_mobile_no:t.target.value})}})),i.a.createElement(m.a,{style:na.box},i.a.createElement(Z.a,{size:"small",fullWidth:!0,required:!0,value:this.state.vendor_email,variant:"outlined",label:"Email",type:"email",onChange:function(t){e.setState({vendor_email:t.target.value})}}))),i.a.createElement(m.a,{style:na.box},i.a.createElement(Z.a,{size:"small",fullWidth:!0,required:!0,value:this.state.vendor_address,variant:"outlined",label:"Address",type:"text",onChange:function(t){e.setState({vendor_address:t.target.value})}})),i.a.createElement(m.a,{style:na.box_field,marginTop:"10px"},i.a.createElement(m.a,{style:na.box,marginRight:"10px"},i.a.createElement($.a,{size:"small",variant:"outlined",fullWidth:!0,display:"flex"},i.a.createElement(re.a,{size:"small",id:"country",disableClearable:!0,options:this.state.countries,getOptionLabel:function(e){return e.country_name},renderInput:function(e){return i.a.createElement(Z.a,Object.assign({},e,{required:!0,label:"Select Country",variant:"outlined"}))},value:this.state.vendor_country,onChange:function(t,a){console.log(a),e.setState({vendor_country:a,cities:[],states:[],vendor_state:"",vendor_city:"",dataReceived:!1}),X.a.post("/states/state-country",{country_id:a}).then((function(t){console.log("test ===>",e.state.vendor_country),e.setState({states:Object(Q.a)(t.data.state),dataReceived:!0})}))}}))),i.a.createElement(m.a,{style:na.box,marginRight:"10px"},i.a.createElement($.a,{size:"small",variant:"outlined",fullWidth:!0,display:"flex"},i.a.createElement(re.a,{size:"small",id:"state",disableClearable:!0,options:this.state.states,getOptionLabel:function(e){return e.state_name},renderInput:function(e){return i.a.createElement(Z.a,Object.assign({},e,{required:!0,label:"Select State",variant:"outlined"}))},value:this.state.vendor_state,onChange:function(t,a){console.log(a),e.setState({vendor_state:a,vendor_city:"",cities:[],dataReceived:!1}),X.a.post("/cities/city-state",{state_id:a}).then((function(t){console.log(t),e.setState({cities:Object(Q.a)(t.data.city),dataReceived:!0})}))}}))),i.a.createElement(m.a,{style:na.box},i.a.createElement($.a,{size:"small",variant:"outlined",fullWidth:!0,display:"flex"},i.a.createElement(re.a,{size:"small",id:"city",disableClearable:!0,options:this.state.cities,getOptionLabel:function(e){return e.city_name},renderInput:function(e){return i.a.createElement(Z.a,Object.assign({},e,{required:!0,label:"Select City",variant:"outlined"}))},value:this.state.vendor_city,onChange:function(t,a){console.log(a),e.setState({vendor_city:a})}})))),i.a.createElement(m.a,{style:na.box_field},i.a.createElement(Z.a,{size:"small",fullWidth:!0,required:!0,value:this.state.vendor_postal_code,variant:"outlined",label:"Postal Code",type:"text",onChange:function(t){e.setState({vendor_postal_code:t.target.value})}})),i.a.createElement(m.a,{style:na.box},i.a.createElement(Z.a,{size:"small",fullWidth:!0,multiline:!0,rowsMax:4,required:!0,value:this.state.description,variant:"outlined",label:"Description",type:"text",onChange:function(t){e.setState({description:t.target.value})}})),i.a.createElement(m.a,{fontWeight:"bold",fontSize:"1.2vw",mt:1,mb:1,display:"flex",justifyContent:"flex-start",width:"100%"},"Point of contact"),i.a.createElement(m.a,{style:na.box_field,padding:"10px",border:"1px solid #3f51b5",marginBottom:"10px",flexDirection:"column"},this.state.vendor_point_of_contacts.map((function(t,a){return i.a.createElement(m.a,{key:a,style:na.box_field},i.a.createElement(m.a,{style:na.box,marginRight:"10px"},i.a.createElement(Z.a,{size:"small",fullWidth:!0,required:!0,value:e.state.vendor_point_of_contacts[a].name,variant:"outlined",label:"Name",type:"text",onChange:function(t){e.setState({poc_name:t.target.value}),e.setState((function(e){e.vendor_point_of_contacts[a].name=e.poc_name,console.log(e.vendor_point_of_contacts[a])}))}})),i.a.createElement(m.a,{style:na.box,marginRight:"10px"},i.a.createElement(Z.a,{size:"small",fullWidth:!0,required:!0,value:e.state.vendor_point_of_contacts[a].designation,variant:"outlined",label:"Designation",type:"text",onChange:function(t){e.setState({poc_designation:t.target.value}),e.setState((function(e){e.vendor_point_of_contacts[a].designation=e.poc_designation,console.log(e.vendor_point_of_contacts[a])}))}})),i.a.createElement(m.a,{style:na.box,marginRight:"10px"},i.a.createElement(Z.a,{size:"small",fullWidth:!0,required:!0,value:e.state.vendor_point_of_contacts[a].mobile_no,variant:"outlined",label:"Mobile No",type:"text",onChange:function(t){e.setState({poc_mobile_no:t.target.value}),e.setState((function(e){e.vendor_point_of_contacts[a].mobile_no=e.poc_mobile_no,console.log(e.vendor_point_of_contacts[a])}))}})),i.a.createElement(m.a,{style:na.box,marginRight:"10px"},i.a.createElement(Z.a,{size:"small",fullWidth:!0,value:e.state.vendor_point_of_contacts[a].sec_mobile_no,variant:"outlined",label:"Secondary Mobile No",type:"text",onChange:function(t){e.setState({poc_sec_mobile_no:t.target.value}),e.setState((function(e){e.vendor_point_of_contacts[a].sec_mobile_no=e.poc_sec_mobile_no,console.log(e.vendor_point_of_contacts[a])}))}})),e.state.vendor_point_of_contacts.length===a+1?i.a.createElement(Zt.a,{color:"secondary",style:{fontSize:"30px"},onClick:function(){e.setState({}),e.setState((function(e){e.vendor_point_of_contacts.push({name:"",designation:"",mobile_no:"",sec_mobile_no:""}),console.log(e.vendor_point_of_contacts)}))}}):i.a.createElement(ea.a,{color:"secondary",style:{fontSize:"30px"},onClick:function(){e.setState({}),e.setState((function(e){e.vendor_point_of_contacts.splice(a,1),console.log(e.vendor_point_of_contacts)}))}}))})).reverse())),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:this.onEditHandler},"Update"))))}}]),t}(n.Component),oa=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).EditData={},a.state={columns:[{title:"ID",field:"id"},{title:"Vendor Name",field:"vendor_name"},{title:"Vendor Location",field:"vendor_location"},{title:"Description",field:"description"}],data:[],openAdd:!1,dataReceived:!1,openEdit:!1},a.OnEditHandler=function(e,t){console.log(t._id),a.setState({dataReceived:!1}),X.a.post("/vendors/vendor",{_id:t._id}).then((function(e){console.log(e),a.EditData=Object(F.a)({},e.data.Vendor),console.log(a.EditData[0]),a.setState({dataReceived:!0,openEdit:!0})}))},a.handleClose=function(){a.setState({dataReceived:!1}),X.a.get("/vendors/vendors").then((function(e){for(var t=0;t<e.data.Vendors.length;t++)e.data.Vendors[t].id=t+1;a.setState({data:Object(Q.a)(e.data.Vendors),dataReceived:!0})})).catch((function(e){console.log("Error")}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){le(this.props,"Manage Vendors")&&this.handleClose()}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Manage Vendors"),i.a.createElement(m.a,{width:"90%",display:"flex",flexDirection:"row"},i.a.createElement(R.a,{variant:"contained",color:"primary",style:{marginBottom:"20px",display:"flex",marginRight:"10px"},size:"large",onClick:function(){e.setState({openAdd:!0})}},"Add")),i.a.createElement(m.a,{width:"90%"},this.state.dataReceived?null:i.a.createElement(Y.a,null)),i.a.createElement(H.a,{title:" ",columns:this.state.columns,data:this.state.data,style:{width:"90%",maxHeight:"500px",overflow:"auto"},options:{sorting:!0,headerStyle:{backgroundColor:"#3f51b5",color:"#FFF"}},actions:[{icon:"edit",tooltip:"Edit",onClick:function(t,a){e.OnEditHandler(t,a)}}],editable:{onRowDelete:function(t){return X.a.post("/vendors/delete-vendor",{_id:t._id}).then((function(a){console.log(a),a&&e.setState((function(e){var a=Object(Q.a)(e.data);return a.splice(a.indexOf(t),1),Object(F.a)({},e,{data:a})}))}))}},onRowClick:function(t,a){e.OnEditHandler(t,a)}}),i.a.createElement(J.a,{open:this.state.openAdd,maxWidth:"lg",fullWidth:!0},i.a.createElement(G.a,{style:{padding:"20px"}},i.a.createElement(aa,{cancel:function(){e.setState({openAdd:!1}),e.handleClose()}}))),i.a.createElement(J.a,{open:this.state.openEdit,maxWidth:"lg",fullWidth:!0},i.a.createElement(G.a,{style:{padding:"20px"}},i.a.createElement(ia,{Vendor:this.EditData[0],cancel:function(){e.setState({openEdit:!1}),e.handleClose()}}))))}}]),t}(n.Component),la=oe,ra=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={distributor_name:"",distributor_location:"",distributor_tax_no:"",distributor_mobile_no:"",distributor_email:"",distributor_address:"",distributor_country:"",distributor_state:"",distributor_city:"",distributor_postal_code:"",distributor_point_of_contacts:[{name:"",designation:"",mobile_no:"",sec_mobile_no:""}],description:"",errors:[],countries:[],states:[],cities:[],poc_name:"",poc_designation:"",poc_mobile_no:"",dataReceived:!1,poc_sec_mobile_no:""},a.onAddHandler=function(){a.setState({dataReceived:!1}),X.a.post("/distributors/add-distributor",{distributor_name:a.state.distributor_name,distributor_location:a.state.distributor_location,distributor_tax_no:a.state.distributor_tax_no,distributor_mobile_no:a.state.distributor_mobile_no,distributor_email:a.state.distributor_email,distributor_address:a.state.distributor_address,distributor_country:a.state.distributor_country,distributor_state:a.state.distributor_state,distributor_city:a.state.distributor_city,distributor_postal_code:a.state.distributor_postal_code,distributor_point_of_contact:a.state.distributor_point_of_contacts,description:a.state.description}).then((function(e){console.log(e),e.data.errors.length>0?(console.log(e.data.errors),a.setState({dataReceived:!0,errors:Object(Q.a)(e.data.errors)})):(a.setState({dataReceived:!0}),a.props.cancel())})).catch((function(e){return console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;le(this.props,"Manage Distributors")&&(this.setState({dataReceived:!1}),X.a.get("/countries/countries").then((function(t){e.setState({countries:Object(Q.a)(t.data.Countries),dataReceived:!0})})))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:la.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Add Distributor"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:la.box_msg,bgcolor:"#f73067",key:t},e)})):null,i.a.createElement(m.a,{width:"94%"},this.state.dataReceived?null:i.a.createElement(Y.a,null)),i.a.createElement(ie,null,i.a.createElement(m.a,{style:la.box_field},i.a.createElement(m.a,{style:la.box,marginRight:"10px"},i.a.createElement(Z.a,{size:"small",fullWidth:!0,required:!0,value:this.state.distributor_name,variant:"outlined",label:"Distributor Name",type:"text",onChange:function(t){e.setState({distributor_name:t.target.value})}})),i.a.createElement(m.a,{style:la.box,marginRight:"10px"},i.a.createElement(Z.a,{size:"small",fullWidth:!0,required:!0,value:this.state.distributor_location,variant:"outlined",label:"Location",type:"text",onChange:function(t){e.setState({distributor_location:t.target.value})}})),i.a.createElement(m.a,{style:la.box},i.a.createElement(Z.a,{size:"small",fullWidth:!0,required:!0,value:this.state.distributor_tax_no,variant:"outlined",label:"Tax Number (GSTIN/VAT)",type:"text",onChange:function(t){e.setState({distributor_tax_no:t.target.value})}}))),i.a.createElement(m.a,{style:la.box_field},i.a.createElement(m.a,{style:la.box,marginRight:"10px"},i.a.createElement(Z.a,{size:"small",fullWidth:!0,required:!0,value:this.state.distributor_mobile_no,variant:"outlined",label:"Mobile Number",type:"text",onChange:function(t){e.setState({distributor_mobile_no:t.target.value})}})),i.a.createElement(m.a,{style:la.box},i.a.createElement(Z.a,{size:"small",fullWidth:!0,required:!0,value:this.state.distributor_email,variant:"outlined",label:"Email",type:"email",onChange:function(t){e.setState({distributor_email:t.target.value})}}))),i.a.createElement(m.a,{style:la.box},i.a.createElement(Z.a,{size:"small",fullWidth:!0,required:!0,value:this.state.distributor_address,variant:"outlined",label:"Address",type:"text",onChange:function(t){e.setState({distributor_address:t.target.value})}})),i.a.createElement(m.a,{style:la.box_field,marginTop:"10px"},i.a.createElement(m.a,{style:la.box,marginRight:"10px"},i.a.createElement($.a,{size:"small",variant:"outlined",fullWidth:!0,display:"flex"},i.a.createElement(re.a,{size:"small",id:"country",disableClearable:!0,options:this.state.countries,getOptionLabel:function(e){return e.country_name},renderInput:function(e){return i.a.createElement(Z.a,Object.assign({},e,{required:!0,label:"Select Country",variant:"outlined"}))},value:this.state.distributor_country,onChange:function(t,a){console.log(a),e.setState({distributor_country:a,cities:[],states:[],distributor_state:"",distributor_city:"",dataReceived:!1}),X.a.post("/states/state-country",{country_id:a}).then((function(t){console.log("test ===>",e.state.distributor_country),e.setState({states:Object(Q.a)(t.data.state),dataReceived:!0})}))}}))),i.a.createElement(m.a,{style:la.box,marginRight:"10px"},i.a.createElement($.a,{size:"small",variant:"outlined",fullWidth:!0,display:"flex"},i.a.createElement(re.a,{size:"small",id:"state",disableClearable:!0,options:this.state.states,getOptionLabel:function(e){return e.state_name},renderInput:function(e){return i.a.createElement(Z.a,Object.assign({},e,{required:!0,label:"Select State",variant:"outlined"}))},value:this.state.distributor_state,onChange:function(t,a){console.log(a),e.setState({distributor_state:a,distributor_city:"",cities:[],dataReceived:!1}),X.a.post("/cities/city-state",{state_id:a}).then((function(t){console.log(t),e.setState({cities:Object(Q.a)(t.data.city),dataReceived:!0})}))}}))),i.a.createElement(m.a,{style:la.box},i.a.createElement($.a,{size:"small",variant:"outlined",fullWidth:!0,display:"flex"},i.a.createElement(re.a,{size:"small",id:"city",disableClearable:!0,options:this.state.cities,getOptionLabel:function(e){return e.city_name},renderInput:function(e){return i.a.createElement(Z.a,Object.assign({},e,{required:!0,label:"Select City",variant:"outlined"}))},value:this.state.distributor_city,onChange:function(t,a){console.log(a),e.setState({distributor_city:a})}})))),i.a.createElement(m.a,{style:la.box_field},i.a.createElement(Z.a,{size:"small",fullWidth:!0,required:!0,value:this.state.distributor_postal_code,variant:"outlined",label:"Postal Code",type:"text",onChange:function(t){e.setState({distributor_postal_code:t.target.value})}})),i.a.createElement(m.a,{style:la.box},i.a.createElement(Z.a,{size:"small",fullWidth:!0,multiline:!0,rowsMax:4,required:!0,value:this.state.description,variant:"outlined",label:"Description",type:"text",onChange:function(t){e.setState({description:t.target.value})}})),i.a.createElement(m.a,{fontWeight:"bold",fontSize:"1.2vw",mt:1,mb:1,display:"flex",justifyContent:"flex-start",width:"100%"},"Point of contact"),i.a.createElement(m.a,{style:la.box_field,padding:"10px",border:"1px solid #3f51b5",marginBottom:"10px",flexDirection:"column"},this.state.distributor_point_of_contacts.map((function(t,a){return i.a.createElement(m.a,{style:la.box_field},i.a.createElement(m.a,{style:la.box,marginRight:"10px"},i.a.createElement(Z.a,{size:"small",fullWidth:!0,required:!0,value:e.state.distributor_point_of_contacts[a].name,variant:"outlined",label:"Name",type:"text",onChange:function(t){e.setState({poc_name:t.target.value}),e.setState((function(e){e.distributor_point_of_contacts[a].name=e.poc_name,console.log(e.distributor_point_of_contacts[a])}))}})),i.a.createElement(m.a,{style:la.box,marginRight:"10px"},i.a.createElement(Z.a,{size:"small",fullWidth:!0,required:!0,value:e.state.distributor_point_of_contacts[a].designation,variant:"outlined",label:"Designation",type:"text",onChange:function(t){e.setState({poc_designation:t.target.value}),e.setState((function(e){e.distributor_point_of_contacts[a].designation=e.poc_designation,console.log(e.distributor_point_of_contacts[a])}))}})),i.a.createElement(m.a,{style:la.box,marginRight:"10px"},i.a.createElement(Z.a,{size:"small",fullWidth:!0,required:!0,value:e.state.distributor_point_of_contacts[a].mobile_no,variant:"outlined",label:"Mobile No",type:"text",onChange:function(t){e.setState({poc_mobile_no:t.target.value}),e.setState((function(e){e.distributor_point_of_contacts[a].mobile_no=e.poc_mobile_no,console.log(e.distributor_point_of_contacts[a])}))}})),i.a.createElement(m.a,{style:la.box,marginRight:"10px"},i.a.createElement(Z.a,{size:"small",fullWidth:!0,value:e.state.distributor_point_of_contacts[a].sec_mobile_no,variant:"outlined",label:"Secondary Mobile No",type:"text",onChange:function(t){e.setState({poc_sec_mobile_no:t.target.value}),e.setState((function(e){e.distributor_point_of_contacts[a].sec_mobile_no=e.poc_sec_mobile_no,console.log(e.distributor_point_of_contacts[a])}))}})),e.state.distributor_point_of_contacts.length===a+1?i.a.createElement(Zt.a,{color:"secondary",fontSize:"medium",onClick:function(){e.setState({}),e.setState((function(e){e.distributor_point_of_contacts.push({name:"",designation:"",mobile_no:"",sec_mobile_no:""}),console.log(e.distributor_point_of_contacts)}))}}):i.a.createElement(ea.a,{color:"secondary",fontSize:"medium",onClick:function(){e.setState({}),e.setState((function(e){e.distributor_point_of_contacts.splice(a,1),console.log(e.distributor_point_of_contacts)}))}}))})).reverse())),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:this.onAddHandler},"Add"))))}}]),t}(n.Component),sa=oe,ca=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={_id:"",distributor_name:"",distributor_location:"",distributor_tax_no:"",distributor_mobile_no:"",distributor_email:"",distributor_address:"",distributor_country:"",distributor_state:"",distributor_city:"",distributor_postal_code:"",distributor_point_of_contacts:[{name:"",designation:"",mobile_no:"",sec_mobile_no:""}],description:"",errors:[],fieldErrors:{distributor_name:!1,distributor_location:!1,distributor_tax_no:!1,distributor_mobile_no:!1,distributor_email:!1,distributor_address:!1,distributor_country:!1,distributor_state:!1,distributor_city:!1,distributor_postal_code:!1,distributor_point_of_contacts:!1},countries:[],states:[],cities:[],poc_name:"",poc_designation:"",poc_mobile_no:"",dataReceived:!1,poc_sec_mobile_no:""},a.onGetCountry=function(e){X.a.post("/countries/country",{_id:e}).then((function(e){console.log(e.data.Country[0]),a.setState({distributor_country:e.data.Country[0]})}))},a.onGetState=function(e){X.a.post("/states/state",{_id:e}).then((function(e){console.log(e.data.state),a.setState({distributor_state:e.data.state[0]})}))},a.onGetCity=function(e){X.a.post("/cities/city",{_id:e}).then((function(e){a.setState({distributor_city:e.data.city[0]})}))},a.onEditHandler=function(){a.state.distributor_point_of_contacts.map((function(e,t){var n=e.name,i=e.mobile_no;return n||i||a.state.distributor_point_of_contacts.splice(t,1),null})),console.log(a.state.distributor_point_of_contacts),a.setState({dataReceived:!1}),X.a.post("/distributors/edit-distributor",{_id:a.state._id,distributor_name:a.state.distributor_name,distributor_location:a.state.distributor_location,distributor_tax_no:a.state.distributor_tax_no,distributor_mobile_no:a.state.distributor_mobile_no,distributor_email:a.state.distributor_email,distributor_address:a.state.distributor_address,distributor_country:a.state.distributor_country,distributor_state:a.state.distributor_state,distributor_city:a.state.distributor_city,distributor_postal_code:a.state.distributor_postal_code,distributor_point_of_contact:a.state.distributor_point_of_contacts,description:a.state.description}).then((function(e){console.log(e),e.data.errors&&(e.data.errors.length>0?(console.log(e.data.errors),a.setState({errors:Object(Q.a)(e.data.errors),dataReceived:!0})):(a.setState({dataReceived:!0}),a.props.cancel()))})).catch((function(e){return console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;console.log(this.props.Distributor),console.log(this.props.Distributor.distributor_point_of_contact),le(this.props,"Manage Distributors")&&(this.setState({dataReceived:!1}),X.a.get("/countries/countries").then((function(t){e.setState({countries:Object(Q.a)(t.data.Countries)}),e.onGetCountry(e.props.Distributor.distributor_country),X.a.post("/states/state-country",{country_id:e.props.Distributor.distributor_country}).then((function(t){e.setState({states:Object(Q.a)(t.data.state)}),e.onGetState(e.props.Distributor.distributor_state),X.a.post("/cities/city-state",{state_id:e.props.Distributor.distributor_state}).then((function(t){e.setState({cities:Object(Q.a)(t.data.city)}),e.onGetCity(e.props.Distributor.distributor_city),""===e.state.distributor_name&&e.setState({_id:e.props.Distributor._id,distributor_name:e.props.Distributor.distributor_name,distributor_location:e.props.Distributor.distributor_location,distributor_tax_no:e.props.Distributor.distributor_tax_no,distributor_mobile_no:e.props.Distributor.distributor_mobile_no,distributor_email:e.props.Distributor.distributor_email,distributor_address:e.props.Distributor.distributor_address,distributor_postal_code:e.props.Distributor.distributor_postal_code,distributor_point_of_contacts:e.props.Distributor.distributor_point_of_contact,description:e.props.Distributor.description,dataReceived:!0})}))}))})))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:sa.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Edit Distributor"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:sa.box_msg,bgcolor:"#f73067",key:t},e)})):null,i.a.createElement(m.a,{width:"94%"},this.state.dataReceived?null:i.a.createElement(Y.a,null)),i.a.createElement(ie,null,i.a.createElement(m.a,{style:sa.box_field},i.a.createElement(m.a,{style:sa.box,marginRight:"10px"},i.a.createElement(Z.a,{size:"small",fullWidth:!0,required:!0,value:this.state.distributor_name,variant:"outlined",label:"Distributor Name",type:"text",onChange:function(t){e.setState({distributor_name:t.target.value})}})),i.a.createElement(m.a,{style:sa.box,marginRight:"10px"},i.a.createElement(Z.a,{size:"small",fullWidth:!0,required:!0,value:this.state.distributor_location,variant:"outlined",label:"Location",type:"text",onChange:function(t){e.setState({distributor_location:t.target.value})}})),i.a.createElement(m.a,{style:sa.box},i.a.createElement(Z.a,{size:"small",fullWidth:!0,required:!0,value:this.state.distributor_tax_no,variant:"outlined",label:"Tax Number (GSTIN/VAT)",type:"text",onChange:function(t){e.setState({distributor_tax_no:t.target.value})}}))),i.a.createElement(m.a,{style:sa.box_field},i.a.createElement(m.a,{style:sa.box,marginRight:"10px"},i.a.createElement(Z.a,{size:"small",fullWidth:!0,required:!0,value:this.state.distributor_mobile_no,variant:"outlined",label:"Mobile Number",type:"text",onChange:function(t){e.setState({distributor_mobile_no:t.target.value})}})),i.a.createElement(m.a,{style:sa.box},i.a.createElement(Z.a,{size:"small",fullWidth:!0,required:!0,value:this.state.distributor_email,variant:"outlined",label:"Email",type:"email",onChange:function(t){e.setState({distributor_email:t.target.value})}}))),i.a.createElement(m.a,{style:sa.box},i.a.createElement(Z.a,{size:"small",fullWidth:!0,required:!0,value:this.state.distributor_address,variant:"outlined",label:"Address",type:"text",onChange:function(t){e.setState({distributor_address:t.target.value})}})),i.a.createElement(m.a,{style:sa.box_field,marginTop:"10px"},i.a.createElement(m.a,{style:sa.box,marginRight:"10px"},i.a.createElement($.a,{size:"small",variant:"outlined",fullWidth:!0,display:"flex"},i.a.createElement(re.a,{size:"small",id:"country",disableClearable:!0,options:this.state.countries,getOptionLabel:function(e){return e.country_name},renderInput:function(e){return i.a.createElement(Z.a,Object.assign({},e,{required:!0,label:"Select Country",variant:"outlined"}))},value:this.state.distributor_country,onChange:function(t,a){console.log(a),e.setState({distributor_country:a,cities:[],states:[],distributor_state:"",distributor_city:"",dataReceived:!1}),X.a.post("/states/state-country",{country_id:a}).then((function(t){console.log("test ===>",e.state.distributor_country),e.setState({states:Object(Q.a)(t.data.state),dataReceived:!0})}))}}))),i.a.createElement(m.a,{style:sa.box,marginRight:"10px"},i.a.createElement($.a,{size:"small",variant:"outlined",fullWidth:!0,display:"flex"},i.a.createElement(re.a,{size:"small",id:"state",disableClearable:!0,options:this.state.states,getOptionLabel:function(e){return e.state_name},renderInput:function(e){return i.a.createElement(Z.a,Object.assign({},e,{required:!0,label:"Select State",variant:"outlined"}))},value:this.state.distributor_state,onChange:function(t,a){console.log(a),e.setState({distributor_state:a,distributor_city:"",cities:[],dataReceived:!1}),X.a.post("/cities/city-state",{state_id:a}).then((function(t){console.log(t),e.setState({cities:Object(Q.a)(t.data.city),dataReceived:!0})}))}}))),i.a.createElement(m.a,{style:sa.box},i.a.createElement($.a,{size:"small",variant:"outlined",fullWidth:!0,display:"flex"},i.a.createElement(re.a,{size:"small",id:"city",disableClearable:!0,options:this.state.cities,getOptionLabel:function(e){return e.city_name},renderInput:function(e){return i.a.createElement(Z.a,Object.assign({},e,{required:!0,label:"Select City",variant:"outlined"}))},value:this.state.distributor_city,onChange:function(t,a){console.log(a),e.setState({distributor_city:a})}})))),i.a.createElement(m.a,{style:sa.box_field},i.a.createElement(Z.a,{size:"small",fullWidth:!0,required:!0,value:this.state.distributor_postal_code,variant:"outlined",label:"Postal Code",type:"text",onChange:function(t){e.setState({distributor_postal_code:t.target.value})}})),i.a.createElement(m.a,{style:sa.box},i.a.createElement(Z.a,{size:"small",fullWidth:!0,multiline:!0,rowsMax:4,required:!0,value:this.state.description,variant:"outlined",label:"Description",type:"text",onChange:function(t){e.setState({description:t.target.value})}})),i.a.createElement(m.a,{fontWeight:"bold",fontSize:"1.2vw",mt:1,mb:1,display:"flex",justifyContent:"flex-start",width:"100%"},"Point of contact"),i.a.createElement(m.a,{style:sa.box_field,padding:"10px",border:"1px solid #3f51b5",marginBottom:"10px",flexDirection:"column"},this.state.distributor_point_of_contacts.map((function(t,a){return i.a.createElement(m.a,{style:sa.box_field},i.a.createElement(m.a,{style:sa.box,marginRight:"10px"},i.a.createElement(Z.a,{size:"small",fullWidth:!0,required:!0,value:e.state.distributor_point_of_contacts[a].name,variant:"outlined",label:"Name",type:"text",onChange:function(t){e.setState({poc_name:t.target.value}),e.setState((function(e){e.distributor_point_of_contacts[a].name=e.poc_name,console.log(e.distributor_point_of_contacts[a])}))}})),i.a.createElement(m.a,{style:sa.box,marginRight:"10px"},i.a.createElement(Z.a,{size:"small",fullWidth:!0,required:!0,value:e.state.distributor_point_of_contacts[a].designation,variant:"outlined",label:"Designation",type:"text",onChange:function(t){e.setState({poc_designation:t.target.value}),e.setState((function(e){e.distributor_point_of_contacts[a].designation=e.poc_designation,console.log(e.distributor_point_of_contacts[a])}))}})),i.a.createElement(m.a,{style:sa.box,marginRight:"10px"},i.a.createElement(Z.a,{size:"small",fullWidth:!0,required:!0,value:e.state.distributor_point_of_contacts[a].mobile_no,variant:"outlined",label:"Mobile No",type:"text",onChange:function(t){e.setState({poc_mobile_no:t.target.value}),e.setState((function(e){e.distributor_point_of_contacts[a].mobile_no=e.poc_mobile_no,console.log(e.distributor_point_of_contacts[a])}))}})),i.a.createElement(m.a,{style:sa.box,marginRight:"10px"},i.a.createElement(Z.a,{size:"small",fullWidth:!0,value:e.state.distributor_point_of_contacts[a].sec_mobile_no,variant:"outlined",label:"Secondary Mobile No",type:"text",onChange:function(t){e.setState({poc_sec_mobile_no:t.target.value}),e.setState((function(e){e.distributor_point_of_contacts[a].sec_mobile_no=e.poc_sec_mobile_no,console.log(e.distributor_point_of_contacts[a])}))}})),e.state.distributor_point_of_contacts.length===a+1?i.a.createElement(Zt.a,{color:"secondary",fontSize:"medium",onClick:function(){e.setState({}),e.setState((function(e){e.distributor_point_of_contacts.push({name:"",designation:"",mobile_no:"",sec_mobile_no:""}),console.log(e.distributor_point_of_contacts)}))}}):i.a.createElement(ea.a,{color:"secondary",fontSize:"medium",onClick:function(){e.setState({}),e.setState((function(e){e.distributor_point_of_contacts.splice(a,1),console.log(e.distributor_point_of_contacts)}))}}))})).reverse())),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:this.onEditHandler},"Update"))))}}]),t}(n.Component),da=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).EditData={},a.state={columns:[{title:"ID",field:"id"},{title:"Distributor Name",field:"distributor_name"},{title:"Distributor Location",field:"distributor_location"},{title:"Description",field:"description"}],data:[],openAdd:!1,dataReceived:!1,openEdit:!1},a.OnEditHandler=function(e,t){console.log(t._id),a.setState({dataReceived:!1}),X.a.post("/distributors/distributor",{_id:t._id}).then((function(e){console.log(e),a.EditData=Object(F.a)({},e.data.Distributor),console.log(a.EditData[0]),a.setState({dataReceived:!0,openEdit:!0})}))},a.handleClose=function(){a.setState({dataReceived:!1}),X.a.get("/distributors/distributors").then((function(e){for(var t=0;t<e.data.Distributors.length;t++)e.data.Distributors[t].id=t+1;a.setState({data:Object(Q.a)(e.data.Distributors),dataReceived:!0})})).catch((function(e){console.log("Error")}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){le(this.props,"Manage Distributors")&&this.handleClose()}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Manage Distributors"),i.a.createElement(m.a,{width:"90%",display:"flex",flexDirection:"row"},i.a.createElement(R.a,{variant:"contained",color:"primary",style:{marginBottom:"20px",display:"flex",marginRight:"10px"},size:"large",onClick:function(){e.setState({openAdd:!0})}},"Add")),i.a.createElement(m.a,{width:"90%"},this.state.dataReceived?null:i.a.createElement(Y.a,null)),i.a.createElement(H.a,{title:" ",columns:this.state.columns,data:this.state.data,style:{width:"90%",maxHeight:"500px",overflow:"auto"},options:{sorting:!0,headerStyle:{backgroundColor:"#3f51b5",color:"#FFF"}},actions:[{icon:"edit",tooltip:"Edit",onClick:function(t,a){e.OnEditHandler(t,a)}}],editable:{onRowDelete:function(t){return X.a.post("/distributors/delete-distributor",{_id:t._id}).then((function(a){console.log(a),a&&e.setState((function(e){var a=Object(Q.a)(e.data);return a.splice(a.indexOf(t),1),Object(F.a)({},e,{data:a})}))}))}},onRowClick:function(t,a){e.OnEditHandler(t,a)}}),i.a.createElement(J.a,{open:this.state.openAdd,maxWidth:"lg",fullWidth:!0},i.a.createElement(G.a,{style:{padding:"20px"}},i.a.createElement(ra,{cancel:function(){e.setState({openAdd:!1}),e.handleClose()}}))),i.a.createElement(J.a,{open:this.state.openEdit,maxWidth:"lg",fullWidth:!0},i.a.createElement(G.a,{style:{padding:"20px"}},i.a.createElement(ca,{Distributor:this.EditData[0],cancel:function(){e.setState({openEdit:!1}),e.handleClose()}}))))}}]),t}(n.Component),ua=function(e){var t=!1,a="",n=!1,i=e.target,o=i.name,l=i.value;switch(console.log(o,l),o){case"designation_name":l.length>20?(t=!0,a="must have less than 20 characters"):0===l.length?(t=!0,a="Name required"):(t=!1,a="",n=!0);break;case"description":l.length>200?(t=!0,a="must have less than 200 characters"):(t=!1,a="",n=!0)}return{status:t,msg:a,isValid:n}},ma=oe,pa=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={designation_name:"",description:"",errors:[],status:"Add",fieldError:{designation_name:{status:!1,msg:""},description:{status:!1,msg:""}},dataReceived:!1,isValid:!1},a.onAddHandler=function(){a.setState({}),""===a.state.designation_name?a.setState((function(e){e.fieldError.designation_name.status=!0,e.fieldError.designation_name.msg="Name required"})):(a.setState({dataReceived:!1}),X.a.post("/designations/add-designation",{designation_name:a.state.designation_name,description:a.state.description}).then((function(e){a.setState({status:"Add"}),console.log(e),e.data.errors.length>0?(console.log(e.data.errors),a.setState({dataReceived:!0,errors:Object(Q.a)(e.data.errors)})):(a.setState({dataReceived:!0}),a.props.cancel())})).catch((function(e){return console.log(e)})))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){le(this.props,"Manage Designations")&&this.setState({dataReceived:!0})}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:ma.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Add Designation"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:ma.box_msg,bgcolor:"#f73067",key:t},e)})):null,i.a.createElement(m.a,{width:"94%"},this.state.dataReceived?null:i.a.createElement(Y.a,null)),i.a.createElement(ie,null,i.a.createElement(m.a,{style:ma.box_field},i.a.createElement(Z.a,{size:"small",name:"designation_name",fullWidth:!0,required:!0,value:this.state.designation_name,variant:"outlined",label:"Designation Name",type:"text",onChange:function(t){e.setState({designation_name:t.target.value});var a=ua(t),n=a.status,i=a.msg,o=a.isValid;e.setState((function(e){e.fieldError.designation_name.status=n,e.fieldError.designation_name.msg=i,e.isValid=o}))},error:this.state.fieldError.designation_name.status,helperText:this.state.fieldError.designation_name.msg})),i.a.createElement(m.a,{style:ma.box_field},i.a.createElement(Z.a,{name:"description",size:"small",fullWidth:!0,required:!0,value:this.state.description,variant:"outlined",label:"Description",type:"text",onChange:function(t){e.setState({description:t.target.value});var a=ua(t),n=a.status,i=a.msg,o=a.isValid;e.setState((function(e){e.fieldError.description.status=n,e.fieldError.description.msg=i,e.isValid=o}))},error:this.state.fieldError.description.status,helperText:this.state.fieldError.description.msg}))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",disabled:!this.state.isValid,onClick:this.onAddHandler},this.state.status))))}}]),t}(n.Component),ga=oe,ha=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={_id:"",designation_name:"",description:"",errors:[],status:"UPDATE",fieldError:{designation_name:{status:!1,msg:""},description:{status:!1,msg:""}},dataReceived:!1,isValid:!1},a.onEditHandler=function(){a.setState({}),""===a.state.designation_name?a.setState((function(e){e.fieldError.designation_name.status=!0,e.fieldError.designation_name.msg="Name required"})):(a.setState({dataReceived:!1}),X.a.post("/designations/edit-designation",{_id:a.state._id,designation_name:a.state.designation_name,description:a.state.description}).then((function(e){a.setState({status:"Update"}),console.log(e),e.data.errors&&(e.data.errors.length>0?(console.log(e.data.errors),a.setState({dataReceived:!0,errors:Object(Q.a)(e.data.errors)})):(a.setState({dataReceived:!0}),a.props.cancel()))})).catch((function(e){return console.log(e)})))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){le(this.props.props,"Manage Designations")&&(console.log(this.props),""===this.state.designation_name&&this.setState({designation_name:this.props.Designation.designation_name,description:this.props.Designation.description,_id:this.props.Designation._id,dataReceived:!0}))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:ga.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Edit Designation"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:ga.box_msg,bgcolor:"#f73067",key:t},e)})):null,i.a.createElement(m.a,{width:"94%"},this.state.dataReceived?null:i.a.createElement(Y.a,null)),i.a.createElement(ie,null,i.a.createElement(m.a,{style:ga.box_field},i.a.createElement(Z.a,{size:"small",name:"designation_name",fullWidth:!0,required:!0,value:this.state.designation_name,variant:"outlined",label:"Designation Name",type:"text",onChange:function(t){e.setState({designation_name:t.target.value});var a=ua(t),n=a.status,i=a.msg,o=a.isValid;e.setState((function(e){e.fieldError.designation_name.status=n,e.fieldError.designation_name.msg=i,e.isValid=o}))},error:this.state.fieldError.designation_name.status,helperText:this.state.fieldError.designation_name.msg})),i.a.createElement(m.a,{style:ga.box_field},i.a.createElement(Z.a,{name:"description",size:"small",fullWidth:!0,required:!0,value:this.state.description,variant:"outlined",label:"Description",type:"text",onChange:function(t){e.setState({description:t.target.value});var a=ua(t),n=a.status,i=a.msg,o=a.isValid;e.setState((function(e){e.fieldError.description.status=n,e.fieldError.description.msg=i,e.isValid=o}))},error:this.state.fieldError.description.status,helperText:this.state.fieldError.description.msg}))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",disabled:!this.state.isValid,onClick:this.onEditHandler},this.state.status))))}}]),t}(n.Component),fa=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).EditData={},a.state={columns:[{title:"ID",field:"id"},{title:"Designation Name",field:"designation_name"},{title:"Description",field:"description"}],data:[],openAdd:!1,dataReceived:!1,openEdit:!1},a.OnEditHandler=function(e,t){a.setState({dataReceived:!1}),X.a.post("/designations/designation",{_id:t._id}).then((function(e){a.EditData=Object(F.a)({},e.data.Designation[0]),console.log(a.EditData),a.setState({dataReceived:!0,openEdit:!0})}))},a.handleClose=function(){a.setState({dataReceived:!1}),X.a.get("/designations/designations").then((function(e){console.log(e.data.Designations);for(var t=0;t<e.data.Designations.length;t++)e.data.Designations[t].id=t+1;a.setState({data:Object(Q.a)(e.data.Designations),dataReceived:!0})}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){le(this.props,"Manage Designations")&&this.handleClose()}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Manage Designations"),i.a.createElement(m.a,{width:"90%",display:"flex",flexDirection:"row"},i.a.createElement(R.a,{variant:"contained",color:"primary",style:{marginBottom:"20px",display:"flex",marginRight:"10px"},size:"large",onClick:function(){e.setState({openAdd:!0})}},"Add")),i.a.createElement(m.a,{width:"90%"},this.state.dataReceived?null:i.a.createElement(Y.a,null)),i.a.createElement(H.a,{title:" ",columns:this.state.columns,data:this.state.data,style:{width:"90%",maxHeight:"500px",overflow:"auto"},options:{sorting:!0,headerStyle:{backgroundColor:"#3f51b5",color:"#FFF"}},actions:[{icon:"edit",tooltip:"Edit",onClick:function(t,a){e.OnEditHandler(t,a)}}],editable:{onRowDelete:function(t){return X.a.post("/designations/delete-designation",{designation_name:t.designation_name}).then((function(a){console.log(a),a&&e.setState((function(e){var a=Object(Q.a)(e.data);return a.splice(a.indexOf(t),1),Object(F.a)({},e,{data:a})}))}))}},onRowClick:function(t,a){e.OnEditHandler(t,a)}}),i.a.createElement(J.a,{open:this.state.openAdd,maxWidth:"lg",fullWidth:!0},i.a.createElement(G.a,{style:{padding:"20px"}},i.a.createElement(pa,{cancel:function(){e.setState({openAdd:!1}),e.handleClose()}}))),i.a.createElement(J.a,{open:this.state.openEdit,maxWidth:"lg",fullWidth:!0},i.a.createElement(G.a,{style:{padding:"20px"}},i.a.createElement(ha,{Designation:this.EditData,props:this.props,cancel:function(){e.setState({openEdit:!1}),e.handleClose()}}))))}}]),t}(n.Component),_a=function(e){var t=!1,a="",n=!1,i=e.target,o=i.name,l=i.value;switch(console.log(o,l),o){case"box_name":l.length>20?(t=!0,a="must have less than 20 characters"):0===l.length?(t=!0,a="Name required"):(t=!1,a="",n=!0);break;case"box_size":0===l.length?(t=!0,a="required"):(t=!1,a="",n=!0);break;case"description":l.length>200?(t=!0,a="must have less than 200 characters"):(t=!1,a="",n=!0)}return{status:t,msg:a,isValid:n}},ya=oe,ba=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={box_name:"",box_size:0,description:"",errors:[],status:"Add",fieldError:{box_name:{status:!1,msg:""},box_size:{status:!1,msg:""},description:{status:!1,msg:""}},isValid:!1,dataReceived:!1},a.onAddHandler=function(){a.setState({}),""===a.state.box_name?a.setState((function(e){e.fieldError.box_name.status=!0,e.fieldError.box_name.msg="Name required"})):a.state.box_size<=0?a.setState((function(e){e.fieldError.box_size.status=!0,e.fieldError.box_size.msg="Enter a positive value"})):(a.setState({dataReceived:!1}),X.a.post("/boxes/add-box",{box_name:a.state.box_name,box_size:a.state.box_size,description:a.state.description}).then((function(e){a.setState({status:"Add"}),console.log(e),e.data.errors.length>0?(console.log(e.data.errors),a.setState({errors:Object(Q.a)(e.data.errors),dataReceived:!0})):(a.setState({dataReceived:!0}),a.props.cancel())})).catch((function(e){return console.log(e)})))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){le(this.props,"Manage Boxes")&&this.setState({dataReceived:!0})}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:ya.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Add Box"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:ya.box_msg,bgcolor:"#f73067",key:t},e)})):null,i.a.createElement(m.a,{width:"94%"},this.state.dataReceived?null:i.a.createElement(Y.a,null)),i.a.createElement(ie,null,i.a.createElement(m.a,{style:ya.box_field},i.a.createElement(Z.a,{name:"box_name",fullWidth:!0,required:!0,value:this.state.box_name,variant:"outlined",label:"Box Name",type:"text",onChange:function(t){e.setState({box_name:t.target.value});var a=_a(t),n=a.status,i=a.msg,o=a.isValid;e.setState((function(e){e.fieldError.box_name.status=n,e.fieldError.box_name.msg=i,e.isValid=o}))},error:this.state.fieldError.box_name.status,helperText:this.state.fieldError.box_name.msg})),i.a.createElement(m.a,{style:ya.box_field},i.a.createElement(Z.a,{fullWidth:!0,required:!0,name:"box_size",value:this.state.box_size,variant:"outlined",label:"Box Size",type:"number",onChange:function(t){e.setState({box_size:t.target.value});var a=_a(t),n=a.status,i=a.msg,o=a.isValid;e.setState((function(e){e.fieldError.box_size.status=n,e.fieldError.box_size.msg=i,e.isValid=o}))},error:this.state.fieldError.box_size.status,helperText:this.state.fieldError.box_size.msg})),i.a.createElement(m.a,{style:ya.box_field},i.a.createElement(Z.a,{fullWidth:!0,value:this.state.description,variant:"outlined",label:"Description",type:"text",onChange:function(t){e.setState({description:t.target.value});var a=_a(t),n=a.status,i=a.msg,o=a.isValid;e.setState((function(e){e.fieldError.description.status=n,e.fieldError.description.msg=i,e.isValid=o}))},error:this.state.fieldError.description.status,helperText:this.state.fieldError.description.msg}))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",disabled:!this.state.isValid,onClick:this.onAddHandler},this.state.status))))}}]),t}(n.Component),Ea=oe,va=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={_id:"",box_name:"",box_size:"",description:"",errors:[],status:"UPDATE",fieldError:{box_name:{status:!1,msg:""},box_size:{status:!1,msg:""},description:{status:!1,msg:""}},dataReceived:!1,isValid:!1},a.onEditHandler=function(){a.setState({}),""===a.state.box_name?a.setState((function(e){e.fieldError.box_name.status=!0,e.fieldError.box_name.msg="Name required"})):a.state.box_size<=0?a.setState((function(e){e.fieldError.box_size.status=!0,e.fieldError.box_size.msg="Enter a positive value"})):(a.setState({dataReceived:!1}),X.a.post("/boxes/edit-box",{_id:a.state._id,box_name:a.state.box_name,box_size:a.state.box_size,description:a.state.description}).then((function(e){a.setState({status:"Update"}),console.log(e),e.data.errors&&(e.data.errors.length>0?(console.log(e.data.errors),a.setState({errors:Object(Q.a)(e.data.errors),dataReceived:!0})):(a.setState({dataReceived:!0}),a.props.cancel()))})).catch((function(e){return console.log(e)})))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){le(this.props.props,"Manage Boxes")&&(console.log(this.props),""===this.state.box_name&&this.setState({box_name:this.props.Box.box_name,box_size:this.props.Box.box_size,description:this.props.Box.description,_id:this.props.Box._id,dataReceived:!0}))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:Ea.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Edit Box"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:Ea.box_msg,bgcolor:"#f73067",key:t},e)})):null,i.a.createElement(m.a,{width:"94%"},this.state.dataReceived?null:i.a.createElement(Y.a,null)),i.a.createElement(ie,null,i.a.createElement(m.a,{style:Ea.box_field},i.a.createElement(Z.a,{name:"box_name",fullWidth:!0,required:!0,value:this.state.box_name,variant:"outlined",label:"Box Name",type:"text",onChange:function(t){e.setState({box_name:t.target.value});var a=_a(t),n=a.status,i=a.msg,o=a.isValid;e.setState((function(e){e.fieldError.box_name.status=n,e.fieldError.box_name.msg=i,e.isValid=o}))},error:this.state.fieldError.box_name.status,helperText:this.state.fieldError.box_name.msg})),i.a.createElement(m.a,{style:Ea.box_field},i.a.createElement(Z.a,{fullWidth:!0,required:!0,name:"box_size",value:this.state.box_size,variant:"outlined",label:"Box Size",type:"number",onChange:function(t){e.setState({box_size:t.target.value});var a=_a(t),n=a.status,i=a.msg,o=a.isValid;e.setState((function(e){e.fieldError.box_size.status=n,e.fieldError.box_size.msg=i,e.isValid=o}))},error:this.state.fieldError.box_size.status,helperText:this.state.fieldError.box_size.msg})),i.a.createElement(m.a,{style:Ea.box_field},i.a.createElement(Z.a,{fullWidth:!0,required:!0,value:this.state.description,variant:"outlined",label:"Description",type:"text",onChange:function(t){e.setState({description:t.target.value});var a=_a(t),n=a.status,i=a.msg,o=a.isValid;e.setState((function(e){e.fieldError.description.status=n,e.fieldError.description.msg=i,e.isValid=o}))},error:this.state.fieldError.description.status,helperText:this.state.fieldError.description.msg}))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",disabled:!this.state.isValid,onClick:this.onEditHandler},this.state.status))))}}]),t}(n.Component),xa=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).EditData={},a.state={columns:[{title:"ID",field:"id"},{title:"Box Name",field:"box_name"},{title:"Box Size",field:"box_size"},{title:"Description",field:"description"}],data:[],openAdd:!1,openEdit:!1,dataReceived:!1},a.OnEditHandler=function(e,t){console.log(t._id),a.setState({dataReceived:!1}),X.a.post("/boxes/box",{_id:t._id}).then((function(e){console.log(e.data),a.EditData=Object(F.a)({},e.data.box[0]),console.log(a.EditData),a.setState({dataReceived:!0,openEdit:!0})}))},a.handleClose=function(){a.setState({dataReceived:!1}),X.a.get("/boxes/boxes").then((function(e){for(var t=0;t<e.data.Boxes.length;t++)e.data.Boxes[t].id=t+1;a.setState({data:Object(Q.a)(e.data.Boxes),dataReceived:!0})}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){le(this.props,"Manage Boxes")&&this.handleClose()}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Manage Boxes"),i.a.createElement(m.a,{width:"90%",display:"flex",flexDirection:"row"},i.a.createElement(R.a,{variant:"contained",color:"primary",style:{marginBottom:"20px",display:"flex",marginRight:"10px"},size:"large",onClick:function(){e.setState({openAdd:!0})}},"Add")),i.a.createElement(m.a,{width:"90%"},this.state.dataReceived?null:i.a.createElement(Y.a,null)),i.a.createElement(H.a,{title:" ",columns:this.state.columns,data:this.state.data,style:{width:"90%",maxHeight:"500px",overflow:"auto"},options:{sorting:!0,headerStyle:{backgroundColor:"#3f51b5",color:"#FFF"}},actions:[{icon:"edit",tooltip:"Edit",onClick:function(t,a){e.OnEditHandler(t,a)}}],editable:{onRowDelete:function(t){return X.a.post("/boxes/delete-box",{_id:t._id}).then((function(a){console.log(a),a&&e.setState((function(e){var a=Object(Q.a)(e.data);return a.splice(a.indexOf(t),1),Object(F.a)({},e,{data:a})}))}))}},onRowClick:function(t,a){e.OnEditHandler(t,a)}}),i.a.createElement(J.a,{open:this.state.openAdd,maxWidth:"lg",fullWidth:!0},i.a.createElement(G.a,{style:{padding:"20px"}},i.a.createElement(ba,{cancel:function(){e.setState({openAdd:!1}),e.handleClose()}}))),i.a.createElement(J.a,{open:this.state.openEdit,maxWidth:"lg",fullWidth:!0},i.a.createElement(G.a,{style:{padding:"20px"}},i.a.createElement(va,{Box:this.EditData,props:this.props,cancel:function(){e.setState({openEdit:!1}),e.handleClose()}}))))}}]),t}(n.Component),Sa=a(55),Ca=function(){return i.a.createElement(m.a,{style:{width:"100%"}},i.a.createElement(Sa.b,{exact:!0,path:"/home/management/manage-employees",component:be}),i.a.createElement(Sa.b,{path:"/home/management/manage-users",component:Ce}),i.a.createElement(Sa.b,{exact:!0,path:"/home/management/manage-roles",component:Ie}),i.a.createElement(Sa.b,{exact:!0,path:"/home/management/manage-shifts",component:Ae}),i.a.createElement(Sa.b,{exact:!0,path:"/home/management/manage-countries",component:at}),i.a.createElement(Sa.b,{exact:!0,path:"/home/management/manage-states",component:Je}),i.a.createElement(Sa.b,{exact:!0,path:"/home/management/manage-cities",component:ct}),i.a.createElement(Sa.b,{exact:!0,path:"/home/management/manage-measuring-units",component:ht}),i.a.createElement(Sa.b,{exact:!0,path:"/home/management/manage-material-types",component:vt}),i.a.createElement(Sa.b,{exact:!0,path:"/home/management/manage-raw-materials",component:Dt}),i.a.createElement(Sa.b,{exact:!0,path:"/home/management/manage-work-locations",component:zt}),i.a.createElement(Sa.b,{exact:!0,path:"/home/management/manage-products",component:Ft}),i.a.createElement(Sa.b,{exact:!0,path:"/home/management/manage-production-units",component:Tt}),i.a.createElement(Sa.b,{exact:!0,path:"/home/management/manage-departments",component:Kt}),i.a.createElement(Sa.b,{exact:!0,path:"/home/management/manage-vendors",component:oa}),i.a.createElement(Sa.b,{exact:!0,path:"/home/management/manage-distributors",component:da}),i.a.createElement(Sa.b,{exact:!0,path:"/home/management/manage-designations",component:fa}),i.a.createElement(Sa.b,{exact:!0,path:"/home/management/manage-boxes",component:xa}))},wa=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={dashboardItems:[],width:"17vw"},a.permissions=JSON.parse(sessionStorage.getItem("permissions")),a.contents=["Manage Employees","Manage Users","Manage Roles","Manage Products","Manage Raw Materials","Manage Vendors","Manage Distributors","Manage Countries","Manage States","Manage Cities","Manage Work Locations","Manage Shifts","Manage Measuring Units","Manage Material Types","Manage Departments","Manage Production Units","Manage Designations","Manage Boxes"],a.logout=function(){E.logout()&&a.props.history.push("/")},a.home=function(){a.props.history.push("/home")},a.dashboardMin=function(){a.setState({width:".1px"})},a.dashboardMax=function(){a.setState({width:"17vw"})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.contents.map((function(t){if(e.permissions.find((function(e){return e===t}))){var a=t.toLowerCase().replace(/ /g,"-");e.setState({}),e.setState((function(e){e.dashboardItems.push({Name:t,Path:a})}))}return null}))}},{key:"render",value:function(){return i.a.createElement(m.a,null,i.a.createElement(N,{name:"Management",logout:this.logout,home:this.home,dashboardMax:this.dashboardMax,dashboardMin:this.dashboardMin}),i.a.createElement(m.a,{display:"flex"},i.a.createElement(b,{items:this.state.dashboardItems,componentName:"home/management",width:this.state.width,dashboardMin:this.dashboardMin}),i.a.createElement(m.a,{display:"flex",flexDirection:"column",alignItems:"center",width:"100%",marginTop:"10px"},i.a.createElement(Ca,null))))}}]),t}(i.a.Component),Da=a(579),Ra=a.n(Da),Ma=a(580),ka=a.n(Ma),Oa={box:{display:"flex",width:"100%",alignItems:"center",justifyContent:"center",marginBottom:"20px"}},ja=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={user_name:"",password:"",success:!1,errors:[]},a.login=function(){X.a.post("/users/login",{name:a.state.user_name,password:a.state.password}).then((function(e){e.data.name===a.state.user_name?(console.log("User: ",e.data),sessionStorage.setItem("User Name",e.data.name),sessionStorage.setItem("User ID",e.data.employee_id?e.data.employee_id:"not specified"),console.log("User ID: ",sessionStorage.getItem("User ID")),sessionStorage.setItem("Role ID",e.data.role),E.login(e.data.name===a.state.user_name),X.a.post("roles/role",{_id:e.data.role}).then((function(e){var t=[];console.log(e.data),e.data.Role[0].permissions.map((function(e){return t.push(e.name),null})),sessionStorage.setItem("permissions",JSON.stringify(t)),a.props.history.push("/home")})).catch((function(e){console.log(e),a.setState({errors:["Problem in user. Contact Administrator"]})}))):(console.log(e.data.message),a.setState({errors:e.data.message}))})).catch((function(e){a.setState({errors:["Could not reach the server"]}),console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){E.logout(),this.props.history.location.state&&this.props.history.location.state.Errors[0]&&this.setState({errors:this.props.history.location.state.Errors})}}]),Object(s.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{flexDirection:"column",height:"100vh",bgcolor:"#3f51b5",style:Oa.box},i.a.createElement(m.a,{width:"30vw"},i.a.createElement(ie,null,i.a.createElement(m.a,{style:{fontWeight:"bolder",color:"#3f51b5"},fontSize:"3vw",mb:3},"Login"),i.a.createElement(m.a,{style:Oa.box},i.a.createElement(Ra.a,{style:{fontSize:"40px",marginRight:"10px"},color:"primary"}),i.a.createElement(Z.a,{name:"user_name",color:"primary",size:"small",fullWidth:!0,required:!0,variant:"outlined",label:"User Name",type:"text",onChange:function(t){e.setState({user_name:t.target.value})},onKeyPress:function(t){"Enter"===t.key&&e.login()}})),i.a.createElement(m.a,{style:Oa.box},i.a.createElement(ka.a,{style:{fontSize:"40px",marginRight:"10px"},color:"primary"}),i.a.createElement(Z.a,{name:"password",size:"small",variant:"outlined",fullWidth:!0,label:"Password",required:!0,type:"password",onChange:function(t){e.setState({password:t.target.value})},onKeyPress:function(t){"Enter"===t.key&&e.login()}})),i.a.createElement(R.a,{variant:"contained",size:"large",color:"primary",onClick:function(){e.login()}},"Login"),this.state.errors.length>0?this.state.errors.map((function(e,t){return null!=e?i.a.createElement(m.a,{key:t,bgcolor:"#f73067",marginTop:"10px",padding:"10px",width:"90%",textAlign:"center"},e):i.a.createElement(m.a,{key:t})})):i.a.createElement(m.a,null))))}}]),t}(n.Component),za=a(597),Pa=function(e){var t=e.component,a=Object(za.a)(e,["component"]);return i.a.createElement(Sa.b,Object.assign({},a,{render:function(e){return E.isAuthenticated()?i.a.createElement(t,e):i.a.createElement(Sa.a,{to:{pathname:"/",state:{from:e.location,Errors:["Please Login to get access"]}}})}}))},Ia=a(942),Wa={box_field:{display:"flex",width:"100%",alignItems:"center",justifyContent:"center",marginBottom:"20px"},box:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",height:"80%"},box_msg:{marginBottom:"10px",padding:"10px",width:"90%",textAlign:"center",fontSize:"15px",textTransform:"uppercase "},icons:{fontSize:"40px",marginRight:"10px"},root:{display:"flex",flexDirection:"column",justifyContent:"center",width:"100%"},heading:{display:"flex",justifyContent:"center",width:"100%",paddingTop:"15px",paddingBottom:"25px"},lbox:{display:"flex",flexDirection:"row",justifyContent:"center",width:"100%"},form:{display:"flex",flexDirection:"column",width:"90%",justifyContent:"space-around"},boxSize2:{display:"flex",flexDirection:"row",alignContent:"center",paddingTop:"5px",paddingLeft:"5px",paddingRight:"5px",paddingBottom:"5px",minWidth:"10%",maxWidth:"100%"},lastboxSize2:{display:"flex",flexDirection:"row",alignContent:"center",paddingTop:"5px",paddingLeft:"15px",paddingRight:"15px",paddingBottom:"20px"},addbtns:{display:"flex",alignSelf:"center",paddingLeft:"10px",paddingRight:"10px"},addbtnl:{display:"flex",alignSelf:"flex-end",paddingLeft:"10px",paddingRight:"10px"},submit:{display:"flex",justifyContent:"flex-end",paddingTop:"20px",paddingBottom:"10px",marginRight:"60px",alignSelf:"flex-end"},add:{display:"flex",justifyContent:"flex-start",paddingTop:"20px",paddingBottom:"10px",marginRight:"60px",alignSelf:"flex-start"},paper:{overflow:"auto",width:"100%"},table:{overflow:"auto"},link:{backgroundColor:"white",display:"flex",alignItems:"center",borderRadius:"5px",color:"black",fontSize:"20px",fontWeight:"bold"}},qa=a(582),Ua=a.n(qa),Ta=a(581),La=a.n(Ta),Aa=a(939),Na=a(940),Ba=Object(g.a)({root:{minWidth:275},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12}}),Qa=function(e){var t=Object(n.useState)(e.data),a=Object(x.a)(t,1)[0],o=Object(n.useState)([]),l=Object(x.a)(o,2),r=l[0],s=l[1];Object(n.useEffect)((function(){var e=0;a.map((function(t){return console.log(t.Address.From),X.a.post("/roles/role",{_id:t.Address.From}).then((function(n){t.Address.From_Name=n.data.Role[0].role_name,console.log(n.data.Role[0].role_name),console.log("i: ",e,"logs.length: ",a.length),e===a.length-1?(s(a),console.log("if: ",r)):e++})),null})),console.log("out if: ",r)}),[r,a]);var c=Ba();return i.a.createElement(m.a,{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Request Log"),i.a.createElement(m.a,{display:"flex",width:"100%",flexDirection:"column",alignItems:"center",bgcolor:"#d6f2ff",maxHeight:"500px",overflow:"auto"},r.map((function(e,t){var a=e.Address.From===sessionStorage.getItem("Role ID")?"#ccffd2":"white";return i.a.createElement(m.a,{key:t,display:"flex",alignItems:e.Address.From===sessionStorage.getItem("Role ID")?"flex-end":"flex-start",padding:"5px",width:"90%",flexDirection:"column"},i.a.createElement(Aa.a,{className:c.root,style:{color:"red",backgroundColor:"".concat(a),width:"40%"}},i.a.createElement(Na.a,null,i.a.createElement(w.a,{className:c.title,color:"textSecondary",gutterBottom:!0},e.Address.From_Name," To ",e.Address.To),i.a.createElement(w.a,{className:c.pos,color:"textSecondary"},new me.a(e.Entry_Date).format("DD-MM-YYYY HH:m:s")),i.a.createElement(w.a,{variant:"body2",component:"p"},e.Comments))))}))))},Fa=Wa,Va={marginRight:"6px",marginLeft:"6px"},Ha=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={_id:"",Raw_Material_Id:"",Raw_Material_Code:"",Quantity:"",Measuring_Unit:"",Priority:"",Due_Date:null,Status:"",Comments:"",Total_Price:"",currency_type:"",Vendor:"",errors:[],success:!1,measuring_units:[],materials:[],vendors:[],code:"",to:"",quotation:"",openLog:!1,logs:[],disabled:!1,label:"Submit",dataReceived:!1},a.onEditHandler=function(){a.setState({disabled:!0,label:"wait...",dataReceived:!1}),X.a.post("/logs/comment",{logs:{reqId:e.Purchase._id,from:sessionStorage.getItem("Role ID"),to:a.state.to,comments:a.state.Comments}}).then((function(e){console.log("Comments: ",e),e.data.errors.length>0?a.setState({errors:Object(Q.a)(e.data.errors),disabled:!1,label:"Submit",dataReceived:!0}):X.a.post("/request-details/request-detail-edit",{_id:a.state._id,Quantity:a.state.Quantity,Measuring_Unit:a.state.Measuring_Unit,Status:a.state.Status,Vendor:a.state.Vendor,Comments:a.state.Comments,Total_Price:a.state.Total_Price}).then((function(t){console.log(t.data),e.data.errors.length>0?a.setState({errors:Object(Q.a)(e.data.errors),disabled:!1,label:"Submit",dataReceived:!0}):a.props.close()}))})).catch((function(e){return console.log(e)}))},a.loadStatus=function(){return["ForwardedToPurchase","ForwardedToFinance","Rejected"].map((function(e,t){return i.a.createElement(z.a,{key:t,value:e},e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;console.log("Props: ",this.props.Purchase),this.setState({dataReceived:!1}),X.a.get("/raw-materials/raw-materials").then((function(t){console.log(t),e.setState((function(e){e.materials=Object(Q.a)(t.data.RawMaterials)})),e.setState({Raw_Material_Id:e.props.Purchase.Raw_Material_Id,Raw_Material_Code:e.props.Purchase.Raw_Material_Code}),X.a.get("/vendors/vendors").then((function(t){console.log(t),e.setState((function(e){e.vendors=Object(Q.a)(t.data.Vendors)})),e.setState({Vendor:e.props.Purchase.Vendor}),X.a.get("/measuring-units/measuring-units").then((function(t){console.log(t),e.setState((function(e){e.measuring_units=Object(Q.a)(t.data.MeasuringUnits)})),e.setState({Measuring_Unit:e.props.Purchase.Measuring_Unit}),X.a.post("/currency/currency",{_id:"5eb2a1fcfcdc3a03f401855e"}).then((function(t){e.setState({currency_type:t.data.Currency[0].currency_type})}))})),console.log("PProps: ",e.props.Purchase.Quotation_Document_URL[0]),e.setState({_id:e.props.Purchase._id,Quantity:e.props.Purchase.Quantity,Priority:e.props.Purchase.Priority,Due_Date:e.props.Purchase.Due_Date,Comments:e.props.Purchase.Comments,Total_Price:e.props.Purchase.Total_Price?e.props.Purchase.Total_Price:"",quotation:"/uploads/".concat(e.props.Purchase.Quotation_Document_URL),dataReceived:!0})}))}))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:Fa.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Request Details"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:Fa.box_msg,bgcolor:"#f73067",key:t},e)})):!0===this.state.success?i.a.createElement(m.a,{bgcolor:"#3df45b",style:Fa.box_msg},"Successful"):null,i.a.createElement(m.a,{width:"88%",marginBottom:"20px"},this.state.dataReceived?null:i.a.createElement(Y.a,null)),i.a.createElement(m.a,{style:Fa.root},i.a.createElement(m.a,{display:"flex",justifyContent:"center"},i.a.createElement(m.a,{style:Fa.lbox},i.a.createElement(m.a,{style:Fa.form},i.a.createElement(m.a,{style:Fa.boxSize2},i.a.createElement(m.a,{width:"50%",style:Va},i.a.createElement($.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement(ee.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Material Name"),i.a.createElement(te.a,{disabled:!0,variant:"outlined",required:!0,name:"Raw_Material_Id",value:this.state.Raw_Material_Id,onChange:function(t){var a;e.state.materials.map((function(e){return e._id===t.target.value&&(a=e.raw_material_code,console.log("code: ",a)),null})),e.setState({Raw_Material_Id:t.target.value,Raw_Material_Code:a})}},this.state.materials.map((function(e,t){return i.a.createElement(z.a,{key:t,value:e._id},e.raw_material_name)}))))),i.a.createElement(m.a,{width:"50%",style:Va},i.a.createElement(Z.a,{disabled:!0,size:"small",fullWidth:!0,variant:"outlined",label:"Material_Code",required:!0,name:"Material_Code",value:this.state.Raw_Material_Code,onChange:function(t){e.setState({Material_Code:t.target.value}),console.log(t.target.value)}}))),i.a.createElement(m.a,{style:Fa.boxSize2},i.a.createElement(m.a,{width:"50%",style:Va},i.a.createElement(Z.a,{disabled:this.props.disabled.quantity,size:"small",fullWidth:!0,variant:"outlined",label:"Quantity",required:!0,name:"Quantity",value:this.state.Quantity,onChange:function(t){e.setState({Quantity:t.target.value})}})),i.a.createElement(m.a,{width:"50%",style:Va},i.a.createElement($.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement(ee.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Measuring Unit"),i.a.createElement(te.a,{disabled:this.props.disabled.unit,name:"Measuring_Unit",variant:"outlined",required:!0,value:this.state.Measuring_Unit,onChange:function(t){e.setState({Measuring_Unit:t.target.value}),console.log(t.target.value)}},this.state.measuring_units.map((function(e,t){return i.a.createElement(z.a,{selected:!0,key:t,value:e._id},e.measuring_unit_name)})))))),i.a.createElement(m.a,{style:Fa.boxSize2},i.a.createElement(m.a,{width:"50%",style:Va},i.a.createElement($.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement(ee.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Vendor Name"),i.a.createElement(te.a,{disabled:this.props.disabled.vendor,variant:"outlined",required:!0,name:"Vendor",value:this.state.Vendor,onChange:function(t){e.setState({Vendor:t.target.value})}},this.state.vendors.map((function(e,t){return i.a.createElement(z.a,{key:t,value:e._id},e.vendor_name)}))))),i.a.createElement(m.a,{width:"50%",style:Va},i.a.createElement(Z.a,{disabled:this.props.disabled.vendor,size:"small",fullWidth:!0,variant:"outlined",label:"Total_Price",required:!0,name:"Total_Price",value:this.state.Total_Price,onChange:function(t){e.setState({Total_Price:t.target.value})},InputProps:{endAdornment:i.a.createElement(Lt.a,{position:"start"},this.state.currency_type)}}))),i.a.createElement(m.a,{style:Fa.boxSize2},i.a.createElement(m.a,{width:"50%",style:Va},i.a.createElement($.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement(ee.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Priority"),i.a.createElement(te.a,{disabled:!0,variant:"outlined",required:!0,name:"Priority",value:this.state.Priority,onChange:function(t){e.setState({Priority:t.target.value})}},i.a.createElement(z.a,{value:"Priority",disabled:!0},"Priority"),i.a.createElement(z.a,{value:"Low"},"Low"),i.a.createElement(z.a,{value:"Medium"},"Medium"),i.a.createElement(z.a,{value:"High"},"High")))),i.a.createElement(m.a,{width:"50%",style:Va},i.a.createElement(pe,{disabled:!0,id:"4",variant:"outlined",Name:"Due_Date",minDate:new Date,value:this.state.Due_Date,setDate:function(t){e.setState({Due_Date:t}),console.log(t)}}))),i.a.createElement(m.a,{style:Fa.boxSize2},i.a.createElement(m.a,{width:"100%",style:Va},i.a.createElement($.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement(ee.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Status"),i.a.createElement(te.a,{disabled:this.props.disabled.status,variant:"outlined",required:!0,name:"Status",value:this.state.Status,onChange:function(t){e.setState({Status:t.target.value}),"ForwardedToFinance"===t.target.value?e.setState((function(e){e.to="Finance"})):"ForwardedToPurchase"===t.target.value?e.setState((function(e){e.to="Purchase"})):e.setState((function(e){e.to="Rejected"})),console.log(e.state.to)}},this.loadStatus()))),i.a.createElement(m.a,{width:"100%",style:Va,display:"flex",justifyContent:"space-between"},i.a.createElement(m.a,{display:"flex",width:"85%"},i.a.createElement(Z.a,{disabled:this.props.disabled.comment,size:"small",multiline:!0,rowsMax:"3",variant:"outlined",fullWidth:!0,label:"Comments",value:this.state.Comments,onChange:function(t){e.setState({Comments:t.target.value})}})),i.a.createElement(m.a,{display:"flex"},i.a.createElement(R.a,{variant:"outlined",color:"secondary",size:"small",fontWeight:"Bold",onClick:function(){X.a.post("/logs/logs",{Request_Id:e.state._id}).then((function(t){console.log(t.data),e.setState({logs:t.data}),e.setState({openLog:!0})}))}},i.a.createElement(La.a,null))))))))),i.a.createElement(m.a,{pt:2,pb:2,m:0,display:"flex",justifyContent:"space-between",width:"88%"},i.a.createElement(m.a,{display:"flex"},null!==this.props.Purchase.Quotation_Document_URL[0]?i.a.createElement(Ia.a,{style:Fa.link,href:this.state.quotation,target:"_blank",rel:"noreferrer"},i.a.createElement(Ua.a,{color:"secondary"}),"Quotation"):null),i.a.createElement(m.a,{display:"flex",alignSelf:"flex-end"},i.a.createElement(m.a,null,i.a.createElement(R.a,{variant:"contained",color:"primary",size:"large",fontWeight:"Bold",onClick:function(){e.props.cancel()},style:{fontWeight:"bold"}},this.props.disabled.btnText)),i.a.createElement(m.a,{marginLeft:"10px"},i.a.createElement(R.a,{disabled:this.props.disabled.submit,variant:"contained",color:"primary",size:"large",fontWeight:"bold",onClick:this.onEditHandler,style:{fontWeight:"bold"}},this.state.label)),i.a.createElement(J.a,{open:this.state.openLog,maxWidth:"lg",fullWidth:!0},i.a.createElement(G.a,null,i.a.createElement(Qa,{data:this.state.logs,cancel:function(){e.setState({openLog:!1}),e.handleClose()}}),i.a.createElement(m.a,{width:"95%",display:"flex",justifyContent:"flex-end",marginTop:"20px"},i.a.createElement(R.a,{variant:"contained",color:"primary",size:"large",onClick:function(){e.setState({openLog:!1})}},"Close")))))))}}]),t}(n.Component),Ya=Wa,Ga={marginRight:"6px",marginLeft:"6px"},Ja=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={file:null,_id:"",Raw_Material_Id:"",Raw_Material_Code:"",Quantity:"",Measuring_Unit:"",Priority:"",Due_Date:null,Status:"",Comments:"",Total_Price:"",currency_type:"",Vendor:"",errors:[],success:!1,measuring_units:[],materials:[],vendors:[],code:"",dataReceived:!1,to:""},a.onUploadHandler=function(){var e=new FormData;console.log(a.state.file),a.state.file?(e.append("file",a.state.file),a.setState({dataReceived:!1}),X.a.post("/request-details/upload",e,{headers:{"content-type":"multipart/form-data"}}).then((function(e){e.data&&a.onAddHandler(e.data)})).catch((function(e){console.error(e)}))):(a.setState({}),a.setState((function(e){e.errors.push("Choose a file")})),console.log(a.state.errors))},a.onAddHandler=function(e){console.log("Add:",e),a.setState({dataReceived:!1}),X.a.post("/request-details/request-detail-add",{Raw_Material_Id:a.state.Raw_Material_Id,Raw_Material_Code:a.state.Raw_Material_Code,Quantity:a.state.Quantity,Measuring_Unit:a.state.Measuring_Unit,Priority:a.state.Priority,Due_Date:a.state.Due_Date,Status:a.state.Status,Comments:""===a.state.Comments?"no comment":a.state.Comments,Quotation_Document_URL:[e.filePath],Vendor:a.state.Vendor,Total_Price:a.state.Total_Price,Created_By:{Employee_Id:sessionStorage.getItem("User ID"),Role_Id:sessionStorage.getItem("Role ID")},logs:{from:sessionStorage.getItem("Role ID"),to:a.state.to,comments:""===a.state.Comments?"no comment":a.state.Comments}}).then((function(e){console.log(e.data),e.data.errors.length>0?a.setState({errors:Object(Q.a)(e.data.errors),dataReceived:!0}):(a.setState({errors:Object(Q.a)(e.data.errors)}),a.props.close())})).catch((function(e){console.log(e)}))},a.loadStatus=function(){return["ForwardedToPurchase","ForwardedToFinance","Rejected"].map((function(e,t){return i.a.createElement(z.a,{key:t,value:e},e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({dataReceived:!1}),X.a.get("/raw-materials/raw-materials").then((function(t){console.log(t),e.setState({materials:Object(Q.a)(t.data.RawMaterials)}),X.a.get("/vendors/vendors").then((function(t){console.log(t),e.setState({vendors:Object(Q.a)(t.data.Vendors)}),X.a.get("/measuring-units/measuring-units").then((function(t){console.log(t),e.setState({measuring_units:Object(Q.a)(t.data.MeasuringUnits),dataReceived:!0}),X.a.post("/currency/currency",{_id:"5eb2a1fcfcdc3a03f401855e"}).then((function(t){e.setState({currency_type:t.data.Currency[0].currency_type})}))}))}))}))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:Ya.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Request Details"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:Ya.box_msg,bgcolor:"#f73067",key:t},e)})):!0===this.state.success?i.a.createElement(m.a,{bgcolor:"#3df45b",style:Ya.box_msg},"Successful"):null,i.a.createElement(m.a,{width:"88%",marginBottom:"20px"},this.state.dataReceived?null:i.a.createElement(Y.a,null)),i.a.createElement(m.a,{style:Ya.root},i.a.createElement(m.a,{display:"flex",justifyContent:"center"},i.a.createElement(m.a,{style:Ya.lbox},i.a.createElement(m.a,{style:Ya.form},i.a.createElement(m.a,{style:Ya.boxSize2},i.a.createElement(m.a,{width:"50%",style:Ga},i.a.createElement($.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement(ee.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Material Name"),i.a.createElement(te.a,{variant:"outlined",required:!0,name:"Raw_Material_Id",value:this.state.Raw_Material_Id,onChange:function(t){var a;e.state.materials.map((function(e){return e._id===t.target.value&&(a=e.raw_material_code,console.log("code: ",a)),null})),e.setState({Raw_Material_Id:t.target.value,Raw_Material_Code:a})}},this.state.materials.map((function(e,t){return i.a.createElement(z.a,{key:t,value:e._id},e.raw_material_name)}))))),i.a.createElement(m.a,{width:"50%",style:Ga},i.a.createElement(Z.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Material_Code",required:!0,name:"Material_Code",value:this.state.Raw_Material_Code,onChange:function(t){e.setState({Material_Code:t.target.value}),console.log(t.target.value)}}))),i.a.createElement(m.a,{style:Ya.boxSize2},i.a.createElement(m.a,{width:"50%",style:Ga},i.a.createElement(Z.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Quantity",required:!0,name:"Quantity",value:this.state.Quantity,onChange:function(t){e.setState({Quantity:t.target.value})}})),i.a.createElement(m.a,{width:"50%",style:Ga},i.a.createElement($.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement(ee.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Measuring Unit"),i.a.createElement(te.a,{name:"Measuring_Unit",variant:"outlined",required:!0,value:this.state.Measuring_Unit,onChange:function(t){e.setState({Measuring_Unit:t.target.value}),console.log(t.target.value)}},this.state.measuring_units.map((function(e,t){return i.a.createElement(z.a,{selected:!0,key:t,value:e._id},e.measuring_unit_name)})))))),i.a.createElement(m.a,{style:Ya.boxSize2},i.a.createElement(m.a,{width:"50%",style:Ga},i.a.createElement($.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement(ee.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Priority"),i.a.createElement(te.a,{variant:"outlined",required:!0,name:"Priority",value:this.state.Priority,onChange:function(t){e.setState({Priority:t.target.value})}},i.a.createElement(z.a,{value:"Priority",disabled:!0},"Priority"),i.a.createElement(z.a,{value:"Low"},"Low"),i.a.createElement(z.a,{value:"Medium"},"Medium"),i.a.createElement(z.a,{value:"High"},"High")))),i.a.createElement(m.a,{width:"50%",style:Ga},i.a.createElement(pe,{id:"4",variant:"outlined",Name:"Due_Date",minDate:new Date,value:this.state.Due_Date,setDate:function(t){e.setState({Due_Date:t}),console.log(t)}}))),i.a.createElement(m.a,{style:Ya.boxSize2},i.a.createElement(m.a,{width:"100%",style:Ga},i.a.createElement($.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement(ee.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Status"),i.a.createElement(te.a,{variant:"outlined",required:!0,name:"Status",value:this.state.Status,onChange:function(t){e.setState({Status:t.target.value}),"ForwardedToFinance"===t.target.value?e.setState((function(e){e.to="Finance"})):"ForwardedToPurchase"===t.target.value?e.setState((function(e){e.to="Purchase"})):e.setState((function(e){e.to="Rejected"})),console.log(e.state.to)}},this.loadStatus()))),i.a.createElement(m.a,{width:"100%",style:Ga},i.a.createElement(Z.a,{size:"small",multiline:!0,rowsMax:"3",variant:"outlined",fullWidth:!0,label:"Comments",value:this.state.Comments,onChange:function(t){e.setState({Comments:t.target.value}),console.log(t.target.value)}}))),i.a.createElement(m.a,{style:{display:"flex",flexDirection:"column",alignContent:"center",paddingTop:"5px",paddingLeft:"5px",paddingRight:"5px",paddingBottom:"5px",minWidth:"10%"}},"ForwardedToFinance"===this.state.Status?i.a.createElement(i.a.Fragment,null,i.a.createElement(m.a,{style:Ya.boxSize2},i.a.createElement(m.a,{width:"50%",marginRight:"10px"},i.a.createElement($.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement(ee.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Vendor Name"),i.a.createElement(te.a,{variant:"outlined",required:!0,name:"Vendor",value:this.state.Vendor,onChange:function(t){e.setState({Vendor:t.target.value})}},this.state.vendors.map((function(e,t){return i.a.createElement(z.a,{key:t,value:e._id},e.vendor_name)}))))),i.a.createElement(m.a,{width:"50%"},i.a.createElement(Z.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Total_Price",required:!0,name:"Total_Price",value:this.state.Total_Price,onChange:function(t){e.setState({Total_Price:t.target.value})},InputProps:{endAdornment:i.a.createElement(Lt.a,{position:"start"},this.state.currency_type)}}))),i.a.createElement(m.a,{style:Ya.boxSize2},i.a.createElement(m.a,{fontWeight:"bold",fontSize:"1.2vw",mb:1,ml:2,mt:1,display:"flex"},"Add Quotation"),i.a.createElement(m.a,{width:"30%",style:Ga},i.a.createElement("input",{multiple:!0,id:"file",type:"file",onChange:function(t){console.log(t.target.files[0]),e.setState({file:t.target.files[0]}),console.log(e.state.file)}})))):null))))),i.a.createElement(m.a,{pt:2,pb:2,m:0,display:"flex",justifyContent:"flex-end",width:"87%"},i.a.createElement(m.a,{display:"flex"},i.a.createElement(R.a,{variant:"contained",color:"primary",size:"large",fontWeight:"Bold",onClick:function(){e.props.cancel()},style:{fontWeight:"bold"}},"Cancel")),i.a.createElement(m.a,{marginLeft:"10px"},i.a.createElement(R.a,{variant:"contained",color:"primary",size:"large",fontWeight:"bold",onClick:"ForwardedToFinance"===this.state.Status?this.onUploadHandler:this.onAddHandler,style:{fontWeight:"bold"}},"Submit"))))}}]),t}(n.Component),Ka=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).EditData={},a.req=[],a.state={columns:[{title:"Material",field:"Raw_Material_Name"},{title:"Quantity",field:"Quantity"},{title:"Measuring Unit",field:"Measuring_Unit_Name"},{title:"Vendor",field:"Vendor_Name"},{title:"Total Price",field:"Total_Price"},{title:"Priority",field:"Priority"},{title:"Status",field:"Status"}],data:[],openAdd:!1,openEdit:!1,openAll:!1,alert:!1,fieldDisabled:{quantity:!1,unit:!1,vendor:!1,amount:!1,status:!1,comment:!1,btnDisplay:"none",btnText:"Close"},found:!1,msg:"Fetching Data...",dataReceived:!1},a.closeAlert=function(){a.setState({alert:!1})},a.OnEditHandler=function(e,t){a.setState({dataReceived:!1}),X.a.post("/request-details",{_id:t._id}).then((function(e){console.log(e.data[0]),a.EditData=Object(F.a)({},e.data[0]),console.log(a.EditData),a.setState({dataReceived:!0,openEdit:!0})}))},a.loadRawMaterial=function(e){X.a.post("/raw-materials/raw-material",{_id:e.Raw_Material_Id}).then((function(t){e.Raw_Material_Name=t.data.RawMaterial[0].raw_material_name,a.req.push(e),a.setState({data:Object(Q.a)(a.req),msg:"No Data Found!",dataReceived:!0})})).catch((function(t){e.Raw_Material_Name="Problem Loading Raw Material",a.req.push(e),a.setState({data:Object(Q.a)(a.req),msg:"No Data Found!",dataReceived:!0})}))},a.loadMeasuringUnit=function(e){X.a.post("/measuring-units/measuring-unit",{_id:e.Measuring_Unit}).then((function(t){e.Measuring_Unit_Name=t.data.MeasuringUnit[0].measuring_unit_name,a.loadRawMaterial(e)})).catch((function(t){e.Measuring_Unit_Name="Problem Loading Measuring Unit",a.loadRawMaterial(e)}))},a.loadVendor=function(e){X.a.post("/vendors/vendor",{_id:e.Vendor}).then((function(t){e.Vendor_Name=t.data.Vendor[0].vendor_name,a.loadMeasuringUnit(e)})).catch((function(t){e.Vendor_Name="Problem Loading Vendor",a.loadMeasuringUnit(e)}))},a.handleClose=function(){a.req=[],a.setState({openEdit:!1,openAdd:!1,msg:"Fetching Data...",dataReceived:!1}),X.a.get("/request-details").then((function(e){void 0!==e.data[0]?e.data.map((function(e){return a.props.load?("Completed"!==e.Status&&(a.loadVendor(e),a.setState({found:!0})),a.state.found?a.setState({msg:"Loading...."}):a.setState({msg:"No data Found!"})):(console.log("1: ".concat(e.Created_By.Role_Id," 2:").concat(sessionStorage.getItem("Role ID"))),"ForwardedToAdmin"!==e.Status&&e.Created_By.Role_Id!==sessionStorage.getItem("Role ID")||(a.setState({found:!0}),a.loadVendor(e)),a.state.found?a.setState({msg:"Loading...."}):a.setState({msg:"No data Found!"})),a.setState({data:Object(Q.a)(a.req)}),null})):a.setState({msg:"No data Found!"})}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.handleClose()}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",mb:3,fontWeight:"bold"},"Request Details"),this.props.load?null:i.a.createElement(m.a,{width:"90%",display:"flex",flexDirection:"row"},i.a.createElement(R.a,{variant:"contained",color:"primary",style:{marginBottom:"20px",display:"flex",marginRight:"10px"},size:"large",onClick:function(){e.setState({openAdd:!0})}},"Add"),i.a.createElement(R.a,{variant:"contained",color:"primary",style:{marginBottom:"20px",display:"flex",marginRight:"10px"},size:"large",onClick:function(){e.setState({openAll:!0})}},"All Requests")),i.a.createElement(m.a,{width:"90%"},this.state.dataReceived?null:i.a.createElement(Y.a,null)),i.a.createElement(H.a,{title:" ",columns:this.state.columns,data:this.state.data,style:{width:"90%",maxHeight:"500px",overflow:"auto"},localization:{body:{emptyDataSourceMessage:this.state.msg}},options:{sorting:!0,headerStyle:{backgroundColor:"#3f51b5",color:"#FFF",fontSize:"medium",fontWeight:"bold"}},actions:[{icon:"edit",tooltip:"Edit User",onClick:function(t,a){"ForwardedToAdmin"===a.Status||"ForwardedToFinance"===a.Status||"ForwardedToPurchase"===a.Status||"Requesting"===a.Status||"Rejected"===a.Status||"Finance-Accepted"===a.Status?(e.setState({fieldDisabled:{quantity:!1,unit:!1,vendor:!1,amount:!1,status:!1,comment:!1,btnDisplay:"flex",btnText:"Cancel"}}),e.OnEditHandler(t,a)):e.setState({alert:!0})}}],onRowClick:function(t,a){e.setState({fieldDisabled:{quantity:!0,unit:!0,vendor:!0,amount:!0,status:!0,comment:!0,btnDisplay:"none",btnText:"Close",submit:!0}}),e.OnEditHandler(t,a)}}),i.a.createElement(J.a,{open:this.state.openAll,maxWidth:"lg",fullWidth:!0},i.a.createElement(G.a,{style:{padding:"20px"}},i.a.createElement(m.a,null,i.a.createElement(t,{load:!0}),i.a.createElement(m.a,{width:"95%",display:"flex",justifyContent:"flex-end",marginTop:"20px"},i.a.createElement(R.a,{variant:"contained",color:"primary",size:"large",onClick:function(){e.setState({openAll:!1})}},"Close"))))),i.a.createElement(J.a,{open:this.state.openEdit,maxWidth:"lg",fullWidth:!0},i.a.createElement(G.a,null,i.a.createElement(Ha,{disabled:this.state.fieldDisabled,Purchase:this.EditData,cancel:function(){e.setState({openEdit:!1})},close:function(){e.handleClose()}}))),i.a.createElement(J.a,{open:this.state.openAdd,maxWidth:"lg",fullWidth:!0},i.a.createElement(G.a,null,i.a.createElement(Ja,{disabled:!1,Purchase:this.EditData,cancel:function(){e.setState({openAdd:!1})},close:function(){e.handleClose()}}))),i.a.createElement(we.a,{open:this.state.alert,autoHideDuration:3e3,anchorOrigin:{vertical:"bottom",horizontal:"center"},onClose:this.closeAlert},i.a.createElement(De.a,{severity:"error",variant:"filled",onClose:this.closeAlert},"You cannot modify / reject this record")))}}]),t}(n.Component),Xa=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={width:"17vw",dashboardItems:[]},a.permissions=JSON.parse(sessionStorage.getItem("permissions")),a.contents=["Purchase Requests"],a.logout=function(){E.logout()&&a.props.history.push("/")},a.home=function(){a.props.history.push("/home")},a.dashboardMin=function(){a.setState({width:".1px"})},a.dashboardMax=function(){a.setState({width:"17vw"})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;console.log(this.permissions),this.contents.map((function(t){if(e.permissions.find((function(e){return e===t}))){var a=t.toLowerCase().replace(/ /g,"-");e.setState({}),e.setState((function(e){e.dashboardItems.push({Name:t,Path:a})}))}return null}))}},{key:"render",value:function(){return i.a.createElement(m.a,null,i.a.createElement(N,{name:"Requests",logout:this.logout,home:this.home,dashboardMax:this.dashboardMax,dashboardMin:this.dashboardMin}),i.a.createElement(m.a,{display:"flex"},i.a.createElement(b,{items:this.state.dashboardItems,componentName:"home/requests",width:this.state.width,dashboardMin:this.dashboardMin}),i.a.createElement(m.a,{display:"flex",flexDirection:"column",alignItems:"center",width:"100%",marginTop:"10px"},i.a.createElement(Sa.b,{exact:!0,path:"/home/requests/purchase-requests",component:Ka}))))}}]),t}(n.Component),Za=a(941),$a=a(121),en=a(59),tn=$a.StyleSheet.create({page:{flexDirection:"coulmn",backgroundColor:"#fff",display:"flex",justifyContent:"center",fontSize:10,width:"100%",padding:20},section:{margin:10,padding:10,flexGrow:1}}),an=function(e){return i.a.createElement($a.Document,{title:"Purchase Report ".concat((new me.a).format("DD/MM/YYYY HH:m:s"))},i.a.createElement($a.Page,{orientation:"landscape",size:"A4",style:tn.page},i.a.createElement($a.Text,{style:{textAlign:"center"}},"Purcase Report"),i.a.createElement($a.View,{style:(tn.section,{marginTop:"10"})},i.a.createElement(en.Table,{data:e.data},i.a.createElement(en.TableHeader,{fontSize:"10"},i.a.createElement(en.TableCell,{style:{padding:"5"}},"Raw Material Name"),i.a.createElement(en.TableCell,{style:{padding:"5"}},"Material Code"),i.a.createElement(en.TableCell,{style:{padding:"5"}},"Qty"),i.a.createElement(en.TableCell,{style:{padding:"5"}},"Unit"),i.a.createElement(en.TableCell,{style:{padding:"5"}},"Priority"),i.a.createElement(en.TableCell,{style:{padding:"5"}},"Status"),i.a.createElement(en.TableCell,{style:{padding:"5"}},"Vendor"),i.a.createElement(en.TableCell,{style:{padding:"5"}},"Total Price (".concat(e.currency_type,")")),i.a.createElement(en.TableCell,{style:{padding:"5"}},"Created By"),i.a.createElement(en.TableCell,{style:{padding:"5"}},"Designation"),i.a.createElement(en.TableCell,{style:{padding:"5"}},"Date")),i.a.createElement(en.TableBody,{fontSize:"10"},i.a.createElement(en.DataTableCell,{style:{padding:"5"},getContent:function(e){return e.Raw_Material_Name}}),i.a.createElement(en.DataTableCell,{style:{padding:"5"},getContent:function(e){return e.Raw_Material_Code}}),i.a.createElement(en.DataTableCell,{style:{padding:"5"},getContent:function(e){return e.Quantity}}),i.a.createElement(en.DataTableCell,{style:{padding:"5",width:"10"},getContent:function(e){return e.Measuring_Unit}}),i.a.createElement(en.DataTableCell,{style:{padding:"5"},getContent:function(e){return e.Priority}}),i.a.createElement(en.DataTableCell,{style:{padding:"5"},getContent:function(e){return e.Status}}),i.a.createElement(en.DataTableCell,{style:{padding:"5"},getContent:function(e){return e.Vendor}}),i.a.createElement(en.DataTableCell,{style:{padding:"5"},getContent:function(e){return e.Total_Price}}),i.a.createElement(en.DataTableCell,{style:{padding:"5"},getContent:function(e){return e.Employee}}),i.a.createElement(en.DataTableCell,{style:{padding:"5"},getContent:function(e){return e.Role}}),i.a.createElement(en.DataTableCell,{style:{padding:"5"},getContent:function(e){return e.date}})))),i.a.createElement($a.View,{style:tn.section})))},nn=a(595),on=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).headers=[{label:"Raw Material Name",key:"Raw_Material_Name"},{label:"Material Code",key:"Raw_Material_Code"},{label:"Quantity",key:"Quantity"},{label:"Unit",key:"Measuring_Unit"},{label:"Priority",key:"Priority"},{label:"Status",key:"Status"},{label:"Vendor",key:"Vendor"},{label:"Total Price (".concat(a.props.currency_type,")"),key:"Total_Price"},{label:"Created By",key:"Employee"},{label:"Designation",key:"Role"},{label:"Created Date",key:"date"}],a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return i.a.createElement(nn.CSVLink,{filename:this.props.name,headers:this.headers,data:this.props.data,style:{textDecoration:"none",backgroundColor:"#3f51b5",padding:"10px",color:"white",borderRadius:"5px"}},"Click to download")}}]),t}(n.Component),ln=a(416),rn=a.n(ln),sn=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={from_date:null,to_date:null,from_due_date:null,to_due_date:null,from_quantity:"",to_quantity:"",measuring_unit:"",raw_material_id:"",raw_material_code:"",status:"",vendor:"",currency_type:"",from_total_price:"",to_total_price:"",disabled:!1,columns:[{title:"Material Name",field:"Raw_Material_Name"},{title:"Quantity",field:"Quantity"},{title:"Vendor",field:"Vendor"},{title:"Total Price",field:"Total_Price"},{title:"Status",field:"Status"}],data:[],PDFData:[],raw_materials:[],vendors:[],measuring_units:[],openReport:!1,openPDF:!1,openCSV:!1,dataReceived:!1},a.ref=i.a.createRef(),a.onFilterHandler=function(){a.setState({dataReceived:!1}),X.a.post("/request-details/request-details-filter",{from_date:a.state.from_date,to_date:a.state.to_date,from_due_date:a.state.from_due_date,to_due_date:a.state.to_due_date,from_quantity:a.state.from_quantity,to_quantity:a.state.to_quantity,measuring_unit:a.state.measuring_unit,raw_material_id:a.state.raw_material_id,vendor:a.state.vendor,raw_material_code:a.state.raw_material_code,status:a.state.status,from_total_price:a.state.from_total_price,to_total_price:a.state.to_total_price}).then((function(e){console.log(e.data),e.data.map((function(t){return console.log(t.Vendor),t.date=t.date.split("T"),t.date=t.date[0].split("-").reverse().join("-"),X.a.post("/raw-materials/raw-material",{_id:t.Raw_Material_Id}).then((function(n){console.log(n),t.Raw_Material_Name=n.data.RawMaterial[0].raw_material_name,a.setState({data:Object(Q.a)(e.data)}),X.a.post("/measuring-units/measuring-unit",{_id:t.Measuring_Unit}).then((function(n){console.log("Hello-----\x3e>",t.Measuring_Unit,n),"undefined"!==typeof n.data.MeasuringUnit[0]?t.Measuring_Unit=n.data.MeasuringUnit[0].measuring_unit_name:t.Measuring_Unit="Problem loading",a.setState({data:Object(Q.a)(e.data)}),X.a.post("/vendors/vendor",{_id:t.Vendor}).then((function(n){n.data.Vendor?(console.log(n.data.Vendor[0].vendor_name),t.Vendor=n.data.Vendor[0].vendor_name):t.Vendor="not specified",a.setState({data:Object(Q.a)(e.data)}),X.a.post("/roles/role",{_id:t.Created_By.Role_Id}).then((function(n){n.data.Role[0]?t.Role=n.data.Role[0].role_name:t.Role="not specified",a.setState({data:Object(Q.a)(e.data)}),"not specified"!==t.Created_By.Employee_Id?(console.log(t.Created_By.Employee_Id),X.a.post("/employees/employee",{_id:t.Created_By.Employee_Id}).then((function(n){n.data.Employee[0]?(console.log(n.data.Employee[0].employee_first_name),t.Employee=n.data.Employee[0].employee_first_name):t.Employee="not specified",a.setState({data:Object(Q.a)(e.data),dataReceived:!0})}))):(t.Employee="not specified",a.setState({dataReceived:!0}))}))}))}))})),null})),a.setState({data:Object(Q.a)(e.data),openReport:!0}),console.log(a.state.data)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({dataReceived:!1}),X.a.get("/raw-materials/raw-materials").then((function(t){e.setState({raw_materials:Object(Q.a)(t.data.RawMaterials)}),X.a.get("/vendors/vendors").then((function(t){e.setState({vendors:Object(Q.a)(t.data.Vendors)}),X.a.get("/measuring-units/measuring-units").then((function(t){e.setState({measuring_units:Object(Q.a)(t.data.MeasuringUnits),dataReceived:!0}),X.a.post("/currency/currency",{_id:"5eb2a1fcfcdc3a03f401855e"}).then((function(t){e.setState({currency_type:t.data.Currency[0].currency_type})}))}))}))}))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Purchase Report"),i.a.createElement(m.a,{width:"94.2%"},this.state.dataReceived?null:i.a.createElement(Y.a,null)),i.a.createElement(ie,null,i.a.createElement(m.a,{style:oe.box,alignContent:"center"},i.a.createElement(m.a,{style:oe.box_field},i.a.createElement(m.a,{style:oe.box,marginRight:"10px"},i.a.createElement(pe,{id:"1",Name:"From Requested Date",minDate:new Date("01-01-1990"),maxDate:new Date,value:this.state.from_date,setDate:function(t){t=t.startOf("day"),e.setState({from_date:t,disabled:!0})}})),i.a.createElement(m.a,{style:oe.box},i.a.createElement(pe,{disabled:null===this.state.from_date,id:"2",Name:"To Requested Date",minDate:this.state.from_date,value:this.state.to_date,setDate:function(t){t=t.endOf("day"),e.setState({to_date:t,disabled:!1})}}))),i.a.createElement(m.a,{style:oe.box_field},i.a.createElement(m.a,{style:oe.box,marginRight:"10px"},i.a.createElement(pe,{id:"1",Name:"From Due Date",minDate:new Date("01-01-1990"),value:this.state.from_due_date,setDate:function(t){t=t.startOf("day"),e.setState({from_due_date:t,disabled:!0})}})),i.a.createElement(m.a,{style:oe.box},i.a.createElement(pe,{disabled:null===this.state.from_due_date,id:"2",Name:"To Due Date",minDate:this.state.from_due_date,value:this.state.to_due_date,setDate:function(t){t=t.endOf("day"),e.setState({to_due_date:t,disabled:!1})}}))),i.a.createElement(m.a,{style:oe.box},i.a.createElement($.a,{size:"small",variant:"outlined",fullWidth:!0},i.a.createElement(ee.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select Raw Material"),i.a.createElement(te.a,{style:oe.box_field,value:this.state.raw_material_id,onChange:function(t){e.setState({raw_material_id:t.target.value})}},this.state.raw_materials.map((function(e,t){return i.a.createElement(z.a,{key:t,selected:!0,value:e._id},e.raw_material_name)}))))),i.a.createElement(m.a,{style:oe.box},i.a.createElement($.a,{size:"small",variant:"outlined",fullWidth:!0},i.a.createElement(ee.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Status"),i.a.createElement(te.a,{style:oe.box_field,name:"status",fullWidth:!0,variant:"outlined",value:this.state.status,onChange:function(t){e.setState({status:t.target.value})}},i.a.createElement(z.a,{value:"Requesting"},"Requesting"),i.a.createElement(z.a,{value:"Processing"},"Processing"),i.a.createElement(z.a,{value:"ForwardedToAdmin"},"ForwardedToAdmin"),i.a.createElement(z.a,{value:"ForwardedToFinance"},"ForwardedToFinance"),i.a.createElement(z.a,{value:"Rejected"},"Rejected")))),i.a.createElement(m.a,{style:oe.box},i.a.createElement($.a,{size:"small",variant:"outlined",fullWidth:!0},i.a.createElement(ee.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select Vendors"),i.a.createElement(te.a,{style:oe.box_field,value:this.state.vendor,onChange:function(t){e.setState({vendor:t.target.value})}},this.state.vendors.map((function(e,t){return i.a.createElement(z.a,{key:t,selected:!0,value:e._id},e.vendor_name)}))))),i.a.createElement(m.a,{style:oe.box},i.a.createElement($.a,{size:"small",variant:"outlined",fullWidth:!0},i.a.createElement(ee.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select Measuring Unit"),i.a.createElement(te.a,{style:oe.box_field,value:this.state.measuring_unit,onChange:function(t){e.setState({measuring_unit:t.target.value})}},this.state.measuring_units.map((function(e,t){return i.a.createElement(z.a,{key:t,selected:!0,value:e._id},e.measuring_unit_name)}))))),i.a.createElement(m.a,{style:oe.box_field},i.a.createElement(m.a,{style:oe.box,marginRight:"10px",marginBottom:"20px"},i.a.createElement(Z.a,{size:"small",fullWidth:!0,value:this.state.from_quantity,variant:"outlined",label:"From Quantity",type:"text",onChange:function(t){e.setState({from_quantity:t.target.value,disabled:!0})}})),i.a.createElement(m.a,{style:oe.box},i.a.createElement(Z.a,{disabled:""===this.state.from_quantity,size:"small",fullWidth:!0,value:this.state.to_quantity,variant:"outlined",label:"To Quantity",type:"text",onChange:function(t){e.setState({to_quantity:t.target.value}),e.setState((function(e){parseFloat(e.to_quantity)>=parseFloat(e.from_quantity)?e.disabled=!1:e.disabled=!0}))},helperText:"must be greater than From Quantity"})))),i.a.createElement(m.a,{style:oe.box_field},i.a.createElement(m.a,{style:oe.box,marginRight:"10px",marginBottom:"20px"},i.a.createElement(Z.a,{size:"small",fullWidth:!0,value:this.state.from_total_price,variant:"outlined",label:"From Total Price",type:"text",onChange:function(t){e.setState({from_total_price:t.target.value,disabled:!0})},InputProps:{endAdornment:i.a.createElement(Lt.a,{position:"start"},this.state.currency_type)}})),i.a.createElement(m.a,{style:oe.box},i.a.createElement(Z.a,{disabled:""===this.state.from_total_price,size:"small",fullWidth:!0,value:this.state.to_total_price,variant:"outlined",label:"To Total Price",type:"text",InputProps:{endAdornment:i.a.createElement(Lt.a,{position:"start"},this.state.currency_type)},onChange:function(t){e.setState({to_total_price:t.target.value}),e.setState((function(e){parseFloat(e.to_total_price)>=parseFloat(e.from_total_price)?e.disabled=!1:e.disabled=!0}))},helperText:"must be greater than from Total Price"})))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.setState({from_date:null,to_date:null,from_due_date:null,to_due_date:null,from_quantity:"",to_quantity:"",measuring_unit:"",raw_material_id:"",raw_material_code:"",status:"",vendor:"",from_total_price:"",to_total_price:"",disabled:!1})}},"Clear")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(R.a,{disabled:this.state.disabled,fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:this.onFilterHandler},"Report"))),i.a.createElement(J.a,{maxWidth:"lg",open:this.state.openReport,fullWidth:!0},i.a.createElement(G.a,{ref:this.ref},i.a.createElement(m.a,{fontSize:"30px",mb:3,disabled:"flex",textAlign:"center"},"Purchase Report"),i.a.createElement(m.a,{style:oe.box},i.a.createElement(m.a,{width:"95%"},this.state.dataReceived?null:i.a.createElement(Y.a,null)),i.a.createElement(H.a,{title:"",style:{width:"95%",maxHeight:"500px",overflow:"auto"},columns:this.state.columns,data:this.state.data,options:{search:!1,draggable:!1,sorting:!0,headerStyle:{backgroundColor:"#3f51b5",color:"#FFF"},pageSize:this.state.data.length}}),i.a.createElement(m.a,{width:"95%",display:"flex",justifyContent:"flex-end",marginTop:"20px"},i.a.createElement(m.a,{marginRight:"10px"},i.a.createElement(R.a,{variant:"contained",color:"primary",size:"large",onClick:function(){e.setState({openReport:!1})}},"Close")),i.a.createElement(m.a,{marginRight:"10px"},i.a.createElement(R.a,{disabled:!this.state.dataReceived,variant:"contained",color:"primary",size:"large",onClick:function(){e.setState({openCSV:!0})}},"Export CSV")),i.a.createElement(m.a,null,i.a.createElement(R.a,{disabled:!this.state.dataReceived,variant:"contained",color:"primary",size:"large",onClick:function(){e.setState({openPDF:!0,PDFData:Object(Q.a)(e.state.data)})}},"Export PDF")))))),i.a.createElement(J.a,{onClose:function(){e.setState({openPDF:!1})},open:this.state.openPDF,maxWidth:"lg",fullWidth:!0},i.a.createElement(Za.a,null,i.a.createElement(m.a,{display:"flex",style:{justifyContent:"flex-end"}},i.a.createElement(M.a,{size:"small",edge:"end",color:"inherit",onClick:function(){e.setState({openPDF:!1})},"aria-label":"close"},i.a.createElement(rn.a,null)))),i.a.createElement(G.a,null,i.a.createElement($a.PDFViewer,{style:{minHeight:"500px"},width:"100%"},i.a.createElement(an,{currency_type:this.state.currency_type,data:this.state.PDFData})))),i.a.createElement(J.a,{onClose:function(){e.setState({openCSV:!1})},open:this.state.openCSV,maxWidth:"sm"},i.a.createElement(Za.a,null,i.a.createElement(m.a,{display:"flex",style:{justifyContent:"flex-end"}},i.a.createElement(M.a,{size:"small",edge:"end",color:"inherit",onClick:function(){e.setState({openCSV:!1})},"aria-label":"close"},i.a.createElement(rn.a,null)))),i.a.createElement(G.a,null,i.a.createElement(m.a,{marginTop:"0px",style:oe.box_field,flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Purchase Report CSV"),i.a.createElement(on,{name:"Purchase Report ".concat((new me.a).format("DD/MM/YYYY HH:m:s"),".csv"),data:this.state.data,currency_type:this.state.currency_type}))))))}}]),t}(n.Component),cn=a(596),dn=function(e){var t=Object(n.useState)("line"),a=Object(x.a)(t,2),o=a[0],l=a[1],r=i.a.useMemo((function(){return e.ChartContent}),[e.ChartContent]),s=i.a.useMemo((function(){return{type:o}}),[o]),c=i.a.useMemo((function(){return[{primary:!0,type:"ordinal",position:"bottom"},{type:"linear",position:"left"}]}),[]),d=i.a.useCallback((function(){return{transition:"all .5s ease"}}),[]),u=i.a.useCallback((function(){return{transition:"all .5s ease"}}),[]);return i.a.createElement(m.a,{style:oe.box},i.a.createElement(m.a,{width:"90%",height:"400px",overflow:"hidden",border:"1px solid black",padding:"10px"},i.a.createElement(cn.Chart,{data:r,series:s,axes:c,getSeriesStyle:d,getDatumStyle:u,tooltip:!0})),i.a.createElement(m.a,{style:{marginTop:"20px"}},i.a.createElement(te.a,{value:o,onChange:function(e){l(e.target.value)}},i.a.createElement(z.a,{value:"bar"},"Bar"),i.a.createElement(z.a,{value:"line"},"Line"),i.a.createElement(z.a,{value:"area"},"Area"))),i.a.createElement(m.a,{display:" flex",marginTop:"10px",justifyContent:"flex-end",width:"92%"},i.a.createElement(m.a,{width:"100px"},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.cancel()}},"Close"))))},un=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).state={start_date:null,end_date:null,label:"",ProductionData:[],SalesData:[],ChartContent:[],ChartOpen:!1,end_date_disabled:!0,dataReceived:!1},a.onReportHandler=function(){a.setState({ChartContent:[],ProductionData:[],SalesData:[],dataReceived:!1}),X.a.post("/sales/sale",{start_date:a.state.start_date,end_date:a.state.end_date}).then((function(e){console.log(e.data),e.data.Sale.map((function(e){return a.setState({label:"Sales"}),a.setState((function(t){t.SalesData.push([new me.a(e.Selling_Date).format("MM-YYYY")+"-"+e.Product_ID,e.Quantity])})),null})),console.log("sort ====> ".concat(a.state.SalesData.sort((function(e,t){return t[0]-e[0]})).reverse()," ")),a.setState((function(e){e.ChartContent.push({label:e.label,data:e.SalesData.sort((function(e,t){return t[0]-e[0]}))})})),X.a.post("/productions/production",{start_date:a.state.start_date,end_date:a.state.end_date}).then((function(e){console.log(e.data),e.data.Production.map((function(e){return a.setState({label:"Production"}),a.setState((function(t){t.ProductionData.push([new me.a(e.Manufacture_Date).format("MM-YYYY")+"-"+e.Product_ID,e.Quantity])})),null})),console.log("sort ====> ".concat(a.state.ProductionData.sort((function(e,t){return t[0]-e[0]})).reverse()," ")),a.setState((function(e){e.ChartContent.push({label:e.label,data:e.ProductionData.sort((function(e,t){return t[0]-e[0]}))})})),a.setState({ChartOpen:!0,dataReceived:!0}),console.log(a.state.ChartContent)}))}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.setState({dataReceived:!0})}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:oe.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Production And Sales Report"),i.a.createElement(m.a,{width:"94%"},this.state.dataReceived?null:i.a.createElement(Y.a,null)),i.a.createElement(ie,null,i.a.createElement(m.a,{style:oe.box_field},i.a.createElement(m.a,{style:oe.box,marginRight:"10px"},i.a.createElement(pe,{id:"1",Name:"Select Start month",Req:!0,value:this.state.start_date,minDate:new Date("01-01-1990"),maxDate:new Date,setDate:function(t){e.setState({start_date:t.startOf("month"),end_date_disabled:!1})}})),i.a.createElement(m.a,{style:oe.box},i.a.createElement(pe,{id:"2",Name:"Select End Month",Req:!0,disabled:null===this.state.start_date,value:this.state.end_date,minDate:this.state.start_date,maxDate:(new me.a).endOf("month"),setDate:function(t){e.setState({end_date:t.endOf("month")})}})))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{width:"100px"},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.onReportHandler()}},"Report"))),i.a.createElement(J.a,{fullWidth:!0,maxWidth:"lg",open:this.state.ChartOpen},i.a.createElement(G.a,{style:{padding:"20px"}},i.a.createElement(m.a,{fontSize:"30px",mb:3,textAlign:"center"},"Production and Sales report"),i.a.createElement(dn,{cancel:function(){e.setState({ChartOpen:!1})},ChartContent:this.state.ChartContent}))))}}]),t}(n.Component),mn=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={width:"17vw",dashboardItems:[]},a.permissions=JSON.parse(sessionStorage.getItem("permissions")),a.contents=["Purchase Report","Production and Sales Report"],a.logout=function(){E.logout()&&a.props.history.push("/")},a.home=function(){a.props.history.push("/home")},a.dashboardMin=function(){a.setState({width:".1px"})},a.dashboardMax=function(){a.setState({width:"17vw"})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;console.log(this.permissions),this.contents.map((function(t){if(e.permissions.find((function(e){return e===t}))){var a=t.toLowerCase().replace(/ /g,"-");e.setState({}),e.setState((function(e){e.dashboardItems.push({Name:t,Path:a})}))}return null}))}},{key:"render",value:function(){return i.a.createElement(m.a,null,i.a.createElement(N,{name:"Reports",logout:this.logout,home:this.home,dashboardMax:this.dashboardMax,dashboardMin:this.dashboardMin}),i.a.createElement(m.a,{display:"flex"},i.a.createElement(b,{items:this.state.dashboardItems,componentName:"home/reports",width:this.state.width,dashboardMin:this.dashboardMin}),i.a.createElement(m.a,{display:"flex",flexDirection:"column",alignItems:"center",width:"100%",marginTop:"10px"},i.a.createElement(Sa.b,{exact:!0,path:"/home/reports/purchase-report",component:sn}),i.a.createElement(Sa.b,{exact:!0,path:"/home/reports/production-and-sales-report",component:un}))))}}]),t}(n.Component),pn={box_field:{display:"flex",width:"100%",alignItems:"center",justifyContent:"center",marginBottom:"20px"},box:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",height:"80%"},box_msg:{marginBottom:"10px",padding:"10px",width:"90%",textAlign:"center",fontSize:"15px",textTransform:"uppercase "},icons:{fontSize:"40px",marginRight:"10px"},root:{display:"flex",flexDirection:"column",justifyContent:"center",width:"100%"},heading:{display:"flex",justifyContent:"center",width:"100%",paddingTop:"15px",paddingBottom:"25px"},lbox:{display:"flex",flexDirection:"row",justifyContent:"center",width:"100%"},form:{display:"flex",flexDirection:"column",width:"90%",justifyContent:"space-around"},boxSize2:{width:"100%",display:"flex",flexDirection:"row",alignContent:"center",paddingTop:"5px",paddingLeft:"5px",paddingRight:"5px",paddingBottom:"5px",minWidth:"10%",maxWidth:"100%"},lastboxSize2:{display:"flex",flexDirection:"row",alignContent:"center",paddingTop:"5px",paddingLeft:"15px",paddingRight:"15px",paddingBottom:"20px"},addbtns:{display:"flex",alignSelf:"center",paddingLeft:"10px",paddingRight:"10px"},addbtnl:{display:"flex",alignSelf:"flex-end",paddingLeft:"10px",paddingRight:"10px"},submit:{display:"flex",justifyContent:"flex-end",paddingTop:"20px",paddingBottom:"10px",marginRight:"60px",alignSelf:"flex-end"},add:{display:"flex",justifyContent:"flex-start",paddingTop:"20px",paddingBottom:"10px",marginRight:"60px",alignSelf:"flex-start"},paper:{overflow:"auto",width:"100%"},table:{overflow:"auto"}},gn=a(323),hn=a.n(gn),fn=pn,_n={marginRight:"6px",marginLeft:"6px"},yn=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={invoice_quantity:null,unitList:[],roleList:[],munit:"",vendors:[],vendor:"",invoice_amount:null,invoice_date:null,invoice_document_url:[],status:"",file:[],Id:[{id:""}],a_id:"",idType:"",submitBtnDisable:!1,progress:!1},a.loadStatus=function(){return["Purchase-Completed"].map((function(e,t){return i.a.createElement(z.a,{key:t,value:e},e)}))},a.showFile=function(){for(var e=[],t=0;t<a.state.file.length;t++)e.push(i.a.createElement(m.a,{key:t},a.state.file[t].name));return e},a.getRoles=function(e){var t=e;return a.state.roleList.map((function(a){return a._id===e&&(t=a.role_name),null})),t},a.onSubmit=function(){if(null===a.state.invoice_date||0===a.state.file.length||""===a.state.status)alert("Some fields contain invalid value!");else{a.setState({submitBtnDisable:!0,progress:!0});for(var e=new FormData,t=0;t<a.state.file.length;t++){var n=a.state.file[t].name.split(".");e.append("file",a.state.file[t],"invoice_"+(new me.a).format("DD_MM_YYYY_HH_m_s.")+n[1])}X.a.post("/files",e,{headers:{"content-type":"multipart/form-data"}}).then((function(e){console.log("invoice called",e.data),X.a.post("/request-details/invoice",{_id:a.props.Purchase._id,Invoice_Quantity:a.props.Purchase.Quantity,Invoice_Measuring_Unit:a.props.Purchase.Measuring_Unit,Invoice_Amount:a.props.Purchase.Total_Price,Invoice_Date:a.state.invoice_date,Invoice_Document:e.data,Id_Type:a.state.idType,Id:a.state.Id,Status:a.state.status}).then((function(e){console.log("add stock called"),X.a.post("/purchase-stocks/add",{Purchase_List:a.props.Purchase._id,Purchase_Id:a.props.Purchase._id,Measuring_Unit:a.props.Purchase.Measuring_Unit,Total_Quantity:a.props.Purchase.Quantity}).then((function(e){console.log("add production stock called:",e);var t=a.getRoles(a.props.Purchase.Created_By.Role_Id);console.log("role:",t),"Production Manager"===t?X.a.post("/purchase-stocks/add-production",{_id:a.props.Purchase._id,Raw_Material_Id:a.props.Purchase.Raw_Material_Id,Raw_Material_Code:a.props.Purchase.Raw_Material_Code,Quantity:a.props.Purchase.Quantity,Measuring_Unit:a.props.Purchase.Measuring_Unit,Id:a.props.Purchase._id}).then((function(e){console.log("response: ",e),a.setState({progress:!1}),a.props.closeDialog("submit")})).catch((function(e){console.log("stock not reduced",e)})):(a.setState({progress:!1}),a.props.closeDialog("submit"))})).catch((function(e){console.log("Stock not added",e)}))})).catch((function(e){console.log("Invoice not added",e)}))})).catch((function(e){console.log("File not added",e)}))}},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;X.a.get("/measuring-unit").then((function(t){e.setState({unitList:Object(Q.a)(t.data.MeasuringUnits)})})),X.a.get("/roles/roles").then((function(t){e.setState({roleList:Object(Q.a)(t.data.Roles)})}))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{display:"flex",flexDirection:"column",alignItems:"center"},i.a.createElement(m.a,{fontSize:"30px",mb:3,fontWeight:"bold"},"Add to Stock"),!0===this.state.progress?i.a.createElement(Y.a,{color:"primary",variant:"indeterminate",style:{marginLeft:"10px",marginRight:"10px",marginBottom:"10px",width:"100%"}}):i.a.createElement(m.a,null),i.a.createElement(m.a,{style:fn.boxSize2},i.a.createElement(m.a,{width:"100%",style:_n},i.a.createElement(Z.a,{disabled:!0,size:"small",fullWidth:!0,variant:"outlined",label:"Invoice_Quantity",required:!0,value:this.props.Purchase.Quantity,onChange:function(t){e.setState({invoice_quantity:t.target.value})}})),i.a.createElement(m.a,{width:"100%",style:_n},i.a.createElement($.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement(ee.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Measuring Unit"),i.a.createElement(te.a,{disabled:!0,name:"Measuring_Unit",variant:"outlined",required:!0,value:this.props.Purchase.Measuring_Unit,onChange:function(t){e.setState({munit:t.target.value}),console.log(t.target.value)}},this.state.unitList.map((function(e,t){return i.a.createElement(z.a,{selected:!0,key:t,value:e._id},e.measuring_unit_name)})))))),i.a.createElement(m.a,{style:fn.boxSize2},i.a.createElement(m.a,{width:"100%",style:_n},i.a.createElement(Z.a,{disabled:!0,size:"small",fullWidth:!0,variant:"outlined",label:"Invoice_Amount",required:!0,value:this.props.Purchase.Total_Price,onChange:function(t){e.setState({invoice_amount:t.target.value})}})),i.a.createElement(m.a,{width:"100%",style:_n},i.a.createElement(pe,{id:"1",Name:"Invoice_Date",Req:"true",marginBottom:"10px",minDate:"01/01/1990",maxDate:new Date,value:this.state.invoice_date,setDate:function(t){e.setState({invoice_date:t})}}))),i.a.createElement(m.a,{style:fn.boxSize2},i.a.createElement(m.a,{width:"100%",style:_n},i.a.createElement($.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement(ee.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Status"),i.a.createElement(te.a,{variant:"outlined",required:!0,value:this.state.status,onChange:function(t){e.setState({status:t.target.value})}},this.loadStatus()))),i.a.createElement(m.a,{width:"100%",style:_n},i.a.createElement($.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement(ee.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Id Type"),i.a.createElement(te.a,{variant:"outlined",required:!0,value:this.state.idType,onChange:function(t){e.setState({idType:t.target.value})}},i.a.createElement(z.a,{value:"Box"},"Box"),i.a.createElement(z.a,{value:"Individual"},"Individual"))))),i.a.createElement(m.a,{style:fn.boxSize2},i.a.createElement(m.a,{width:"100%",maxHeight:"100px",style:_n,flexDirection:"row",display:"flex",flexWrap:"wrap",overflow:"auto"},this.state.Id.map((function(t,a){return i.a.createElement(m.a,{display:"flex",width:"33.33%",pt:1},i.a.createElement(Z.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Id",required:!0,name:"Id",value:e.state.Id[a].id,onChange:function(t){e.setState({a_id:t.target.value}),console.log(t.target.value),e.setState((function(e){e.Id[a].id=e.a_id,console.log("====",e.Id[a])}))}}),e.state.Id.length===a+1?i.a.createElement(Zt.a,{color:"secondary",style:{fontSize:"30px",margin:"4px",padding:"0px"},onClick:function(){e.setState({}),e.setState((function(e){e.Id.push({id:""}),console.log(e.Id)}))}}):i.a.createElement(ea.a,{color:"secondary",style:{fontSize:"30px",padding:"0px",margin:"4px"},onClick:function(){e.setState({}),e.setState((function(e){e.Id.splice(a,1),console.log(e.Id)}))}}))})).reverse())),i.a.createElement(m.a,{style:fn.boxSize2},i.a.createElement(m.a,{display:this.props.uploadFile,flexDirection:"column"},i.a.createElement("input",{style:{display:"none"},id:"#file2",type:"file",accept:"image/*,application/pdf",multiple:"multiple",onChange:function(t){var a=t.target.files;e.setState({file:a}),console.log("temp: ",a)}}),i.a.createElement("label",{htmlFor:"#file2"},i.a.createElement(R.a,{style:{marginLeft:"10px"},variant:"contained",component:"span",color:"default",startIcon:i.a.createElement(hn.a,null)},"Upload Invoice")),i.a.createElement(m.a,{style:{marginLeft:"10px",paddingTop:"5px"}},this.showFile()))),i.a.createElement(m.a,{pt:2,pb:2,m:0,display:"flex",justifyContent:"flex-end",width:"87%"},i.a.createElement(m.a,{display:"flex"},i.a.createElement(R.a,{variant:"contained",color:"primary",size:"large",fontWeight:"Bold",onClick:function(){e.props.closeDialog("cancel")},style:{fontWeight:"bold"}},"Cancel")),i.a.createElement(m.a,{marginLeft:"10px"},i.a.createElement(R.a,{disabled:this.state.submitBtnDisable,variant:"contained",color:"primary",size:"large",fontWeight:"bold",onClick:this.onSubmit,style:{fontWeight:"bold"}},"Submit"))))}}]),t}(n.Component),bn=pn,En={marginRight:"6px",marginLeft:"6px"},vn=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={_id:"",Raw_Material_Id:"Raw_material_Id",Raw_Material_Code:null,Quantity:null,Measuring_Unit:"",Priority:"",Due_Date:null,Status:"",Comments:"",Total_Price:null,Vendor:"",errors:[],success:!1,unitList:[],materials:[],vendorList:[],stockList:[],reqDetails:[],logComments:"no comments",To:"",file:"",openDialog:!1,vendorInfo:!1,availStock:null,submitBtnDisable:!1,stockBtnDisable:!1,progress:!0,currency:[]},a.openDialog=function(){a.setState({openDialog:!0})},a.closeDialog=function(e){a.setState({openDialog:!1}),"submit"===e&&a.props.cancel()},a.onEditHandler=function(){if(""===a.state.Comments&&a.setState({Comments:"no comments"}),null!==a.state.Quantity&&""!==a.state.Vendor&&null!==a.state.Total_Price&&0!==a.state.file.length&&""!==a.state.Measuring_Unit&&""!==a.state.Status){a.setState({submitBtnDisable:!0,progress:!0});var t=new FormData;console.log("fileLength: ",a.state.file);for(var n=0;n<a.state.file.length;n++){var i=a.state.file[n].name.split(".");t.append("file",a.state.file[n],"quotation_"+(new me.a).format("DD_MM_YYYY_HH_m_s.")+i[1])}X.a.post("/files",t,{headers:{"content-type":"multipart/form-data"}}).then((function(t){console.log("file: ",t),X.a.post("/log/comment",{logs:{reqId:e.Purchase._id,from:sessionStorage.getItem("Role ID"),to:"Finance",comments:a.state.Comments}}).then((function(e){console.log("Comments: ",e),X.a.post("/request-details/edit",{_id:a.state._id,Raw_Material_Id:a.state.Raw_Material_Id,Raw_Material_Code:a.state.Raw_Material_Code,Quantity:a.state.Quantity,Measuring_Unit:a.state.Measuring_Unit,Priority:a.state.Priority,Due_Date:a.state.Due_Date,Status:a.state.Status,Comments:a.state.Comments,Vendor:a.state.Vendor._id,Total_Price:a.state.Total_Price,Quotation_Document_URL:t.data})})).then((function(){a.setState({progress:!1}),a.props.cancel()}))})).catch((function(e){return console.log(e)}))}else alert("please check all fields are entered properly")},a.showFile=function(){for(var e=[],t=0;t<a.state.file.length;t++)e.push(i.a.createElement(m.a,{key:t},a.state.file[t].name));return e},a.loadFile=function(){var e=[];return a.props.Purchase.Quotation_Document_URL.map((function(t,a){return e.push(i.a.createElement(m.a,{display:"flex",key:a},i.a.createElement(Ia.a,{href:"/uploads/".concat(t),target:"_blank",rel:"noreferrer"},t))),null})),e},a.loadStatus=function(){return["Requesting","ForwardedToPurchase","Finance-Accepted","Purchase-Completed","ForwardedToFinance","Purchase-Accepted","Purchase-Rejected","ForwardedToProduction"].map((function(e,t){return i.a.createElement(z.a,{key:t,value:e,disabled:"Requesting"===e||"Finance-Accepted"===e},e)}))},a.vendorInfo=function(){var e=[];return a.state.vendorList.map((function(t,n){return console.log("Vendorinfo:",a.state.Vendor._id),t._id===a.state.Vendor._id?(console.log("matched"),e.push(i.a.createElement(m.a,{key:n},i.a.createElement("h4",{style:{padding:"0px",margin:"0px"}},"Vendor:"),"".concat(t.vendor_name," - ").concat(t.vendor_mobile_no," - ").concat(t.vendor_email)," ",i.a.createElement("br",null),i.a.createElement("h4",{style:{padding:"0px",margin:"0px"}},"Point of contacts:"),t.vendor_point_of_contact.map((function(e,t){return i.a.createElement(m.a,{key:t},e.name+" ( "+e.designation+" ) - "+e.mobile_no)}))))):console.log("not match"),null})),e},a.sendMaterials=function(){a.setState({progress:!0}),X.a.post("/purchase-stocks/add-production",{_id:a.props.Purchase._id,Raw_Material_Id:a.props.Purchase.Raw_Material_Id,Raw_Material_Code:a.props.Purchase.Raw_Material_Code,Quantity:a.props.Purchase.Quantity,Measuring_Unit:a.props.Purchase.Measuring_Unit,Id:a.props.Purchase._id}).then((function(e){console.log("response: ",e),X.a.post("purchase-stocks/status",{_id:a.props.Purchase._id}).then((function(e){console.log("resp: ",e),a.setState({progress:!1}),a.props.cancel()}))})).catch((function(e){console.log("stock not reduced",e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;X.a.get("/raw-material").then((function(t){console.log(t),e.setState({materials:Object(Q.a)(t.data.RawMaterials)})})),X.a.get("/vendors/vendors").then((function(t){console.log(t),e.setState({vendorList:Object(Q.a)(t.data.Vendors)})})),X.a.get("/measuring-units/measuring-units").then((function(t){console.log(t),e.setState({unitList:Object(Q.a)(t.data.MeasuringUnits)})})).then((function(){X.a.get("/purchase-stocks").then((function(t){e.setState({stockList:Object(Q.a)(t.data.stock)})})).then((function(){X.a.get("/request-details").then((function(t){e.setState({reqDetails:Object(Q.a)(t.data),progress:!1})}))})).catch((function(e){console.log("cannot get reqdetails",e)}))})).catch((function(e){console.log("cannot get unitlist",e)})),X.a.get("/currency").then((function(t){e.setState({currency:t.data.Currency[0].currency_type}),console.log("currency:",e.state.currency)})),this.setState({_id:this.props.Purchase._id,Raw_Material_Id:this.props.Purchase.Raw_Material_Id,Raw_Material_Code:this.props.Purchase.Raw_Material_Code,Quantity:this.props.Purchase.Quantity,Measuring_Unit:this.props.Purchase.Measuring_Unit,Priority:this.props.Purchase.Priority,Due_Date:this.props.Purchase.Due_Date,Status:this.props.Purchase.Status,Comments:this.state.Comments,Vendor:this.props.vendorRecord(),Total_Price:this.props.Purchase.Total_Price})}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:bn.box},i.a.createElement(m.a,{fontSize:"30px",mb:3,fontWeight:"bold"},"Request Details"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:bn.box_msg,bgcolor:"#f73067",key:t},e)})):!0===this.state.success?i.a.createElement(m.a,{bgcolor:"#3df45b",style:bn.box_msg},"Successful"):null,i.a.createElement(m.a,{style:bn.root},i.a.createElement(m.a,{display:"flex",justifyContent:"center"},i.a.createElement(m.a,{style:bn.lbox},i.a.createElement(m.a,{style:bn.form},!0===this.state.progress?i.a.createElement(Y.a,{color:"primary",variant:"indeterminate",style:{marginLeft:"10px",marginBottom:"10px"}}):i.a.createElement(m.a,null),i.a.createElement(m.a,{style:bn.boxSize2},i.a.createElement(m.a,{width:"50%",style:En},i.a.createElement($.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement(ee.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Material Name"),i.a.createElement(te.a,{disabled:!0,variant:"outlined",required:!0,name:"Raw_Material_Id",value:this.state.Raw_Material_Id,onChange:function(t){var a;e.state.materials.map((function(e){return e._id===t.target.value&&(a=e.raw_material_code,console.log("code: ",a)),null})),e.setState({Raw_Material_Id:t.target.value,Raw_Material_Code:a})}},this.state.materials.map((function(e,t){return i.a.createElement(z.a,{key:t,value:e._id},e.raw_material_name)}))))),i.a.createElement(m.a,{width:"50%",style:En},i.a.createElement(Z.a,{disabled:!0,size:"small",fullWidth:!0,variant:"outlined",label:"Material_Code",required:!0,value:this.state.Raw_Material_Code,onChange:function(t){e.setState({Material_Code:t.target.value}),console.log(t.target.value)}}))),i.a.createElement(m.a,{style:bn.boxSize2},i.a.createElement(m.a,{width:"50%",style:En},i.a.createElement(Z.a,{disabled:!0,size:"small",fullWidth:!0,variant:"outlined",label:"Quantity",required:!0,value:this.state.Quantity,onChange:function(t){e.setState({Quantity:t.target.value})}})),i.a.createElement(m.a,{width:"50%",style:En},i.a.createElement($.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement(ee.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Measuring Unit"),i.a.createElement(te.a,{disabled:!0,name:"Measuring_Unit",variant:"outlined",required:!0,value:this.state.Measuring_Unit,onChange:function(t){e.setState({Measuring_Unit:t.target.value}),console.log(t.target.value)}},this.state.unitList.map((function(e,t){return i.a.createElement(z.a,{selected:!0,key:t,value:e._id},e.measuring_unit_name)})))))),i.a.createElement(m.a,{style:bn.boxSize2},i.a.createElement(m.a,{width:"50%",style:En},i.a.createElement($.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement(re.a,{disabled:this.props.disabled.vendor,options:this.state.vendorList,autoHighlight:!0,value:this.state.Vendor,getOptionLabel:function(e){return e.vendor_name},renderInput:function(e){return i.a.createElement(Z.a,Object.assign({},e,{label:"Vendor",variant:"outlined",size:"small"}))},onChange:function(t,a){e.setState({Vendor:a}),console.log("Vendor:",a)}}))),i.a.createElement(m.a,{width:"50%",style:En},i.a.createElement(Z.a,{disabled:this.props.disabled.amount,size:"small",fullWidth:!0,variant:"outlined",label:"Total_Price",InputProps:{endAdornment:i.a.createElement(Lt.a,{position:"start"},this.state.currency)},required:!0,value:this.state.Total_Price,onChange:function(t){e.setState({Total_Price:t.target.value})}}))),i.a.createElement(m.a,{style:bn.boxSize2},i.a.createElement(m.a,{width:"50%",style:En},i.a.createElement($.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement(ee.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Priority"),i.a.createElement(te.a,{disabled:!0,variant:"outlined",required:!0,name:"Priority",value:this.props.Purchase.Priority},i.a.createElement(z.a,{value:"Priority",disabled:!0},"Priority"),i.a.createElement(z.a,{value:"Low"},"Low"),i.a.createElement(z.a,{value:"Medium"},"Medium"),i.a.createElement(z.a,{value:"High"},"High")))),i.a.createElement(m.a,{width:"50%",style:En},i.a.createElement(pe,{disabled:!0,id:"4",variant:"outlined",Name:"Due_Date",value:this.state.Due_Date,setDate:function(t){e.setState({Due_Date:t}),console.log(t)}}))),i.a.createElement(m.a,{style:bn.boxSize2},i.a.createElement(m.a,{width:"100%",style:En},i.a.createElement($.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement(ee.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Status"),i.a.createElement(te.a,{disabled:this.props.disabled.status,variant:"outlined",required:!0,name:"Status",value:this.state.Status,onChange:function(t){e.setState({Status:t.target.value}),"ForwardedToFinance"===t.target.value?e.setState((function(e){e.To="Finance"})):"ForwardedToProduction"!==t.target.value&&"Purchase-Accepted"!==t.target.value&&"Purchase-Rejected"!==t.target.value||e.setState((function(e){e.To="Purchase"}))}},this.loadStatus()))),i.a.createElement(m.a,{width:"100%",style:En,display:"flex",flexDirection:"column"},i.a.createElement(Z.a,{disabled:this.props.disabled.comment,size:"small",multiline:!0,rowsMax:"3",variant:"outlined",fullWidth:!0,label:"Comment",value:this.state.Comments,onChange:function(t){e.setState({Comments:t.target.value}),console.log(t.target.value)}}))),i.a.createElement(m.a,{style:bn.boxSize2},i.a.createElement(m.a,{width:"100%",display:"flex"},i.a.createElement("input",{style:{display:"none"},accept:"image/*,application/pdf",id:"#file",type:"file",multiple:"multiple",onChange:function(t){e.setState({file:t.target.files}),console.log("temp: ",e.state.file)}}),i.a.createElement(m.a,{display:"flex",flexDirection:"column"},i.a.createElement("label",{htmlFor:"#file"},i.a.createElement(R.a,{style:{display:this.props.uploadFile,marginLeft:"10px",width:"100%"},variant:"contained",component:"span",color:"default",startIcon:i.a.createElement(hn.a,null)},"Upload Quotation")),i.a.createElement(m.a,{style:{paddingTop:"5px",marginLeft:"10px"}},this.showFile())),i.a.createElement(m.a,{style:{marginLeft:"20px"},display:this.props.Purchase.Quotation_Document_URL.length>0?"flex":"none",alignSelf:"center"},this.loadFile())),i.a.createElement(m.a,{display:"flex",style:En},i.a.createElement(Z.a,{disabled:!0,id:"stock",size:"small",label:"Available Stock",defaultValue:" ",value:this.props.availStock,InputLabelProps:{style:{color:"black",fontWeight:"bold"}},InputProps:{style:{fontWeight:"bold"}}}))))))),i.a.createElement(m.a,{pt:2,pb:2,m:0,display:"flex",justifyContent:"flex-end",width:"87%"},i.a.createElement(m.a,{display:"flex"},i.a.createElement(R.a,{variant:"contained",color:"primary",size:"large",fontWeight:"Bold",onClick:function(){e.props.cancel()},style:{fontWeight:"bold"}},this.props.disabled.btnText)),i.a.createElement(m.a,{marginLeft:"10px",display:void 0!==this.state.Vendor._id?"flex":"none"},i.a.createElement(R.a,{variant:"contained",color:"primary",size:"large",fontWeight:"bold",onClick:function(){e.setState({vendorInfo:!0}),e.openDialog()},style:{fontWeight:"bold"}},"Vendor Info")),i.a.createElement(m.a,{display:this.props.availStock-this.props.Purchase.Quantity>=0&&"Admin"!==this.props.role&&"Requesting"===this.props.Purchase.Status?"flex":"none",ml:1},i.a.createElement(R.a,{disabled:this.state.stockBtnDisable,variant:"contained",color:"primary",size:"large",fontWeight:"Bold",onClick:function(){e.setState({stockBtnDisable:!0}),e.sendMaterials()},style:{fontWeight:"bold"}},"Send Materials")),i.a.createElement(m.a,{marginLeft:"10px",display:"Finance-Accepted"===this.props.Purchase.Status?"flex":"none"},i.a.createElement(R.a,{variant:"contained",color:"primary",size:"large",fontWeight:"bold",onClick:function(){e.setState({vendorInfo:!1}),e.openDialog()},style:{fontWeight:"bold"}},"Add Stock")),i.a.createElement(m.a,{marginLeft:"10px",display:this.props.disabled.btnDisplay},i.a.createElement(R.a,{disabled:this.state.submitBtnDisable,variant:"contained",color:"primary",size:"large",fontWeight:"bold",onClick:function(){e.onEditHandler()},style:{fontWeight:"bold"}},"Submit"))),i.a.createElement(J.a,{open:this.state.openDialog,onBackdropClick:function(){return!0===e.state.vendorInfo?e.closeDialog():i.a.createElement(m.a,null)},maxWidth:"sm",fullWidth:!0},i.a.createElement(G.a,null,!0===this.state.vendorInfo?i.a.createElement(m.a,{display:"flex",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"25px",mb:3,textAlign:"center",fontWeight:"bold"},"Vendor Information"),this.vendorInfo(),i.a.createElement(m.a,{display:"flex",justifyContent:"flex-end"},i.a.createElement(R.a,{variant:"contained",color:"primary",size:"small",fontWeight:"bold",onClick:function(){e.closeDialog()}},"Close"))):i.a.createElement(yn,{Purchase:this.props.Purchase,closeDialog:this.closeDialog,upload:this.props.uploadFile,closeEdit:this.props.cancel}))))}}]),t}(n.Component),xn=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).EditData={},a.state={columns:[{title:"Material Name",field:"Raw_Material_Id"},{title:"Quantity",field:"Quantity"},{title:"Measuring Unit",field:"Measuring_Unit"},{title:"Status",field:"Status"},{title:"Comments",field:"Comments"}],data:[],msg:"Fetching Data...",openAdd:!1,openEdit:!1,alert:!1,vendorList:[],unitList:[],materialList:[],stockList:[],roleList:[],role:"",reqDetails:[],availStock:null,fieldDisabled:{quantity:!1,unit:!1,vendor:!1,amount:!1,status:!1,comment:!1,btnDisplay:"none",btnText:"Close",from:"",to:"",uploadFile:"flex"},logComments:"",temp:[],isLoading:!0,progress:0},a.closeAlert=function(){a.setState({alert:!1})},a.OnEditHandler=function(e,t){X.a.post("/request-details",{_id:t._id}).then((function(e){a.EditData=Object(F.a)({},e.data[0]),a.setState({openEdit:!0})}))},a.getMaterialName=function(e){var t=e;return a.state.materialList.map((function(a){return a._id===e&&(t=a.raw_material_name),null})),t},a.getUnit=function(e){var t=e;return a.state.unitList.map((function(a){return a._id===e&&(t=a.measuring_unit_name),null})),t},a.getVendor=function(e){var t=e;return""!==e?a.state.vendorList.map((function(a){return a._id===e&&(t=a.vendor_name),null})):t="undefined",t},a.getMaterialDetails=function(e){var t=e;return a.state.materialList.map((function(a){return a._id===e&&(t=a.raw_material_code),null})),t},a.getDetails=function(e){var t=e;return console.log("reqdetails:",a.state.reqDetails),a.state.reqDetails.map((function(n){return n._id===e&&(t=a.getMaterialDetails(n.Raw_Material_Id)),null})),t},a.getStockDetails=function(e){console.log("stockList:",a.state.stockList);var t=0,n=a.getDetails(e);return a.state.stockList.map((function(e){var i=a.getDetails(e.Purchase_Id);return console.log("scode:",i,n),i===n&&(t=e.Total_Quantity),null})),t},a.getRoles=function(e){var t=e;return a.state.roleList.map((function(a){return a._id===e&&(t=a.role_name),null})),t},a.loadFinanceAccepted=function(){var e=[];console.log("reqDetails:",a.state.reqDetails),a.state.reqDetails.map((function(t){return"Finance-Accepted"===t.Status&&(t.Raw_Material_Id=a.getMaterialName(t.Raw_Material_Id),t.Measuring_Unit=a.getUnit(t.Measuring_Unit),e.push(t)),a.setState({data:e}),a.setState({msg:"Data not Found!"}),null}))},a.loadRequest=function(){var e=[];console.log("reqDetails:",a.state.reqDetails),a.state.reqDetails.map((function(t){return"Requesting"!==t.Status&&"ForwardedToPurchase"!==t.Status||(t.Raw_Material_Id=a.getMaterialName(t.Raw_Material_Id),t.Measuring_Unit=a.getUnit(t.Measuring_Unit),e.push(t)),a.setState({data:e}),null}))},a.handleClose=function(){X.a.get("/raw-materials/raw-materials").then((function(e){a.setState({materialList:Object(Q.a)(e.data.RawMaterials),progress:20}),X.a.get("/measuring-units/measuring-units").then((function(e){a.setState({unitList:Object(Q.a)(e.data.MeasuringUnits),progress:40}),X.a.get("/vendors/vendors").then((function(e){a.setState({vendorList:Object(Q.a)(e.data.Vendors),progress:60}),X.a.get("/purchase-stocks").then((function(e){a.setState({stockList:Object(Q.a)(e.data.stock),progress:80}),X.a.get("/roles/roles").then((function(e){a.setState({roleList:Object(Q.a)(e.data.Roles),progress:90}),X.a.get("/request-details").then((function(e){var t=[];console.log("Details: ",e.data);for(var n=0;n<e.data.length;n++)e.data[n].Raw_Material_Id=a.getMaterialName(e.data[n].Raw_Material_Id),e.data[n].Measuring_Unit=a.getUnit(e.data[n].Measuring_Unit),e.data[n].Vendor=a.getVendor(e.data[n].Vendor),t.push(e.data[n]);a.setState({progress:100,data:t,reqDetails:Object(Q.a)(e.data),isLoading:!1})}))})).catch((function(e){console.log("cannot get roleList",e)}))}))}))})).catch((function(e){console.log("cannot get unitList",e)}))})).catch((function(e){console.log("cannot get materialList",e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.handleClose()}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",mb:2,fontWeight:"bold"},"Request Details"),i.a.createElement(m.a,{width:"90%",display:"flex",flexDirection:"row"},i.a.createElement(R.a,{variant:"contained",color:"primary",style:{marginBottom:"10px",display:"flex",marginRight:"10px"},size:"small",onClick:this.loadFinanceAccepted},"Finance Accepted"),i.a.createElement(R.a,{variant:"contained",color:"primary",size:"small",style:{marginBottom:"10px",display:"flex"},onClick:this.loadRequest},"Request Details"),i.a.createElement(R.a,{variant:"contained",color:"primary",size:"small",style:{marginBottom:"10px",display:"flex",marginLeft:"10px"},onClick:this.handleClose},"All")),i.a.createElement(m.a,{width:"90%",display:"flex",flexDirection:"row"},i.a.createElement(H.a,{title:" ",isLoading:this.state.isLoading,columns:this.state.columns,data:this.state.data,style:{width:"100%",maxHeight:"500px",overflow:"auto"},localization:{body:{emptyDataSourceMessage:this.state.msg}},options:{loadingType:"overlay",sorting:!0,headerStyle:{backgroundColor:"#3f51b5",color:"#FFF",fontSize:"medium",fontWeight:"bold"}},components:{OverlayLoading:function(t){return i.a.createElement(Y.a,{variant:"determinate",value:e.state.progress})}},actions:[{icon:"edit",tooltip:"Edit User",onClick:function(t,a){e.setState({availStock:e.getStockDetails(a._id),role:e.getRoles(a.Created_By.Role_Id)}),"Requesting"===a.Status||"ForwardedToPurchase"===a.Status||"Finance-Accepted"===a.Status?"Finance-Accepted"===a.Status||e.getStockDetails(a._id)>=a.Quantity&&"Admin"!==e.getRoles(a.Created_By.Role_Id)?(console.log("Role:",e.getRoles(a.Created_By.Role_Id)),e.setState({logComments:a.Comments,from:a.From,to:a.To,uploadFile:"none",fieldDisabled:{quantity:!0,unit:!0,vendor:!0,amount:!0,status:!0,comment:!0,btnDisplay:"none",btnText:"Close"}}),e.OnEditHandler(t,a)):(console.log("Role:",e.getRoles(a.Created_By.Role_Id)),e.setState({logComments:a.Comments,from:a.From,to:a.To,uploadFile:"flex",fieldDisabled:{quantity:!1,unit:!1,vendor:!1,amount:!1,status:!1,comment:!1,btnDisplay:"flex",btnText:"Cancel"}}),e.OnEditHandler(t,a)):e.setState({alert:!0})}}],onRowClick:function(t,a){e.setState({availStock:e.getStockDetails(a._id),role:e.getRoles(a.Created_By.Role_Id),logComments:a.Comments,from:a.From,to:a.To,uploadFile:"none",fieldDisabled:{quantity:!0,unit:!0,vendor:!0,amount:!0,status:!0,comment:!0,btnDisplay:"none",btnText:"Close"}}),e.OnEditHandler(t,a)}})),i.a.createElement(J.a,{open:this.state.openEdit,maxWidth:"lg",fullWidth:!0},i.a.createElement(G.a,{style:{padding:"20px"}},i.a.createElement(vn,{disabled:this.state.fieldDisabled,dept:"Purchase",uploadFile:this.state.uploadFile,From:this.state.from,To:this.state.to,logComments:this.state.logComments,Purchase:this.EditData,vendorRecord:function(){var t=[];return e.state.vendorList.map((function(a){return console.log("EditData:",e.EditData.Vendor),a._id===e.EditData.Vendor&&(t=a),null})),t},availStock:this.state.availStock,role:this.state.role,cancel:function(){e.setState({openEdit:!1}),e.handleClose()}}))),i.a.createElement(we.a,{open:this.state.alert,autoHideDuration:3e3,anchorOrigin:{vertical:"bottom",horizontal:"center"},onClose:this.closeAlert},i.a.createElement(De.a,{severity:"error",variant:"filled",onClose:this.closeAlert},"You cannot modify / reject this record")))}}]),t}(n.Component),Sn=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).EditData={},a.state={columns:[{title:"Material Code",field:"Raw_Material_Code"},{title:"Material Name",field:"Raw_Material_Id"},{title:"Quantity",field:"Total_Quantity"},{title:"Measuring Unit",field:"Measuring_Unit"}],xtraColumns:[{title:"Invoice Quantity",field:"Invoice_Quantity"},{title:"Measuring Unit",field:"Measuring_Unit"},{title:"Stock Type",field:"Id_Type"},{title:"Stock Id",field:"id"},{title:"Invoice Doument",field:"Invoice_Document",render:function(e){var t=e.Invoice_Document,a=[];return t.map((function(e,t){return a.push(i.a.createElement(m.a,{display:"flex",key:t},i.a.createElement(Ia.a,{href:"/uploads/".concat(e),target:"_blank",rel:"noreferrer"},e))),null})),a}},{title:"Invoice Date",field:"Invoice_Date"}],data:[],msg:"Fetching Data...",xtraData:[],materialList:[],unitList:[],reqDetails:[],stockDetails:[],openDialog:!1,progress:0,isLoading:!0},a.closeDialog=function(){a.setState({openDialog:!1})},a.getMaterialDetails=function(e,t){var n=e;return"name"===t?a.state.materialList.map((function(t){return t._id===e&&(console.log("name called"),n=t.raw_material_name),null})):a.state.materialList.map((function(t){return t._id===e&&(console.log("code called"),n=t.raw_material_code),null})),n},a.getUnit=function(e){var t=e;return a.state.unitList.map((function(a){return a._id===e&&(t=a.measuring_unit_name),null})),t},a.getDetails=function(e,t){var n=e;return console.log("reqdetails:",a.state.reqDetails),a.state.reqDetails.map((function(i){return i._id===e&&(n=a.getMaterialDetails(i.Raw_Material_Id,t)),null})),n},a.getFullDetails=function(e){var t=[];return console.log("fulldetails called"),a.state.reqDetails.map((function(a){return a._id===e&&(t=a),null})),t},a.loadDetails=function(){var e=[];console.log("fulldetails: ",a.state.stockDetails);for(var t=0;t<a.state.stockDetails[0].stock.length;t++)a.state.stockDetails[0].stock[t].Purchase_List.map((function(t){var n=a.getFullDetails(t);return console.log(t),e.push(n),null}));a.setState({data:e})},a.callDetails=function(){X.a.get("/raw-materials/raw-materials").then((function(e){a.setState({materialList:Object(Q.a)(e.data.RawMaterials),progress:30}),X.a.get("/measuring-units/measuring-units").then((function(e){a.setState({unitList:Object(Q.a)(e.data.MeasuringUnits),progress:60}),X.a.get("/request-details").then((function(e){a.setState({reqDetails:Object(Q.a)(e.data),progress:90}),X.a.get("/purchase-stocks").then((function(e){var t=[];console.log("Stocks: ",e.data.stock);for(var n=0;n<e.data.stock.length;n++)e.data.stock[n].Total_Quantity>0&&(e.data.stock[n].Raw_Material_Id=a.getDetails(e.data.stock[n].Purchase_Id,"name"),e.data.stock[n].Raw_Material_Code=a.getDetails(e.data.stock[n].Purchase_Id,"code"),e.data.stock[n].Measuring_Unit=a.getUnit(e.data.stock[n].Measuring_Unit),console.log("rm: ",e.data.stock[n].Total_Quantity),t.push(e.data.stock[n]));a.setState({data:t,stockDetails:[e.data],msg:"Data Not Found!",progress:100,isLoading:!1})}))})).catch((function(e){console.log("cannot get reqDetails",e)}))})).catch((function(e){console.log("cannot get unitList",e)}))})).catch((function(e){console.log("cannot get materialList",e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.callDetails()}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",mb:2,fontWeight:"bold "},"Raw Material Stock Details"),i.a.createElement(m.a,{width:"90%",display:"flex",flexDirection:"row"},i.a.createElement(H.a,{title:" ",isLoading:this.state.isLoading,columns:this.state.columns,data:this.state.data,style:{width:"100%",overflow:"auto",alignItems:"left"},localization:{body:{emptyDataSourceMessage:this.state.msg}},options:{sorting:!0,headerStyle:{backgroundColor:"#3f51b5",color:"#FFF",fontSize:"medium",fontWeight:"bold"}},components:{OverlayLoading:function(t){return i.a.createElement(Y.a,{variant:"determinate",value:e.state.progress})}},onRowClick:function(t,a){var n=[];e.state.reqDetails.map((function(t){return"Purchase-Completed"===t.Status&&t.Raw_Material_Code===a.Raw_Material_Code&&(t.Measuring_Unit=e.getUnit(t.Measuring_Unit),n.push(t)),null})),e.setState({xtraData:n,openDialog:!0})}})),i.a.createElement(J.a,{open:this.state.openDialog,onBackdropClick:function(){e.closeDialog()},maxWidth:"md"},i.a.createElement(G.a,null,i.a.createElement(m.a,{fontSize:"30px",mb:2,fontWeight:"bold",display:"flex",justifyContent:"center"},"Stock Details"),i.a.createElement(H.a,{title:" ",columns:this.state.xtraColumns,data:this.state.xtraData,style:{width:"100%",overflow:"auto",alignItems:"left"},options:{sorting:!0,headerStyle:{backgroundColor:"#3f51b5",color:"#FFF",fontSize:"medium",fontWeight:"bold"}}}),i.a.createElement(m.a,{display:"flex",justifyContent:"flex-end",pt:2},i.a.createElement(R.a,{variant:"contained",color:"primary",size:"small",fontWeight:"bold",onClick:function(){e.closeDialog()}},"Close")))))}}]),t}(n.Component),Cn={box_field:{display:"flex",width:"100%",alignItems:"center",justifyContent:"center",marginBottom:"20px"},box:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",height:"80%"},box_msg:{marginBottom:"10px",padding:"10px",width:"90%",textAlign:"center",fontSize:"15px",textTransform:"uppercase "},icons:{fontSize:"40px",marginRight:"10px"},root:{display:"flex",flexDirection:"column",justifyContent:"center",width:"100%"},heading:{display:"flex",justifyContent:"center",width:"100%",paddingTop:"15px",paddingBottom:"25px"},lbox:{display:"flex",flexDirection:"row",justifyContent:"center",width:"100%"},form:{display:"flex",flexDirection:"column",width:"90%",justifyContent:"space-around"},boxSize2:{width:"100%",display:"flex",flexDirection:"row",alignContent:"center",paddingTop:"5px",paddingLeft:"5px",paddingRight:"5px",paddingBottom:"5px",minWidth:"10%",maxWidth:"100%"},lastboxSize2:{display:"flex",flexDirection:"row",alignContent:"center",paddingTop:"5px",paddingLeft:"15px",paddingRight:"15px",paddingBottom:"20px"},addbtns:{display:"flex",alignSelf:"center",paddingLeft:"10px",paddingRight:"10px"},addbtnl:{display:"flex",alignSelf:"flex-end",paddingLeft:"10px",paddingRight:"10px"},submit:{display:"flex",justifyContent:"flex-end",paddingTop:"20px",paddingBottom:"10px",marginRight:"60px",alignSelf:"flex-end"},add:{display:"flex",justifyContent:"flex-start",paddingTop:"20px",paddingBottom:"10px",marginRight:"60px",alignSelf:"flex-start"},paper:{overflow:"auto",width:"100%"},table:{overflow:"auto"}},wn=Cn,Dn={marginRight:"6px",marginLeft:"6px"},Rn=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={materialRecord:"",Raw_Material_Id:"",Quantity:"",raw_material_code:"",Id_Type:"",Id:[{id:""}],Measuring_Unit:"",Wastage_Date:null,Description:"",errors:[],openAdd:!1,success:!1,materials:[],measuring_units:[],reqDetails:[],stockDetails:[],a_id:"",submitBtnDisable:!1,progress:!1},a.onAddHandler=function(){null!==a.state.materialRecord&&""!==a.state.Raw_Material_Id&&""!==a.state.Quantity&&""!==a.state.raw_material_code&&""!==a.state.Id_Type&&""!==a.state.Id[0].id&&null!==a.state.Wastage_Date&&""!==a.state.Description?(a.setState({submitBtnDisable:!0,progress:!0}),X.a.post("/purchase-wastages/add",{Raw_Material_Id:a.state.materialRecord._id,Quantity:a.state.Quantity,Product_ID:a.state.Product_ID,Raw_Material_Code:a.state.materialRecord.raw_material_code,Id_Type:a.state.Id_Type,Id:a.state.Id,Measuring_Unit:a.state.materialRecord.raw_material_measuring_unit,Wastage_Date:a.state.Wastage_Date,Description:a.state.Description}).then((function(e){console.log(e),a.setState({progress:!1}),a.props.cancel()}))):alert("Please check all the fields are entered properly")},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;X.a.get("/raw-material").then((function(t){console.log(t),e.setState({materials:Object(Q.a)(t.data.RawMaterials)})})),X.a.get("/measuring-unit").then((function(t){console.log(t.data.MeasuringUnits),e.setState({measuring_units:Object(Q.a)(t.data.MeasuringUnits)})})),X.a.get("/request-details").then((function(t){console.log("reqDetails:",t.data),e.setState({reqDetails:Object(Q.a)(t.data)})})),X.a.get("/purchase-stocks").then((function(t){console.log("stockDetails:",t.data.stock),e.setState({stockDetails:Object(Q.a)(t.data.stock)})}))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:wn.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Add Wastage"),i.a.createElement(m.a,{style:wn.root},i.a.createElement(m.a,{display:"flex",justifyContent:"center"},i.a.createElement(m.a,{style:wn.lbox},i.a.createElement(m.a,{style:wn.form},!0===this.state.progress?i.a.createElement(Y.a,{color:"primary",variant:"indeterminate",style:{marginLeft:"10px",marginRight:"10px",marginBottom:"10px",width:"100%"}}):i.a.createElement(m.a,null),i.a.createElement(m.a,{style:wn.boxSize2},i.a.createElement(m.a,{width:"50%",style:Dn},i.a.createElement($.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement(re.a,{options:this.state.materials,autoHighlight:!0,value:this.state.materialRecord,getOptionLabel:function(e){return e.raw_material_name},renderInput:function(e){return i.a.createElement(Z.a,Object.assign({},e,{label:"Raw Material",variant:"outlined",size:"small"}))},onChange:function(t,a){console.log("materialRecord:",a),console.log("stateRecord:",e.state.materialRecord),null!==a&&e.setState({materialRecord:a,Raw_Material_Id:a._id,raw_material_code:a.raw_material_code,Measuring_Unit:a.raw_material_measuring_unit})}}))),i.a.createElement(m.a,{width:"50%",style:Dn},i.a.createElement(Z.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Quantity",required:!0,name:"Quantity",value:this.state.Quantity,onChange:function(t){e.setState({Quantity:t.target.value})}}))),i.a.createElement(m.a,{style:wn.boxSize2},i.a.createElement(m.a,{width:"50%",style:Dn},i.a.createElement($.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement(ee.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Id Type"),i.a.createElement(te.a,{variant:"outlined",required:!0,name:"Id_Type",value:this.state.Id_Type,onChange:function(t){e.setState({Id_Type:t.target.value})}},i.a.createElement(z.a,{value:"Id Type",disabled:!0},"Id Type"),i.a.createElement(z.a,{value:"Individual"},"Individual"),i.a.createElement(z.a,{value:"Box"},"Box")))),i.a.createElement(m.a,{width:"50%",style:Dn},i.a.createElement($.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement(ee.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Measuring Unit"),i.a.createElement(te.a,{disabled:!0,name:"Measuring_Unit",variant:"outlined",required:!0,value:this.state.Measuring_Unit,onChange:function(t){e.setState({Measuring_Unit:t.target.value}),console.log(t.target.value)}},this.state.measuring_units.map((function(e,t){return i.a.createElement(z.a,{selected:!0,key:t,value:e._id},e.measuring_unit_name)})))))),i.a.createElement(m.a,{style:wn.boxSize2},i.a.createElement(m.a,{width:"100%",maxHeight:"100px",style:Dn,flexDirection:"row",display:"flex",flexWrap:"wrap",overflow:"auto"},this.state.Id.map((function(t,a){return i.a.createElement(m.a,{display:"flex",width:"33.33%",pt:1},i.a.createElement(Z.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Id",required:!0,name:"Id",value:e.state.Id[a].id,onChange:function(t){e.setState({a_id:t.target.value}),console.log(t.target.value),e.setState((function(e){e.Id[a].id=e.a_id,console.log("====",e.Id[a])}))}}),e.state.Id.length===a+1?i.a.createElement(Zt.a,{color:"secondary",style:{fontSize:"30px",margin:"4px",padding:"0px"},onClick:function(){e.setState({}),e.setState((function(e){e.Id.push({id:""}),console.log(e.Id)}))}}):i.a.createElement(ea.a,{color:"secondary",style:{fontSize:"30px",padding:"0px",margin:"4px"},onClick:function(){e.setState({}),e.setState((function(e){e.Id.splice(a,1),console.log(e.Id)}))}}))})).reverse())),i.a.createElement(m.a,{style:wn.boxSize2},i.a.createElement(m.a,{width:"100%",style:Dn},i.a.createElement(pe,{id:"4",variant:"outlined",Name:"Wastage Date",value:this.state.Wastage_Date,setDate:function(t){e.setState({Wastage_Date:t}),console.log(t)}}))),i.a.createElement(m.a,{style:wn.boxSize2},i.a.createElement(m.a,{width:"100%",style:Dn},i.a.createElement(Z.a,{multiline:!0,rowsMax:"3",variant:"outlined",fullWidth:!0,label:"Reasons",size:"small",value:this.state.Description,onChange:function(t){e.setState({Description:t.target.value}),console.log(t.target.value)}}))))))),i.a.createElement(m.a,{display:" flex",pt:2,pb:2,m:0,justifyContent:"flex-end",width:"87%"},i.a.createElement(m.a,{display:" flex"},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",style:{fontWeight:"bold"},onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{marginLeft:"10px"},i.a.createElement(R.a,{fullWidth:!0,disabled:this.state.submitBtnDisable,variant:"contained",color:"primary",style:{fontWeight:"bold"},size:"large",onClick:function(){e.onAddHandler()}},"Submit"))))}}]),t}(n.Component),Mn=Cn,kn={marginRight:"6px",marginLeft:"6px"},On=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={_id:"",Product_Name:"",Raw_Material_Id:"",Quantity:"",Raw_Material_Code:"",Id_Type:"",Id:[{id:""}],Measuring_Unit:"",Wastage_Date:"",Description:"",errors:[],materials:[],products:[],measuring_units:[],A_Id:""},a.onEditHandler=function(){X.a.post("/wastage/edit",{_id:a.state._id,Wastage_Type:a.state.Wastage_Type,Product_Name:a.state.Product_Name,Raw_Material_Id:a.state.Raw_Material_Id,Quantity:a.state.Quantity,Product_ID:a.state.Product_ID,Raw_Material_Code:a.state.Raw_Material_Code,Id_Type:a.state.Id_Type,Id:a.state.Id,Measuring_Unit:a.state.Measuring_Unit,Wastage_Date:a.state.Wastage_Date,Description:a.state.Description}).then((function(e){console.log(e.data),a.props.cancel()})).catch((function(e){return console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;X.a.get("/measuring-unit").then((function(t){console.log(t),e.setState({measuring_units:Object(Q.a)(t.data.MeasuringUnits)})})),X.a.get("/raw-material").then((function(t){console.log(t),e.setState({materials:Object(Q.a)(t.data.RawMaterials),Raw_Material_Id:e.props.wastage.Raw_Material_Id})})),this.setState({Wastage_Type:this.props.wastage.Wastage_Type,Quantity:this.props.wastage.Quantity,Product_ID:this.props.wastage.Product_ID,Raw_Material_Code:this.props.wastage.raw_material_code,Id_Type:this.props.wastage.Id_Type,Id:this.props.wastage.Id,Measuring_Unit:this.props.wastage.Measuring_Unit,Wastage_Date:this.props.wastage.Wastage_Date,Description:this.props.wastage.Description,_id:this.props.wastage._id})}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:Mn.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Edit Wastage"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:Mn.box_msg,bgcolor:"#f73067",key:t},e)})):!0===this.state.success?i.a.createElement(m.a,{bgcolor:"#3df45b",style:Mn.box_msg},"Successful"):null,i.a.createElement(m.a,{style:Mn.root},i.a.createElement(m.a,{display:"flex",justifyContent:"center"},i.a.createElement(m.a,{style:Mn.lbox},i.a.createElement(m.a,{style:Mn.form},i.a.createElement(m.a,{style:Mn.boxSize2},i.a.createElement(m.a,{width:"50%",style:kn},i.a.createElement($.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement(ee.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Material Name"),i.a.createElement(te.a,{disabled:this.props.disabled.Raw_Material_Id,variant:"outlined",required:!0,name:"Raw_Material_Id",value:this.state.Raw_Material_Id,onChange:function(t){var a;e.state.materials.map((function(e){return e._id===t.target.value&&(a=e.raw_material_code,console.log("code: ",a)),null})),e.setState({Raw_Material_Id:t.target.value,Raw_Material_Code:a})}},this.state.materials.map((function(e,t){return i.a.createElement(z.a,{key:t,value:e._id},e.raw_material_name)}))))),i.a.createElement(m.a,{width:"50%",style:kn},i.a.createElement(Z.a,{disabled:this.props.disabled.Quantity,size:"small",fullWidth:!0,variant:"outlined",label:"Quantity",required:!0,name:"Quantity",value:this.state.Quantity,onChange:function(t){e.setState({Quantity:t.target.value})}}))),i.a.createElement(m.a,{style:Mn.boxSize2},i.a.createElement(m.a,{width:"50%",style:kn},i.a.createElement($.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement(ee.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Id Type"),i.a.createElement(te.a,{disabled:this.props.disabled.Id_Type,variant:"outlined",required:!0,name:"Id_Type",value:this.state.Id_Type,onChange:function(t){e.setState({Id_Type:t.target.value})}},i.a.createElement(z.a,{value:"Id Type",disabled:!0},"Id Type"),i.a.createElement(z.a,{value:"Individual"},"Individual"),i.a.createElement(z.a,{value:"Box"},"Box")))),i.a.createElement(m.a,{width:"50%",style:kn},i.a.createElement($.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement(ee.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Measuring Unit"),i.a.createElement(te.a,{disabled:this.props.disabled.Measuring_Unit,name:"Measuring_Unit",variant:"outlined",required:!0,value:this.state.Measuring_Unit,onChange:function(t){e.setState({Measuring_Unit:t.target.value})}},this.state.measuring_units.map((function(e,t){return i.a.createElement(z.a,{selected:!0,key:t,value:e._id},e.measuring_unit_name)})))))),i.a.createElement(m.a,{style:Mn.boxSize2},i.a.createElement(m.a,{width:"100%",style:kn,flexDirection:"row",display:"flex",flexWrap:"wrap",overflow:"auto",maxHeight:"100px"},this.state.Id.map((function(t,a){return i.a.createElement(m.a,{display:"flex",width:"33.33%",pt:1},i.a.createElement(Z.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Id",required:!0,name:"Id",value:e.state.Id[a].id,disabled:e.props.disabled.Id,onFocus:function(){console.log("wiiid:",e.state.Id[a].Id)},onChange:function(t){e.setState({A_Id:t.target.value}),console.log(t.target.value),e.setState((function(e){e.Id[a].id=e.A_Id,console.log(e.Id[a])}))}}),e.state.Id.length===a+1?i.a.createElement(Zt.a,{color:"secondary",style:{fontSize:"30px",margin:"4px",padding:"0px"},onClick:function(){e.setState({}),e.setState((function(e){e.Id.push({id:""}),console.log(e.Id)}))}}):i.a.createElement(ea.a,{color:"secondary",style:{fontSize:"30px",margin:"4px",padding:"0px"},onClick:function(){e.setState({}),e.setState((function(e){e.Id.splice(a,1),console.log(e.Id)}))}}))})).reverse())),i.a.createElement(m.a,{style:Mn.boxSize2},i.a.createElement(m.a,{width:"100%",style:kn},i.a.createElement(pe,{disabled:this.props.disabled.Wastage_Date,id:"4",variant:"outlined",name:"Wastage Date",value:this.state.Wastage_Date,onChange:function(t){e.setState({Wastage_Date:t.target.value})}}))),i.a.createElement(m.a,{style:Mn.boxSize2},i.a.createElement(m.a,{style:kn,display:"flex",alignItems:"center",width:"100%"},i.a.createElement(Z.a,{disabled:this.props.disabled.Description,size:"small",multiline:!0,rowsMax:"3",variant:"outlined",fullWidth:!0,label:"Reasons",value:this.state.Description,onChange:function(t){e.setState({Description:t.target.value})}}))))))),i.a.createElement(m.a,{display:" flex",pt:2,pb:2,m:0,justifyContent:"flex-end",width:"87%"},i.a.createElement(m.a,{display:" flex"},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",style:{fontWeight:"bold"},onClick:function(){e.props.cancel()}},"close")),i.a.createElement(m.a,{marginLeft:"10px",display:this.props.disabled.btnDisplay},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",fontWeight:"bold",onClick:this.onEditHandler},"Update"))))}}]),t}(n.Component),jn=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).EditData={},a.state={columns:[{title:"Material Name",field:"Raw_Material_Id"},{title:"Quantity",field:"Quantity"},{title:"Measuring Unit",field:"Measuring_Unit"}],data:[],msg:"Fetching Data...",materialList:[],unitList:[],openAdd:!1,openEdit:!1,fieldDisabled:{Wastage_Type:!1,Product_Name:!1,Raw_Material_Id:!1,Quantity:!1,Id_Type:!1,Id:!1,Measuring_Unit:!1,Wastage_Date:!1,Description:!1,btnDisplay:"none",btnText:"Close"},isLoading:!0,progress:0},a.getMaterialName=function(e){var t=e;return a.state.materialList.map((function(a){return a._id===e&&(t=a.raw_material_name),null})),t},a.getUnit=function(e){var t=e;return a.state.unitList.map((function(a){return a._id===e&&(t=a.measuring_unit_name),null})),t},a.OnEditHandler=function(e,t){X.a.post("/purchase-wastages",{_id:t._id}).then((function(e){a.EditData=Object(F.a)({},e.data[0]),console.log(a.EditData),a.setState({openEdit:!0})}))},a.handleClose=function(){X.a.get("/raw-materials/raw-materials").then((function(e){a.setState({materialList:Object(Q.a)(e.data.RawMaterials),progress:45}),X.a.get("/measuring-units/measuring-units").then((function(e){a.setState({unitList:Object(Q.a)(e.data.MeasuringUnits),progress:90}),X.a.get("/purchase-wastages").then((function(e){var t=[];console.log("Wastage Details:",e.data);for(var n=0;n<e.data.length;n++)e.data[n].Raw_Material_Id=a.getMaterialName(e.data[n].Raw_Material_Id),e.data[n].Measuring_Unit=a.getUnit(e.data[n].Measuring_Unit),t.push(e.data[n]);a.setState({progress:100,data:t,msg:"Data not Found!",isLoading:!1})}))})).catch((function(e){console.log("cannot get unitList",e)}))})).catch((function(e){console.log("cannot get materialList",e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.handleClose()}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",mb:1,fontWeight:"bold"},"Wastage Details"),i.a.createElement(m.a,{width:"90%",display:"flex",flexDirection:"row"},i.a.createElement(R.a,{variant:"contained",color:"primary",style:{marginBottom:"10px",display:"flex",marginRight:"10px"},size:"small",onClick:function(){e.setState({openAdd:!0})}},"Add")),i.a.createElement(H.a,{title:" ",isLoading:this.state.isLoading,columns:this.state.columns,data:this.state.data,style:{width:"90%",maxHeight:"500px",overflow:"auto"},localization:{body:{emptyDataSourceMessage:this.state.msg}},options:{sorting:!0,headerStyle:{backgroundColor:"#3f51b5",color:"#FFF",fontSize:"medium",fontWeight:"bold"}},components:{OverlayLoading:function(t){return i.a.createElement(Y.a,{variant:"determinate",value:e.state.progress})}},editable:{onRowDelete:function(t){return X.a.post("/purchase-stocks/wastage-return",{Raw_Material_Code:t.Raw_Material_Code,Total_Quantity:t.Quantity}).then((function(a){console.log(a),X.a.post("/purchase-wastages/delete",{_id:t._id}).then((function(){e.handleClose()}))}))}},onRowClick:function(t,a){e.setState({fieldDisabled:{Wastage_Type:!0,Product_Name:!0,Raw_Material_Id:!0,Quantity:!0,Id_Type:!0,Id:!0,Measuring_Unit:!0,Wastage_Date:!0,Description:!0,btnDisplay:"none",btnText:"Close"}}),e.OnEditHandler(t,a)}}),i.a.createElement(J.a,{open:this.state.openAdd,maxWidth:"lg",fullWidth:!0},i.a.createElement(G.a,null,i.a.createElement(Rn,{cancel:function(){e.setState({openAdd:!1}),e.handleClose()}}))),i.a.createElement(J.a,{open:this.state.openEdit,maxWidth:"lg",fullWidth:!0},i.a.createElement(G.a,null,i.a.createElement(On,{disabled:this.state.fieldDisabled,wastage:this.EditData,cancel:function(){e.setState({openEdit:!1}),e.handleClose()}}))))}}]),t}(n.Component),zn=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={width:"17vw",dashboardItems:[]},a.permissions=JSON.parse(sessionStorage.getItem("permissions")),a.contents=["Manage Purchase","Manage Purchase Stocks","Manage Purchase Wastages"],a.logout=function(){E.logout()&&a.props.history.push("/")},a.dashboardMin=function(){a.setState({width:".1px"})},a.home=function(){a.props.history.push("/home")},a.dashboardMax=function(){a.setState({width:"17vw"})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.contents.map((function(t){if(e.permissions.find((function(e){return e===t}))){var a=t.toLowerCase().replace(/ /g,"-");e.setState({}),e.setState((function(e){e.dashboardItems.push({Name:t,Path:a})}))}return null}))}},{key:"render",value:function(){return i.a.createElement(m.a,null,i.a.createElement(N,{name:"Purchase",logout:this.logout,home:this.home,dashboardMax:this.dashboardMax,dashboardMin:this.dashboardMin}),i.a.createElement(m.a,{display:"flex"},i.a.createElement(b,{items:this.state.dashboardItems,componentName:"home/purchase",width:this.state.width,dashboardMin:this.dashboardMin}),i.a.createElement(m.a,{display:"flex",flexDirection:"column",alignItems:"center",width:"100%",marginTop:"10px"},i.a.createElement(Sa.b,{exact:!0,path:"/home/purchase/manage-purchase",component:xn}),i.a.createElement(Sa.b,{exact:!0,path:"/home/purchase/manage-purchase-stocks",component:Sn}),i.a.createElement(Sa.b,{exact:!0,path:"/home/purchase/manage-purchase-wastages",component:jn}))))}}]),t}(n.Component),Pn={box_field:{display:"flex",width:"100%",alignItems:"center",justifyContent:"center",marginBottom:"20px"},box:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",height:"80%"},box_msg:{marginBottom:"10px",padding:"10px",width:"90%",textAlign:"center",fontSize:"15px",textTransform:"uppercase "},icons:{fontSize:"40px",marginRight:"10px"},root:{display:"flex",flexDirection:"column",justifyContent:"center",width:"100%"},heading:{display:"flex",justifyContent:"center",width:"100%",paddingTop:"15px",paddingBottom:"25px"},lbox:{display:"flex",flexDirection:"row",justifyContent:"center",width:"100%"},form:{display:"flex",flexDirection:"column",width:"90%",justifyContent:"space-around"},boxSize2:{width:"100%",display:"flex",flexDirection:"row",alignContent:"center",paddingTop:"5px",paddingLeft:"5px",paddingRight:"5px",paddingBottom:"5px",minWidth:"10%",maxWidth:"100%"},lastboxSize2:{display:"flex",flexDirection:"row",alignContent:"center",paddingTop:"5px",paddingLeft:"15px",paddingRight:"15px",paddingBottom:"20px"},addbtns:{display:"flex",alignSelf:"center",paddingLeft:"10px",paddingRight:"10px"},addbtnl:{display:"flex",alignSelf:"flex-end",paddingLeft:"10px",paddingRight:"10px"},submit:{display:"flex",justifyContent:"flex-end",paddingTop:"20px",paddingBottom:"10px",marginRight:"60px",alignSelf:"flex-end"},add:{display:"flex",justifyContent:"flex-start",paddingTop:"20px",paddingBottom:"10px",marginRight:"60px",alignSelf:"flex-start"},paper:{overflow:"auto",width:"100%"},table:{overflow:"auto"}},In={marginRight:"6px",marginLeft:"6px"},Wn=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={_id:"",Raw_Material_Id:"Raw_material_Id",Raw_Material_Code:"",Quantity:"",Measuring_Unit:"",Priority:"",Due_Date:null,Status:"",Comments:"",Total_Price:"",Vendor:"",errors:[],success:!1,measuring_units:[],materials:[],vendorList:[],vendorInfo:!1,logComments:"no comments",To:"",file:"",submitBtnDisable:!1,progress:!0,currency:[]},a.openDialog=function(){a.setState({openDialog:!0})},a.closeDialog=function(){a.setState({openDialog:!1})},a.onEditHandler=function(){""===a.state.Comments&&a.setState({Comments:"no comments"}),a.setState({submitBtnDisable:!0,progress:!0}),X.a.post("/log/comment",{logs:{reqId:e.Finance._id,from:sessionStorage.getItem("Role ID"),to:a.state.To,comments:a.state.Comments}}).then((function(e){console.log("Comments: ",e),X.a.post("/request-details/edit",{_id:a.state._id,Raw_Material_Id:a.state.Raw_Material_Id,Raw_Material_Code:a.state.Raw_Material_Code,Quantity:a.state.Quantity,Measuring_Unit:a.state.Measuring_Unit,Priority:a.state.Priority,Due_Date:a.state.Due_Date,Status:a.state.Status,Comments:a.state.Comments,Vendor:a.state.Vendor,Total_Price:a.state.Total_Price,Quotation_Document_URL:a.props.Finance.Quotation_Document_URL})})).then((function(){a.setState({progress:!1}),a.props.cancel()})).catch((function(e){return console.log(e)}))},a.vendorInfo=function(){var e=[];return a.state.vendorList.map((function(t,n){return t._id===a.state.Vendor?e.push(i.a.createElement(m.a,{key:n},i.a.createElement("h4",{style:{padding:"0px",margin:"0px"}},"Vendor:"),"".concat(t.vendor_name," - ").concat(t.vendor_mobile_no," - ").concat(t.vendor_email)," ",i.a.createElement("br",null),i.a.createElement("h4",{style:{padding:"0px",margin:"0px"}},"Point of contacts:"),t.vendor_point_of_contact.map((function(e,t){return i.a.createElement(m.a,{key:t},e.name+" ( "+e.designation+" ) - "+e.mobile_no)})))):console.log("vendor not match"),null})),e},a.loadFile=function(){var e=[];return a.props.Finance.Quotation_Document_URL.map((function(t,a){return e.push(i.a.createElement(m.a,{display:"flex",key:a},i.a.createElement(Ia.a,{href:"/uploads/".concat(t),target:"_blank",rel:"noreferrer"},t))),null})),e},a.loadStatus=function(){return["ForwardedToFinance","Finance-Accepted","Finance-Rejected","ForwardedToAdmin","ForwardedToPurchase"].map((function(e,t){return i.a.createElement(z.a,{key:t,value:e,disabled:"ForwardedToFinance"===e},e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;X.a.get("/raw-materials/raw-materials").then((function(t){console.log(t),e.setState({materials:Object(Q.a)(t.data.RawMaterials)})})),X.a.get("/vendors/vendors").then((function(t){console.log(t),e.setState({vendorList:Object(Q.a)(t.data.Vendors)})})),X.a.get("/measuring-units/measuring-units").then((function(t){console.log(t),e.setState({measuring_units:Object(Q.a)(t.data.MeasuringUnits),progress:!1})})),X.a.get("/currency").then((function(t){e.setState({currency:t.data.Currency[0].currency_type}),console.log("currency:",e.state.currency)})),this.setState({_id:this.props.Finance._id,Raw_Material_Id:this.props.Finance.Raw_Material_Id,Raw_Material_Code:this.props.Finance.Raw_Material_Code,Quantity:this.props.Finance.Quantity,Measuring_Unit:this.props.Finance.Measuring_Unit,Priority:this.props.Finance.Priority,Due_Date:this.props.Finance.Due_Date,Status:this.props.Finance.Status,Comments:this.state.Comments,Vendor:this.props.Finance.Vendor,Total_Price:this.props.Finance.Total_Price,Quotation_Document_URL:this.props.Finance.Quotation_Document_URL})}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:Pn.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Request Details"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:Pn.box_msg,bgcolor:"#f73067",key:t},e)})):!0===this.state.success?i.a.createElement(m.a,{bgcolor:"#3df45b",style:Pn.box_msg},"Successful"):null,i.a.createElement(m.a,{style:Pn.root},i.a.createElement(m.a,{display:"flex",justifyContent:"center"},i.a.createElement(m.a,{style:Pn.lbox},i.a.createElement(m.a,{style:Pn.form},!0===this.state.progress?i.a.createElement(Y.a,{color:"primary",variant:"indeterminate",style:{marginLeft:"10px",marginBottom:"10px"}}):i.a.createElement(m.a,null),i.a.createElement(m.a,{style:Pn.boxSize2},i.a.createElement(m.a,{width:"50%",style:In},i.a.createElement($.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement(ee.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Material Name"),i.a.createElement(te.a,{disabled:!0,variant:"outlined",required:!0,name:"Raw_Material_Id",value:this.state.Raw_Material_Id,onChange:function(t){var a;e.state.materials.map((function(e){return e._id===t.target.value&&(a=e.raw_material_code,console.log("code: ",a)),null})),e.setState({Raw_Material_Id:t.target.value,Raw_Material_Code:a})}},this.state.materials.map((function(e,t){return i.a.createElement(z.a,{key:t,value:e._id},e.raw_material_name)}))))),i.a.createElement(m.a,{width:"50%",style:In},i.a.createElement(Z.a,{disabled:!0,size:"small",fullWidth:!0,variant:"outlined",label:"Material_Code",required:!0,name:"Material_Code",value:this.state.Raw_Material_Code,onChange:function(t){e.setState({Material_Code:t.target.value}),console.log(t.target.value)}}))),i.a.createElement(m.a,{style:Pn.boxSize2},i.a.createElement(m.a,{width:"50%",style:In},i.a.createElement(Z.a,{disabled:this.props.disabled.quantity,size:"small",fullWidth:!0,variant:"outlined",label:"Quantity",required:!0,name:"Quantity",value:this.state.Quantity,onChange:function(t){e.setState({Quantity:t.target.value})}})),i.a.createElement(m.a,{width:"50%",style:In},i.a.createElement($.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement(ee.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Measuring Unit"),i.a.createElement(te.a,{disabled:this.props.disabled.unit,name:"Measuring_Unit",variant:"outlined",required:!0,value:this.state.Measuring_Unit,onChange:function(t){e.setState({Measuring_Unit:t.target.value}),console.log(t.target.value)}},this.state.measuring_units.map((function(e,t){return i.a.createElement(z.a,{selected:!0,key:t,value:e._id},e.measuring_unit_name)})))))),i.a.createElement(m.a,{style:Pn.boxSize2},i.a.createElement(m.a,{width:"50%",style:In},i.a.createElement($.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement(ee.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Vendor Name"),i.a.createElement(te.a,{disabled:this.props.disabled.vendor,variant:"outlined",required:!0,name:"Vendor",value:this.state.Vendor,onChange:function(t){e.setState({Vendor:t.target.value})}},this.state.vendorList.map((function(e,t){return i.a.createElement(z.a,{key:t,value:e._id},e.vendor_name)}))))),i.a.createElement(m.a,{width:"50%",style:In},i.a.createElement(Z.a,{disabled:this.props.disabled.vendor,size:"small",fullWidth:!0,variant:"outlined",label:"Total_Price",InputProps:{endAdornment:i.a.createElement(Lt.a,{position:"start"},this.state.currency)},required:!0,name:"Total_Price",value:this.state.Total_Price,onChange:function(t){e.setState({Total_Price:t.target.value})}}))),i.a.createElement(m.a,{style:Pn.boxSize2},i.a.createElement(m.a,{width:"50%",style:In},i.a.createElement($.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement(ee.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Priority"),i.a.createElement(te.a,{disabled:!0,variant:"outlined",required:!0,name:"Priority",value:this.state.Priority,onChange:function(t){e.setState({Priority:t.target.value})}},i.a.createElement(z.a,{value:"Priority",disabled:!0},"Priority"),i.a.createElement(z.a,{value:"Low"},"Low"),i.a.createElement(z.a,{value:"Medium"},"Medium"),i.a.createElement(z.a,{value:"High"},"High")))),i.a.createElement(m.a,{width:"50%",style:In},i.a.createElement(pe,{disabled:!0,id:"4",variant:"outlined",Name:"Due_Date",value:this.state.Due_Date,setDate:function(t){e.setState({Due_Date:t}),console.log(t)}}))),i.a.createElement(m.a,{style:Pn.boxSize2},i.a.createElement(m.a,{width:"100%",style:In},i.a.createElement($.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement(ee.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Status"),i.a.createElement(te.a,{disabled:this.props.disabled.status,variant:"outlined",required:!0,name:"Status",value:this.state.Status,onChange:function(t){e.setState({Status:t.target.value}),"ForwardedToAdmin"===t.target.value?(e.setState((function(e){e.To="Admin"})),console.log("if To state setted: ",e.state.To)):"ForwardedToPurchase"!==t.target.value&&"Finance-Accepted"!==t.target.value&&"Finance-Rejected"!==t.target.value||e.setState((function(e){e.To="Purchase"}))}},this.loadStatus()))),i.a.createElement(m.a,{width:"100%",style:In,display:"flex",flexDirection:"column"},i.a.createElement(Z.a,{disabled:this.props.disabled.comment,size:"small",multiline:!0,rowsMax:"3",variant:"outlined",fullWidth:!0,label:"Comment",value:this.state.Comments,onChange:function(t){e.setState({Comments:t.target.value}),console.log(t.target.value)}}))),i.a.createElement(m.a,{style:Pn.boxSize2,ml:2},this.loadFile()))))),i.a.createElement(m.a,{pt:2,pb:2,m:0,display:"flex",justifyContent:"flex-end",width:"87%"},i.a.createElement(m.a,{display:"flex"},i.a.createElement(R.a,{variant:"contained",color:"primary",size:"large",fontWeight:"Bold",onClick:function(){e.props.cancel()},style:{fontWeight:"bold"}},this.props.disabled.btnText)),i.a.createElement(m.a,{marginLeft:"10px",display:""!==this.props.Finance.Vendor?"flex":"none"},i.a.createElement(R.a,{variant:"contained",color:"primary",size:"large",fontWeight:"bold",onClick:function(){e.setState({vendorInfo:!0}),e.openDialog()},style:{fontWeight:"bold"}},"Vendor Info")),i.a.createElement(m.a,{marginLeft:"10px",display:this.props.disabled.btnDisplay},i.a.createElement(R.a,{disabled:this.state.submitBtnDisable,variant:"contained",color:"primary",size:"large",fontWeight:"bold",onClick:this.onEditHandler,style:{fontWeight:"bold"}},"Submit"))),i.a.createElement(J.a,{open:this.state.openDialog,onBackdropClick:function(){return!0===e.state.vendorInfo?e.closeDialog():i.a.createElement(m.a,null)},maxWidth:"sm",fullWidth:!0},i.a.createElement(G.a,null,i.a.createElement(m.a,{display:"flex",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"25px",mb:3,textAlign:"center",fontWeight:"bold"},"Vendor Information"),this.vendorInfo(),i.a.createElement(m.a,{display:"flex",justifyContent:"flex-end"},i.a.createElement(R.a,{variant:"contained",color:"primary",size:"small",fontWeight:"bold",onClick:function(){e.closeDialog()}},"Close"))))))}}]),t}(n.Component),qn=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).EditData={},a.state={columns:[{title:"Material Name",field:"Raw_Material_Id"},{title:"Quantity",field:"Quantity"},{title:"Measuring Unit",field:"Measuring_Unit"},{title:"Status",field:"Status"},{title:"Comments",field:"Comments"}],data:[],msg:"Fetching Data...",openAdd:!1,openEdit:!1,alert:!1,materialList:[],unitList:[],vendorList:[],fieldDisabled:{quantity:!1,unit:!1,vendor:!1,amount:!1,status:!1,comment:!1,btnDisplay:"none",btnText:"Close",from:"",to:"",uploadFile:"flex"},logComments:"no commments",progress:0,isLoading:!0},a.closeAlert=function(){a.setState({alert:!1})},a.loadDetails=function(){X.a.get("/request-details").then((function(e){var t=[];console.log("Details: ",e.data);for(var n=0;n<e.data.length;n++)e.data[n].Raw_Material_Id=a.getMaterialName(e.data[n].Raw_Material_Id),e.data[n].Measuring_Unit=a.getUnit(e.data[n].Measuring_Unit),e.data[n].Vendor=a.getVendor(e.data[n].Vendor),t.push(e.data[n]);a.setState({data:t,msg:"Data Not Found!"})}))},a.OnEditHandler=function(e,t){X.a.post("/request-details",{_id:t._id}).then((function(e){a.EditData=Object(F.a)({},e.data[0]),a.setState({openEdit:!0})}))},a.getMaterialName=function(e){var t=e;return a.state.materialList.map((function(a){return a._id===e&&(t=a.raw_material_name),null})),t},a.getUnit=function(e){var t=e;return a.state.unitList.map((function(a){return a._id===e&&(t=a.measuring_unit_name),null})),t},a.getVendor=function(e){var t=e;return""!==e?a.state.vendorList.map((function(a){return a._id===e&&(t=a.vendor_name),null})):t="undefined",t},a.handleClose=function(){X.a.get("/raw-materials/raw-materials").then((function(e){a.setState({materialList:Object(Q.a)(e.data.RawMaterials),progress:30}),X.a.get("/measuring-units/measuring-units").then((function(e){a.setState({unitList:Object(Q.a)(e.data.MeasuringUnits),progress:60}),X.a.get("/vendors/vendors").then((function(e){a.setState({vendorList:Object(Q.a)(e.data.Vendors),progress:90}),X.a.get("/request-details").then((function(e){var t=[];console.log("Details: ",e.data);for(var n=0;n<e.data.length;n++)"ForwardedToFinance"===e.data[n].Status&&(e.data[n].Raw_Material_Id=a.getMaterialName(e.data[n].Raw_Material_Id),e.data[n].Measuring_Unit=a.getUnit(e.data[n].Measuring_Unit),e.data[n].Vendor=a.getVendor(e.data[n].Vendor),t.push(e.data[n]));a.setState({data:t,msg:"Data Not Found!",progress:100,isLoading:!1})}))})).catch((function(e){console.log("cannot get vendorList",e)}))})).catch((function(e){console.log("cannot get unitList",e)}))})).catch((function(e){console.log("cannot get materialList",e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.handleClose()}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",mb:2,fontWeight:"bold"},"Request Details"),i.a.createElement(m.a,{width:"90%",display:"flex",flexDirection:"row"},i.a.createElement(R.a,{variant:"contained",color:"primary",style:{marginBottom:"10px",display:"flex",marginRight:"10px"},size:"small",onClick:this.loadDetails},"Purchase Details"),i.a.createElement(R.a,{variant:"contained",color:"primary",size:"small",style:{marginBottom:"10px",display:"flex"},onClick:this.handleClose},"Request Details")),i.a.createElement(H.a,{title:" ",isLoading:this.state.isLoading,columns:this.state.columns,data:this.state.data,style:{width:"90%",maxHeight:"500px",overflow:"auto"},localization:{body:{emptyDataSourceMessage:this.state.msg}},components:{OverlayLoading:function(t){return i.a.createElement(Y.a,{variant:"determinate",value:e.state.progress})}},options:{sorting:!0,headerStyle:{backgroundColor:"#3f51b5",color:"#FFF",fontSize:"medium",fontWeight:"bold"}},actions:[{icon:"edit",tooltip:"Edit User",onClick:function(t,a){"ForwardedToFinance"===a.Status?(e.setState({logComments:a.Comments,from:a.From,to:a.To,uploadFile:"flex",fieldDisabled:{quantity:!1,unit:!1,vendor:!0,amount:!0,status:!1,comment:!1,btnDisplay:"flex",btnText:"Cancel"}}),e.OnEditHandler(t,a)):e.setState({alert:!0})}}],onRowClick:function(t,a){e.setState({logComments:a.Comments,from:a.From,to:a.To,uploadFile:"none",fieldDisabled:{quantity:!0,unit:!0,vendor:!0,amount:!0,status:!0,comment:!0,btnDisplay:"none",btnText:"Close"}}),e.OnEditHandler(t,a)}}),i.a.createElement(J.a,{open:this.state.openEdit,maxWidth:"lg",fullWidth:!0},i.a.createElement(G.a,{style:{padding:"20px"}},i.a.createElement(Wn,{disabled:this.state.fieldDisabled,dept:"Finance",uploadFile:"none",From:this.state.from,To:this.state.to,logComments:this.state.logComments,Finance:this.EditData,cancel:function(){e.setState({openEdit:!1}),e.handleClose()}}))),i.a.createElement(we.a,{open:this.state.alert,autoHideDuration:3e3,anchorOrigin:{vertical:"bottom",horizontal:"center"},onClose:this.closeAlert},i.a.createElement(De.a,{severity:"error",variant:"filled",onClose:this.closeAlert},"You cannot modify / reject this record")))}}]),t}(n.Component),Un=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={width:"17vw",dashboardItems:[]},a.permissions=JSON.parse(sessionStorage.getItem("permissions")),a.contents=["Manage Finance"],a.logout=function(){E.logout()&&a.props.history.push("/")},a.dashboardMin=function(){a.setState({width:".1px"})},a.home=function(){a.props.history.push("/home")},a.dashboardMax=function(){a.setState({width:"17vw"})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.contents.map((function(t){if(e.permissions.find((function(e){return e===t}))){var a=t.toLowerCase().replace(/ /g,"-");e.setState({}),e.setState((function(e){e.dashboardItems.push({Name:t,Path:a})}))}return null}))}},{key:"render",value:function(){return i.a.createElement(m.a,null,i.a.createElement(N,{name:"Finance",logout:this.logout,home:this.home,dashboardMax:this.dashboardMax,dashboardMin:this.dashboardMin}),i.a.createElement(m.a,{display:"flex"},i.a.createElement(b,{items:this.state.dashboardItems,componentName:"home/finance",width:this.state.width,dashboardMin:this.dashboardMin}),i.a.createElement(m.a,{display:"flex",flexDirection:"column",alignItems:"center",width:"100%",marginTop:"10px"},i.a.createElement(Sa.b,{exact:!0,path:"/home/finance/manage-finance",component:qn}))))}}]),t}(n.Component),Tn={box_field:{display:"flex",width:"100%",alignItems:"center",justifyContent:"center",marginBottom:"20px"},box:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",height:"80%"},box_msg:{marginBottom:"10px",padding:"10px",width:"90%",textAlign:"center",fontSize:"15px",textTransform:"uppercase "},icons:{fontSize:"40px",marginRight:"10px"},root:{display:"flex",flexDirection:"column",justifyContent:"center",width:"100%"},heading:{display:"flex",justifyContent:"center",width:"100%",paddingTop:"15px",paddingBottom:"25px"},lbox:{display:"flex",flexDirection:"row",justifyContent:"center",width:"100%"},form:{display:"flex",flexDirection:"column",width:"90%",justifyContent:"space-around"},boxSize2:{display:"flex",flexDirection:"row",alignContent:"center",paddingTop:"5px",paddingLeft:"5px",paddingRight:"5px",paddingBottom:"5px",minWidth:"10%",maxWidth:"100%"},lastboxSize2:{display:"flex",flexDirection:"row",alignContent:"center",paddingTop:"5px",paddingLeft:"15px",paddingRight:"15px",paddingBottom:"20px"},addbtns:{display:"flex",alignSelf:"center",paddingLeft:"10px",paddingRight:"10px"},addbtnl:{display:"flex",alignSelf:"flex-end",paddingLeft:"10px",paddingRight:"10px"},submit:{display:"flex",justifyContent:"flex-end",paddingTop:"20px",paddingBottom:"10px",marginRight:"60px",alignSelf:"flex-end"},add:{display:"flex",justifyContent:"flex-start",paddingTop:"20px",paddingBottom:"10px",marginRight:"60px",alignSelf:"flex-start"},paper:{overflow:"auto",width:"100%"},table:{overflow:"auto"}},Ln=Tn,An={marginRight:"6px",marginLeft:"6px"},Nn=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={Product_Name:"",Product_ID:"",Quantity:"",Measuring_Unit:"",Raw_Material_Details:[{material_name:"",material_code:"",measuring_unit:"",quantity:"",available_stock:""}],rmd_material_name:"",rmd_material_code:"",rmd_measuring_unit:"",rmd_quantity:" ",rmd_available_stock:"",errors:[],openAdd:!1,success:!1,measuring_units:[],products:[],materials:[],rmstocks:[],code:"",display:!0,disable:!0,subdisplay:!1,progress:!1,ProductRecord:[]},a.onAddHandler=function(){""!==a.state.Quantity&&""!==a.state.Raw_Material_Details.material_name&&""!==a.state.Raw_Material_Details.quantity?(a.setState({subdisplay:!0,progress:!0}),X.a.post("/pre-production/add",{Product_ID:a.state.Product_ID,Product_Name:a.state.Product_Name,Quantity:a.state.Quantity,Measuring_Unit:a.state.Measuring_Unit,Raw_Material_Details:a.state.Raw_Material_Details}).then((function(e){console.log(e),a.setState({progress:!1}),a.props.cancel()}))):alert("Please check all the fields are entered properly")},a.getUnit=function(e){var t=e;return a.state.measuring_units.map((function(a){return a._id===e&&(t=a.measuring_unit_name),null})),t},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;X.a.get("/production-raw-material-stock").then((function(t){console.log(t),e.setState({rmstocks:Object(Q.a)(t.data)}),console.log(e.state.rmstocks)})),X.a.get("/measuring-units/measuring-units").then((function(t){console.log(t),e.setState({measuring_units:Object(Q.a)(t.data.MeasuringUnits)})})),X.a.get("/products/products").then((function(t){console.log(t),e.setState({products:Object(Q.a)(t.data.Products)})})),X.a.get("/raw-materials/raw-materials").then((function(t){console.log(t),e.setState({materials:Object(Q.a)(t.data.RawMaterials)})}))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:Ln.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"PreProduction Details"),i.a.createElement(m.a,{style:Ln.root},i.a.createElement(m.a,{display:"flex",justifyContent:"center"},i.a.createElement(m.a,{style:Ln.lbox},i.a.createElement(m.a,{style:Ln.form},!0===this.state.progress?i.a.createElement(Y.a,{color:"primary",variant:"indeterminate",style:{marginLeft:"10px",marginBottom:"10px"}}):i.a.createElement(m.a,null),i.a.createElement(m.a,{style:Ln.boxSize2},i.a.createElement(m.a,{width:"50%",style:An},i.a.createElement($.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement(re.a,{options:this.state.products,autoHighlight:!0,value:this.state.ProductRecord,getOptionLabel:function(e){return e.product_name},renderInput:function(e){return i.a.createElement(Z.a,Object.assign({},e,{label:"Product Name",variant:"outlined",size:"small"}))},onChange:function(t,a){null!==a&&e.setState({ProductRecord:a,Product_Name:a._id,Product_ID:a.product_code,Measuring_Unit:a.product_measuring_unit}),console.log("Product:",a)}}))),i.a.createElement(m.a,{width:"50%",style:An},i.a.createElement(Z.a,{disabled:!0,size:"small",fullWidth:!0,variant:"outlined",label:"Product_ID",required:!0,name:"Product_ID",value:this.state.Product_ID,onChange:function(t){e.setState({Product_ID:t.target.value}),console.log(t.target.value)}}))),i.a.createElement(m.a,{style:Ln.boxSize2},i.a.createElement(m.a,{width:"50%",style:An},i.a.createElement(Z.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Quantity",required:!0,name:"Quantity",value:this.state.Quantity,onChange:function(t){e.setState({Quantity:t.target.value,disable:!1}),isNaN(t.target.value)&&alert("Check Quantity")}})),i.a.createElement(m.a,{width:"50%",style:An},i.a.createElement($.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement(ee.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Measuring Unit"),i.a.createElement(te.a,{disabled:!0,name:"Measuring_Unit",variant:"outlined",required:!0,value:this.state.Measuring_Unit,onChange:function(t){e.setState({Measuring_Unit:t.target.value}),console.log(t.target.value)}},this.state.measuring_units.map((function(e,t){return i.a.createElement(z.a,{selected:!0,key:t,value:e._id},e.measuring_unit_name)})))))),i.a.createElement(m.a,{style:Ln.boxSize2},i.a.createElement(m.a,{style:An,width:"100%"},i.a.createElement("h3",null,"Raw Material Required:"))),i.a.createElement(m.a,{flexWrap:"wrap",maxHeight:"200px",overflow:"auto",style:Ln.boxSize2},this.state.Raw_Material_Details.map((function(t,a){return i.a.createElement(m.a,{style:Ln.boxSize2,key:a},i.a.createElement(m.a,{style:Ln.box,marginRight:"10px"},i.a.createElement($.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement(ee.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Material Name"),i.a.createElement(te.a,{variant:"outlined",required:!0,name:"material_name",disabled:e.state.disable,value:e.state.Raw_Material_Details[a].material_name,onChange:function(t){var n,i,o;console.log(e.state.rmstocks),t.persist(),e.state.rmstocks.map((function(e){return e.Raw_Material_Id===t.target.value&&(n=e.Raw_Material_Code,i=e.Measuring_Unit,o=e.Quantity),null})),e.setState({rmd_material_name:t.target.value,rmd_material_code:n,rmd_measuring_unit:e.getUnit(i),rmd_available_stock:o,display:!0}),e.setState((function(e){console.log("Hello"),e.Raw_Material_Details[a].material_name=e.rmd_material_name,e.Raw_Material_Details[a].material_code=e.rmd_material_code,e.Raw_Material_Details[a].measuring_unit=e.rmd_measuring_unit,e.Raw_Material_Details[a].available_stock=e.rmd_available_stock,console.log(e.Raw_Material_Details[a])}))}},e.state.rmstocks.map((function(t,a){return i.a.createElement(z.a,{key:a,value:t.Raw_Material_Id},e.state.materials.map((function(e,a){return t.Raw_Material_Id===e._id?e.raw_material_name:null})))}))))),i.a.createElement(m.a,{style:Ln.box,marginRight:"10px"},i.a.createElement(Z.a,{size:"small",fullWidth:!0,disabled:!0,required:!0,name:"rmd_material_code",value:e.state.Raw_Material_Details[a].material_code,variant:"outlined",label:"Material Code",type:"text",onChange:function(t){e.setState({rmd_material_code:t.target.value}),e.setState((function(e){e.Raw_Material_Details[a].material_code=e.rmd_material_code,console.log(e.Raw_Material_Details[a])}))}})),i.a.createElement(m.a,{style:Ln.box,marginRight:"10px"},i.a.createElement(Z.a,{size:"small",fullWidth:!0,required:!0,disabled:!0,value:e.state.Raw_Material_Details[a].available_stock,variant:"outlined",label:"Available Stock",type:"text",onChange:function(t){e.setState({rmd_available_stock:t.target.value}),e.setState((function(e){e.Raw_Material_Details[a].available_stock=e.rmd_available_stock,console.log(e.Raw_Material_Details[a])}))}})),i.a.createElement(m.a,{style:Ln.box,marginRight:"10px"},i.a.createElement(Z.a,{size:"small",fullWidth:!0,required:!0,disabled:e.state.disable,value:e.state.Raw_Material_Details[a].quantity,variant:"outlined",label:"Quantity",type:"text",onChange:function(t){e.state.Raw_Material_Details[a].available_stock<t.target.value?alert("Please Check Raw Material Quantity"):e.setState({rmd_quantity:t.target.value,display:!1}),e.setState((function(e){e.Raw_Material_Details[a].quantity=e.rmd_quantity,console.log(e.Raw_Material_Details[a])}))}})),i.a.createElement(m.a,{style:Ln.box,marginRight:"10px"},i.a.createElement(Z.a,{size:"small",fullWidth:!0,required:!0,disabled:!0,value:e.state.Raw_Material_Details[a].measuring_unit,variant:"outlined",label:"Measuring Unit",type:"text",onChange:function(t){e.setState({rmd_measuring_unit:t.target.value}),e.setState((function(e){e.Raw_Material_Details[a].measuring_unit=e.rmd_measuring_unit,console.log(e.Raw_Material_Details[a])}))}})),e.state.Raw_Material_Details.length===a+1?i.a.createElement(Zt.a,{color:"secondary",style:{fontSize:"30px",margin:"4px",padding:"0px"},onClick:function(){e.setState({}),e.setState((function(e){e.Raw_Material_Details.push({material_name:"",material_code:"",measuring_unit:"",quantity:"",available_stock:""}),console.log(e.Raw_Material_Details)}))}}):i.a.createElement(ea.a,{color:"secondary",style:{fontSize:"30px",margin:"4px",padding:"0px"},onClick:function(){e.setState({}),e.setState((function(e){e.Raw_Material_Details.splice(a,1),console.log(e.Raw_Material_Details)}))}}))})).reverse()))))),i.a.createElement(m.a,{display:" flex",pt:2,pb:2,m:0,justifyContent:"flex-end",width:"87%"},i.a.createElement(m.a,{display:" flex"},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",fontWeight:"Bold",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{marginLeft:"10px"},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",fontSize:"20px",onClick:function(){e.onAddHandler()},disabled:this.state.subdisplay},"Submit"))))}}]),t}(n.Component),Bn=Tn,Qn={marginRight:"6px",marginLeft:"6px"},Fn=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={Product_Name:"",Product_ID:"",Quantity:"",Measuring_Unit:"",Raw_Material_Details:[{material_name:"",material_code:"",measuring_unit:"",quantity:"",available_stock:""}],rmd_material_name:"",rmd_material_code:"",rmd_measuring_unit:"",rmd_quantity:" ",rmd_available_stock:"",errors:[],openAdd:!1,success:!1,rmstocks:[],measuring_units:[],products:[],materials:[],subdisplay:!1,code:"",progress:!0,ProductRecord:[]},a.onEditHandler=function(){""!==a.state.Quantity&&""!==a.state.Raw_Material_Details.material_name&&""!==a.state.Raw_Material_Details.quantity?(a.setState({subdisplay:!0,progress:!0}),X.a.post("/pre-production/edit",{_id:a.state._id,Product_ID:a.state.Product_ID,Product_Name:a.state.Product_Name,Quantity:a.state.Quantity,Measuring_Unit:a.state.Measuring_Unit,Raw_Material_Details:a.state.Raw_Material_Details}).then((function(e){console.log(e.data),a.setState({progress:!0}),a.props.cancel()})).catch((function(e){return console.log(e)}))):alert("Please check all the fields are entered properly")},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;X.a.get("/production-raw-material-stock").then((function(t){console.log(t),e.setState({rmstocks:Object(Q.a)(t.data)}),console.log(e.state.rmstocks)})),X.a.get("/measuring-units/measuring-units").then((function(t){console.log(t),e.setState({measuring_units:Object(Q.a)(t.data.MeasuringUnits)})})),X.a.get("/products/products").then((function(t){console.log(t),e.setState({products:Object(Q.a)(t.data.Products)})})),X.a.get("/raw-materials/raw-materials").then((function(t){console.log(t),e.setState({materials:Object(Q.a)(t.data.RawMaterials),progress:!1})})),this.setState({ProductRecord:this.props.ProductRecord(),_id:this.props.PreProduction._id,Product_ID:this.props.PreProduction.Product_ID,Product_Name:this.props.PreProduction.Product_Name,Quantity:this.props.PreProduction.Quantity,Measuring_Unit:this.props.PreProduction.Measuring_Unit,Raw_Material_Details:this.props.PreProduction.Raw_Material_Details}),console.log("Productrecord",this.props.ProductRecord)}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:Bn.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Edit Production"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:Bn.box_msg,bgcolor:"#f73067",key:t},e)})):!0===this.state.success?i.a.createElement(m.a,{bgcolor:"#3df45b",style:Bn.box_msg},"Successful"):null,i.a.createElement(m.a,{style:Bn.root},i.a.createElement(m.a,{display:"flex",justifyContent:"center"},i.a.createElement(m.a,{style:Bn.lbox},i.a.createElement(m.a,{style:Bn.form},!0===this.state.progress?i.a.createElement(Y.a,{color:"primary",variant:"indeterminate",style:{marginLeft:"10px",marginBottom:"10px"}}):i.a.createElement(m.a,null),i.a.createElement(m.a,{style:Bn.boxSize2},i.a.createElement(m.a,{width:"50%",style:Qn},i.a.createElement($.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement(re.a,{options:this.state.products,autoHighlight:!0,value:this.state.ProductRecord,getOptionLabel:function(e){return e.product_name},renderInput:function(e){return i.a.createElement(Z.a,Object.assign({},e,{label:"Product Name",variant:"outlined",size:"small"}))},onChange:function(t,a){null!==a&&e.setState({ProductRecord:a,Product_Name:a._id,Product_ID:a.product_code,Measuring_Unit:a.product_measuring_unit}),console.log("Product:",a)}}))),i.a.createElement(m.a,{width:"50%",style:Qn},i.a.createElement(Z.a,{disabled:!0,size:"small",fullWidth:!0,variant:"outlined",label:"Product_ID",required:!0,name:"Product_ID",value:this.state.Product_ID,onChange:function(t){e.setState({Product_ID:t.target.value}),console.log(t.target.value)}}))),i.a.createElement(m.a,{style:Bn.boxSize2},i.a.createElement(m.a,{width:"50%",style:Qn},i.a.createElement(Z.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Quantity",required:!0,name:"Quantity",value:this.state.Quantity,onChange:function(t){e.setState({Quantity:t.target.value,disable:!1}),isNaN(t.target.value)&&alert("Check Quantity")}})),i.a.createElement(m.a,{width:"50%",style:Qn},i.a.createElement($.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement(ee.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Measuring Unit"),i.a.createElement(te.a,{disabled:!0,name:"Measuring_Unit",variant:"outlined",required:!0,value:this.state.Measuring_Unit,onChange:function(t){e.setState({Measuring_Unit:t.target.value}),console.log(t.target.value)}},this.state.measuring_units.map((function(e,t){return i.a.createElement(z.a,{selected:!0,key:t,value:e._id},e.measuring_unit_name)})))))),i.a.createElement(m.a,{style:Bn.boxSize2},i.a.createElement(m.a,{style:Qn,width:"100%"},i.a.createElement("h3",null,"Raw Material Required:"))),i.a.createElement(m.a,{flexWrap:"wrap",maxHeight:"200px",overflow:"auto",style:Bn.boxSize2},this.state.Raw_Material_Details.map((function(t,a){return i.a.createElement(m.a,{style:Bn.boxSize2,key:a},i.a.createElement(m.a,{style:Bn.box,marginRight:"10px"},i.a.createElement($.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement(ee.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Material Name"),i.a.createElement(te.a,{variant:"outlined",required:!0,name:"material_name",disabled:e.state.disable,value:e.state.Raw_Material_Details[a].material_name,onChange:function(t){var n,i,o;console.log(e.state.rmstocks),t.persist(),e.state.rmstocks.map((function(e){return e.Raw_Material_Id===t.target.value&&(n=e.Raw_Material_Code,i=e.Measuring_Unit,o=e.Quantity),null})),e.setState({rmd_material_name:t.target.value,rmd_material_code:n,rmd_measuring_unit:e.getUnit(i),rmd_available_stock:o,display:!0}),e.setState((function(e){console.log("Hello"),e.Raw_Material_Details[a].material_name=e.rmd_material_name,e.Raw_Material_Details[a].material_code=e.rmd_material_code,e.Raw_Material_Details[a].measuring_unit=e.rmd_measuring_unit,e.Raw_Material_Details[a].available_stock=e.rmd_available_stock,console.log(e.Raw_Material_Details[a])}))}},e.state.rmstocks.map((function(t,a){return i.a.createElement(z.a,{key:a,value:t.Raw_Material_Id},e.state.materials.map((function(e,a){return t.Raw_Material_Id===e._id?e.raw_material_name:null})))}))))),i.a.createElement(m.a,{style:Bn.box,marginRight:"10px"},i.a.createElement(Z.a,{size:"small",fullWidth:!0,disabled:!0,required:!0,name:"rmd_material_code",value:e.state.Raw_Material_Details[a].material_code,variant:"outlined",label:"Material Code",type:"text",onChange:function(t){e.setState({rmd_material_code:t.target.value}),e.setState((function(e){e.Raw_Material_Details[a].material_code=e.rmd_material_code,console.log(e.Raw_Material_Details[a])}))}})),i.a.createElement(m.a,{style:Bn.box,marginRight:"10px"},i.a.createElement(Z.a,{size:"small",fullWidth:!0,required:!0,disabled:!0,value:e.state.Raw_Material_Details[a].available_stock,variant:"outlined",label:"Available Stock",type:"text",onChange:function(t){e.setState({rmd_available_stock:t.target.value}),e.setState((function(e){e.Raw_Material_Details[a].available_stock=e.rmd_available_stock,console.log(e.Raw_Material_Details[a])}))}})),i.a.createElement(m.a,{style:Bn.box,marginRight:"10px"},i.a.createElement(Z.a,{size:"small",fullWidth:!0,required:!0,disabled:e.state.disable,value:e.state.Raw_Material_Details[a].quantity,variant:"outlined",label:"Quantity",type:"text",onChange:function(t){e.state.Raw_Material_Details[a].available_stock<t.target.value?alert("Please Check Raw Material Quantity"):e.setState({rmd_quantity:t.target.value,display:!1}),e.setState((function(e){e.Raw_Material_Details[a].quantity=e.rmd_quantity,console.log(e.Raw_Material_Details[a])}))}})),i.a.createElement(m.a,{style:Bn.box,marginRight:"10px"},i.a.createElement(Z.a,{size:"small",fullWidth:!0,required:!0,disabled:!0,value:e.state.Raw_Material_Details[a].measuring_unit,variant:"outlined",label:"Measuring Unit",type:"text",onChange:function(t){e.setState({rmd_measuring_unit:t.target.value}),e.setState((function(e){e.Raw_Material_Details[a].measuring_unit=e.rmd_measuring_unit,console.log(e.Raw_Material_Details[a])}))}})),e.state.Raw_Material_Details.length===a+1?i.a.createElement(Zt.a,{color:"secondary",style:{fontSize:"30px",margin:"4px",padding:"0px"},onClick:function(){e.setState({}),e.setState((function(e){e.Raw_Material_Details.push({material_name:"",material_code:"",measuring_unit:"",quantity:"",available_stock:""}),console.log(e.Raw_Material_Details)}))}}):i.a.createElement(ea.a,{color:"secondary",style:{fontSize:"30px",margin:"4px",padding:"0px"},onClick:function(){e.setState({}),e.setState((function(e){e.Raw_Material_Details.splice(a,1),console.log(e.Raw_Material_Details)}))}}))})).reverse()))))),i.a.createElement(m.a,{display:" flex",pt:2,pb:2,m:0,justifyContent:"flex-end",width:"87%"},i.a.createElement(m.a,{display:" flex"},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",fontWeight:"Bold",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{marginLeft:"10px",display:this.props.disabled.btnDisplay},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",fontWeight:"bold",onClick:this.onEditHandler,disabled:this.state.subdisplay},"Update"))))}}]),t}(n.Component),Vn=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).EditData={},a.state={columns:[{title:"Product Name",field:"Product_Name"},{title:"Product Code",field:"Product_ID"},{title:"Quantity",field:"Quantity"},{title:"Measuring Unit",field:"Measuring_Unit"}],products:[],data:[],openAdd:!1,openEdit:!1,msg:"Fetching Data...",isLoading:!0,progress:0,fieldDisabled:{Product_Name:!1,Product_ID:!1,Batch_Id:!1,Quantity:!1,Measuring_Unit:!1,Raw_Material_Details:!1,DeleteOutlineIcon:!1,btnDisplay:"none",btnText:"Close"}},a.OnEditHandler=function(e,t){X.a.post("/pre-production",{_id:t._id}).then((function(e){console.log(e.data[0]),a.EditData=Object(F.a)({},e.data[0]),console.log(a.EditData),a.setState({openEdit:!0,progress:40})}))},a.handleClose=function(){X.a.get("/products/products").then((function(e){console.log(e),a.setState({products:Object(Q.a)(e.data.Products)})})),X.a.get("/pre-production").then((function(e){console.log(e.data);for(var t=function(t){e.data[t].id=t+1,X.a.post("/measuring-units/measuring-unit",{_id:e.data[t].Measuring_Unit}).then((function(n){console.log(n),n.data.MeasuringUnit[0]?(console.log(n.data.MeasuringUnit[0].measuring_unit_name),e.data[t].Measuring_Unit=n.data.MeasuringUnit[0].measuring_unit_name,a.setState({data:Object(Q.a)(e.data),progress:80})):(e.data[t].Measuring_Unit="problem loading Measuring Unit",a.setState({data:Object(Q.a)(e.data),progress:80}))})),X.a.post("/products/product",{_id:e.data[t].Product_Name}).then((function(n){console.log(n.data.Product[0].product_name),n.data.Product?(console.log(n.data.Product[0].product_name),e.data[t].Product_Name=n.data.Product[0].product_name,a.setState({data:Object(Q.a)(e.data),progress:100,isLoading:!1})):(e.data[t].Product_Name="problem loading",a.setState({data:Object(Q.a)(e.data),progress:100,isLoading:!1}))}))},n=0;n<e.data.length;n++)t(n);0>=e.data.length&&a.setState({progress:100,msg:"Data Not Found!",isLoading:!1})}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.handleClose()}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Manage PreProduction"),i.a.createElement(m.a,{width:"90%",display:"flex",flexDirection:"row"},i.a.createElement(R.a,{variant:"contained",color:"primary",style:{marginBottom:"20px",display:"flex",marginRight:"10px"},size:"large",onClick:function(){e.setState({openAdd:!0})}},"Add")),i.a.createElement(H.a,{title:" ",isLoading:this.state.isLoading,columns:this.state.columns,data:this.state.data,style:{width:"90%",maxHeight:"500px",overflow:"auto"},localization:{body:{emptyDataSourceMessage:this.state.msg}},components:{OverlayLoading:function(t){return i.a.createElement(Y.a,{variant:"determinate",value:e.state.progress})}},options:{sorting:!0,headerStyle:{backgroundColor:"#3f51b5",color:"#FFF",fontSize:"medium",fontWeight:"bold"}},actions:[{icon:"edit",tooltip:"Edit",onClick:function(t,a){e.setState({fieldDisabled:{Product_Name:!1,Product_ID:!1,Batch_Id:!1,Quantity:!1,Measuring_Unit:!1,Expiry_Duration_Days:!1,Manufacture_Date:!1,DeleteOutlineIcon:!1,btnDisplay:"flex",btnText:"Cancel"}}),e.OnEditHandler(t,a)}}],editable:{onRowDelete:function(t){return X.a.post("/pre-production/delete",{_id:t._id}).then((function(a){console.log(a),a&&e.setState((function(e){var a=Object(Q.a)(e.data);return a.splice(a.indexOf(t),1),Object(F.a)({},e,{data:a})}))}))}},onRowClick:function(t,a){e.setState({fieldDisabled:{Product_Name:!0,Product_ID:!0,Batch_Id:!0,Quantity:!0,Raw_Material_Details:!0,DeleteOutlineIcon:!0,btnDisplay:"none",btnText:"Close"}}),e.OnEditHandler(t,a)}}),i.a.createElement(J.a,{open:this.state.openAdd,maxWidth:"lg",fullWidth:!0},i.a.createElement(G.a,null,i.a.createElement(Nn,{cancel:function(){e.setState({openAdd:!1}),e.handleClose()}}))),i.a.createElement(J.a,{open:this.state.openEdit,maxWidth:"lg",fullWidth:!0},i.a.createElement(G.a,null,i.a.createElement(Fn,{disabled:this.state.fieldDisabled,PreProduction:this.EditData,ProductRecord:function(){var t=[];return e.state.products.map((function(a){return a._id===e.EditData.Product_Name&&(t=a),null})),t},cancel:function(){e.setState({openEdit:!1}),e.handleClose()}}))))}}]),t}(n.Component),Hn=Tn,Yn={marginRight:"6px",marginLeft:"6px"},Gn=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={_id:"",Product_Name:"",Product_ID:"",Batch_Id:"",Quantity:"",Measuring_Unit:"",Expiry_Duration_Days:"",Manufacture_Date:null,Status:"Ready for QC",ProductRecord:[],errors:[],openAdd:!1,success:!1,measuring_units:[],products:[],code:"",batchid:[],disable:!0,subdisplay:!1,progress:!1},a.onAddHandler=function(){console.log("Ready to add"),""!==a.state.Quantity&&""!==a.state.Batch_Id&&""!==a.state.Manufacture_Date&&""!==a.state.Expiry_Duration_Days?(a.setState({subdisplay:!0,progress:!0}),X.a.post("/production/add",{Product_ID:a.state.Product_ID,Product_Name:a.state.Product_Name,Batch_Id:a.state.Batch_Id,Quantity:a.state.Quantity,Measuring_Unit:a.state.Measuring_Unit,Expiry_Duration_Days:a.state.Expiry_Duration_Days,Manufacture_Date:a.state.Manufacture_Date,Status:a.state.Status}).then((function(e){console.log(e),a.setState({progress:!1}),a.props.cancel()}))):alert("Please check all the fields are entered properly")},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;X.a.get("/measuring-units/measuring-units").then((function(t){console.log(t),e.setState({measuring_units:Object(Q.a)(t.data.MeasuringUnits)})})),X.a.get("/products/products").then((function(t){console.log(t),e.setState({products:Object(Q.a)(t.data.Products)})})),X.a.get("/production").then((function(t){console.log("batchid",t.data),e.setState({batchid:t.data})}))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:Hn.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Add Production"),i.a.createElement(m.a,{style:Hn.root},i.a.createElement(m.a,{display:"flex",justifyContent:"center"},i.a.createElement(m.a,{style:Hn.lbox},i.a.createElement(m.a,{style:Hn.form},!0===this.state.progress?i.a.createElement(Y.a,{color:"primary",variant:"indeterminate",style:{marginLeft:"10px",marginBottom:"10px"}}):i.a.createElement(m.a,null),i.a.createElement(m.a,{style:Hn.boxSize2},i.a.createElement(m.a,{width:"50%",style:Yn},i.a.createElement($.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement(re.a,{options:this.state.products,autoHighlight:!0,value:this.state.ProductRecord,getOptionLabel:function(e){return e.product_name},renderInput:function(e){return i.a.createElement(Z.a,Object.assign({},e,{label:"Product Name",variant:"outlined",size:"small"}))},onChange:function(t,a){null!==a&&e.setState({ProductRecord:a,Product_Name:a._id,Product_ID:a.product_code,Measuring_Unit:a.product_measuring_unit}),console.log("Product:",a)}}))),i.a.createElement(m.a,{width:"50%",style:Yn},i.a.createElement(Z.a,{disabled:!0,size:"small",fullWidth:!0,variant:"outlined",label:"Product_ID",required:!0,name:"Product_ID",value:this.state.Product_ID,onChange:function(t){e.setState({Product_ID:t.target.value}),console.log(t.target.value)}}))),i.a.createElement(m.a,{style:Hn.boxSize2},i.a.createElement(m.a,{width:"100%",style:Yn},i.a.createElement(Z.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Batch_Id",required:!0,name:"Batch_Id",value:this.state.Batch_Id,onChange:function(t){e.state.batchid.map((function(a){return console.log("res.batchid",a.Batch_Id),console.log("state.batchid",e.state.Batch_Id),t.target.value===a.Batch_Id&&alert("Batch Id Already Exist...("+a.Batch_Id+")"),null})),e.setState({Batch_Id:t.target.value,disable:!0}),console.log(t.target.value)}}))),i.a.createElement(m.a,{style:Hn.boxSize2},i.a.createElement(m.a,{width:"50%",style:Yn},i.a.createElement(Z.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Quantity",required:!0,name:"Quantity",value:this.state.Quantity,onChange:function(t){e.setState({Quantity:t.target.value,disable:!0}),isNaN(t.target.value)&&alert("Check Quantity")}})),i.a.createElement(m.a,{width:"50%",style:Yn},i.a.createElement($.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement(ee.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Measuring Unit"),i.a.createElement(te.a,{disabled:!0,name:"Measuring_Unit",variant:"outlined",required:!0,value:this.state.Measuring_Unit,onChange:function(t){e.setState({Measuring_Unit:t.target.value}),console.log(t.target.value)}},this.state.measuring_units.map((function(e,t){return i.a.createElement(z.a,{selected:!0,key:t,value:e._id},e.measuring_unit_name)})))))),i.a.createElement(m.a,{style:Hn.boxSize2},i.a.createElement(m.a,{width:"50%",style:Yn},i.a.createElement(Z.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Expiry_Duration_Days",required:!0,name:"Expiry_Duration_Days",value:this.state.Expiry_Duration_Days,onChange:function(t){e.setState({Expiry_Duration_Days:t.target.value,disable:!0}),console.log(t.target.value)}})),i.a.createElement(m.a,{width:"50%",style:Yn},i.a.createElement(pe,{id:"4",variant:"outlined",required:!0,Name:"Manufacture_Date",value:this.state.Manufacture_Date,setDate:function(t){e.setState({Manufacture_Date:t,disable:!1}),console.log(t)}}))),i.a.createElement(m.a,{style:Hn.boxSize2},i.a.createElement(m.a,{width:"100%",style:Yn},i.a.createElement($.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement(ee.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Status"),i.a.createElement(te.a,{name:"Status",variant:"outlined",required:!0,disabled:!0,value:"Ready For QC",onChange:function(t){e.setState({Status:t.target.value}),console.log(t.target.value)}},i.a.createElement(z.a,{value:"Status ",disabled:!0}),i.a.createElement(z.a,{value:"Ready to Product QC"},"Ready to Product QC"),i.a.createElement(z.a,{value:"Ready to Packing QC"},"Ready to Packing QC"),i.a.createElement(z.a,{value:"Ready For QC"},"Ready For QC"))))))))),i.a.createElement(m.a,{display:" flex",pt:2,pb:2,m:0,justifyContent:"flex-end",width:"87%"},i.a.createElement(m.a,{display:" flex"},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",fontWeight:"Bold",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{marginLeft:"10px"},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",fontSize:"20px",onClick:function(){e.onAddHandler()},disabled:this.state.subdisplay},"Submit"))))}}]),t}(n.Component),Jn=Tn,Kn={marginRight:"6px",marginLeft:"6px"},Xn=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={_id:"",Product_Name:"Product_Name",Product_ID:"Product_ID",Batch_Id:"",Quantity:" Quantity",Measuring_Unit:"Measuring_Unit",Expiry_Duration_Days:"",Status:"",Manufacture_Date:null,errors:[],success:!1,measuring_units:[],products:[],code:"",subdisplay:!1,progress:!0,ProductRecord:[]},a.onEditHandler=function(){""!==a.state.Quantity&&""!==a.state.Batch_Id&&""!==a.state.Manufacture_Date&&""!==a.state.Expiry_Duration_Days?(a.setState({subdisplay:!0,progress:!0}),X.a.post("/production/edit",{_id:a.state._id,Product_ID:a.state.Product_ID,Product_Name:a.state.Product_Name,Batch_Id:a.state.Batch_Id,Quantity:a.state.Quantity,Status:a.state.Status,Measuring_Unit:a.state.Measuring_Unit,Expiry_Duration_Days:a.state.Expiry_Duration_Days,Manufacture_Date:a.state.Manufacture_Date}).then((function(e){a.setState({progress:!0}),a.props.cancel()})).catch((function(e){return console.log(e)}))):alert("Please check all the fields are entered properly")},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;X.a.get("/measuring-units/measuring-units").then((function(t){console.log(t),e.setState({measuring_units:Object(Q.a)(t.data.MeasuringUnits)})})),X.a.get("/products/products").then((function(t){console.log(t),e.setState({products:Object(Q.a)(t.data.Products),progress:!1})})),this.setState({ProductRecord:this.props.ProductRecord(),_id:this.props.Production._id,Product_ID:this.props.Production.Product_ID,Product_Name:this.props.Production.Product_Name,Batch_Id:this.props.Production.Batch_Id,Quantity:this.props.Production.Quantity,Status:this.props.Production.Status,Measuring_Unit:this.props.Production.Measuring_Unit,Expiry_Duration_Days:this.props.Production.Expiry_Duration_Days,Manufacture_Date:this.props.Production.Manufacture_Date})}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:Jn.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Edit Production"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:Jn.box_msg,bgcolor:"#f73067",key:t},e)})):!0===this.state.success?i.a.createElement(m.a,{bgcolor:"#3df45b",style:Jn.box_msg},"Successful"):null,i.a.createElement(m.a,{style:Jn.root},i.a.createElement(m.a,{display:"flex",justifyContent:"center"},i.a.createElement(m.a,{style:Jn.lbox},i.a.createElement(m.a,{style:Jn.form},!0===this.state.progress?i.a.createElement(Y.a,{color:"primary",variant:"indeterminate",style:{marginLeft:"10px",marginBottom:"10px"}}):i.a.createElement(m.a,null),i.a.createElement(m.a,{style:Jn.boxSize2},i.a.createElement(m.a,{width:"50%",style:Kn},i.a.createElement($.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement(re.a,{options:this.state.products,autoHighlight:!0,value:this.state.ProductRecord,getOptionLabel:function(e){return e.product_name},renderInput:function(e){return i.a.createElement(Z.a,Object.assign({},e,{label:"Product Name",variant:"outlined",size:"small"}))},onChange:function(t,a){null!==a&&e.setState({ProductRecord:a,Product_Name:a._id,Product_ID:a.product_code,Measuring_Unit:a.product_measuring_unit}),console.log("Product:",a)}}))),i.a.createElement(m.a,{width:"50%",style:Kn},i.a.createElement(Z.a,{disabled:!0,size:"small",fullWidth:!0,variant:"outlined",label:"Product_ID",required:!0,name:"Product_ID",value:this.state.Product_ID,onChange:function(t){e.setState({Product_ID:t.target.value}),console.log(t.target.value)}}))),i.a.createElement(m.a,{style:Jn.boxSize2},i.a.createElement(m.a,{width:"100%",style:Kn},i.a.createElement(Z.a,{disabled:this.props.disabled.Batch_Id,size:"small",fullWidth:!0,variant:"outlined",label:"Batch_Id",required:!0,name:"Batch_Id",value:this.state.Batch_Id,onChange:function(t){e.setState({Batch_Id:t.target.value}),console.log(t.target.value)}}))),i.a.createElement(m.a,{style:Jn.boxSize2},i.a.createElement(m.a,{width:"50%",style:Kn},i.a.createElement(Z.a,{disabled:this.props.disabled.Quantity,size:"small",fullWidth:!0,variant:"outlined",label:"Quantity",required:!0,name:"Quantity",value:this.state.Quantity,onChange:function(t){e.setState({Quantity:t.target.value})}})),i.a.createElement(m.a,{width:"50%",style:Kn},i.a.createElement($.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement(ee.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Measuring Unit"),i.a.createElement(te.a,{disabled:!0,name:"Measuring_Unit",variant:"outlined",required:!0,value:this.state.Measuring_Unit,onChange:function(t){e.setState({Measuring_Unit:t.target.value}),console.log(t.target.value)}},this.state.measuring_units.map((function(e,t){return i.a.createElement(z.a,{selected:!0,key:t,value:e._id},e.measuring_unit_name)})))))),i.a.createElement(m.a,{style:Jn.boxSize2},i.a.createElement(m.a,{width:"50%",style:Kn},i.a.createElement(Z.a,{disabled:this.props.disabled.Expiry_Duration_Days,size:"small",fullWidth:!0,variant:"outlined",label:"Expiry_Duration_Days",required:!0,name:"Expiry_Duration_Days",value:this.state.Expiry_Duration_Days,onChange:function(t){e.setState({Expiry_Duration_Days:t.target.value}),console.log(t.target.value)}})),i.a.createElement(m.a,{width:"50%",style:Kn},i.a.createElement(pe,{disabled:this.props.disabled.Manufacture_Date,id:"4",variant:"outlined",Name:"Manufacture_Date",value:this.state.Manufacture_Date,setDate:function(t){e.setState({Manufacture_Date:t}),console.log(t)}}))),i.a.createElement(m.a,{style:Jn.boxSize2},i.a.createElement(m.a,{width:"100%",style:Kn},i.a.createElement($.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement(ee.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Status"),i.a.createElement(te.a,{name:"Status",variant:"outlined",required:!0,value:this.state.Status,onChange:function(t){e.setState({Status:t.target.value}),console.log(t.target.value)}},i.a.createElement(z.a,{value:"Status ",disabled:!0}),i.a.createElement(z.a,{value:"Ready to Product QC"},"Ready to Product QC"),i.a.createElement(z.a,{value:"Ready to Packing QC"},"Ready to Packing QC"),i.a.createElement(z.a,{value:"Ready For QC"},"Ready For QC"))))))))),i.a.createElement(m.a,{display:" flex",pt:2,pb:2,m:0,justifyContent:"flex-end",width:"87%"},i.a.createElement(m.a,{display:" flex"},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",fontWeight:"Bold",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{marginLeft:"10px",display:this.props.disabled.btnDisplay},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",fontWeight:"bold",onClick:this.onEditHandler,disabled:this.state.subdisplay},"Update"))))}}]),t}(n.Component),Zn=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).EditData={},a.state={columns:[{title:"Batch ID",field:"Batch_Id"},{title:"Product Name",field:"Product_Name"},{title:"Quantity",field:"Quantity"},{title:"Measuring Unit",field:"Measuring_Unit"},{title:"Status",field:"Status"}],products:[],data:[],msg:"Fetching Data...",isLoading:!0,progress:0,open:!1,openAdd:!1,openEdit:!1,alert:!1,fieldDisabled:{Product_Name:!1,Product_ID:!1,Batch_Id:!1,Quantity:!1,Measuring_Unit:!1,Expiry_Duration_Days:!1,Manufacture_Date:!1,Status:!1,btnDisplay:"none",btnText:"Close"}},a.OnEditHandler=function(e,t){X.a.post("/production",{_id:t._id}).then((function(e){console.log(e.data[0]),a.EditData=Object(F.a)({},e.data[0]),console.log(a.EditData),a.setState({openEdit:!0,progress:40})}))},a.handleClose=function(){X.a.get("/products/products").then((function(e){console.log(e),a.setState({products:Object(Q.a)(e.data.Products)})})),X.a.get("/production").then((function(e){console.log(e.data);for(var t=function(t){e.data[t].id=t+1,X.a.post("/measuring-units/measuring-unit",{_id:e.data[t].Measuring_Unit}).then((function(n){console.log(n),n.data.MeasuringUnit[0]?(console.log(n.data.MeasuringUnit[0].measuring_unit_name),e.data[t].Measuring_Unit=n.data.MeasuringUnit[0].measuring_unit_name,a.setState({data:Object(Q.a)(e.data),progress:70,msg:"Data Not Found..."})):(e.data[t].Measuring_Unit="problem loading Measuring Unit",a.setState({data:Object(Q.a)(e.data),msg:"Data Not Found...",progress:70}))})),X.a.post("/products/product",{_id:e.data[t].Product_Name}).then((function(n){console.log(n.data.Product[0].product_name),n.data.Product?(console.log(n.data.Product[0].product_name),e.data[t].Product_Name=n.data.Product[0].product_name,a.setState({data:Object(Q.a)(e.data),progress:100,isLoading:!1,msg:"Data Not Found..."})):(e.data[t].Product_Name="problem loading",a.setState({data:Object(Q.a)(e.data),progress:100,isLoading:!1,msg:"Data Not Found..."}))}))},n=0;n<e.data.length;n++)t(n);0>=e.data.length&&a.setState({progress:100,msg:"Data Not Found!",isLoading:!1})}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.handleClose()}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Manage Production"),i.a.createElement(m.a,{width:"90%",display:"flex",flexDirection:"row"},i.a.createElement(R.a,{variant:"contained",color:"primary",style:{marginBottom:"20px",display:"flex",marginRight:"10px"},size:"large",onClick:function(){e.setState({openAdd:!0})}},"Add")),i.a.createElement(H.a,{title:" ",isLoading:this.state.isLoading,columns:this.state.columns,data:this.state.data,style:{width:"90%",maxHeight:"500px",overflow:"auto"},localization:{body:{emptyDataSourceMessage:this.state.msg}},components:{OverlayLoading:function(t){return i.a.createElement(Y.a,{variant:"determinate",value:e.state.progress})}},options:{sorting:!0,headerStyle:{backgroundColor:"#3f51b5",color:"#FFF",fontSize:"medium",fontWeight:"bold"}},actions:[{icon:"edit",tooltip:"Edit",onClick:function(t,a){console.log(a.Status),"Packing QC Success"!==a.Status&&"Product QC Success"!==a.Status&&"Ready to Packing QC"!==a.Status&&"Ready to Product QC"!==a.Status?(console.log(a.Status),e.setState({fieldDisabled:{Product_Name:!1,Product_ID:!1,Batch_Id:!1,Quantity:!1,Measuring_Unit:!1,Expiry_Duration_Days:!1,Manufacture_Date:!1,Status:!1,btnDisplay:"flex",btnText:"Cancel"}}),e.OnEditHandler(t,a)):e.setState({alert:!0})}}],editable:{onRowDelete:function(t){return X.a.post("/production/delete",{_id:t._id}).then((function(a){console.log(a),a&&e.setState((function(e){var a=Object(Q.a)(e.data);return a.splice(a.indexOf(t),1),Object(F.a)({},e,{data:a})}))}))}},onRowClick:function(t,a){e.setState({fieldDisabled:{Product_Name:!0,Product_ID:!0,Batch_Id:!0,Quantity:!0,Measuring_Unit:!0,Expiry_Duration_Days:!0,Manufacture_Date:!0,btnDisplay:"none",btnText:"Close"}}),e.OnEditHandler(t,a)}}),i.a.createElement(J.a,{open:this.state.openAdd,maxWidth:"lg",fullWidth:!0},i.a.createElement(G.a,null,i.a.createElement(Gn,{cancel:function(){e.setState({openAdd:!1}),e.handleClose()}}))),i.a.createElement(J.a,{open:this.state.openEdit,maxWidth:"lg",fullWidth:!0},i.a.createElement(G.a,null,i.a.createElement(Xn,{disabled:this.state.fieldDisabled,Production:this.EditData,ProductRecord:function(){var t=[];return e.state.products.map((function(a){return a._id===e.EditData.Product_Name&&(t=a),null})),t},cancel:function(){e.setState({openEdit:!1}),e.handleClose()}}))),i.a.createElement(we.a,{open:this.state.alert,autoHideDuration:3e3,anchorOrigin:{vertical:"bottom",horizontal:"center"},onClose:this.closeAlert},i.a.createElement(De.a,{variant:"filled",severity:"error",onClose:this.closeAlert},"You cannot Modify this Record")))}}]),t}(n.Component),$n=Tn,ei={marginRight:"6px",marginLeft:"6px"},ti=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={Raw_Material_Id:"",Raw_Material_Code:"",Quantity:"",Measuring_Unit:"",Priority:"",Due_Date:null,Status:"Requesting",Comments:"-",errors:[],openAdd:!1,success:!1,measuring_units:[],materials:[],code:"",subdisplay:!1,progress:!1,materialRecord:[]},a.onAddHandler=function(){""!==a.state.Quantity&&""!==a.state.Priority&&null!==a.state.Due_Date?(a.setState({subdisplay:!0,progress:!0}),X.a.post("/request-details/add",{Raw_Material_Id:a.state.Raw_Material_Id,Raw_Material_Code:a.state.Raw_Material_Code,Quantity:a.state.Quantity,Measuring_Unit:a.state.Measuring_Unit,Priority:a.state.Priority,Due_Date:a.state.Due_Date,Status:"Requesting",Comments:a.state.Comments,Created_By:{Employee_Id:sessionStorage.getItem("User ID"),Role_Id:sessionStorage.getItem("Role ID")},logs:{from:"Production",to:"Purchase",comments:a.state.Comments},Qoutation_Document_URL:[]}).then((function(e){console.log(e),a.setState({progress:!0}),console.log("added"),a.props.cancel()}))):alert("Please check all the fields are entered properly")},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;X.a.get("/measuring-units/measuring-units").then((function(t){console.log(t),e.setState({measuring_units:Object(Q.a)(t.data.MeasuringUnits)})})),X.a.get("/raw-material").then((function(t){console.log(t),e.setState({materials:Object(Q.a)(t.data.RawMaterials)})}))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:$n.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Add Raw Material Request"),i.a.createElement(m.a,{style:$n.root},i.a.createElement(m.a,{display:"flex",justifyContent:"center"},i.a.createElement(m.a,{style:$n.lbox},i.a.createElement(m.a,{style:$n.form},!0===this.state.progress?i.a.createElement(Y.a,{color:"primary",variant:"indeterminate",style:{marginLeft:"10px",marginBottom:"10px"}}):i.a.createElement(m.a,null),i.a.createElement(m.a,{style:$n.boxSize2},i.a.createElement(m.a,{width:"50%",style:ei},i.a.createElement($.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement(re.a,{options:this.state.materials,autoHighlight:!0,value:this.state.materialRecord,getOptionLabel:function(e){return e.raw_material_name},renderInput:function(e){return i.a.createElement(Z.a,Object.assign({},e,{label:"Raw Material",variant:"outlined",size:"small"}))},onChange:function(t,a){console.log("materialRecord:",a),console.log("stateRecord:",e.state.materialRecord),null!==a&&e.setState({materialRecord:a,Raw_Material_Id:a._id,Raw_Material_Code:a.raw_material_code,Measuring_Unit:a.raw_material_measuring_unit})}}))),i.a.createElement(m.a,{width:"50%",style:ei},i.a.createElement(Z.a,{disabled:!0,size:"small",fullWidth:!0,variant:"outlined",label:"Material_Code",required:!0,name:"Raw_Material_Code",value:this.state.Raw_Material_Code,onChange:function(t){e.setState({Raw_Material_Code:t.target.value}),console.log(t.target.value)}}))),i.a.createElement(m.a,{style:$n.boxSize2},i.a.createElement(m.a,{width:"50%",style:ei},i.a.createElement(Z.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Quantity",required:!0,name:"Quantity",value:this.state.Quantity,onChange:function(t){e.setState({Quantity:t.target.value})}})),i.a.createElement(m.a,{width:"50%",style:ei},i.a.createElement($.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement(ee.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Measuring Unit"),i.a.createElement(te.a,{disabled:!0,name:"Measuring_Unit",variant:"outlined",required:!0,value:this.state.Measuring_Unit,onChange:function(t){e.setState({Measuring_Unit:t.target.value}),console.log(t.target.value)}},this.state.measuring_units.map((function(e,t){return i.a.createElement(z.a,{selected:!0,key:t,value:e._id},e.measuring_unit_name)})))))),i.a.createElement(m.a,{style:$n.boxSize2},i.a.createElement(m.a,{width:"50%",style:ei},i.a.createElement($.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement(ee.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Priority"),i.a.createElement(te.a,{variant:"outlined",required:!0,name:"Priority",value:this.state.Priority,onChange:function(t){e.setState({Priority:t.target.value})}},i.a.createElement(z.a,{value:"Priority",disabled:!0},"Priority"),i.a.createElement(z.a,{value:"Low"},"Low"),i.a.createElement(z.a,{value:"Medium"},"Medium"),i.a.createElement(z.a,{value:"High"},"High")))),i.a.createElement(m.a,{width:"50%",style:ei},i.a.createElement(pe,{minDate:new Date,id:"4",variant:"outlined",Name:"Due_Date",required:!0,value:this.state.Due_Date,setDate:function(t){e.setState({Due_Date:t}),console.log(t)}}))),i.a.createElement(m.a,{style:$n.boxSize2},i.a.createElement(m.a,{width:"100%",style:ei},i.a.createElement(Z.a,{disabled:!0,size:"small",fullWidth:!0,variant:"outlined",label:"Status",required:!0,name:"Status",value:this.state.Status,onChange:function(t){e.setState({Status:t.target.value})}}))),i.a.createElement(m.a,{style:$n.boxSize2},i.a.createElement(m.a,{width:"100%",style:ei},i.a.createElement(Z.a,{multiline:!0,size:"small",rowsMax:"3",variant:"outlined",fullWidth:!0,label:"Comments",value:this.state.Comments,onChange:function(t){e.setState({Comments:t.target.value}),console.log(t.target.value)}}))))))),i.a.createElement(m.a,{display:" flex",pt:2,pb:2,m:0,justifyContent:"flex-end",width:"87%"},i.a.createElement(m.a,{display:" flex"},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",fontWeight:"Bold",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{marginLeft:"10px"},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",fontSize:"20px",onClick:function(){e.onAddHandler()},disabled:this.state.subdisplay},"Submit"))))}}]),t}(n.Component),ai=Tn,ni={marginRight:"6px",marginLeft:"6px"},ii=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={_id:"",Raw_Material_Id:"Raw_material_Id",Raw_Material_Code:"",Quantity:"",Measuring_Unit:"",Priority:"",Due_Date:null,Status:"Requesting",Comments:"",errors:[],success:!1,measuring_units:[],materials:[],code:"",subdisplay:!1,progress:!0,MaterialRecord:[]},a.onEditHandler=function(){""!==a.state.Quantity&&""!==a.state.Priority&&null!==a.state.Due_Date?(a.setState({subdisplay:!0,progress:!0}),X.a.post("/request-details/edit",{_id:a.state._id,Raw_Material_Id:a.state.Raw_Material_Id,Raw_Material_Code:a.state.Raw_Material_Code,Quantity:a.state.Quantity,Measuring_Unit:a.state.Measuring_Unit,Priority:a.state.Priority,Due_Date:a.state.Due_Date,Status:a.state.Status,Comments:a.state.Comments,logs:{from:"Production",to:"Purchase",comments:a.state.Comments},Qoutation_Document_URL:[]}).then((function(e){a.setState({progress:!0}),a.props.cancel()})).catch((function(e){return console.log(e)}))):alert("Please check all the fields are entered properly")},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;X.a.get("/raw-materials/raw-materials").then((function(t){console.log(t),e.setState({materials:Object(Q.a)(t.data.RawMaterials)}),X.a.get("/measuring-units/measuring-units").then((function(t){console.log(t),e.setState({measuring_units:Object(Q.a)(t.data.MeasuringUnits),progress:!1}),e.setState({MaterialRecord:e.props.MaterialRecord(),_id:e.props.RMRequest._id,Raw_Material_Id:e.props.RMRequest.Raw_Material_Id,Raw_Material_Code:e.props.RMRequest.Raw_Material_Code,Quantity:e.props.RMRequest.Quantity,Measuring_Unit:e.props.RMRequest.Measuring_Unit,Priority:e.props.RMRequest.Priority,Due_Date:e.props.RMRequest.Due_Date,Status:e.props.RMRequest.Status,Comments:e.props.RMRequest.Comments})}))}))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:ai.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Edit Raw Material Request"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:ai.box_msg,bgcolor:"#f73067",key:t},e)})):!0===this.state.success?i.a.createElement(m.a,{bgcolor:"#3df45b",style:ai.box_msg},"Successful"):null,i.a.createElement(m.a,{style:ai.root},i.a.createElement(m.a,{display:"flex",justifyContent:"center"},i.a.createElement(m.a,{style:ai.lbox},i.a.createElement(m.a,{style:ai.form},!0===this.state.progress?i.a.createElement(Y.a,{color:"primary",variant:"indeterminate",style:{marginLeft:"10px",marginBottom:"10px"}}):i.a.createElement(m.a,null),i.a.createElement(m.a,{style:ai.boxSize2},i.a.createElement(m.a,{width:"50%",style:ni},i.a.createElement($.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement(re.a,{options:this.state.materials,autoHighlight:!0,value:this.state.MaterialRecord,getOptionLabel:function(e){return e.raw_material_name},renderInput:function(e){return i.a.createElement(Z.a,Object.assign({},e,{label:"Raw Material",variant:"outlined",size:"small"}))},onChange:function(t,a){console.log("materialRecord:",a),console.log("stateRecord:",e.state.materialRecord),null!==a&&e.setState({materialRecord:a,Raw_Material_Id:a._id,Raw_Material_Code:a.raw_material_code,Measuring_Unit:a.raw_material_measuring_unit})}}))),i.a.createElement(m.a,{width:"50%",style:ni},i.a.createElement(Z.a,{disabled:!0,size:"small",fullWidth:!0,variant:"outlined",label:"Material_Code",required:!0,name:"Material_Code",value:this.state.Raw_Material_Code,onChange:function(t){e.setState({Material_Code:t.target.value}),console.log(t.target.value)}}))),i.a.createElement(m.a,{style:ai.boxSize2},i.a.createElement(m.a,{width:"50%",style:ni},i.a.createElement(Z.a,{disabled:this.props.disabled.Quantity,size:"small",fullWidth:!0,variant:"outlined",label:"Quantity",required:!0,name:"Quantity",value:this.state.Quantity,onChange:function(t){e.setState({Quantity:t.target.value})}})),i.a.createElement(m.a,{width:"50%",style:ni},i.a.createElement($.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement(ee.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Measuring Unit"),i.a.createElement(te.a,{disabled:this.props.disabled.Measuring_Unit,name:"Measuring_Unit",variant:"outlined",required:!0,value:this.state.Measuring_Unit,onChange:function(t){e.setState({Measuring_Unit:t.target.value}),console.log(t.target.value)}},this.state.measuring_units.map((function(e,t){return i.a.createElement(z.a,{selected:!0,key:t,value:e._id},e.measuring_unit_name)})))))),i.a.createElement(m.a,{style:ai.boxSize2},i.a.createElement(m.a,{width:"50%",style:ni},i.a.createElement($.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement(ee.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Priority"),i.a.createElement(te.a,{disabled:this.props.disabled.Priority,variant:"outlined",required:!0,name:"Priority",value:this.state.Priority,onChange:function(t){e.setState({Priority:t.target.value})}},i.a.createElement(z.a,{value:"Priority",disabled:!0},"Priority"),i.a.createElement(z.a,{value:"Low"},"Low"),i.a.createElement(z.a,{value:"Medium"},"Medium"),i.a.createElement(z.a,{value:"High"},"High")))),i.a.createElement(m.a,{width:"50%",style:ni},i.a.createElement(pe,{disabled:this.props.disabled.Due_Date,id:"4",variant:"outlined",Name:"Due_Date",value:this.state.Due_Date,setDate:function(t){e.setState({Due_Date:t}),console.log(t)}}))),i.a.createElement(m.a,{style:ai.boxSize2},i.a.createElement(m.a,{width:"100%",style:ni},i.a.createElement(Z.a,{disabled:!0,size:"small",fullWidth:!0,variant:"outlined",label:"Status",required:!0,name:"Status",value:this.state.Status,onChange:function(t){e.setState({Status:t.target.value})}}))),i.a.createElement(m.a,{style:ai.boxSize2},i.a.createElement(m.a,{width:"100%",style:ni},i.a.createElement(Z.a,{disabled:this.props.disabled.Comments,size:"small",multiline:!0,rowsMax:"3",variant:"outlined",fullWidth:!0,label:"Comments",value:this.state.Comments,onChange:function(t){e.setState({Comments:t.target.value}),console.log(t.target.value)}}))))))),i.a.createElement(m.a,{display:" flex",pt:2,pb:2,m:0,justifyContent:"flex-end",width:"87%"},i.a.createElement(m.a,{display:" flex"},i.a.createElement(R.a,{variant:"contained",color:"primary",size:"large",fontWeight:"Bold",onClick:function(){e.props.cancel()}},this.props.disabled.btnText)),i.a.createElement(m.a,{marginLeft:"10px",display:this.props.disabled.btnDisplay},i.a.createElement(R.a,{variant:"contained",color:"primary",size:"large",fontWeight:"bold",onClick:this.onEditHandler,disabled:this.state.subdisplay},"Update"))))}}]),t}(n.Component),oi=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).EditData={},a.state={columns:[{title:"Material Name",field:"Raw_Material_Id"},{title:"Quantity",field:"Quantity"},{title:"Measuring Unit",field:"Measuring_Unit"},{title:"Priority",field:"Priority"},{title:"Status",field:"Status"}],data:[],materials:[],openAdd:!1,openEdit:!1,open:!1,alert:!1,msg:"Fetching Data...",isLoading:!0,progress:0,materialList:[],unitList:[],fieldDisabled:{Raw_Material_Id:!1,Raw_Material_Code:!1,Quantity:!1,Measuring_Unit:!1,Priority:!1,Due_Date:!1,Status:!1,Comments:!1,btnDisplay:"none",btnText:"Close"}},a.closeAlert=function(){a.setState({alert:!1})},a.OnEditHandler=function(e,t){X.a.post("/request-details",{_id:t._id}).then((function(e){console.log(e.data[0]),a.EditData=Object(F.a)({},e.data[0]),console.log(a.EditData),a.setState({openEdit:!0,progress:40})}))},a.getMaterialName=function(e){var t=e;return a.state.materialList.map((function(a){return a._id===e&&(t=a.raw_material_name),null})),t},a.getUnit=function(e){var t=e;return a.state.unitList.map((function(a){return a._id===e&&(t=a.measuring_unit_name),null})),t},a.handleClose=function(){X.a.get("/raw-material").then((function(e){console.log(e),a.setState({materials:Object(Q.a)(e.data.RawMaterials)})})),X.a.get("/raw-materials/raw-materials").then((function(e){a.setState({materialList:Object(Q.a)(e.data.RawMaterials),progress:35}),X.a.get("/measuring-units/measuring-units").then((function(e){a.setState({unitList:Object(Q.a)(e.data.MeasuringUnits),progress:70}),X.a.get("/request-details").then((function(e){var t=[];console.log("Details: ",e.data);for(var n=0;n<e.data.length;n++)e.data[n].Created_By.Role_Id===sessionStorage.getItem("Role ID")&&(e.data[n].Raw_Material_Id=a.getMaterialName(e.data[n].Raw_Material_Id),e.data[n].Measuring_Unit=a.getUnit(e.data[n].Measuring_Unit),t.push(e.data[n]));a.setState({progress:100,data:t,reqDetails:Object(Q.a)(e.data),isLoading:!1})}))})).catch((function(e){console.log("cannot get unitList",e)}))})).catch((function(e){console.log("cannot get materialList",e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.handleClose()}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Manage Raw Material Request"),i.a.createElement(m.a,{width:"90%",display:"flex",flexDirection:"row"},i.a.createElement(R.a,{variant:"contained",color:"primary",style:{marginBottom:"20px",display:"flex",marginRight:"10px"},size:"large",onClick:function(){e.setState({openAdd:!0})}},"Add")),i.a.createElement(H.a,{title:" ",isLoading:this.state.isLoading,columns:this.state.columns,data:this.state.data,style:{width:"90%",maxHeight:"500px",overflow:"auto"},localization:{body:{emptyDataSourceMessage:this.state.msg}},components:{OverlayLoading:function(t){return i.a.createElement(Y.a,{variant:"determinate",value:e.state.progress})}},options:{sorting:!0,headerStyle:{backgroundColor:"#3f51b5",color:"#FFF",fontSize:"medium",fontWeight:"bold"}},actions:[{icon:"edit",tooltip:"Edit",onClick:function(t,a){"Requesting"===a.Status?(e.setState({fieldDisabled:{Raw_Material_Id:!1,Raw_Material_Code:!1,Quantity:!1,Measuring_Unit:!1,Priority:!1,Due_Date:!1,Status:!1,Comments:!1,btnDisplay:"flex",btnText:"Cancel"}}),e.OnEditHandler(t,a)):e.setState({alert:!0})}}],onRowClick:function(t,a){e.setState({fieldDisabled:{Raw_Material_Id:!0,Raw_Material_Code:!0,Quantity:!0,Measuring_Unit:!0,Priority:!0,Due_Date:!0,Status:!0,Comments:!0,btnDisplay:"none",btnText:"Close"}}),e.OnEditHandler(t,a)}}),i.a.createElement(J.a,{open:this.state.openAdd,maxWidth:"lg",fullWidth:!0},i.a.createElement(G.a,null,i.a.createElement(ti,{cancel:function(){e.setState({openAdd:!1}),e.handleClose()}}))),i.a.createElement(J.a,{open:this.state.openEdit,maxWidth:"lg",fullWidth:!0},i.a.createElement(G.a,null,i.a.createElement(ii,{disabled:this.state.fieldDisabled,RMRequest:this.EditData,MaterialRecord:function(){var t=[];return e.state.materials.map((function(a){return a._id===e.EditData.Raw_Material_Id&&(t=a),null})),t},cancel:function(){e.setState({openEdit:!1}),e.handleClose()}}))),i.a.createElement(we.a,{open:this.state.alert,autoHideDuration:3e3,anchorOrigin:{vertical:"bottom",horizontal:"center"},onClose:this.closeAlert},i.a.createElement(De.a,{variant:"filled",severity:"error",onClose:this.closeAlert},"You cannot Modify / Delete this Record")))}}]),t}(n.Component),li=Tn,ri={marginRight:"6px",marginLeft:"6px"},si=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={Wastage_Type:"Product",Product_Name:"",Raw_Material_Id:"",Quantity:"",Product_ID:"",raw_material_code:"",Id_Type:"",Id:[{id:""}],Measuring_Unit:"",Wastage_Date:null,Description:"",Avilable_Stock:"",errors:[],openAdd:!1,success:!1,materials:[],products:[],material:[],productlist:[],measuring_units:[],materialRecord:[],ProductRecord:[],a_id:"",disable:!0,subdisplay:!1,progress:!1},a.onAddHandler=function(){null!==a.state.materialRecord&&""!==a.state.Quantity&&""!==a.state.Id_Type&&""!==a.state.Id[0].id&&null!==a.state.Wastage_Date&&""!==a.state.Description?(a.setState({subdisplay:!0,progress:!0}),X.a.post("/wastage/add",{Wastage_Type:a.state.Wastage_Type,Product_Name:a.state.Product_Name,Raw_Material_Id:a.state.Raw_Material_Id,Quantity:a.state.Quantity,Product_ID:a.state.Product_ID,raw_material_code:a.state.raw_material_code,Id_Type:a.state.Id_Type,Id:a.state.Id,Measuring_Unit:a.state.Measuring_Unit,Wastage_Date:a.state.Wastage_Date,Description:a.state.Description}).then((function(e){a.setState({progress:!0}),a.props.cancel()}))):alert("Please check all the fields are entered properly")},a.getMaterialName=function(e){var t=e;return a.state.material.map((function(a){return a._id===e&&(t=a.raw_material_name),null})),t},a.getProductName=function(e){var t=e;return a.state.productlist.map((function(a){return a._id===e&&(t=a.product_name),null})),t},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;X.a.get("/production-raw-material-stock").then((function(t){console.log("rmstock",t.data),e.setState({materials:Object(Q.a)(t.data)})})),X.a.get("/production-stock/stock").then((function(t){console.log("products",t.data),e.setState({products:Object(Q.a)(t.data)})})),X.a.get("/raw-materials/raw-materials").then((function(t){console.log(t),e.setState({material:Object(Q.a)(t.data.RawMaterials)})})),X.a.get("/products/products").then((function(t){e.setState({productlist:Object(Q.a)(t.data.Products)}),console.log("Product: ",e.state.productlist)})),X.a.get("/measuring-units/measuring-units").then((function(t){console.log(t),e.setState({measuring_units:Object(Q.a)(t.data.MeasuringUnits)})}))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:li.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Add Wastage"),i.a.createElement(m.a,{style:li.root},i.a.createElement(m.a,{display:"flex",justifyContent:"center"},i.a.createElement(m.a,{style:li.lbox},i.a.createElement(m.a,{style:li.form},!0===this.state.progress?i.a.createElement(Y.a,{color:"primary",variant:"indeterminate",style:{marginLeft:"10px",marginBottom:"10px"}}):i.a.createElement(m.a,null),i.a.createElement(m.a,{style:li.boxSize2},i.a.createElement(m.a,{width:"100%",style:ri},i.a.createElement($.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement(ee.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Wastage Type"),i.a.createElement(te.a,{variant:"outlined",required:!0,name:"Wastage_Type",value:this.state.Wastage_Type,onChange:function(t){e.setState({Wastage_Type:t.target.value,disable:!0})}},i.a.createElement(z.a,{value:"Wastage Type",disabled:!0},"Wastage Type"),i.a.createElement(z.a,{value:"Product"},"Product"),i.a.createElement(z.a,{value:"RawMaterial"},"RawMaterial"))))),i.a.createElement(m.a,{style:li.boxSize2},i.a.createElement(m.a,{width:"50%",style:ri},"Product"===this.state.Wastage_Type?i.a.createElement($.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement(re.a,{options:this.state.products,autoHighlight:!0,value:this.state.ProductRecord,getOptionLabel:function(t){return e.getProductName(t.Product_Name)},renderInput:function(e){return i.a.createElement(Z.a,Object.assign({},e,{label:"Product Name",variant:"outlined",size:"small"}))},onChange:function(t,a){null!==a&&e.setState({ProductRecord:a,Product_Name:a.Product_Name,Product_ID:a.Product_ID,Measuring_Unit:a.Measuring_Unit,Available_Stock:a.Quantity}),console.log("Product:",a)}})):i.a.createElement($.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement(re.a,{options:this.state.materials,autoHighlight:!0,value:this.state.materialRecord,getOptionLabel:function(t){return e.getMaterialName(t.Raw_Material_Id)},renderInput:function(e){return i.a.createElement(Z.a,Object.assign({},e,{label:"Raw Material",variant:"outlined",size:"small"}))},onChange:function(t,a){console.log("materialRecord:",a),console.log("stateRecord:",e.state.raw_material_code),null!==a&&e.setState({materialRecord:a,Raw_Material_Id:a.Raw_Material_Id,raw_material_code:a.Raw_Material_Code,Measuring_Unit:a.Measuring_Unit,Available_Stock:a.Quantity})}}))),i.a.createElement(m.a,{width:"50%",style:ri},i.a.createElement(Z.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Quantity",required:!0,name:"Quantity",value:this.state.Quantity,onChange:function(t){e.setState({Quantity:t.target.value,disable:!0})}}))),i.a.createElement(m.a,{style:li.boxSize2},i.a.createElement(m.a,{width:"50%",style:ri},i.a.createElement($.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement(ee.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Id Type"),i.a.createElement(te.a,{variant:"outlined",required:!0,name:"Id_Type",value:this.state.Id_Type,onChange:function(t){e.setState({Id_Type:t.target.value,disable:!0})}},i.a.createElement(z.a,{value:"Id Type",disabled:!0},"Id Type"),i.a.createElement(z.a,{value:"Individual"},"Individual"),i.a.createElement(z.a,{value:"Box"},"Box")))),i.a.createElement(m.a,{width:"50%",style:ri},i.a.createElement($.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement(ee.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Measuring Unit"),i.a.createElement(te.a,{name:"Measuring_Unit",variant:"outlined",required:!0,value:this.state.Measuring_Unit,onChange:function(t){e.setState({Measuring_Unit:t.target.value,disable:!0}),console.log(t.target.value)}},this.state.measuring_units.map((function(e,t){return i.a.createElement(z.a,{selected:!0,key:t,value:e._id},e.measuring_unit_name)})))))),i.a.createElement(m.a,{style:li.boxSize2,overflow:!0},i.a.createElement(m.a,{width:"100%",style:ri,flexDirection:"row",display:"flex",overflow:"auto",flexWrap:"wrap",maxHeight:"100px"},this.state.Id.map((function(t,a){return i.a.createElement(m.a,{display:"flex",width:"33.33%",pt:.3},i.a.createElement(Z.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Id",required:!0,name:"Id",value:e.state.Id[a].id,onChange:function(t){e.setState({a_id:t.target.value,disable:!0}),console.log(t.target.value),e.setState((function(e){e.Id[a].id=e.a_id,console.log("====",e.Id[a])}))}}),e.state.Id.length===a+1?i.a.createElement(Zt.a,{color:"secondary",style:{fontSize:"30px",margin:"4px",padding:"0px"},onClick:function(){e.setState({}),e.setState((function(e){e.Id.push({id:""}),console.log(e.Id)}))}}):i.a.createElement(ea.a,{color:"secondary",style:{fontSize:"30px",padding:"0px",margin:"4px"},onClick:function(){e.setState({}),e.setState((function(e){e.Id.splice(a,1),console.log(e.Id)}))}}))})).reverse())),i.a.createElement(m.a,{style:li.boxSize2},i.a.createElement(m.a,{width:"100%",style:ri},i.a.createElement(pe,{maxDate:new Date,id:"4",variant:"outlined",Name:"Wastage Date",value:this.state.Wastage_Date,setDate:function(t){e.setState({Wastage_Date:t,disable:!0}),console.log(t)}}))),i.a.createElement(m.a,{style:li.boxSize2},i.a.createElement(m.a,{width:"100%",style:ri},i.a.createElement(Z.a,{multiline:!0,rowsMax:"3",variant:"outlined",fullWidth:!0,label:"Reasons",size:"small",value:this.state.Description,onChange:function(t){e.setState({Description:t.target.value,disable:!1}),console.log(t.target.value)}}))),i.a.createElement(m.a,{style:li.boxSize2},i.a.createElement(m.a,{width:"100%",display:"flex",justifyContent:"flex-end"},i.a.createElement(Z.a,{size:"small",label:"Available Stock",disabled:!0,defaultValue:" ",InputLabelProps:{style:{color:"black",fontWeight:"bold"}},InputProps:{style:{fontWeight:"bold"}},value:this.state.Available_Stock,onChange:function(t){e.setState({Available_Stock:t.target.value,disable:!1})}}))))))),i.a.createElement(m.a,{display:" flex",pt:2,pb:2,m:0,justifyContent:"flex-end",width:"87%"},i.a.createElement(m.a,{display:" flex"},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",fontWeight:"Bold",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{marginLeft:"10px"},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",fontSize:"20px",onClick:function(){e.onAddHandler()},disabled:this.state.subdisplay},"Submit"))))}}]),t}(n.Component),ci=Tn,di={marginRight:"6px",marginLeft:"6px"},ui=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={_id:"",Wastage_Type:"",Product_Name:"",Raw_Material_Id:"",Quantity:"",Product_ID:"",raw_material_code:"",Id_Type:"",Id:[{id:""}],Measuring_Unit:"",Wastage_Date:"",Description:"",errors:[],materials:[],products:[],measuring_units:[],MaterialRecord:[],ProductRecord:[],A_Id:"",subdisplay:!1,progress:!0},a.onEditHandler=function(){""!==a.state.Quantity&&""!==a.state.Id_Type&&""!==a.state.Id[0].id&&null!==a.state.Wastage_Date&&""!==a.state.Description?(a.setState({subdisplay:!0,progress:!0}),X.a.post("/wastage/edit",{_id:a.state._id,Wastage_Type:a.state.Wastage_Type,Product_Name:a.state.Product_Name,Raw_Material_Id:a.state.Raw_Material_Id,Quantity:a.state.Quantity,Product_ID:a.state.Product_ID,raw_material_code:a.state.raw_material_code,Id_Type:a.state.Id_Type,Id:a.state.Id,Measuring_Unit:a.state.Measuring_Unit,Wastage_Date:a.state.Wastage_Date,Description:a.state.Description}).then((function(e){console.log(e.data),a.setState({progress:!0}),a.props.cancel()})).catch((function(e){return console.log(e)}))):alert("Please check all the fields are entered properly")},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;X.a.get("/measuring-units/measuring-units").then((function(t){console.log(t),e.setState({measuring_units:Object(Q.a)(t.data.MeasuringUnits)})})),X.a.get("/raw-material").then((function(t){console.log(t),e.setState({materials:Object(Q.a)(t.data.RawMaterials),Raw_Material_Id:e.props.wastage.Raw_Material_Id})})),console.log("wid::",this.props.wastage.Id),X.a.get("/products/products").then((function(t){console.log(t),e.setState({products:Object(Q.a)(t.data.Products),Product_Name:e.props.wastage.Product_Name,progress:!1})})),this.setState({ProductRecord:this.props.ProductRecord(),MaterialRecord:this.props.MaterialRecord(),Wastage_Type:this.props.wastage.Wastage_Type,Quantity:this.props.wastage.Quantity,Product_ID:this.props.wastage.Product_ID,raw_material_code:this.props.wastage.raw_material_code,Id_Type:this.props.wastage.Id_Type,Id:this.props.wastage.Id,Measuring_Unit:this.props.wastage.Measuring_Unit,Wastage_Date:this.props.wastage.Wastage_Date,Description:this.props.wastage.Description,_id:this.props.wastage._id})}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:ci.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Edit Wastage"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:ci.box_msg,bgcolor:"#f73067",key:t},e)})):!0===this.state.success?i.a.createElement(m.a,{bgcolor:"#3df45b",style:ci.box_msg},"Successful"):null,i.a.createElement(m.a,{style:ci.root},i.a.createElement(m.a,{display:"flex",justifyContent:"center"},i.a.createElement(m.a,{style:ci.lbox},i.a.createElement(m.a,{style:ci.form},!0===this.state.progress?i.a.createElement(Y.a,{color:"primary",variant:"indeterminate",style:{marginLeft:"10px",marginBottom:"10px"}}):i.a.createElement(m.a,null),i.a.createElement(m.a,{style:ci.boxSize2},i.a.createElement(m.a,{width:"100%",style:di},i.a.createElement($.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement(ee.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Wastage Type"),i.a.createElement(te.a,{disabled:this.props.disabled.Wastage_Type,variant:"outlined",required:!0,name:"Wastage_Type",value:this.state.Wastage_Type,onChange:function(t){e.setState({Wastage_Type:t.target.value})}},i.a.createElement(z.a,{value:"Wastage Type",disabled:!0},"Wastage Type"),i.a.createElement(z.a,{value:"Product"},"Product"),i.a.createElement(z.a,{value:"RawMaterial"},"RawMaterial"))))),i.a.createElement(m.a,{style:ci.boxSize2},i.a.createElement(m.a,{width:"50%",style:di},"Product"===this.state.Wastage_Type?i.a.createElement($.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement(re.a,{options:this.state.products,autoHighlight:!0,value:this.state.ProductRecord,getOptionLabel:function(t){return e.getProductName(t.Product_Name)},renderInput:function(e){return i.a.createElement(Z.a,Object.assign({},e,{label:"Product Name",variant:"outlined",size:"small"}))},onChange:function(t,a){null!==a&&e.setState({ProductRecord:a,Product_Name:a.Product_Name,Product_ID:a.Product_ID,Measuring_Unit:a.Measuring_Unit,Available_Stock:a.Quantity}),console.log("Product:",a)}})):i.a.createElement($.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement(re.a,{options:this.state.materials,autoHighlight:!0,value:this.state.MaterialRecord,getOptionLabel:function(t){return e.getMaterialName(t.Raw_Material_Id)},renderInput:function(e){return i.a.createElement(Z.a,Object.assign({},e,{label:"Raw Material",variant:"outlined",size:"small"}))},onChange:function(t,a){console.log("materialRecord:",a),console.log("stateRecord:",e.state.raw_material_code),null!==a&&e.setState({materialRecord:a,Raw_Material_Id:a.Raw_Material_Id,raw_material_code:a.Raw_Material_Code,Measuring_Unit:a.Measuring_Unit,Available_Stock:a.Quantity})}}))),i.a.createElement(m.a,{width:"50%",style:di},i.a.createElement(Z.a,{disabled:this.props.disabled.Quantity,size:"small",fullWidth:!0,variant:"outlined",label:"Quantity",required:!0,name:"Quantity",value:this.state.Quantity,onChange:function(t){e.setState({Quantity:t.target.value})}}))),i.a.createElement(m.a,{style:ci.boxSize2},i.a.createElement(m.a,{width:"50%",style:di},i.a.createElement($.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement(ee.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Id Type"),i.a.createElement(te.a,{disabled:this.props.disabled.Id_Type,variant:"outlined",required:!0,name:"Id_Type",value:this.state.Id_Type,onChange:function(t){e.setState({Id_Type:t.target.value})}},i.a.createElement(z.a,{value:"Id Type",disabled:!0},"Id Type"),i.a.createElement(z.a,{value:"Individual"},"Individual"),i.a.createElement(z.a,{value:"Box"},"Box")))),i.a.createElement(m.a,{width:"50%",style:di},i.a.createElement($.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement(ee.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Measuring Unit"),i.a.createElement(te.a,{disabled:this.props.disabled.Measuring_Unit,name:"Measuring_Unit",variant:"outlined",required:!0,value:this.state.Measuring_Unit,onChange:function(t){e.setState({Measuring_Unit:t.target.value})}},this.state.measuring_units.map((function(e,t){return i.a.createElement(z.a,{selected:!0,key:t,value:e._id},e.measuring_unit_name)})))))),i.a.createElement(m.a,{style:ci.boxSize2,overflow:!0,display:"flex"},i.a.createElement(m.a,{width:"100%",style:di,flexDirection:"row",display:"flex",overflow:"auto",flexWrap:"wrap",maxHeight:"100px"},this.state.Id.map((function(t,a){return i.a.createElement(m.a,{display:"flex",width:"33.33%",pt:.3},i.a.createElement(Z.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Id",required:!0,name:"Id",value:e.state.Id[a].id,disabled:e.props.disabled.Id,onFocus:function(){console.log("wiiid:",e.state.Id[a].Id)},onChange:function(t){e.setState({A_Id:t.target.value}),console.log(t.target.value),e.setState((function(e){e.Id[a].id=e.A_Id,console.log(e.Id[a])}))}}),e.state.Id.length===a+1?i.a.createElement(Zt.a,{color:"secondary",style:{fontSize:"30px",margin:"4px",padding:"0px"},onClick:function(){e.setState({}),e.setState((function(e){e.Id.push({id:""}),console.log(e.Id)}))}}):i.a.createElement(ea.a,{color:"secondary",style:{fontSize:"30px",margin:"4px",padding:"0px"},onClick:function(){e.setState({}),e.setState((function(e){e.Id.splice(a,1),console.log(e.Id)}))}}))})).reverse())),i.a.createElement(m.a,{style:ci.boxSize2},i.a.createElement(m.a,{width:"100%",style:di},i.a.createElement(pe,{disabled:this.props.disabled.Wastage_Date,id:"4",variant:"outlined",name:"Wastage Date",value:this.state.Wastage_Date,onChange:function(t){e.setState({Wastage_Date:t.target.value})}}))),i.a.createElement(m.a,{style:ci.boxSize2},i.a.createElement(m.a,{style:di,display:"flex",alignItems:"center",width:"100%"},i.a.createElement(Z.a,{disabled:this.props.disabled.Description,size:"small",multiline:!0,rowsMax:"3",variant:"outlined",fullWidth:!0,label:"Reasons",value:this.state.Description,onChange:function(t){e.setState({Description:t.target.value})}}))))))),i.a.createElement(m.a,{display:" flex",pt:2,pb:2,m:0,justifyContent:"flex-end",width:"87%"},i.a.createElement(m.a,{display:" flex"},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",fontWeight:"Bold",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{marginLeft:"10px",display:this.props.disabled.btnDisplay},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",fontWeight:"bold",onClick:this.onEditHandler,disabled:this.state.subdisplay},"Update"))))}}]),t}(n.Component),mi=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).EditData={},a.state={columns:[{title:"Wastage Type",field:"Wastage_Type"},{title:"Item Name",field:"Item_Name"},{title:"Quantity",field:"Quantity"},{title:"Measuring Unit",field:"Measuring_Unit"}],data:[],openAdd:!1,openEdit:!1,msg:"Fetching Data...",isLoading:!0,progress:0,fieldDisabled:{Wastage_Type:!1,Product_Name:!1,Raw_Material_Id:!1,Quantity:!1,Id_Type:!1,Id:!1,Measuring_Unit:!1,Wastage_Date:!1,Description:!1,btnDisplay:"none",btnText:"Close"}},a.OnEditHandler=function(e,t){X.a.post("/wastage",{_id:t._id}).then((function(e){a.EditData=Object(F.a)({},e.data[0]),console.log(a.EditData),a.setState({openEdit:!0,progress:30})}))},a.handleClose=function(){X.a.get("/wastage").then((function(e){console.log(e.data);for(var t=function(t){e.data[t].id=t+1,X.a.post("/measuring-units/measuring-unit",{_id:e.data[t].Measuring_Unit}).then((function(n){console.log(n),n.data.MeasuringUnit[0]?(console.log(n.data.MeasuringUnit[0].measuring_unit_name),e.data[t].Measuring_Unit=n.data.MeasuringUnit[0].measuring_unit_name,a.setState({data:Object(Q.a)(e.data),progress:60,msg:"Data Not Found..."})):(e.data[t].Measuring_Unit="problem loading Measuring Unit",a.setState({data:Object(Q.a)(e.data),progress:60,msg:"Data Not Found..."}))})),""!==e.data[t].Product_Name?X.a.post("/products/product",{_id:e.data[t].Product_Name}).then((function(n){console.log(n.data.Product[0].product_name),n.data.Product?(console.log(n.data.Product[0].product_name),e.data[t].Item_Name=n.data.Product[0].product_name,a.setState({data:Object(Q.a)(e.data),progress:90,msg:"Data Not Found..."})):(e.data[t].Item_Name="problem loading",a.setState({data:Object(Q.a)(e.data),progress:90,msg:"Data Not Found..."}))})):X.a.post("/raw-materials/raw-material",{_id:e.data[t].Raw_Material_Id}).then((function(n){console.log(n),n.data.RawMaterial[0]?(console.log(n.data.RawMaterial[0].raw_material_name),e.data[t].Item_Name=n.data.RawMaterial[0].raw_material_name,a.setState({data:Object(Q.a)(e.data),progress:100,isLoading:!1,msg:"Data Not Found..."})):(e.data[t].Item_Name="problem loading",a.setState({data:Object(Q.a)(e.data),progress:100,isLoading:!1,msg:"Data Not Found..."}))}))},n=0;n<e.data.length;n++)t(n);0>=e.data.length&&a.setState({progress:100,msg:"Data Not Found!",isLoading:!1})}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.handleClose()}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Manage Wastage"),i.a.createElement(m.a,{width:"90%",display:"flex",flexDirection:"row"},i.a.createElement(R.a,{variant:"contained",color:"primary",style:{marginBottom:"20px",display:"flex",marginRight:"10px"},size:"large",onClick:function(){e.setState({openAdd:!0})}},"Add")),i.a.createElement(H.a,{title:" ",isLoading:this.state.isLoading,columns:this.state.columns,data:this.state.data,style:{width:"90%",maxHeight:"500px",overflow:"auto"},localization:{body:{emptyDataSourceMessage:this.state.msg}},components:{OverlayLoading:function(t){return i.a.createElement(Y.a,{variant:"determinate",value:e.state.progress})}},options:{sorting:!0,headerStyle:{backgroundColor:"#3f51b5",color:"#FFF",fontSize:"medium",fontWeight:"bold"}},editable:{onRowDelete:function(t){return X.a.post("/wastage/wastagereturn",{Wastage_Type:t.Wastage_Type,Product_Name:t.Product_Name,Raw_Material_Id:t.Raw_Material_Id,Quantity:t.Quantity,Product_ID:t.Product_ID,raw_material_code:t.raw_material_code}).then(X.a.post("/wastage/delete",{_id:t._id}).then((function(a){console.log(a),a&&e.setState((function(e){var a=Object(Q.a)(e.data);return a.splice(a.indexOf(t),1),Object(F.a)({},e,{data:a})}))})))}},onRowClick:function(t,a){e.setState({fieldDisabled:{Wastage_Type:!0,Product_Name:!0,Raw_Material_Id:!0,Quantity:!0,Id_Type:!0,Id:!0,Measuring_Unit:!0,Wastage_Date:!0,Description:!0,btnDisplay:"none",btnText:"Close"}}),e.OnEditHandler(t,a)}}),i.a.createElement(J.a,{open:this.state.openAdd,maxWidth:"lg",fullWidth:!0},i.a.createElement(G.a,null,i.a.createElement(si,{cancel:function(){e.setState({openAdd:!1}),e.handleClose()}}))),i.a.createElement(J.a,{open:this.state.openEdit,maxWidth:"lg",fullWidth:!0},i.a.createElement(G.a,null,i.a.createElement(ui,{disabled:this.state.fieldDisabled,wastage:this.EditData,cancel:function(){e.setState({openEdit:!1}),e.handleClose()}}))))}}]),t}(n.Component),pi=Tn,gi={marginRight:"6px",marginLeft:"6px"},hi=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={_id:"",Raw_Material_Id:"Raw_material_Id",Raw_Material_Code:"",Quantity:"",Measuring_Unit:"",Priority:"",Due_Date:null,Status:"Requesting",Comments:"",errors:[],success:!1,measuring_units:[],materials:[],subdisplay:!1,progress:!0,code:"",MaterialRecord:[]},a.onEditHandler=function(){""!==a.state.Quantity&&""!==a.state.Priority&&null!==a.state.Due_Date?(a.setState({subdisplay:!0,progress:!0}),X.a.post("/production-unit/edit",{_id:a.state._id,Raw_Material_Id:a.state.Raw_Material_Id,Raw_Material_Code:a.state.Raw_Material_Code,Quantity:a.state.Quantity,Measuring_Unit:a.state.Measuring_Unit,Priority:a.state.Priority,Due_Date:a.state.Due_Date,Status:a.state.Status,Comments:a.state.Comments}).then((function(e){console.log(e.data),a.setState({progress:!0}),a.props.cancel()})).catch((function(e){return console.log(e)}))):alert("Please check all the fields are entered properly")},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;X.a.get("/raw-material").then((function(t){console.log(t),e.setState({materials:Object(Q.a)(t.data.RawMaterials)})})),X.a.get("/measuring-units/measuring-units").then((function(t){console.log(t),e.setState({measuring_units:Object(Q.a)(t.data.MeasuringUnits),progress:!1})})),this.setState({MaterialRecord:this.props.MaterialRecord(),_id:this.props.unit._id,Raw_Material_Id:this.props.unit.Raw_Material_Id,Raw_Material_Code:this.props.unit.Raw_Material_Code,Quantity:this.props.unit.Quantity,Measuring_Unit:this.props.unit.Measuring_Unit,Priority:this.props.unit.Priority,Due_Date:this.props.unit.Due_Date,Status:this.props.unit.Status,Comments:this.props.unit.Comments})}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:pi.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Edit unit request"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:pi.box_msg,bgcolor:"#f73067",key:t},e)})):!0===this.state.success?i.a.createElement(m.a,{bgcolor:"#3df45b",style:pi.box_msg},"Successful"):null,i.a.createElement(m.a,{style:pi.root},i.a.createElement(m.a,{display:"flex",justifyContent:"center"},i.a.createElement(m.a,{style:pi.lbox},i.a.createElement(m.a,{style:pi.form},!0===this.state.progress?i.a.createElement(Y.a,{color:"primary",variant:"indeterminate",style:{marginLeft:"10px",marginBottom:"10px"}}):i.a.createElement(m.a,null),i.a.createElement(m.a,{style:pi.boxSize2},i.a.createElement(m.a,{width:"50%",style:gi},i.a.createElement($.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement(re.a,{options:this.state.materials,autoHighlight:!0,value:this.state.MaterialRecord,getOptionLabel:function(e){return e.raw_material_name},renderInput:function(e){return i.a.createElement(Z.a,Object.assign({},e,{label:"Raw Material",variant:"outlined",size:"small"}))},onChange:function(t,a){console.log("materialRecord:",a),console.log("stateRecord:",e.state.materialRecord),null!==a&&e.setState({materialRecord:a,Raw_Material_Id:a._id,Raw_Material_Code:a.raw_material_code,Measuring_Unit:a.raw_material_measuring_unit})}}))),i.a.createElement(m.a,{width:"50%",style:gi},i.a.createElement(Z.a,{disabled:!0,size:"small",fullWidth:!0,variant:"outlined",label:"Material_Code",required:!0,name:"Material_Code",value:this.state.Raw_Material_Code,onChange:function(t){e.setState({Material_Code:t.target.value}),console.log(t.target.value)}}))),i.a.createElement(m.a,{style:pi.boxSize2},i.a.createElement(m.a,{width:"50%",style:gi},i.a.createElement(Z.a,{disabled:this.props.disabled.Quantity,size:"small",fullWidth:!0,variant:"outlined",label:"Quantity",required:!0,name:"Quantity",value:this.state.Quantity,onChange:function(t){e.setState({Quantity:t.target.value})}})),i.a.createElement(m.a,{width:"50%",style:gi},i.a.createElement($.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement(ee.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Measuring Unit"),i.a.createElement(te.a,{disabled:this.props.disabled.Measuring_Unit,name:"Measuring_Unit",variant:"outlined",required:!0,value:this.state.Measuring_Unit,onChange:function(t){e.setState({Measuring_Unit:t.target.value}),console.log(t.target.value)}},this.state.measuring_units.map((function(e,t){return i.a.createElement(z.a,{selected:!0,key:t,value:e._id},e.measuring_unit_name)})))))),i.a.createElement(m.a,{style:pi.boxSize2},i.a.createElement(m.a,{width:"50%",style:gi},i.a.createElement($.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement(ee.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Priority"),i.a.createElement(te.a,{disabled:this.props.disabled.Priority,variant:"outlined",required:!0,name:"Priority",value:this.state.Priority,onChange:function(t){e.setState({Priority:t.target.value})}},i.a.createElement(z.a,{value:"Priority",disabled:!0},"Priority"),i.a.createElement(z.a,{value:"Low"},"Low"),i.a.createElement(z.a,{value:"Medium"},"Medium"),i.a.createElement(z.a,{value:"High"},"High")))),i.a.createElement(m.a,{width:"50%",style:gi},i.a.createElement(pe,{disabled:this.props.disabled.Due_Date,id:"4",variant:"outlined",Name:"Due_Date",value:this.state.Due_Date,setDate:function(t){e.setState({Due_Date:t}),console.log(t)}}))),i.a.createElement(m.a,{style:pi.boxSize2},i.a.createElement(m.a,{width:"100%",style:gi},i.a.createElement($.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement(ee.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Status"),i.a.createElement(te.a,{size:"small",variant:"outlined",label:"Status",required:!0,name:"Status",disabled:this.props.disabled.Status,value:this.state.Status,onChange:function(t){e.setState({Status:t.target.value})}},i.a.createElement(z.a,{value:"Status",disabled:!0},"Status"),i.a.createElement(z.a,{value:"Requesting",disabled:!0},"Requesting"),i.a.createElement(z.a,{value:"InProgress"},"InProgress"),i.a.createElement(z.a,{value:"Rejected"},"Rejected"),i.a.createElement(z.a,{value:"Accepted"},"Accepted"))))),i.a.createElement(m.a,{style:pi.boxSize2},i.a.createElement(m.a,{width:"100%",style:gi},i.a.createElement(Z.a,{disabled:this.props.disabled.Comments,multiline:!0,rowsMax:"3",variant:"outlined",fullWidth:!0,label:"Comments",value:this.state.Comments,onChange:function(t){e.setState({Comments:t.target.value}),console.log(t.target.value)}}))))))),i.a.createElement(m.a,{display:" flex",pt:2,pb:2,m:0,justifyContent:"flex-end",width:"87%"},i.a.createElement(m.a,{display:" flex"},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",fontWeight:"Bold",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{marginLeft:"10px",display:this.props.disabled.btnDisplay},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",fontWeight:"bold",onClick:this.onEditHandler,disabled:this.state.subdisplay},"Update"))))}}]),t}(n.Component),fi=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).EditData={},a.state={columns:[{title:"Material Name",field:"Raw_Material_Id"},{title:"Quantity",field:"Quantity"},{title:"Measuring Unit",field:"Measuring_Unit_Name"},{title:"Priority",field:"Priority"},{title:"Status",field:"Status"}],data:[],msg:"Fetching Data...",isLoading:!0,progress:0,openAdd:!1,openEdit:!1,open:!1,alert:!1,materialList:[],unitList:[],materials:[],fieldDisabled:{Raw_Material_Id:!1,Raw_Material_Code:!1,Quantity:!1,Measuring_Unit:!1,Priority:!1,Due_Date:!1,Status:!1,Comments:!1,btnDisplay:"none",btnText:"Close"}},a.OnEditHandler=function(e,t){X.a.post("/production-unit",{_id:t._id}).then((function(e){console.log(e.data[0]),a.EditData=Object(F.a)({},e.data[0]),console.log(a.EditData),a.setState({openEdit:!0,progress:20})}))},a.getMaterialName=function(e){var t=e;return a.state.materialList.map((function(a){return a._id===e&&(t=a.raw_material_name),null})),t},a.getUnit=function(e){var t=e;return a.state.unitList.map((function(a){return a._id===e&&(t=a.measuring_unit_name),null})),t},a.handleClose=function(){X.a.get("/raw-material").then((function(e){console.log(e),a.setState({materials:Object(Q.a)(e.data.RawMaterials)})})),X.a.get("/production-unit").then((function(e){console.log("reqdetails:",e.data);for(var t=function(t){e.data[t].id=t+1,X.a.post("/measuring-units/measuring-unit",{_id:e.data[t].Measuring_Unit}).then((function(n){console.log(n),n.data.MeasuringUnit[0]?(console.log(n.data.MeasuringUnit[0].measuring_unit_name),e.data[t].Measuring_Unit_Name=n.data.MeasuringUnit[0].measuring_unit_name,a.setState({data:Object(Q.a)(e.data),progress:50})):(e.data[t].Measuring_Unit="problem loading Measuring Unit",a.setState({data:Object(Q.a)(e.data),progress:50}))})),X.a.post("/raw-material",{_id:e.data[t].Raw_Material_Id}).then((function(n){console.log(n),n.data.RawMaterial[0]?(console.log(n.data.RawMaterial[0].raw_material_name),e.data[t].Raw_Material_Id=n.data.RawMaterial[0].raw_material_name,a.setState({data:Object(Q.a)(e.data),progress:100,isLoading:!1})):(e.data[t].Raw_Material_Id="problem loading",a.setState({data:Object(Q.a)(e.data),progress:100,isLoading:!1}))}))},n=0;n<e.data.length;n++)t(n);0>=e.data.length&&a.setState({progress:100,msg:"Data Not Found!",isLoading:!1})}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.handleClose()}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Manage Unit Request"),i.a.createElement(H.a,{title:" ",isLoading:this.state.isLoading,columns:this.state.columns,data:this.state.data,style:{width:"90%",maxHeight:"500px",overflow:"auto"},localization:{body:{emptyDataSourceMessage:this.state.msg}},components:{OverlayLoading:function(t){return i.a.createElement(Y.a,{variant:"determinate",value:e.state.progress})}},options:{sorting:!0,headerStyle:{backgroundColor:"#3f51b5",color:"#FFF",fontSize:"medium",fontWeight:"bold"}},actions:[{icon:"edit",tooltip:"Edit",onClick:function(t,a){e.setState({fieldDisabled:{Raw_Material_Id:!1,Raw_Material_Code:!1,Quantity:!1,Measuring_Unit:!1,Priority:!1,Due_Date:!1,Status:!1,Comments:!1,btnDisplay:"flex",btnText:"Cancel"}}),e.OnEditHandler(t,a)}}],onRowClick:function(t,a){e.setState({fieldDisabled:{Raw_Material_Id:!0,Raw_Material_Code:!0,Quantity:!0,Measuring_Unit:!0,Priority:!0,Due_Date:!0,Status:!0,Comments:!0,btnDisplay:"none",btnText:"Close"}}),e.OnEditHandler(t,a)}}),i.a.createElement(J.a,{open:this.state.openEdit,maxWidth:"lg",fullWidth:!0},i.a.createElement(G.a,null,i.a.createElement(hi,{unit:this.EditData,disabled:this.state.fieldDisabled,MaterialRecord:function(){var t=[];return e.state.materials.map((function(a){return a._id===e.EditData.Raw_Material_Id&&(t=a),null})),t},cancel:function(){e.setState({openEdit:!1}),e.handleClose()}}))),i.a.createElement(we.a,{open:this.state.alert,autoHideDuration:3e3,anchorOrigin:{vertical:"bottom",horizontal:"center"},onClose:this.closeAlert,style:{paddingLeft:"20%",fontWeight:"bold"}},i.a.createElement(De.a,{variant:"filled",severity:"error"},"You cannot Modify / Delete this Record")))}}]),t}(n.Component),_i=Tn,yi={marginRight:"6px",marginLeft:"6px"},bi=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={_id:"",Product_Name:"",Product_ID:"",Quantity:"",Available_Stock:"",Balance_Stock:"",Measuring_Unit:"",Box_Id:[{id:""}],Selling_Date:null,Distributor:"",Payment_Type:"",Price:"",Final_Price:"",Discount:"",Advance:"",Balance:"",errors:[],openAdd:!1,success:!1,measuring_units:[],products:[],product:[],currency:[],productlist:[],code:"",b_id:"",distributors:[],DiscountValue:null,subdisplay:!1,progress:!1,ProductRecord:[]},a.onAddHandler=function(){""!==a.state.Product_Name&&""!==a.state.Quantity&&""!==a.state.Box_Id[0].id&&null!==a.state.Selling_Date&&""!==a.state.Distributor&&""!==a.state.Payment_Type&&a.state.Balance>=0?(a.setState({subdisplay:!0,progress:!0}),X.a.post("/sales/add",{_id:a.state._id,Product_ID:a.state.Product_ID,Product_Name:a.state.Product_Name,Box_Id:a.state.Box_Id,Quantity:a.state.Quantity,Available_Stock:a.state.Available_Stock,Balance_Stock:a.state.Balance_Stock,Measuring_Unit:a.state.Measuring_Unit,Selling_Date:a.state.Selling_Date,Distributor:a.state.Distributor,Payment_Type:a.state.Payment_Type,Price:a.state.Price,Final_Price:a.state.Final_Price,Discount:a.state.Discount,Advance:a.state.Advance,Balance:a.state.Balance}).then((function(e){a.setState({progress:!0}),a.props.cancel()}))):alert("Please check all the fields are entered properly")},a.getProductName=function(e){var t=e;return a.state.productlist.map((function(a){return a._id===e&&(t=a.product_name),null})),t},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;X.a.get("/currency").then((function(t){e.setState({currency:t.data.Currency[0].currency_type}),console.log("currency:",e.state.currency)})),X.a.get("/measuring-units/measuring-units").then((function(t){console.log(t),e.setState({measuring_units:Object(Q.a)(t.data.MeasuringUnits)})})),X.a.get("/products/products").then((function(t){console.log(t),e.setState({product:Object(Q.a)(t.data.Products)})})),X.a.get("/products/products").then((function(t){console.log(t),e.setState({productlist:Object(Q.a)(t.data.Products)})})),X.a.get("/production-stock/stock").then((function(t){console.log("products",t.data),e.setState({products:Object(Q.a)(t.data)})})),X.a.get("/distributors/distributors").then((function(t){console.log(t),e.setState({distributors:Object(Q.a)(t.data.Distributors)}),console.log("distributors : ",t.data.Distributors)})),X.a.get("/production-stock/stock").then((function(t){console.log(t),e.setState({productstocks:Object(Q.a)(t.data)}),console.log("Production_Stock : ",t.data)}))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:_i.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Add Sales"),i.a.createElement(m.a,{style:_i.root},i.a.createElement(m.a,{display:"flex",justifyContent:"center"},i.a.createElement(m.a,{style:_i.lbox},i.a.createElement(m.a,{style:_i.form},!0===this.state.progress?i.a.createElement(Y.a,{color:"primary",variant:"indeterminate",style:{marginLeft:"10px",marginBottom:"10px"}}):i.a.createElement(m.a,null),i.a.createElement(m.a,{style:_i.boxSize2},i.a.createElement(m.a,{width:"50%",style:yi},i.a.createElement($.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement(re.a,{options:this.state.products,autoHighlight:!0,value:this.state.ProductRecord,getOptionLabel:function(t){return e.getProductName(t.Product_Name)},renderInput:function(e){return i.a.createElement(Z.a,Object.assign({},e,{label:"Product Name",variant:"outlined",size:"small"}))},onChange:function(t,a){null!==a&&e.setState({ProductRecord:a,Product_Name:a.Product_Name,Product_ID:a.Product_ID,Measuring_Unit:a.Measuring_Unit,Available_Stock:a.Quantity}),console.log("Product:",a)}}))),i.a.createElement(m.a,{width:"50%",style:yi},i.a.createElement(Z.a,{disabled:!0,size:"small",fullWidth:!0,variant:"outlined",label:"Product_ID",required:!0,name:"Product_ID",value:this.state.Product_ID,onChange:function(t){e.setState({Product_ID:t.target.value}),console.log(t.target.value)}}))),i.a.createElement(m.a,{style:_i.boxSize2},i.a.createElement(m.a,{width:"50%",style:yi},i.a.createElement(Z.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Available Stock",required:!0,disabled:!0,name:"Available_Stock",value:this.state.Available_Stock,onChange:function(t){e.setState({Available_Stock:t.target.value}),console.log(t.target.value)}})),i.a.createElement(m.a,{width:"50%",style:yi},i.a.createElement(Z.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Quantity",required:!0,name:"Quantity",value:this.state.Quantity,onChange:function(t){var a;e.state.product.map((function(t){return console.log("Pro: ",t.product_name),t._id===e.state.Product_Name&&(a=parseInt(t.product_price),console.log("Procode123: ",t.product_price)),null})),e.setState({Quantity:t.target.value,Price:t.target.value*a,Balance_Stock:e.state.Available_Stock-t.target.value})}}))),i.a.createElement(m.a,{style:_i.boxSize2},i.a.createElement(m.a,{width:"50%",style:yi},i.a.createElement(Z.a,{disabled:!0,size:"small",fullWidth:!0,variant:"outlined",label:"Balance Stock",required:!0,name:"Balance_Stock",value:this.state.Balance_Stock})),i.a.createElement(m.a,{width:"50%",style:yi},i.a.createElement($.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement(ee.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Measuring Unit"),i.a.createElement(te.a,{disabled:!0,name:"Measuring_Unit",variant:"outlined",required:!0,value:this.state.Measuring_Unit,onChange:function(t){e.setState({Measuring_Unit:t.target.value}),console.log(t.target.value)}},this.state.measuring_units.map((function(e,t){return i.a.createElement(z.a,{selected:!0,key:t,value:e._id},e.measuring_unit_name)})))))),i.a.createElement(m.a,{style:_i.boxSize2},i.a.createElement(m.a,{width:"100%",style:yi},i.a.createElement($.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement(ee.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Distributor"),i.a.createElement(te.a,{variant:"outlined",required:!0,name:"Distributor",value:this.state.Distributor,onChange:function(t){e.setState({Distributor:t.target.value})}},this.state.distributors.map((function(e,t){return i.a.createElement(z.a,{key:t,value:e._id},e.distributor_name)})))))),i.a.createElement(m.a,{style:_i.boxSize2,overflow:!0,display:"flex"},i.a.createElement(m.a,{width:"100%",style:yi,flexDirection:"row",display:"flex",flexWrap:"wrap"},this.state.Box_Id.map((function(t,a){return i.a.createElement(m.a,{display:"flex"},i.a.createElement(Z.a,{mb:4,size:"small",fullWidth:!0,variant:"outlined",label:"Box_Id",required:!0,name:"Box_Id",value:e.state.Box_Id[a].id,onChange:function(t){e.setState({b_id:t.target.value}),console.log(t.target.value),e.setState((function(e){e.Box_Id[a].id=e.b_id,console.log("====",e.Box_Id[a])}))}}),e.state.Box_Id.length===a+1?i.a.createElement(Zt.a,{color:"secondary",style:{fontSize:"30px",margin:"4px",padding:"0px"},onClick:function(){e.setState({}),e.setState((function(e){e.Box_Id.push({id:""}),console.log(e.Box_Id)}))}}):i.a.createElement(ea.a,{color:"secondary",style:{fontSize:"29px",margin:"4px",padding:"0px"},onClick:function(){e.setState({}),e.setState((function(e){e.Box_Id.splice(a,1),console.log(e.Box_Id)}))}}))})).reverse())),i.a.createElement(m.a,{style:_i.boxSize2},i.a.createElement(m.a,{width:"100%",style:yi},i.a.createElement(pe,{id:"4",variant:"outlined",Name:"Selling_Date",value:this.state.Selling_Date,setDate:function(t){e.setState({Selling_Date:t}),console.log(t)}}))),i.a.createElement(m.a,{style:_i.boxSize2},i.a.createElement(m.a,{width:"50%",style:yi},i.a.createElement(Z.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Discount",name:"Discount",InputProps:{endAdornment:i.a.createElement(Lt.a,{position:"end"},"%")},value:this.state.Discount,onChange:function(t){t.persist(),e.setState({Discount:t.target.value}),e.setState((function(e){e.DiscountValue=e.Price*(t.target.value/100),e.Final_Price=e.Price-e.DiscountValue,e.Balance=e.Final_Price-e.Advance})),console.log("discount",e.state.DiscountValue),console.log("price",e.state.Price)}})),i.a.createElement(m.a,{width:"50%",style:yi},i.a.createElement(Z.a,{disabled:!0,size:"small",fullWidth:!0,variant:"outlined",label:"Total Price",required:!0,name:"Price",InputProps:{endAdornment:i.a.createElement(Lt.a,{position:"start"},this.state.currency)},value:this.state.Price}))),i.a.createElement(m.a,{style:_i.boxSize2},i.a.createElement(m.a,{width:"50%",style:yi},i.a.createElement($.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement(ee.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Payment Type"),i.a.createElement(te.a,{variant:"outlined",required:!0,name:"Payment_Type",value:this.state.Payment_Type,onChange:function(t){e.setState({Payment_Type:t.target.value})}},i.a.createElement(z.a,{value:"Payment Type",disabled:!0},"Payment Type"),i.a.createElement(z.a,{value:"By Cash"},"By Cash"),i.a.createElement(z.a,{value:"By Cheque"},"By Cheque"),i.a.createElement(z.a,{value:"Debit"},"Debit"),i.a.createElement(z.a,{value:"Credit"},"Credit")))),i.a.createElement(m.a,{width:"50%",style:yi},i.a.createElement(Z.a,{disabled:!0,size:"small",fullWidth:!0,variant:"outlined",label:"Final_Price",required:!0,name:"Final_Price",InputProps:{endAdornment:i.a.createElement(Lt.a,{position:"start"},this.state.currency)},value:this.state.Final_Price}))),i.a.createElement(m.a,{style:_i.boxSize2},i.a.createElement(m.a,{width:"50%",style:yi},i.a.createElement(Z.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Advance Amount",name:"Advance",InputProps:{endAdornment:i.a.createElement(Lt.a,{position:"start"},this.state.currency)},value:this.state.Advance,onChange:function(t){t.target.value<=e.state.Price?e.setState({Advance:t.target.value,Balance:e.state.Final_Price-t.target.value}):alert("Please check Advance Amount"),console.log(t.target.value)}})),i.a.createElement(m.a,{width:"50%",style:yi},i.a.createElement(Z.a,{disabled:!0,size:"small",fullWidth:!0,variant:"outlined",label:"Balance Amount",required:!0,name:"Balance",InputProps:{endAdornment:i.a.createElement(Lt.a,{position:"start"},this.state.currency)},value:this.state.Balance}))))))),i.a.createElement(m.a,{display:" flex",pt:2,pb:2,m:0,justifyContent:"flex-end",width:"87%"},i.a.createElement(m.a,{display:" flex"},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",fontWeight:"Bold",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{marginLeft:"10px"},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",fontSize:"20px",onClick:function(){e.onAddHandler()},disabled:this.state.subdisplay},"Submit"))))}}]),t}(n.Component),Ei=Tn,vi={marginRight:"6px",marginLeft:"6px"},xi=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={_id:"",Product_Name:"Product_Name",Product_ID:"Product_ID",Quantity:" Quantity",Measuring_Unit:"Measuring_Unit",Box_Id:[{id:""}],Selling_Date:null,Distributor:"",Payment_Type:"",Price:"",Final_Price:"",Discount:"",Advance:"",Balance:"",errors:[],success:!1,measuring_units:[],products:[],product:[],productlist:[],code:"",b_id:"",distributors:[],DiscountValue:null,distributorlist:[],distributorInfo:!1,openDialog:!1,subdisplay:!1,progress:!0,ProductRecord:[],currency:[]},a.onEditHandler=function(){""!==a.state.Product_Name&&""!==a.state.Quantity&&""!==a.state.Box_Id[0].id&&null!==a.state.Selling_Date&&""!==a.state.Distributor&&""!==a.state.Payment_Type&&a.state.Balance>=0?(a.setState({subdisplay:!0,progress:!0}),X.a.post("/sales/edit",{_id:a.state._id,Product_ID:a.state.Product_ID,Product_Name:a.state.Product_Name,Box_Id:a.state.Box_Id,Quantity:a.state.Quantity,Measuring_Unit:a.state.Measuring_Unit,Selling_Date:a.state.Selling_Date,Distributor:a.state.Distributor,Payment_Type:a.state.Payment_Type,Price:a.state.Price,Final_Price:a.state.Final_Price,Discount:a.state.Discount,Advance:a.state.Advance,Balance:a.state.Balance}).then((function(e){console.log(e.data),a.setState({progress:!0}),a.props.cancel()})).catch((function(e){return console.log(e)}))):alert("Please check all the fields are entered properly")},a.distributorInfo=function(){var e=[];return console.log("Distributor Details"),a.state.distributorlist.map((function(t,n){return t._id===a.state.Distributor?(console.log("matched"),e.push(i.a.createElement(m.a,{key:n},i.a.createElement("h4",{style:{padding:"0px",margin:"0px"}},"Distributor:"),"".concat(t.distributor_name," - ").concat(t.distributor_mobile_no," - ").concat(t.distributor_email)," ",i.a.createElement("br",null),i.a.createElement("h4",{style:{padding:"0px",margin:"0px"}},"Point of contacts:"),t.distributor_point_of_contact.map((function(e,t){return i.a.createElement(m.a,{key:t},e.name+" ( "+e.designation+" ) - "+e.mobile_no)}))))):console.log("not match"),null})),e},a.openDialog=function(){a.setState({openDialog:!0})},a.getProductName=function(e){var t=e;return a.state.productlist.map((function(a){return a._id===e&&(t=a.product_name),null})),t},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;X.a.get("/currency").then((function(t){e.setState({currency:t.data.Currency[0].currency_type}),console.log("currency:",e.state.currency)})),X.a.get("/measuring-units/measuring-units").then((function(t){console.log(t),e.setState({measuring_units:Object(Q.a)(t.data.MeasuringUnits)})})),X.a.get("/products/products").then((function(t){console.log(t),e.setState({product:Object(Q.a)(t.data.Products)})})),X.a.get("/products/products").then((function(t){console.log(t),e.setState({productlist:Object(Q.a)(t.data.Products)})})),X.a.get("/production-stock/stock").then((function(t){console.log("products",t.data),e.setState({products:Object(Q.a)(t.data)})})),X.a.get("/distributors/distributors").then((function(t){console.log(t),e.setState({distributors:Object(Q.a)(t.data.Distributors),distributorlist:Object(Q.a)(t.data.Distributors),progress:!1}),console.log("distributors : ",t.data.Distributors)})),console.log("productrecord",this.props.ProductRecord()),this.setState({ProductRecord:this.props.ProductRecord(),_id:this.props.sales._id,Product_Name:this.props.sales.Product_Name,Quantity:this.props.sales.Quantity,Product_ID:this.props.sales.Product_ID,Measuring_Unit:this.props.sales.Measuring_Unit,Box_Id:this.props.sales.Box_Id,Selling_Date:this.props.sales.Selling_Date,Distributor:this.props.sales.Distributor,Payment_Type:this.props.sales.Payment_Type,Price:this.props.sales.Price,Final_Price:this.props.sales.Final_Price,Discount:this.props.sales.Discount,Advance:this.props.sales.Advance,Balance:this.props.sales.Balance})}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:Ei.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Edit Sales"),i.a.createElement(m.a,{style:Ei.root},i.a.createElement(m.a,{display:"flex",justifyContent:"center"},i.a.createElement(m.a,{style:Ei.lbox},i.a.createElement(m.a,{style:Ei.form},!0===this.state.progress?i.a.createElement(Y.a,{color:"primary",variant:"indeterminate",style:{marginLeft:"10px",marginBottom:"10px"}}):i.a.createElement(m.a,null),i.a.createElement(m.a,{style:Ei.boxSize2},i.a.createElement(m.a,{width:"50%",style:vi},i.a.createElement($.a,{variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement(re.a,{options:this.state.products,autoHighlight:!0,value:this.state.ProductRecord,getOptionLabel:function(t){return e.getProductName(t.product_name)},renderInput:function(e){return i.a.createElement(Z.a,Object.assign({},e,{label:"Product Name",variant:"outlined",size:"small"}))},onChange:function(t,a){null!==a&&e.setState({ProductRecord:a,Product_Name:a.Product_Name,Product_ID:a.Product_ID,Measuring_Unit:a.Measuring_Unit,Available_Stock:a.Quantity}),console.log("Product:",a)}}))),i.a.createElement(m.a,{width:"50%",style:vi},i.a.createElement(Z.a,{disabled:!0,size:"small",fullWidth:!0,variant:"outlined",label:"Product_ID",required:!0,name:"Product_ID",value:this.state.Product_ID,onChange:function(t){e.setState({Product_ID:t.target.value}),console.log(t.target.value)}}))),i.a.createElement(m.a,{style:Ei.boxSize2},i.a.createElement(m.a,{width:"100%",style:vi},i.a.createElement($.a,{variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement(ee.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Distributor"),i.a.createElement(te.a,{variant:"outlined",required:!0,name:"Distributor",disabled:this.props.disabled.Distributor,value:this.state.Distributor,onChange:function(t){e.setState({Distributor:t.target.value})}},this.state.distributors.map((function(e,t){return i.a.createElement(z.a,{selected:!0,key:t,value:e._id},e.distributor_name)})))))),i.a.createElement(m.a,{style:Ei.boxSize2},i.a.createElement(m.a,{width:"50%",style:vi},i.a.createElement(Z.a,{disabled:!0,size:"small",fullWidth:!0,variant:"outlined",label:"Quantity",required:!0,name:"Quantity",value:this.state.Quantity,onChange:function(t){var a=1;e.state.products.map((function(t){return console.log("Pro: ",e.state.Product_Name),t._id===e.state.Product_Name&&(a=parseInt(t.product_price),console.log("Procode123: ",t.product_price)),null})),e.setState({Quantity:t.target.value,Price:t.target.value*a})}})),i.a.createElement(m.a,{width:"50%",style:vi},i.a.createElement($.a,{variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement(ee.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Measuring Unit"),i.a.createElement(te.a,{disabled:!0,name:"Measuring_Unit",variant:"outlined",required:!0,value:this.state.Measuring_Unit,onChange:function(t){e.setState({Measuring_Unit:t.target.value}),console.log(t.target.value)}},this.state.measuring_units.map((function(e,t){return i.a.createElement(z.a,{selected:!0,key:t,value:e._id},e.measuring_unit_name)})))))),i.a.createElement(m.a,{style:Ei.boxSize2,display:"flex",flexDirection:"row"},i.a.createElement(m.a,{width:"100%",style:vi,flexDirection:"row",display:"flex"},this.state.Box_Id.map((function(t,a){return i.a.createElement(m.a,{display:"flex"},i.a.createElement(Z.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Box_Id",required:!0,name:"Box_Id",disabled:e.props.disabled.Box_Id,value:e.state.Box_Id[a].id,onChange:function(t){e.setState({b_id:t.target.value}),console.log(t.target.value),e.setState((function(e){e.Box_Id[a].id=e.b_id}))}}),e.state.Box_Id.length===a+1?i.a.createElement(Zt.a,{color:"secondary",style:{fontSize:"30px",margin:"4px",padding:"0px"},onClick:function(){e.setState({}),e.setState((function(e){e.Box_Id.push({id:""}),console.log(e.Box_Id)}))}}):i.a.createElement(ea.a,{color:"secondary",style:{fontSize:"30px",margin:"4px",padding:"0px"},onClick:function(){e.setState({}),e.setState((function(e){e.Box_Id.splice(a,1),console.log(e.Box_Id)}))}}))})).reverse())),i.a.createElement(m.a,{style:Ei.boxSize2},i.a.createElement(m.a,{width:"100%",style:vi},i.a.createElement(pe,{id:"4",variant:"outlined",Name:"Selling_Date",disabled:this.props.disabled.Selling_Date,value:this.state.Selling_Date,setDate:function(t){e.setState({Selling_Date:t}),console.log(t)}}))),i.a.createElement(m.a,{style:Ei.boxSize2},i.a.createElement(m.a,{width:"50%",style:vi},i.a.createElement(Z.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Discount",required:!0,name:"Discount",InputProps:{endAdornment:i.a.createElement(Lt.a,{position:"end"},"%")},disabled:this.props.disabled.Discount,value:this.state.Discount,onChange:function(t){t.persist(),e.setState({Discount:t.target.value}),e.setState((function(e){e.DiscountValue=e.Price*(t.target.value/100),e.Final_Price=e.Price-e.DiscountValue,e.Balance=e.Final_Price-e.Advance})),console.log("discount",e.state.DiscountValue),console.log("price",e.state.Price)}})),i.a.createElement(m.a,{width:"50%",style:vi},i.a.createElement(Z.a,{disabled:!0,size:"small",fullWidth:!0,variant:"outlined",label:"Total Price",required:!0,name:"Price",InputProps:{endAdornment:i.a.createElement(Lt.a,{position:"start"},this.state.currency)},value:this.state.Price}))),i.a.createElement(m.a,{style:Ei.boxSize2},i.a.createElement(m.a,{width:"50%",style:vi},i.a.createElement($.a,{variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement(ee.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Payment Type"),i.a.createElement(te.a,{variant:"outlined",required:!0,name:"Payment_Type",disabled:this.props.disabled.Payment_Type,value:this.state.Payment_Type,onChange:function(t){e.setState({Payment_Type:t.target.value})}},i.a.createElement(z.a,{value:"Payment Type",disabled:!0},"Payment Type"),i.a.createElement(z.a,{value:"By Cash"},"By Cash"),i.a.createElement(z.a,{value:"By Cheque"},"By Cheque"),i.a.createElement(z.a,{value:"Debit"},"Debit")))),i.a.createElement(m.a,{width:"50%",style:vi},i.a.createElement(Z.a,{disabled:!0,size:"small",fullWidth:!0,variant:"outlined",label:"Final_Price",required:!0,name:"Final_Price",InputProps:{endAdornment:i.a.createElement(Lt.a,{position:"start"},this.state.currency)},value:this.state.Final_Price}))),i.a.createElement(m.a,{style:Ei.boxSize2},i.a.createElement(m.a,{width:"50%",style:vi},i.a.createElement(Z.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Advance Amount",required:!0,name:"Advance",InputProps:{endAdornment:i.a.createElement(Lt.a,{position:"start"},this.state.currency)},disabled:this.props.disabled.Advance,value:this.state.Advance,onChange:function(t){e.setState({Advance:t.target.value,Balance:e.state.Final_Price-t.target.value}),console.log(t.target.value)}})),i.a.createElement(m.a,{width:"50%",style:vi},i.a.createElement(Z.a,{disabled:!0,size:"small",fullWidth:!0,variant:"outlined",label:"Balance Amount",required:!0,name:"Balance",InputProps:{endAdornment:i.a.createElement(Lt.a,{position:"start"},this.state.currency)},value:this.state.Balance}))))))),i.a.createElement(m.a,{display:" flex",pt:2,pb:2,m:0,justifyContent:"flex-end",width:"87%"},i.a.createElement(m.a,{marginRight:"10px",display:""!==this.state.Distributor?"flex":"none"},i.a.createElement(R.a,{variant:"contained",color:"primary",size:"large",onClick:function(){e.setState({distributorInfo:!0}),e.openDialog()}},"Distributor Info")),i.a.createElement(m.a,{display:" flex"},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",fontWeight:"Bold",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{marginLeft:"10px",display:this.props.disabled.btnDisplay},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",fontWeight:"bold",onClick:this.onEditHandler,disabled:this.state.subdisplay},"Update"))),i.a.createElement(J.a,{open:this.state.openDialog,maxWidth:"sm",fullWidth:!0},i.a.createElement(G.a,null,i.a.createElement(m.a,{display:"flex",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"25px",mb:3,textAlign:"center",fontWeight:"bold"},"Distributor Information"),i.a.createElement(m.a,null,this.distributorInfo()),i.a.createElement(m.a,{display:" flex",alignContent:"end",pt:2},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"small",onClick:function(){e.props.cancel()}},"Back"))))))}}]),t}(n.Component),Si=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).EditData={},a.state={columns:[{title:"Name",field:"Product_Name"},{title:"Quantity",field:"Quantity"},{title:"Measuring Unit",field:"Measuring_Unit"},{title:"Distributor",field:"Distributor"},{title:"Price",field:"Price"},{title:"Balance",field:"Balance"}],data:[],openAdd:!1,openEdit:!1,msg:"Fetching Data...",isLoading:!0,progress:0,fieldDisabled:{Product_Name:!1,Product_ID:!1,Quantity:!1,Measuring_Unit:!1,Box_Id:!1,Selling_Date:!1,Distributor:!1,Payment_Type:!1,Price:!1,Final_Price:!1,Discount:!1,Advance:!1,Balance:!1,btnDisplay:"none",btnText:"Close",products:[]}},a.OnEditHandler=function(e,t){X.a.post("/sales",{_id:t._id}).then((function(e){a.EditData=Object(F.a)({},e.data[0]),console.log(a.EditData),a.setState({openEdit:!0,progress:30})}))},a.handleClose=function(){X.a.get("/products/products").then((function(e){console.log(e),a.setState({products:Object(Q.a)(e.data.Products)}),console.log("Product: ",a.state.products)})),X.a.get("/sales").then((function(e){console.log(e.data);for(var t=function(t){e.data[t].id=t+1,X.a.post("/measuring-units/measuring-unit",{_id:e.data[t].Measuring_Unit}).then((function(n){console.log(n),n.data.MeasuringUnit[0]?(console.log(n.data.MeasuringUnit[0].measuring_unit_name),e.data[t].Measuring_Unit=n.data.MeasuringUnit[0].measuring_unit_name,a.setState({data:Object(Q.a)(e.data),progress:50})):(e.data[t].Measuring_Unit="problem loading Measuring Unit",a.setState({data:Object(Q.a)(e.data),progress:50}))})),X.a.post("/products/product",{_id:e.data[t].Product_Name}).then((function(n){console.log(n.data.Product[0].product_name),n.data.Product?(console.log(n.data.Product[0].product_name),e.data[t].Product_Name=n.data.Product[0].product_name,a.setState({data:Object(Q.a)(e.data),progress:80})):(e.data[t].Product_Name="problem loading",a.setState({data:Object(Q.a)(e.data),progress:80}))})),X.a.post("/distributors/distributor",{_id:e.data[t].Distributor}).then((function(n){console.log(n),n.data.Distributor?(console.log(n.data.Distributor[0].distributor_name),e.data[t].Distributor=n.data.Distributor[0].distributor_name,a.setState({data:Object(Q.a)(e.data),progress:100,isLoading:!1})):(e.data[t].Distributor="problem loading Distributor",a.setState({data:Object(Q.a)(e.data),progress:100,isLoading:!1}))}))},n=0;n<e.data.length;n++)t(n);0>=e.data.length&&a.setState({progress:100,msg:"Data Not Found!",isLoading:!1})}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.handleClose()}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Manage Sales"),i.a.createElement(m.a,{width:"90%",display:"flex",flexDirection:"row"},i.a.createElement(R.a,{variant:"contained",color:"primary",style:{marginBottom:"20px",display:"flex",marginRight:"10px"},size:"large",onClick:function(){e.setState({openAdd:!0})}},"Add")),i.a.createElement(H.a,{title:" ",isLoading:this.state.isLoading,columns:this.state.columns,data:this.state.data,style:{width:"90%",maxHeight:"500px",overflow:"auto"},localization:{body:{emptyDataSourceMessage:this.state.msg}},components:{OverlayLoading:function(t){return i.a.createElement(Y.a,{variant:"determinate",value:e.state.progress})}},options:{sorting:!0,headerStyle:{backgroundColor:"#3f51b5",color:"#FFF",fontSize:"medium",fontWeight:"bold"}},actions:[{icon:"edit",tooltip:"Edit",onClick:function(t,a){e.setState({fieldDisabled:{Product_Name:!1,Product_ID:!1,Quantity:!1,Measuring_Unit:!1,Box_Id:!1,Selling_Date:!1,Distributor:!1,Payment_Type:!1,Price:!1,Final_Price:!1,Discount:!1,Advance:!1,Balance:!1,btnDisplay:"flex",btnText:"Cancel"}}),e.OnEditHandler(t,a)}}],onRowClick:function(t,a){e.setState({fieldDisabled:{Product_Name:!0,Product_ID:!0,Quantity:!0,Measuring_Unit:!0,Box_Id:!0,Selling_Date:!0,Distributor:!0,Payment_Type:!0,Price:!0,Final_Price:!0,Discount:!0,Advance:!0,Balance:!0,btnDisplay:"none",btnText:"Close"}}),e.OnEditHandler(t,a)}}),i.a.createElement(J.a,{open:this.state.openAdd,maxWidth:"lg",fullWidth:!0},i.a.createElement(G.a,null,i.a.createElement(bi,{cancel:function(){e.setState({openAdd:!1})}}))),i.a.createElement(J.a,{open:this.state.openEdit,maxWidth:"lg",fullWidth:!0},i.a.createElement(G.a,null,i.a.createElement(xi,{sales:this.EditData,disabled:this.state.fieldDisabled,ProductRecord:function(){var t=[];return e.state.products.map((function(a){return a._id===e.EditData.Product_Name&&(t=a),null})),t},cancel:function(){e.setState({openEdit:!1})}}))))}}]),t}(n.Component),Ci=Tn,wi={marginRight:"6px",marginLeft:"6px"},Di=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={mvalue:0,_id:"",QC_Type:"",Product_Name:"",Product_ID:"",Batch_Id:"",Measuring_Unit:"",Quantity:"",Id_Type:"",Id:"",QC_Id:"",Box_Id:"",I_Capacity:0,B_Capacity:0,Method:[],QC_Date:null,Result:"",Comments:"",Status:"Ready to QC",products:[],errors:[],measuring_units:[],methods:[],productcodes:[],lastid:0,lastvalue:"",boxlastid:0,prefixcode:"",boxprefixcode:"",boxcodes:[],dates:[],display:"none",disable:!0,subdisplay:!1,progress:!1,Redirect:!1},a.onEditHandler=function(){(0!==a.state.I_Capacity||0!==a.state.B_Capacity)&&""!==a.state.Box_Id&&""!==a.state.Id&&""!==a.state.Id_Type&&null!==a.state.QC_Date&&a.state.mvalue>0&&void 0!==a.state.Result||""!==a.state.QC_Id&&a.state.mvalue>0&&void 0!==a.state.Result&&null!==a.state.QC_Date?(a.setState({subdisplay:!0,progress:!0}),X.a.post("/quality-check/add",{_id:a.state._id,QC_Type:a.state.QC_Type,Product_Name:a.state.Product_Name,Product_ID:a.state.Product_ID,Batch_Id:a.state.Batch_Id,Measuring_Unit:a.state.Measuring_Unit,Quantity:a.state.Quantity,Method:a.state.methods,Id_Type:a.state.Id_Type,Id:a.state.Id,QC_Id:a.state.QC_Id,Box_Id:a.state.Box_Id,I_Capacity:a.state.I_Capacity,B_Capacity:a.state.B_Capacity,QC_Date:a.state.QC_Date,Result:a.state.Result,Comments:a.state.Comments,Status:a.state.Status}).then((function(e){console.log(e),a.setState({progress:!1}),a.setState({Redirect:!0}),a.props.cancel()})).catch((function(e){return console.log(e)}))):alert("Please check all the fields are entered properly")},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;X.a.get("/measuring-units/measuring-units").then((function(t){console.log(t),e.setState({measuring_units:Object(Q.a)(t.data.MeasuringUnits)}),X.a.get("/products/products").then((function(t){console.log(t),e.setState({products:Object(Q.a)(t.data.Products)})})),X.a.get("/qc-method").then((function(t){console.log("qc----",t),e.setState({methods:Object(Q.a)(t.data)})})),X.a.get("/product-code").then((function(t){console.log("productcodes",t.data.ProductCode),e.setState({productcodes:Object(Q.a)(t.data.ProductCode),prefixcode:t.data.ProductCode[0].code_prefix+t.data.ProductCode[0].code_separator})})),X.a.get("/box-code").then((function(t){console.log("boxcodes",t.data.BoxCode),e.setState({boxcodes:Object(Q.a)(t.data.BoxCode),boxprefixcode:t.data.BoxCode[0].code_prefix+t.data.BoxCode[0].code_separator}),console.log("concode:",t.data.BoxCode[0].code_prefix+t.data.BoxCode[0].code_separator)})),X.a.get("/quality-check/lastcode").then((function(t){console.log("Lastcodes",t),console.log("data1",t.data.length),0!==t.data.length?(console.log("data",t.data.length),e.setState({lastid:t.data.Id[t.data.Id.length-1].split("-")[1]})):e.setState({lastid:0}),console.log("Lastid",e.state.lastid)})),X.a.get("/quality-check/blcode").then((function(t){console.log("BoxLastcodes",t),console.log("boxid",t.data.Box_Id),0!==t.data.length?e.setState({boxlastid:t.data.Box_Id[t.data.Box_Id.length-1].split("-")[1]}):e.setState({boxlastid:0}),console.log("boxLastid",e.state.boxlastid)})),"Ready for QC"===e.state.Status||"Ready to Product QC"===e.state.Status?e.setState({QC_Type:"Product"}):e.setState({QC_Type:"Packing"})})),this.setState({QC_Type:this.props.qualitycheck.QC_Type,Product_Name:this.props.qualitycheck.Product_Name,Product_ID:this.props.qualitycheck.Product_ID,Batch_Id:this.props.qualitycheck.Batch_Id,Quantity:this.props.qualitycheck.Quantity,Id_Type:this.props.qualitycheck.Id_Type,Id:this.props.qualitycheck.Id,Box_Id:this.props.qualitycheck.Box_Id,I_Capacity:this.props.qualitycheck.I_Capacity,B_Capacity:this.props.qualitycheck.B_Capacity,Measuring_Unit:this.props.qualitycheck.Measuring_Unit,Method:this.props.qualitycheck.Method,QC_Date:this.state.QC_Date,Result:this.props.qualitycheck.Result,Comments:this.props.qualitycheck.Comments,Status:this.props.qualitycheck.Status})}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:Ci.box},!0===this.state.Redirect?i.a.createElement(Sa.a,{to:"/home/production/manage-qc"}):i.a.createElement(m.a,null),i.a.createElement(m.a,{fontSize:"30px",mb:3},"Quality Check"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:Ci.box_msg,bgcolor:"#f73067",key:t},e)})):!0===this.state.success?i.a.createElement(m.a,{bgcolor:"#3df45b",style:Ci.box_msg},"Successful"):null,i.a.createElement(m.a,{style:Ci.root},i.a.createElement(m.a,{display:"flex",justifyContent:"center"},i.a.createElement(m.a,{style:Ci.lbox},i.a.createElement(m.a,{style:Ci.form},!0===this.state.progress?i.a.createElement(Y.a,{color:"primary",variant:"indeterminate",style:{marginLeft:"10px",marginBottom:"10px"}}):i.a.createElement(m.a,null),i.a.createElement(m.a,{style:Ci.boxSize2},i.a.createElement(m.a,{width:"100%",style:wi},i.a.createElement(Z.a,{size:"small",fullWidth:!0,disabled:!0,variant:"outlined",label:"Quality Check Type",required:!0,name:"QC_Type",value:this.state.QC_Type,onChange:function(t){e.setState({QC_Type:t.target.value,disable:!0})}}))),i.a.createElement(m.a,{style:Ci.boxSize2},i.a.createElement(m.a,{width:"100%",style:wi},i.a.createElement(Z.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Batch_Id",required:!0,disabled:!0,name:"Batch_Id",value:this.state.Batch_Id,onChange:function(t){e.setState({Batch_Id:t.target.value}),console.log(t.target.value)}}))),i.a.createElement(m.a,{style:Ci.boxSize2},i.a.createElement(m.a,{width:"50%",style:wi},i.a.createElement($.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement(ee.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Product Name"),i.a.createElement(te.a,{variant:"outlined",required:!0,disabled:!0,name:"Product_Name",value:this.state.Product_Name,onChange:function(t){var a;e.state.products.map((function(e){return e._id===t.target.value&&(a=e.product_code,console.log("Procode: ",a)),null})),e.setState({Product_Name:t.target.value,Id:a})}},this.state.products.map((function(e,t){return i.a.createElement(z.a,{key:t,value:e._id},e.product_name)}))))),i.a.createElement(m.a,{width:"50%",style:wi},i.a.createElement(Z.a,{size:"small",fullWidth:!0,disabled:!0,variant:"outlined",label:"Product_ID",required:!0,name:"Product_ID",value:this.state.Product_ID,onChange:function(t){e.setState({Product_ID:t.target.value}),console.log(t.target.value)}}))),i.a.createElement(m.a,{style:Ci.boxSize2},i.a.createElement(m.a,{width:"50%",style:wi},i.a.createElement(Z.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Quantity",required:!0,disabled:!0,name:"Quantity",value:this.state.Quantity,onChange:function(t){e.setState({Quantity:t.target.value})}})),i.a.createElement(m.a,{width:"50%",style:wi},i.a.createElement($.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement(ee.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Measuring Unit"),i.a.createElement(te.a,{name:"Measuring_Unit",variant:"outlined",required:!0,disabled:!0,value:this.state.Measuring_Unit,onChange:function(t){e.setState({Measuring_Unit:t.target.value})}},this.state.measuring_units.map((function(e,t){return i.a.createElement(z.a,{selected:!0,key:t,value:e._id},e.measuring_unit_name)})))))),"Packing"===this.state.QC_Type?i.a.createElement(m.a,{style:Ci.boxSize2},i.a.createElement(m.a,{width:"50%",style:wi},i.a.createElement($.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement(ee.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Id Type"),i.a.createElement(te.a,{variant:"outlined",required:!0,name:"Id_Type",value:this.state.Id_Type,onChange:function(t){e.setState({Id_Type:t.target.value})}},i.a.createElement(z.a,{value:"Id Type",disabled:!0},"Id Type"),i.a.createElement(z.a,{value:"Individual"},"Individual"),i.a.createElement(z.a,{value:"Box"},"Box")))),i.a.createElement(m.a,{width:"50%",style:wi},i.a.createElement(Z.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Box Capacity",required:!0,name:"B_Capacity",value:this.state.B_Capacity,onChange:function(t){e.setState({B_Capacity:t.target.value});for(var a,n=[],i=1;i<=t.target.value;i++)a=e.state.boxprefixcode+(parseInt(e.state.boxlastid)+i),n.push(a);e.setState({Box_Id:n}),console.log("ids",n),console.log("ids+",a)}})),i.a.createElement(m.a,{width:"50%",style:wi},i.a.createElement(Z.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Individual Capacity",required:!0,name:"I_Capacity",value:this.state.I_Capacity,onChange:function(t){e.setState({I_Capacity:t.target.value});for(var a,n=[],i=1;i<=t.target.value;i++)a=e.state.prefixcode+(parseInt(e.state.lastid)+i),n.push(a);e.setState({Id:n}),console.log("ids",n),console.log("ids+",a)}}))):null,"Packing"===this.state.QC_Type?i.a.createElement(m.a,{style:Ci.boxSize2},i.a.createElement(m.a,{width:"100%",style:wi},i.a.createElement(Z.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Box Id",required:!0,name:"Box_Id",value:this.state.Box_Id,onChange:function(t){e.setState({Box_Id:t.target.value})}}))):null,"Packing"===this.state.QC_Type?i.a.createElement(m.a,{style:Ci.boxSize2},i.a.createElement(m.a,{width:"100%",style:wi},i.a.createElement(Z.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Individual Id",required:!0,name:"Id",value:this.state.Id,onChange:function(t){e.setState({Id:t.target.value})}}))):i.a.createElement(m.a,{style:Ci.boxSize2},i.a.createElement(m.a,{width:"100%",style:wi},i.a.createElement(Z.a,{size:"small",fullWidth:!0,variant:"outlined",label:"QC Id",required:!0,name:"QC_Id",value:this.state.QC_Id,onChange:function(t){e.setState({QC_Id:t.target.value})}}))),i.a.createElement(m.a,{style:Ci.boxSize2},i.a.createElement(m.a,{width:"100%",style:wi},i.a.createElement(pe,{id:"4",variant:"outlined",Name:"QC_Date",label:"QC_Date",value:this.state.QC_Date,setDate:function(t){e.setState({QC_Date:t,disable:!0})}}))),i.a.createElement(m.a,{style:wi},i.a.createElement("h4",null,"Testing Methods:"),i.a.createElement(m.a,{display:"flex",flexWrap:"wrap",maxHeight:"200px",overflow:"auto",border:"1px solid #cfcccc",padding:"5px",marginLeft:"5px",borderRadius:"4px",alignSelf:"center",style:wi},this.state.methods.map((function(t,a){return i.a.createElement(m.a,{display:"flex",key:a},i.a.createElement(Re.a,{control:i.a.createElement(Me.a,{key:a,checked:t.Value,name:"Method",value:e.state.Method,onClick:function(a){t.Value=!t.Value,console.log(t.Value),!0===t.Value&&e.setState({mvalue:e.state.mvalue+1}),!1===t.Value&&e.setState({mvalue:e.state.mvalue-1}),e.setState({methods:Object(Q.a)(e.state.methods),Method:a.target.value}),console.log("methods",e.state.methods)},Value:"".concat(t.Value)}),label:"".concat(t.Method_Name)}))})))),i.a.createElement(m.a,{style:Ci.boxSize2},i.a.createElement(m.a,{width:"100%",style:wi},i.a.createElement("h4",null,"Status:"),i.a.createElement($.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement(ee.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Result Status"),i.a.createElement(te.a,{variant:"outlined",required:!0,name:"Result",value:this.state.Result,onChange:function(t){e.state.mvalue>0?(console.log(e.state.mvalue),console.log("result",e.state.Result),e.setState({Result:t.target.value,disable:!1})):alert("Please Check The Method")}},i.a.createElement(z.a,{value:"Result Status",disabled:!0},"Result Status"),i.a.createElement(z.a,{value:"Pass"},"Pass"),i.a.createElement(z.a,{value:"Fail"},"Fail"))))),i.a.createElement(m.a,{style:Ci.boxSize2},i.a.createElement(m.a,{style:wi,display:"flex",alignItems:"center",width:"100%"},i.a.createElement(Z.a,{size:"small",multiline:!0,variant:"outlined",fullWidth:!0,label:"Comments",rowsMax:"3",name:"Comments",value:this.state.Comments,onChange:function(t){e.setState({Comments:t.target.value})}}))))))),i.a.createElement(m.a,{display:" flex",pt:2,pb:2,m:0,justifyContent:"flex-end",width:"87%"},i.a.createElement(m.a,{display:" flex"},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",fontWeight:"Bold",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{marginLeft:"10px"},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",fontWeight:"bold",onClick:this.onEditHandler,disabled:this.state.subdisplay},"submit"))))}}]),t}(n.Component),Ri=Tn,Mi={marginRight:"6px",marginLeft:"6px"},ki=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={_id:"",QC_Type:"",Product_Name:"",Product_ID:"",Measuring_Unit:"",Quantity:"",Id_Type:"",Id:"",QC_Id:"",Box_Id:"",I_Capacity:"",B_Capacity:"",Method:[],QC_Date:null,Result:"",Comments:"",Status:"",products:[],errors:[],measuring_units:[],methods:[],lastid:"",lastvalue:"",boxlastid:"",prefixcode:"",boxprefixcode:"",boxcodes:[],display:"none",subdisplay:!1,progress:!0},a.onEditHandler=function(){""!==a.state.QC_Type&&("Packing"===a.state.QC_Type?""!==a.state.I_Capacity&&""!==a.state.B_Capacity&&""!==a.state.Box_Id&&""!==a.state.Id&&""!==a.state.Id_Type&&""!==a.state.QC_Date?(a.setState({subdisplay:!0,progress:!0}),X.a.post("/quality-check/add",{_id:a.state._id,QC_Type:a.state.QC_Type,Product_Name:a.state.Product_Name,Product_ID:a.state.Product_ID,Batch_Id:a.state.Batch_Id,Measuring_Unit:a.state.Measuring_Unit,Quantity:a.state.Quantity,Method:a.state.methods,Id_Type:a.state.Id_Type,Id:a.state.Id,QC_Id:a.state.QC_Id,Box_Id:a.state.Box_Id,I_Capacity:a.state.I_Capacity,B_Capacity:a.state.B_Capacity,QC_Date:a.state.QC_Date,Result:a.state.Result,Comments:a.state.Comments,Status:a.state.Status})):alert("Please check all the fields are entered properly"):"Product"===a.state.QC_Type&&(""!==a.state.QC_Id&&""!==a.state.QC_Date?(a.setState({subdisplay:!0,progress:!0}),X.a.post("/quality-check/add",{_id:a.state._id,QC_Type:a.state.QC_Type,Product_Name:a.state.Product_Name,Product_ID:a.state.Product_ID,Batch_Id:a.state.Batch_Id,Measuring_Unit:a.state.Measuring_Unit,Quantity:a.state.Quantity,Method:a.state.methods,Id_Type:a.state.Id_Type,Id:a.state.Id,QC_Id:a.state.QC_Id,Box_Id:a.state.Box_Id,I_Capacity:a.state.I_Capacity,B_Capacity:a.state.B_Capacity,QC_Date:a.state.QC_Date,Result:a.state.Result,Comments:a.state.Comments,Status:a.state.Status}).then((function(e){console.log(e.data),a.setState({progress:!0}),a.props.cancel()})).catch((function(e){return console.log(e)}))):alert("Please check all the fields are entered properly")))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;X.a.get("/measuring-units/measuring-units").then((function(t){console.log(t),e.setState({measuring_units:Object(Q.a)(t.data.MeasuringUnits)}),X.a.get("/products/products").then((function(t){console.log(t),e.setState({products:Object(Q.a)(t.data.Products)})})),X.a.get("/qc-method").then((function(t){console.log("qc----",t),e.setState({methods:Object(Q.a)(t.data)})}))})),X.a.get("/product-code").then((function(t){console.log("productcodes",t.data.ProductCode),e.setState({productcodes:Object(Q.a)(t.data.ProductCode),prefixcode:t.data.ProductCode[0].code_prefix+t.data.ProductCode[0].code_separator})})),X.a.get("/box-code").then((function(t){console.log("boxcodes",t.data.BoxCode),e.setState({boxcodes:Object(Q.a)(t.data.BoxCode),boxprefixcode:t.data.BoxCode[0].code_prefix+t.data.BoxCode[0].code_separator,progress:!1}),console.log("concode:",t.data.BoxCode[0].code_prefix+t.data.BoxCode[0].code_separator)})),this.setState({_id:this.props.qualitycheck._id,QC_Type:this.props.qualitycheck.QC_Type,Product_Name:this.props.qualitycheck.Product_Name,Product_ID:this.props.qualitycheck.Product_ID,Quantity:this.props.qualitycheck.Quantity,Id_Type:this.props.qualitycheck.Id_Type,Id:this.props.qualitycheck.Id,QC_Id:this.props.qualitycheck.QC_Id,Box_Id:this.props.qualitycheck.Box_Id,I_Capacity:this.props.qualitycheck.I_Capacity,B_Capacity:this.props.qualitycheck.B_Capacity,Measuring_Unit:this.props.qualitycheck.Measuring_Unit,Method:this.props.qualitycheck.Method,QC_Date:this.props.qualitycheck.QC_Date,Result:this.props.qualitycheck.Result,Comments:this.props.qualitycheck.Comments,Status:this.props.qualitycheck.Status})}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:Ri.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Quality Check"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:Ri.box_msg,bgcolor:"#f73067",key:t},e)})):!0===this.state.success?i.a.createElement(m.a,{bgcolor:"#3df45b",style:Ri.box_msg},"Successful"):null,i.a.createElement(m.a,{style:Ri.root},i.a.createElement(m.a,{display:"flex",justifyContent:"center"},i.a.createElement(m.a,{style:Ri.lbox},i.a.createElement(m.a,{style:Ri.form},!0===this.state.progress?i.a.createElement(Y.a,{color:"primary",variant:"indeterminate",style:{marginLeft:"10px",marginBottom:"10px"}}):i.a.createElement(m.a,null),i.a.createElement(m.a,{style:Ri.boxSize2},i.a.createElement(m.a,{width:"100%",style:Mi},i.a.createElement($.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement(ee.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Qualitycheck Type"),i.a.createElement(te.a,{disabled:this.props.disabled.QC_Type,variant:"outlined",required:!0,name:"QC_Type",value:this.state.QC_Type,onChange:function(t){e.setState({QC_Type:t.target.value})}},i.a.createElement(z.a,{value:"Qualitycheck Type",disabled:!0},"Qualitycheck Type"),i.a.createElement(z.a,{value:"Product"},"Product"),i.a.createElement(z.a,{value:"Packing"},"Packing"))))),i.a.createElement(m.a,{style:Ri.boxSize2},i.a.createElement(m.a,{width:"50%",style:Mi},i.a.createElement($.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement(ee.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Item Name"),i.a.createElement(te.a,{disabled:this.props.disabled.Product_Name,variant:"outlined",required:!0,name:"Product_Name",value:this.state.Product_Name,onChange:function(t){var a;e.state.products.map((function(e){return e._id===t.target.value&&(a=e.product_code,console.log("Procode: ",a)),null})),e.setState({Product_Name:t.target.value,Id:a})}},this.state.products.map((function(e,t){return i.a.createElement(z.a,{key:t,value:e._id},e.product_name)}))))),i.a.createElement(m.a,{width:"50%",style:Mi},i.a.createElement(Z.a,{disabled:this.props.disabled.Product_ID,size:"small",fullWidth:!0,variant:"outlined",label:"Product_ID",required:!0,name:"Product_ID",value:this.state.Product_ID,onChange:function(t){e.setState({Product_ID:t.target.value}),console.log(t.target.value)}}))),i.a.createElement(m.a,{style:Ri.boxSize2},i.a.createElement(m.a,{width:"50%",style:Mi},i.a.createElement(Z.a,{disabled:this.props.disabled.Quantity,size:"small",fullWidth:!0,variant:"outlined",label:"Quantity",required:!0,name:"Quantity",value:this.state.Quantity,onChange:function(t){e.setState({Quantity:t.target.value})}})),i.a.createElement(m.a,{width:"50%",style:Mi},i.a.createElement($.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement(ee.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Measuring Unit"),i.a.createElement(te.a,{disabled:this.props.disabled.Measuring_Unit,name:"Measuring_Unit",variant:"outlined",required:!0,value:this.state.Measuring_Unit,onChange:function(t){e.setState({Measuring_Unit:t.target.value})}},this.state.measuring_units.map((function(e,t){return i.a.createElement(z.a,{selected:!0,key:t,value:e._id},e.measuring_unit_name)})))))),"Packing"===this.state.QC_Type?i.a.createElement(m.a,{style:Ri.boxSize2},i.a.createElement(m.a,{width:"50%",style:Mi},i.a.createElement($.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement(ee.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Id Type"),i.a.createElement(te.a,{disabled:this.props.disabled.Id_Type,variant:"outlined",required:!0,name:"Id_Type",value:this.state.Id_Type,onChange:function(t){e.setState({Id_Type:t.target.value})}},i.a.createElement(z.a,{value:"Id Type",disabled:!0},"Id Type"),i.a.createElement(z.a,{value:"Individual"},"Individual"),i.a.createElement(z.a,{value:"Box"},"Box")))),i.a.createElement(m.a,{width:"50%",style:Mi},i.a.createElement(Z.a,{disabled:this.props.disabled.B_Capacity,size:"small",fullWidth:!0,variant:"outlined",label:"Box Capacity",required:!0,name:"B_Capacity",value:this.state.B_Capacity,onChange:function(t){e.setState({B_Capacity:t.target.value})}})),i.a.createElement(m.a,{width:"50%",style:Mi},i.a.createElement(Z.a,{disabled:this.props.disabled.I_Capacity,size:"small",fullWidth:!0,variant:"outlined",label:"Individual Capacity",required:!0,name:"I_Capacity",value:this.state.I_Capacity,onChange:function(t){e.setState({I_Capacity:t.target.value})}}))):null,"Packing"===this.state.QC_Type?i.a.createElement(m.a,{style:Ri.boxSize2},i.a.createElement(m.a,{width:"100%",style:Mi},i.a.createElement(Z.a,{disabled:this.props.disabled.Box_Id,size:"small",fullWidth:!0,variant:"outlined",label:"Box Id",required:!0,name:"Box_Id",value:this.state.Box_Id,onChange:function(t){e.setState({Box_Id:t.target.value})}}))):null,"Packing"===this.state.QC_Type?i.a.createElement(m.a,{style:Ri.boxSize2},i.a.createElement(m.a,{width:"100%",style:Mi},i.a.createElement(Z.a,{disabled:this.props.disabled.Id,size:"small",fullWidth:!0,variant:"outlined",label:"Individual Id",required:!0,name:"Id",value:this.state.Id,onChange:function(t){e.setState({Id:t.target.value})}}))):i.a.createElement(m.a,{style:Ri.boxSize2},i.a.createElement(m.a,{width:"100%",style:Mi},i.a.createElement(Z.a,{disabled:this.props.disabled.QC_Id,size:"small",fullWidth:!0,variant:"outlined",label:"QC Id",required:!0,name:"QC_Id",value:this.state.QC_Id,onChange:function(t){e.setState({QC_Id:t.target.value})}}))),i.a.createElement(m.a,{style:Ri.boxSize2},i.a.createElement(m.a,{width:"100%",style:Mi},i.a.createElement(pe,{disabled:this.props.disabled.QC_Date,id:"4",variant:"outlined",Name:"QC_Date",value:this.state.QC_Date,setDate:function(t){e.setState({QC_Date:t})}}))),i.a.createElement(m.a,{style:Mi},i.a.createElement("h4",null,"Testing Methods:"),i.a.createElement(m.a,{display:"flex",flexWrap:"wrap",maxHeight:"200px",overflow:"auto",border:"1px solid #cfcccc",padding:"5px",marginLeft:"5px",borderRadius:"4px",alignSelf:"center",style:Mi},this.state.Method.map((function(t,a){return i.a.createElement(m.a,{display:"flex",key:a},i.a.createElement(Re.a,{control:i.a.createElement(Me.a,{disabled:e.props.disabled.Method,checked:t.Value,name:"Method",value:e.state.Method,onClick:function(a){t.Value=!t.Value,e.setState({methods:Object(Q.a)(e.state.methods),Method:a.target.value}),console.log("methods",e.state.methods)},Value:"".concat(t.Value)}),label:"".concat(t.Method_Name)}))})))),i.a.createElement(m.a,{style:Ri.boxSize2},i.a.createElement(m.a,{width:"100%",style:Mi},i.a.createElement("h4",null,"Status:"),i.a.createElement($.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement(ee.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Result Status"),i.a.createElement(te.a,{disabled:this.props.disabled.Result,variant:"outlined",required:!0,name:"Result",value:this.state.Result,onChange:function(t){e.setState({Result:t.target.value})}},i.a.createElement(z.a,{value:"Result Status",disabled:!0},"Result Status"),i.a.createElement(z.a,{value:"Pass"},"Pass"),i.a.createElement(z.a,{value:"Fail"},"Fail"))))),i.a.createElement(m.a,{style:Ri.boxSize2},i.a.createElement(m.a,{style:Mi,display:"flex",alignItems:"center",width:"100%"},i.a.createElement(Z.a,{disabled:this.props.disabled.Comments,size:"small",multiline:!0,variant:"outlined",fullWidth:!0,label:"Comments",rowsMax:"3",name:"Comments",value:this.state.Comments,onChange:function(t){e.setState({Comments:t.target.value})}}))))))),i.a.createElement(m.a,{display:" flex",pt:2,pb:2,m:0,justifyContent:"flex-end",width:"87%"},i.a.createElement(m.a,{display:" flex"},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",fontWeight:"Bold",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{marginLeft:"10px",display:this.props.disabled.btnDisplay},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",fontWeight:"bold",onClick:this.onEditHandler,disabled:this.state.subdisplay},"update"))))}}]),t}(n.Component),Oi=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).EditData={},a.state={columns:[{title:"QC Type",field:"QC_Type"},{title:"Name",field:"Product_Name"},{title:"Quantity",field:"Quantity"},{title:"Measuring Unit",field:"Measuring_Unit"},{title:"Result",field:"Result"}],data:[],msg:"Fetching Data...",isLoading:!0,progress:0,openAdd:!1,openEdit:!1,fieldDisabled:{QC_Type:!1,Product_Name:!1,Product_ID:!1,Measuring_Unit:!1,Quantity:!1,Id_Type:!1,Id:!1,Box_Id:!1,QC_Id:!1,I_Capacity:!1,B_Capacity:!1,Method:!1,QC_Date:!1,Result:!1,Comments:!1,btnDisplay:"none",btnText:"Close"}},a.OnEditHandler=function(e,t){X.a.post("/quality-check",{_id:t._id}).then((function(e){a.EditData=Object(F.a)({},e.data[0]),console.log(a.EditData),a.setState({openEdit:!0,progress:40,msg:"Data Not Found..."})}))},a.handleClose=function(){X.a.get("/quality-check").then((function(e){console.log(e.data);for(var t=function(t){e.data[t].id=t+1,X.a.post("/measuring-units/measuring-unit",{_id:e.data[t].Measuring_Unit}).then((function(n){console.log(n),n.data.MeasuringUnit[0]?(console.log(n.data.MeasuringUnit[0].measuring_unit_name),e.data[t].Measuring_Unit=n.data.MeasuringUnit[0].measuring_unit_name,a.setState({data:Object(Q.a)(e.data),progress:60,msg:"Data Not Found..."})):(e.data[t].Measuring_Unit="problem loading Measuring Unit",a.setState({data:Object(Q.a)(e.data),progress:60,msg:"Data Not Found..."}))})),X.a.post("/products/product",{_id:e.data[t].Product_Name}).then((function(n){n.data.Product?(console.log(n),console.log(n.data.Product[0].product_name),e.data[t].Product_Name=n.data.Product[0].product_name,a.setState({data:Object(Q.a)(e.data),progress:80,msg:"Data Not Found..."})):(e.data[t].Product_Name="problem loading",a.setState({data:Object(Q.a)(e.data),progress:80,msg:"Data Not Found..."}))})),X.a.post("/raw-materials/raw-material",{_id:e.data[t].Raw_Material_Id}).then((function(n){console.log(n),n.data.RawMaterial[0]?(console.log(n.data.RawMaterial[0].raw_material_name),e.data[t].Raw_Material_Id=n.data.RawMaterial[0].raw_material_name,a.setState({data:Object(Q.a)(e.data),progress:100,msg:"Data Not Found...",isLoading:!1})):(e.data[t].Raw_Material_Id="problem loading",a.setState({data:Object(Q.a)(e.data),progress:100,msg:"Data Not Found...",isLoading:!1}))}))},n=0;n<e.data.length;n++)t(n);0>=e.data.length&&a.setState({progress:100,msg:"Data Not Found!",isLoading:!1})}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.handleClose()}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Manage Quality Check"),i.a.createElement(H.a,{title:" ",isLoading:this.state.isLoading,columns:this.state.columns,data:this.state.data,style:{width:"90%",maxHeight:"500px",overflow:"auto"},localization:{body:{emptyDataSourceMessage:this.state.msg}},components:{OverlayLoading:function(t){return i.a.createElement(Y.a,{variant:"determinate",value:e.state.progress})}},options:{sorting:!0,headerStyle:{backgroundColor:"#3f51b5",color:"#FFF",fontSize:"medium",fontWeight:"bold"}},actions:[{icon:"edit",tooltip:"Edit",onClick:function(t,a){e.setState({fieldDisabled:{QC_Type:!1,Product_Name:!1,Product_ID:!1,Measuring_Unit:!1,Quantity:!1,Id_Type:!1,Id:!1,QC_Date:!1,Result:!1,Comments:!1,Box_Id:!1,QC_Id:!1,I_Capacity:!1,B_Capacity:!1,Method:!1,btnDisplay:"flex",btnText:"Cancel"}}),e.OnEditHandler(t,a)}}],editable:{onRowDelete:function(t){return X.a.post("/quality-check/delete",{_id:t._id}).then((function(a){console.log(a),a&&e.setState((function(e){var a=Object(Q.a)(e.data);return a.splice(a.indexOf(t),1),Object(F.a)({},e,{data:a})}))}))}},onRowClick:function(t,a){e.setState({fieldDisabled:{QC_Type:!0,Product_Name:!0,Product_ID:!0,Measuring_Unit:!0,Quantity:!0,Id_Type:!0,Id:!0,QC_Date:!0,Result:!0,Comments:!0,Box_Id:!0,QC_Id:!0,I_Capacity:!0,B_Capacity:!0,Method:!0,btnDisplay:"none",btnText:"Close"}}),e.OnEditHandler(t,a)}}),i.a.createElement(J.a,{open:this.state.openAdd,maxWidth:"lg",fullWidth:!0},i.a.createElement(G.a,null,i.a.createElement(Di,{qualitycheck:this.EditData,cancel:function(){e.setState({openAdd:!1})}}))),i.a.createElement(J.a,{open:this.state.openEdit,maxWidth:"lg",fullWidth:!0},i.a.createElement(G.a,null,i.a.createElement(ki,{disabled:this.state.fieldDisabled,qualitycheck:this.EditData,cancel:function(){e.setState({openEdit:!1})}}))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%",marginRight:"40px"},i.a.createElement(m.a,{width:"100px"},i.a.createElement(f.b,{to:"/home/production/manage-quality-check"},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",fontWeight:"Bold",style:{textDecoration:"none"}},"Back")))))}}]),t}(n.Component),ji=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).EditData={},a.state={columns:[{title:"Batch ID",field:"Batch_Id"},{title:"Product Name",field:"Product_Name"},{title:"Quantity",field:"Quantity"},{title:"Measuring Unit",field:"Measuring_Unit"},{title:"Status",field:"Status"}],data:[],openAdd:!1,openEdit:!1,msg:"Fetching Data...",isLoading:!0,progress:0},a.OnEditHandler=function(e,t){X.a.post("/production",{_id:t._id}).then((function(e){console.log(e.data[0]),a.EditData=Object(F.a)({},e.data[0]),console.log(a.EditData),a.setState({openEdit:!0,progress:40})}))},a.handleClose=function(){X.a.get("/production/qc").then((function(e){console.log("production--",e.data);for(var t=function(t){e.data[t].id=t+1,X.a.post("/measuring-units/measuring-unit",{_id:e.data[t].Measuring_Unit}).then((function(n){console.log(n),n.data.MeasuringUnit[0]?(console.log(n.data.MeasuringUnit[0].measuring_unit_name),e.data[t].Measuring_Unit=n.data.MeasuringUnit[0].measuring_unit_name,a.setState({data:Object(Q.a)(e.data),progress:70})):(e.data[t].Productions.Measuring_Unit="problem loading Measuring Unit",a.setState({data:Object(Q.a)(e.data),progress:70}))})),X.a.post("/products/product",{_id:e.data[t].Product_Name}).then((function(n){console.log(n.data.Product[0].product_name),n.data.Product?(console.log(n.data.Product[0].product_name),e.data[t].Product_Name=n.data.Product[0].product_name,a.setState({data:Object(Q.a)(e.data),progress:100,isLoading:!1})):(e.data[t].Product_Name="problem loading",a.setState({data:Object(Q.a)(e.data),progress:100,isLoading:!1}))}))},n=0;n<e.data.length;n++)t(n);0>=e.data.length&&a.setState({progress:100,msg:"Data Not Found!",isLoading:!1})}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.handleClose()}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Product List for QC"),i.a.createElement(H.a,{title:" ",isLoading:this.state.isLoading,columns:this.state.columns,data:this.state.data,style:{width:"90%",maxHeight:"500px",overflow:"auto"},localization:{body:{emptyDataSourceMessage:this.state.msg}},components:{OverlayLoading:function(t){return i.a.createElement(Y.a,{variant:"determinate",value:e.state.progress})}},options:{sorting:!0,headerStyle:{backgroundColor:"#3f51b5",color:"#FFF",fontSize:"medium",fontWeight:"bold"}},actions:[{icon:"playlist_add_check_two_tone",tooltip:"Quality Check",onClick:function(t,a){"Product QC Failed"!==a.Status&&"Packing QC Failed"!==a.Status?e.OnEditHandler(t,a):alert("Waiting for Production Check")}}]}),i.a.createElement(J.a,{open:this.state.openEdit,maxWidth:"lg",fullWidth:!0},i.a.createElement(G.a,null,i.a.createElement(Di,{qualitycheck:this.EditData,cancel:function(){e.setState({openEdit:!1}),e.handleClose()}}))))}}]),t}(n.Component),zi=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).EditData={},a.state={columns:[{title:"Product ID",field:"Product_ID"},{title:"Product Name",field:"Product_Name"},{title:"Quantity",field:"Quantity"},{title:"Measuring Unit",field:"Measuring_Unit"}],data:[],openAdd:!1,openEdit:!1,msg:"Fetching Data...",isLoading:!0,progress:0},a.handleClose=function(){X.a.get("/production-stock/stock").then((function(e){console.log("hello",e.data);for(var t=function(t){e.data[t].id=t+1,console.log("hello",e.data),X.a.post("/measuring-units/measuring-unit",{_id:e.data[t].Measuring_Unit}).then((function(n){console.log(n),n.data.MeasuringUnit[0]?(console.log(n.data.MeasuringUnit[0].measuring_unit_name),e.data[t].Measuring_Unit=n.data.MeasuringUnit[0].measuring_unit_name,a.setState({data:Object(Q.a)(e.data),progress:50}),console.log("hello",e.data)):(e.data[t].Measuring_Unit="problem loading Measuring Unit",a.setState({data:Object(Q.a)(e.data),progress:50}))})),X.a.post("/products/product",{_id:e.data[t].Product_Name}).then((function(n){console.log(n.data.Product[0].product_name),n.data.Product?(console.log(n.data.Product[0].product_name),e.data[t].Product_Name=n.data.Product[0].product_name,a.setState({data:Object(Q.a)(e.data),progress:100,isLoading:!1})):(e.data[t].Product_Name="problem loading",a.setState({data:Object(Q.a)(e.data),progress:100,isLoading:!1}))}))},n=0;n<e.data.length;n++)t(n);0>=e.data.length&&a.setState({progress:100,msg:"Data Not Found!",isLoading:!1})}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.handleClose()}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",mb:8},"Production Stock"),i.a.createElement(H.a,{title:" ",isLoading:this.state.isLoading,columns:this.state.columns,data:this.state.data,style:{width:"90%",maxHeight:"500px",overflow:"auto"},localization:{body:{emptyDataSourceMessage:this.state.msg}},components:{OverlayLoading:function(t){return i.a.createElement(Y.a,{variant:"determinate",value:e.state.progress})}},options:{sorting:!0,headerStyle:{backgroundColor:"#3f51b5",color:"#FFF",fontSize:"medium",fontWeight:"bold"}}}))}}]),t}(n.Component),Pi=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).EditData={},a.state={columns:[{title:"Material Name",field:"Raw_Material_Id"},{title:"Material Code",field:"Raw_Material_Code"},{title:"Quantity",field:"Quantity"},{title:"Measuring Unit",field:"Measuring_Unit"}],data:[],msg:"Fetching Data...",isLoading:!0,progress:0,openAdd:!1,openEdit:!1,open:!1,alert:!1,fieldDisabled:{Raw_Material_Id:!1,Raw_Material_Code:!1,Quantity:!1,Measuring_Unit:!1,btnDisplay:"none",btnText:"Close"}},a.closeAlert=function(){a.setState({alert:!1})},a.OnEditHandler=function(e,t){X.a.post("/production-raw-material-stock",{_id:t._id}).then((function(e){console.log(e.data[0]),a.EditData=Object(F.a)({},e.data[0]),console.log(a.EditData),a.setState({openEdit:!0,progress:50})}))},a.handleClose=function(){X.a.get("/production-raw-material-stock").then((function(e){console.log(e.data);for(var t=function(t){e.data[t].id=t+1,X.a.post("/measuring-units/measuring-unit",{_id:e.data[t].Measuring_Unit}).then((function(n){console.log(n),n.data.MeasuringUnit[0]?(console.log(n.data.MeasuringUnit[0].measuring_unit_name),e.data[t].Measuring_Unit=n.data.MeasuringUnit[0].measuring_unit_name,a.setState({data:Object(Q.a)(e.data),progress:80})):(e.data[t].Measuring_Unit="problem loading Measuring Unit",a.setState({data:Object(Q.a)(e.data),progress:80}))})),X.a.post("/raw-materials/raw-material",{_id:e.data[t].Raw_Material_Id}).then((function(n){console.log(n),n.data.RawMaterial[0]?(console.log(n.data.RawMaterial[0].raw_material_name),e.data[t].Raw_Material_Id=n.data.RawMaterial[0].raw_material_name,a.setState({data:Object(Q.a)(e.data),progress:100,isLoading:!1})):(e.data[t].Raw_Material_Id="problem loading",a.setState({data:Object(Q.a)(e.data),progress:100,isLoading:!1}))}))},n=0;n<e.data.length;n++)t(n);0>=e.data.length&&a.setState({progress:100,msg:"Data Not Found!",isLoading:!1})}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.handleClose()}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Raw Material stock"),i.a.createElement(H.a,{title:" ",isLoading:this.state.isLoading,columns:this.state.columns,data:this.state.data,style:{width:"90%",maxHeight:"500px",overflow:"auto"},localization:{body:{emptyDataSourceMessage:this.state.msg}},components:{OverlayLoading:function(t){return i.a.createElement(Y.a,{variant:"determinate",value:e.state.progress})}},options:{sorting:!0,headerStyle:{backgroundColor:"#3f51b5",color:"#FFF",fontSize:"medium",fontWeight:"bold"}}}))}}]),t}(n.Component),Ii=Tn,Wi={marginRight:"6px",marginLeft:"6px"},qi=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={_id:"",Raw_Material_Id:"",Raw_Material_Code:"",Quantity:"",Measuring_Unit:"",Priority:"",Due_Date:null,Status:"Requesting",Comments:"-",errors:[],openAdd:!1,success:!1,measuring_units:[],materials:[],code:"",subdisplay:!1,progress:!1,materialRecord:[]},a.onAddHandler=function(){""!==a.state.Raw_Material_Id&&""!==a.state.Quantity&&""!==a.state.Priority&&null!==a.state.Due_Date?(a.setState({subdisplay:!0,progress:!0}),X.a.post("/production-unit/add",{_id:a.state._id,Raw_Material_Id:a.state.Raw_Material_Id,Raw_Material_Code:a.state.Raw_Material_Code,Quantity:a.state.Quantity,Measuring_Unit:a.state.Measuring_Unit,Priority:a.state.Priority,Due_Date:a.state.Due_Date,Status:a.state.Status,Comments:a.state.Comments,Created_By:{Employee_Id:sessionStorage.getItem("User ID"),Role_Id:sessionStorage.getItem("Role ID")},logs:{from:"Production Unit",to:"Production",comments:a.state.Comments}}).then((function(e){a.setState({progress:!0}),a.props.cancel()}))):alert("Please check all the fields are entered properly")},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;X.a.get("/measuring-units/measuring-units").then((function(t){console.log(t),e.setState({measuring_units:Object(Q.a)(t.data.MeasuringUnits)})})),X.a.get("/raw-material").then((function(t){console.log(t),e.setState({materials:Object(Q.a)(t.data.RawMaterials)})}))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:Ii.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Add unit Request"),i.a.createElement(m.a,{style:Ii.root},i.a.createElement(m.a,{display:"flex",justifyContent:"center"},i.a.createElement(m.a,{style:Ii.lbox},i.a.createElement(m.a,{style:Ii.form},!0===this.state.progress?i.a.createElement(Y.a,{color:"primary",variant:"indeterminate",style:{marginLeft:"10px",marginBottom:"10px"}}):i.a.createElement(m.a,null),i.a.createElement(m.a,{style:Ii.boxSize2},i.a.createElement(m.a,{width:"50%",style:Wi},i.a.createElement($.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement(re.a,{options:this.state.materials,autoHighlight:!0,value:this.state.materialRecord,getOptionLabel:function(e){return e.raw_material_name},renderInput:function(e){return i.a.createElement(Z.a,Object.assign({},e,{label:"Raw Material",variant:"outlined",size:"small"}))},onChange:function(t,a){console.log("materialRecord:",a),console.log("stateRecord:",e.state.materialRecord),null!==a&&e.setState({materialRecord:a,Raw_Material_Id:a._id,Raw_Material_Code:a.raw_material_code,Measuring_Unit:a.raw_material_measuring_unit})}}))),i.a.createElement(m.a,{width:"50%",style:Wi},i.a.createElement(Z.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Material_Code",required:!0,name:"Raw_Material_Code",value:this.state.Raw_Material_Code,onChange:function(t){e.setState({Raw_Material_Code:t.target.value}),console.log(t.target.value)}}))),i.a.createElement(m.a,{style:Ii.boxSize2},i.a.createElement(m.a,{width:"50%",style:Wi},i.a.createElement(Z.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Quantity",required:!0,name:"Quantity",value:this.state.Quantity,onChange:function(t){e.setState({Quantity:t.target.value})}})),i.a.createElement(m.a,{width:"50%",style:Wi},i.a.createElement($.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement(ee.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Measuring Unit"),i.a.createElement(te.a,{name:"Measuring_Unit",variant:"outlined",required:!0,value:this.state.Measuring_Unit,onChange:function(t){e.setState({Measuring_Unit:t.target.value}),console.log(t.target.value)}},this.state.measuring_units.map((function(e,t){return i.a.createElement(z.a,{selected:!0,key:t,value:e._id},e.measuring_unit_name)})))))),i.a.createElement(m.a,{style:Ii.boxSize2},i.a.createElement(m.a,{width:"50%",style:Wi},i.a.createElement($.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement(ee.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Priority"),i.a.createElement(te.a,{variant:"outlined",required:!0,name:"Priority",value:this.state.Priority,onChange:function(t){e.setState({Priority:t.target.value})}},i.a.createElement(z.a,{value:"Priority",disabled:!0},"Priority"),i.a.createElement(z.a,{value:"Low"},"Low"),i.a.createElement(z.a,{value:"Medium"},"Medium"),i.a.createElement(z.a,{value:"High"},"High")))),i.a.createElement(m.a,{width:"50%",style:Wi},i.a.createElement(pe,{id:"4",variant:"outlined",Name:"Due_Date",value:this.state.Due_Date,setDate:function(t){e.setState({Due_Date:t}),console.log(t)}}))),i.a.createElement(m.a,{style:Ii.boxSize2},i.a.createElement(m.a,{width:"100%",style:Wi},i.a.createElement(Z.a,{disabled:!0,size:"small",fullWidth:!0,variant:"outlined",label:"Status",required:!0,name:"Status",value:this.state.Status,onChange:function(t){e.setState({Status:t.target.value})}}))),i.a.createElement(m.a,{style:Ii.boxSize2},i.a.createElement(m.a,{width:"100%",style:Wi},i.a.createElement(Z.a,{multiline:!0,size:"small",rowsMax:"3",variant:"outlined",fullWidth:!0,label:"Comments",value:this.state.Comments,onChange:function(t){e.setState({Comments:t.target.value}),console.log(t.target.value)}}))))))),i.a.createElement(m.a,{display:" flex",pt:2,pb:2,m:0,justifyContent:"flex-end",width:"87%"},i.a.createElement(m.a,{display:" flex"},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",fontWeight:"Bold",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{marginLeft:"10px"},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",fontSize:"20px",onClick:function(){e.onAddHandler()},disabled:this.state.subdisplay},"Submit"))))}}]),t}(n.Component),Ui=Tn,Ti={marginRight:"6px",marginLeft:"6px"},Li=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={_id:"",Raw_Material_Id:"Raw_material_Id",Raw_Material_Code:"",Quantity:"",Measuring_Unit:"",Priority:"",Due_Date:null,Status:"Requesting",Comments:"",errors:[],success:!1,measuring_units:[],materials:[],code:"",subdisplay:!1,progress:!0,ProductRecord:[]},a.onEditHandler=function(){""!==a.state.Raw_Material_Id&&""!==a.state.Quantity&&""!==a.state.Priority&&null!==a.state.Due_Date?(a.setState({subdisplay:!0,progress:!0}),X.a.post("/production-unit/edit",{MaterialRecord:a.props.MaterialRecord(),_id:a.state._id,Raw_Material_Id:a.state.Raw_Material_Id,Raw_Material_Code:a.state.Raw_Material_Code,Quantity:a.state.Quantity,Measuring_Unit:a.state.Measuring_Unit,Priority:a.state.Priority,Due_Date:a.state.Due_Date,Status:a.state.Status,Comments:a.state.Comments,logs:{from:"Production Unit",to:"Production",comments:a.state.Comments}}).then((function(e){console.log(e.data),a.setState({progress:!0}),a.props.cancel()})).catch((function(e){return console.log(e)}))):alert("Please check all the fields are entered properly")},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;X.a.get("/raw-material").then((function(t){console.log(t),e.setState({materials:Object(Q.a)(t.data.RawMaterials)}),X.a.get("/measuring-units/measuring-units").then((function(t){console.log(t),e.setState({measuring_units:Object(Q.a)(t.data.MeasuringUnits),progress:!1}),e.setState({_id:e.props.unit._id,Raw_Material_Id:e.props.unit.Raw_Material_Id,Raw_Material_Code:e.props.unit.Raw_Material_Code,Quantity:e.props.unit.Quantity,Measuring_Unit:e.props.unit.Measuring_Unit,Priority:e.props.unit.Priority,Due_Date:e.props.unit.Due_Date,Status:e.props.unit.Status,Comments:e.props.unit.Comments})}))}))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:Ui.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Edit unit Request"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:Ui.box_msg,bgcolor:"#f73067",key:t},e)})):!0===this.state.success?i.a.createElement(m.a,{bgcolor:"#3df45b",style:Ui.box_msg},"Successful"):null,i.a.createElement(m.a,{style:Ui.root},i.a.createElement(m.a,{display:"flex",justifyContent:"center"},i.a.createElement(m.a,{style:Ui.lbox},i.a.createElement(m.a,{style:Ui.form},!0===this.state.progress?i.a.createElement(Y.a,{color:"primary",variant:"indeterminate",style:{marginLeft:"10px",marginBottom:"10px"}}):i.a.createElement(m.a,null),i.a.createElement(m.a,{style:Ui.boxSize2},i.a.createElement(m.a,{width:"50%",style:Ti},i.a.createElement($.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement(re.a,{options:this.state.materials,autoHighlight:!0,value:this.state.materialRecord,getOptionLabel:function(e){return e.raw_material_name},renderInput:function(e){return i.a.createElement(Z.a,Object.assign({},e,{label:"Raw Material",variant:"outlined",size:"small"}))},onChange:function(t,a){console.log("materialRecord:",a),console.log("stateRecord:",e.state.materialRecord),null!==a&&e.setState({materialRecord:a,Raw_Material_Id:a._id,Raw_Material_Code:a.raw_material_code,Measuring_Unit:a.raw_material_measuring_unit})}}))),i.a.createElement(m.a,{width:"50%",style:Ti},i.a.createElement(Z.a,{disabled:this.props.disabled.Raw_Material_Code,size:"small",fullWidth:!0,variant:"outlined",label:"Material_Code",required:!0,name:"Material_Code",value:this.state.Raw_Material_Code,onChange:function(t){e.setState({Material_Code:t.target.value}),console.log(t.target.value)}}))),i.a.createElement(m.a,{style:Ui.boxSize2},i.a.createElement(m.a,{width:"50%",style:Ti},i.a.createElement(Z.a,{disabled:this.props.disabled.Quantity,size:"small",fullWidth:!0,variant:"outlined",label:"Quantity",required:!0,name:"Quantity",value:this.state.Quantity,onChange:function(t){e.setState({Quantity:t.target.value})}})),i.a.createElement(m.a,{width:"50%",style:Ti},i.a.createElement($.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement(ee.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Measuring Unit"),i.a.createElement(te.a,{disabled:this.props.disabled.Measuring_Unit,name:"Measuring_Unit",variant:"outlined",required:!0,value:this.state.Measuring_Unit,onChange:function(t){e.setState({Measuring_Unit:t.target.value}),console.log(t.target.value)}},this.state.measuring_units.map((function(e,t){return i.a.createElement(z.a,{selected:!0,key:t,value:e._id},e.measuring_unit_name)})))))),i.a.createElement(m.a,{style:Ui.boxSize2},i.a.createElement(m.a,{width:"50%",style:Ti},i.a.createElement($.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement(ee.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Priority"),i.a.createElement(te.a,{disabled:this.props.disabled.Priority,variant:"outlined",required:!0,name:"Priority",value:this.state.Priority,onChange:function(t){e.setState({Priority:t.target.value})}},i.a.createElement(z.a,{value:"Priority",disabled:!0},"Priority"),i.a.createElement(z.a,{value:"Low"},"Low"),i.a.createElement(z.a,{value:"Medium"},"Medium"),i.a.createElement(z.a,{value:"High"},"High")))),i.a.createElement(m.a,{width:"50%",style:Ti},i.a.createElement(pe,{disabled:this.props.disabled.Due_Date,id:"4",variant:"outlined",Name:"Due_Date",value:this.state.Due_Date,setDate:function(t){e.setState({Due_Date:t}),console.log(t)}}))),i.a.createElement(m.a,{style:Ui.boxSize2},i.a.createElement(m.a,{width:"100%",style:Ti},i.a.createElement(Z.a,{disabled:!0,size:"small",fullWidth:!0,variant:"outlined",label:"Status",required:!0,name:"Status",value:this.state.Status,onChange:function(t){e.setState({Status:t.target.value})}}))),i.a.createElement(m.a,{style:Ui.boxSize2},i.a.createElement(m.a,{width:"100%",style:Ti},i.a.createElement(Z.a,{disabled:this.props.disabled.Comments,size:"small",multiline:!0,rowsMax:"3",variant:"outlined",fullWidth:!0,label:"Comments",value:this.state.Comments,onChange:function(t){e.setState({Comments:t.target.value}),console.log(t.target.value)}}))))))),i.a.createElement(m.a,{display:" flex",pt:2,pb:2,m:0,justifyContent:"flex-end",width:"87%"},i.a.createElement(m.a,{display:" flex"},i.a.createElement(R.a,{variant:"contained",color:"primary",size:"large",fontWeight:"Bold",onClick:function(){e.props.cancel()}},this.props.disabled.btnText)),i.a.createElement(m.a,{marginLeft:"10px",display:this.props.disabled.btnDisplay},i.a.createElement(R.a,{variant:"contained",color:"primary",size:"large",fontWeight:"bold",onClick:this.onEditHandler,disabled:this.state.subdisplay},"Update"))))}}]),t}(n.Component),Ai=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).EditData={},a.state={columns:[{title:"Material Name",field:"Raw_Material_Id"},{title:"Quantity",field:"Quantity"},{title:"Measuring Unit",field:"Measuring_Unit"},{title:"Priority",field:"Priority"},{title:"Status",field:"Status"}],data:[],materials:[],materialList:[],unitList:[],openAdd:!1,openEdit:!1,open:!1,alert:!1,fieldDisabled:{Raw_Material_Id:!1,Raw_Material_Code:!1,Quantity:!1,Measuring_Unit:!1,Priority:!1,Due_Date:!1,Status:!1,Comments:!1,btnDisplay:"none",btnText:"Close",msg:"Fetching Data...",isLoading:!0,progress:0}},a.closeAlert=function(){a.setState({alert:!1})},a.OnEditHandler=function(e,t){X.a.post("/production-unit",{_id:t._id}).then((function(e){console.log(e.data[0]),a.EditData=Object(F.a)({},e.data[0]),console.log(a.EditData),a.setState({openEdit:!0,progress:30})})),a.getMaterialName=function(e){var t=e;return a.state.materialList.map((function(a){return a._id===e&&(t=a.raw_material_name),null})),t},a.getUnit=function(e){var t=e;return a.state.unitList.map((function(a){return a._id===e&&(t=a.measuring_unit_name),null})),t}},a.handleClose=function(){X.a.get("/raw-material").then((function(e){console.log(e),a.setState({materials:Object(Q.a)(e.data.RawMaterials)})})),X.a.get("/production-unit").then((function(e){console.log(e.data);for(var t=function(t){e.data[t].id=t+1,X.a.post("/measuring-units/measuring-unit",{_id:e.data[t].Measuring_Unit}).then((function(n){console.log(n),n.data.MeasuringUnit[0]?(console.log(n.data.MeasuringUnit[0].measuring_unit_name),e.data[t].Measuring_Unit=n.data.MeasuringUnit[0].measuring_unit_name,a.setState({data:Object(Q.a)(e.data),msg:"Data Not Found...",progress:60})):(e.data[t].Measuring_Unit="problem loading Measuring Unit",a.setState({data:Object(Q.a)(e.data),msg:"Data Not Found...",progress:60}))})),X.a.post("/raw-material",{_id:e.data[t].Raw_Material_Id}).then((function(n){console.log(n),n.data.RawMaterial[0]?(console.log(n.data.RawMaterial[0].raw_material_name),e.data[t].Raw_Material_Id=n.data.RawMaterial[0].raw_material_name,a.setState({data:Object(Q.a)(e.data),msg:"Data Not Found...",progress:100,isLoading:!1})):(e.data[t].Raw_Material_Id="problem loading",a.setState({data:Object(Q.a)(e.data),msg:"Data Not Found...",progress:100,isLoading:!1}))}))},n=0;n<e.data.length;n++)t(n);0>=e.data.length&&a.setState({progress:100,msg:"Data Not Found!",isLoading:!1})}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.handleClose()}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Manage Unit Request"),i.a.createElement(m.a,{width:"90%",display:"flex",flexDirection:"row"},i.a.createElement(R.a,{variant:"contained",color:"primary",style:{marginBottom:"20px",display:"flex",marginRight:"10px"},size:"large",onClick:function(){e.setState({openAdd:!0})}},"Add")),i.a.createElement(H.a,{title:" ",isLoading:this.state.isLoading,columns:this.state.columns,data:this.state.data,style:{width:"90%",maxHeight:"500px",overflow:"auto"},localization:{body:{emptyDataSourceMessage:this.state.msg}},components:{OverlayLoading:function(t){return i.a.createElement(Y.a,{variant:"determinate",value:e.state.progress})}},options:{sorting:!0,headerStyle:{backgroundColor:"#3f51b5",color:"#FFF",fontSize:"medium",fontWeight:"bold"}},actions:[{icon:"edit",tooltip:"Edit",onClick:function(t,a){"Requesting"===a.Status?(e.setState({fieldDisabled:{Raw_Material_Id:!1,Raw_Material_Code:!1,Quantity:!1,Measuring_Unit:!1,Priority:!1,Due_Date:!1,Status:!1,Comments:!1,btnDisplay:"flex",btnText:"Cancel"}}),e.OnEditHandler(t,a)):e.setState({alert:!0})}}],onRowClick:function(t,a){e.setState({fieldDisabled:{Raw_Material_Id:!0,Raw_Material_Code:!0,Quantity:!0,Measuring_Unit:!0,Priority:!0,Due_Date:!0,Status:!0,Comments:!0,btnDisplay:"none",btnText:"Close"}}),e.OnEditHandler(t,a)}}),i.a.createElement(J.a,{open:this.state.openAdd,maxWidth:"lg",fullWidth:!0},i.a.createElement(G.a,null,i.a.createElement(qi,{cancel:function(){e.setState({openAdd:!1}),e.handleClose()}}))),i.a.createElement(J.a,{open:this.state.openEdit,maxWidth:"lg",fullWidth:!0},i.a.createElement(G.a,null,i.a.createElement(Li,{disabled:this.state.fieldDisabled,unit:this.EditData,MaterialRecord:function(){var t=[];return e.state.materials.map((function(a){return a._id===e.EditData.Raw_Material_Id&&(t=a),null})),t},cancel:function(){e.setState({openEdit:!1}),e.handleClose()}}))),i.a.createElement(we.a,{open:this.state.alert,autoHideDuration:3e3,anchorOrigin:{vertical:"bottom",horizontal:"center"},onClose:this.closeAlert},i.a.createElement(De.a,{variant:"filled",severity:"error",onClose:this.closeAlert},"You cannot Modify / Delete this Record")))}}]),t}(n.Component),Ni=Tn,Bi=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={Method_Name:"",Description:"",Value:!1},a.onAddHandler=function(){console.log(""),X.a.post("/qc-method/add",{Method_Name:a.state.Method_Name,Value:a.state.Value,Description:a.state.Description}).then((function(e){console.log(e),a.props.cancel()}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:Ni.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Add Method"),i.a.createElement(m.a,{style:Ni.box_field},i.a.createElement(Z.a,{name:"Method_Name",fullWidth:!0,size:"small",required:!0,value:this.state.Method_Name,variant:"outlined",label:"Method Name",type:"text",onChange:function(t){e.setState({Method_Name:t.target.value}),console.log(t)}})),i.a.createElement(m.a,{style:Ni.box_field},i.a.createElement(Z.a,{name:"Value",fullWidth:!0,size:"small",required:!0,value:this.state.Value,variant:"outlined",label:"Value",type:"text",onChange:function(t){e.setState({Value:t.target.value}),console.log(t)}})),i.a.createElement(m.a,{style:Ni.box_field},i.a.createElement(Z.a,{name:"Description",size:"small",multiline:!0,rowsMax:4,fullWidth:!0,required:!0,value:this.state.Description,variant:"outlined",label:"Description",type:"text",onChange:function(t){e.setState({Description:t.target.value})}})),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:this.onAddHandler},"Add"))))}}]),t}(n.Component),Qi=Tn,Fi=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={_id:"",Method_Name:"",Value:!1,description:"",errors:[],isValid:!1},a.onEditHandler=function(){X.a.post("/qc-method/edit",{_id:a.state._id,Method_Name:a.state.Method_Name,Value:a.state.Value,Description:a.state.Description}).then((function(e){console.log(e),a.props.cancel()}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){""===this.state.Method_Name&&this.setState({Method_Name:this.props.Method.Method_Name,Value:this.props.Method.Value,Description:this.props.Method.Description,_id:this.props.Method._id})}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:Qi.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Edit Method"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:Qi.box_msg,bgcolor:"#f73067",key:t},e)})):!0===this.state.success?i.a.createElement(m.a,{bgcolor:"#3df45b",style:Qi.box_msg},"Registration Successful"):null,i.a.createElement(m.a,{style:Qi.box_field},i.a.createElement(Z.a,{name:"Method_Name",size:"small",fullWidth:!0,required:!0,value:this.state.Method_Name,variant:"outlined",label:"Method Name",type:"text",onChange:function(t){e.setState({Method_Name:t.target.value})}})),i.a.createElement(m.a,{style:Qi.box_field},i.a.createElement(Z.a,{name:"Value",fullWidth:!0,size:"small",required:!0,value:this.state.Value,variant:"outlined",label:"Value",type:"text",onChange:function(t){e.setState({Value:t.target.value}),console.log(t)}})),i.a.createElement(m.a,{style:Qi.box_field},i.a.createElement(Z.a,{name:"Description",size:"small",multiline:!0,rowsMax:4,fullWidth:!0,required:!0,value:this.state.Description,variant:"outlined",label:"Description",type:"text",onChange:function(t){e.setState({Description:t.target.value})}})),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:this.onEditHandler},"Update"))))}}]),t}(n.Component),Vi=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).EditData={},a.state={columns:[{title:"ID",field:"id"},{title:"Method Name",field:"Method_Name"},{title:"Value",field:"Value"},{title:"Description",field:"Description"}],data:[],openAdd:!1,openEdit:!1,openUploadCSV:!1},a.OnEditHandler=function(e,t){X.a.post("/qc-method",{_id:t._id}).then((function(e){console.log(e),a.EditData=Object(F.a)({},e.data[0]),console.log(a.EditData),a.setState({openEdit:!0})}))},a.handleClose=function(){X.a.get("/qc-method").then((function(e){console.log(e.data);for(var t=0;t<e.data.length;t++)e.data[t].id=t+1;a.setState({data:Object(Q.a)(e.data)})}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.handleClose()}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Manage Method"),i.a.createElement(m.a,{width:"90%",display:"flex",flexDirection:"row"},i.a.createElement(R.a,{variant:"contained",color:"primary",style:{marginBottom:"20px",display:"flex",marginRight:"10px"},size:"large",onClick:function(){e.setState({openAdd:!0})}},"Add")),i.a.createElement(H.a,{title:" ",columns:this.state.columns,data:this.state.data,style:{width:"90%",maxHeight:"500px",overflow:"auto"},options:{sorting:!0,headerStyle:{backgroundColor:"#3f51b5",color:"#FFF"}},actions:[{icon:"edit",tooltip:"Edit User",onClick:function(t,a){e.OnEditHandler(t,a)}}],editable:{onRowDelete:function(t){return X.a.post("/qc-method/delete",{_id:t._id}).then((function(a){console.log(a),a&&e.setState((function(e){var a=Object(Q.a)(e.data);return a.splice(a.indexOf(t),1),Object(F.a)({},e,{data:a})}))}))}},onRowClick:function(t,a){e.OnEditHandler(t,a)}}),i.a.createElement(J.a,{open:this.state.openAdd,maxWidth:"lg",fullWidth:!0},i.a.createElement(G.a,{style:{padding:"20px"}},i.a.createElement(Bi,{cancel:function(){e.setState({openAdd:!1}),e.handleClose()}}))),i.a.createElement(J.a,{open:this.state.openEdit,maxWidth:"lg",fullWidth:!0},i.a.createElement(G.a,{style:{padding:"20px"}},i.a.createElement(Fi,{Method:this.EditData,cancel:function(){e.setState({openEdit:!1}),e.handleClose()}}))))}}]),t}(n.Component),Hi=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={width:"17vw",dashboardItems:[]},a.permissions=JSON.parse(sessionStorage.getItem("permissions")),a.contents=["Manage PreProduction","Manage Production","Manage Quality Check","Manage Wastage","Manage Product Stock","Manage Sales","Manage Unit Request","Manage Raw Material Request","Manage Raw Material Stock","Manage Unit","Manage Method"],a.logout=function(){E.logout()&&a.props.history.push("/")},a.dashboardMin=function(){a.setState({width:".1px"})},a.home=function(){a.props.history.push("/home")},a.dashboardMax=function(){a.setState({width:"17vw"})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.contents.map((function(t){if(e.permissions.find((function(e){return e===t}))){var a=t.toLowerCase().replace(/ /g,"-");e.setState({}),e.setState((function(e){e.dashboardItems.push({Name:t,Path:a})}))}return null}))}},{key:"render",value:function(){return i.a.createElement(m.a,null,i.a.createElement(N,{name:"Production",logout:this.logout,home:this.home,dashboardMax:this.dashboardMax,dashboardMin:this.dashboardMin}),i.a.createElement(m.a,{display:"flex"},i.a.createElement(b,{items:this.state.dashboardItems,componentName:"home/production",width:this.state.width,dashboardMin:this.dashboardMin}),i.a.createElement(m.a,{display:"flex",flexDirection:"column",alignItems:"center",width:"100%",marginTop:"10px"},i.a.createElement(Sa.b,{exact:!0,path:"/home/production/manage-preproduction",component:Vn}),i.a.createElement(Sa.b,{exact:!0,path:"/home/production/manage-production",component:Zn}),i.a.createElement(Sa.b,{exact:!0,path:"/home/production/manage-raw-material-request",component:oi}),i.a.createElement(Sa.b,{exact:!0,path:"/home/production/manage-wastage",component:mi}),i.a.createElement(Sa.b,{exact:!0,path:"/home/production/manage-unit-request",component:fi}),i.a.createElement(Sa.b,{exact:!0,path:"/home/production/manage-sales",component:Si}),i.a.createElement(Sa.b,{exact:!0,path:"/home/production/manage-quality-check",component:ji}),i.a.createElement(Sa.b,{path:"/home/production/manage-qc",component:Oi}),i.a.createElement(Sa.b,{exact:!0,path:"/home/production/manage-product-stock",component:zi}),i.a.createElement(Sa.b,{exact:!0,path:"/home/production/manage-raw-material-stock",component:Pi}),i.a.createElement(Sa.b,{exact:!0,path:"/home/production/manage-unit",component:Ai}),i.a.createElement(Sa.b,{exact:!0,path:"/home/production/manage-method",component:Vi}))))}}]),t}(n.Component),Yi=oe,Gi=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={code_prefix:"",code_separator:"",errors:[],success:!1,dataReceived:!1},a.onEditHandler=function(){a.setState({dataReceived:!1}),X.a.post("/product-code/edit-product-code",{_id:"5e61d45fa171c936c86002fb",code_prefix:a.state.code_prefix,code_separator:a.state.code_separator}).then((function(e){console.log(e),e.data.errors.length>0?(console.log(e.data.errors),a.setState({errors:Object(Q.a)(e.data.errors),success:!1,dataReceived:!0})):a.setState({errors:Object(Q.a)(e.data.errors),success:!0,dataReceived:!0})})).catch((function(e){return console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;le(this.props,"Product Code")&&(this.setState({dataReceived:!1}),X.a.post("/product-code/product-code",{_id:"5e61d45fa171c936c86002fb"}).then((function(t){e.setState({code_prefix:t.data.ProductCode[0].code_prefix,code_separator:t.data.ProductCode[0].code_separator,dataReceived:!0})})))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:Yi.box,marginTop:"30px"},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Product Code"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:Yi.box_msg,bgcolor:"#f73067",key:t},e)})):!0===this.state.success?i.a.createElement(m.a,{bgcolor:"#3df45b",style:Yi.box_msg},"Success"):null,i.a.createElement(m.a,{width:"94%"},this.state.dataReceived?null:i.a.createElement(Y.a,null)),i.a.createElement(ie,null,i.a.createElement(m.a,{style:Yi.box_field},i.a.createElement(m.a,{style:Yi.box,marginRight:"10px"},i.a.createElement(Z.a,{fullWidth:!0,required:!0,value:this.state.code_prefix,variant:"outlined",label:"code Prefix",type:"text",onChange:function(t){e.setState({code_prefix:t.target.value})}})),i.a.createElement(m.a,{style:Yi.box},i.a.createElement(Z.a,{fullWidth:!0,required:!0,value:this.state.code_separator,variant:"outlined",label:"code separator",type:"text",onChange:function(t){e.setState({code_separator:t.target.value})}})))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{width:"100px"},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:this.onEditHandler},"Save"))))}}]),t}(n.Component),Ji=oe,Ki=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={currency_type:"",currency_separator:"",errors:[],success:!1,dataReceived:!1},a.onEditHandler=function(){a.setState({dataReceived:!1}),X.a.post("/currency/edit-currency",{_id:"5eb2a1fcfcdc3a03f401855e",currency_type:a.state.currency_type,currency_separator:a.state.currency_separator}).then((function(e){console.log(e),e.data.errors.length>0?(console.log(e.data.errors),a.setState({errors:Object(Q.a)(e.data.errors),success:!1,dataReceived:!0})):a.setState({errors:Object(Q.a)(e.data.errors),success:!0,dataReceived:!0})})).catch((function(e){return console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;le(this.props,"Currency")&&(this.setState({dataReceived:!1}),X.a.post("/currency/currency",{_id:"5eb2a1fcfcdc3a03f401855e"}).then((function(t){e.setState({currency_type:t.data.Currency[0].currency_type,currency_separator:t.data.Currency[0].currency_separator,dataReceived:!0})})))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:Ji.box,marginTop:"30px"},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Currency"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:Ji.box_msg,bgcolor:"#f73067",key:t},e)})):!0===this.state.success?i.a.createElement(m.a,{bgcolor:"#3df45b",style:Ji.box_msg},"Success"):null,i.a.createElement(m.a,{width:"94%"},this.state.dataReceived?null:i.a.createElement(Y.a,null)),i.a.createElement(ie,null,i.a.createElement(m.a,{style:Ji.box_field},i.a.createElement(m.a,{style:Ji.box,marginRight:"10px"},i.a.createElement(Z.a,{fullWidth:!0,required:!0,value:this.state.currency_type,variant:"outlined",label:"Currency Type",type:"text",onChange:function(t){console.log(t.target.value),e.setState({currency_type:t.target.value})}})),i.a.createElement(m.a,{style:Ji.box},i.a.createElement(Z.a,{fullWidth:!0,required:!0,value:this.state.currency_separator,variant:"outlined",label:"Currency Separator",type:"text",onChange:function(t){e.setState({currency_separator:t.target.value})}})))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{width:"100px"},i.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:this.onEditHandler},"Save"))))}}]),t}(n.Component),Xi=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={width:"17vw",dashboardItems:[]},a.permissions=JSON.parse(sessionStorage.getItem("permissions")),a.contents=["Product Code","Currency"],a.logout=function(){E.logout()&&a.props.history.push("/")},a.home=function(){a.props.history.push("/home")},a.dashboardMin=function(){a.setState({width:".1px"})},a.dashboardMax=function(){a.setState({width:"17vw"})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.contents.map((function(t){if(e.permissions.find((function(e){return e===t}))){var a=t.toLowerCase().replace(/ /g,"-");e.setState({}),e.setState((function(e){e.dashboardItems.push({Name:t,Path:a})}))}return null}))}},{key:"render",value:function(){return i.a.createElement(m.a,null,i.a.createElement(N,{name:"Configurations",logout:this.logout,home:this.home,dashboardMax:this.dashboardMax,dashboardMin:this.dashboardMin}),i.a.createElement(m.a,{display:"flex"},i.a.createElement(b,{items:this.state.dashboardItems,componentName:"home/configurations",width:this.state.width,dashboardMin:this.dashboardMin}),i.a.createElement(m.a,{display:"flex",flexDirection:"column",alignItems:"center",width:"100%",marginTop:"10px"},i.a.createElement(Sa.b,{exact:!0,path:"/home/configurations/product-code",component:Gi}),i.a.createElement(Sa.b,{exact:!0,path:"/home/configurations/currency",component:Ki}))))}}]),t}(n.Component);var Zi=function(){return i.a.createElement(f.a,null,i.a.createElement(Sa.b,{path:"/",exact:!0,component:ja}),i.a.createElement(Pa,{exact:!0,path:"/home",component:B}),i.a.createElement(Pa,{path:"/home/management",component:wa}),i.a.createElement(Pa,{path:"/home/requests",component:Xa}),i.a.createElement(Pa,{path:"/home/reports",component:mn}),i.a.createElement(Pa,{path:"/home/configurations",component:Xi}),i.a.createElement(Pa,{path:"/home/purchase",component:zn}),i.a.createElement(Pa,{path:"/home/finance",component:Un}),i.a.createElement(Pa,{path:"/home/production",component:Hi}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(i.a.createElement(Zi,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[606,1,2]]]);
//# sourceMappingURL=main.86ab961b.chunk.js.map