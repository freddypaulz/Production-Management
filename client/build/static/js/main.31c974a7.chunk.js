(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{561:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABkCAYAAAA2VDb+AAAABGdBTUEAALGPC/xhBQAABEhJREFUeF7tnEtME0EYx1s8YKIx8eBVY9IY0MTQbmkRNVHDRS9igCpX4hPFRxQfKEKAtjzCQTj4ChctlIegIHLxYBQPgomJJh5EBDUmgjwSoPug7e44WyiGYHB3tq1lvyH5QkJmZvl+85/v+2bbGaNh/od3mU2SZOw3JCSsD/9Nd7+NUtWaa++uLvFrxp2W4XNaRdZlRXo3X4XlIyoxJCxAkEps67DTs3p3fLF/TMMCALY8pRKW81jlTiaIDPMq8DmZKXAA8FLn62ybQypQ5zyD2Mo0xFbvjC+rSlcdu6YrzcmqAHD4IeKvL0gSxfg0v4D8L28rBqEaQHDkE5IkKe6Nq9+vCII6AE4GSdx03DsvT5DQfCY6AMSpkRUBgLvviAIAHDWFzutxD0CcmcRB2h4dAKFs4bYj/uFRJLRfWsYKkdDjRIEP3ThYBjRBEye+o9nee0h4UrT8M1vPI67+gCLHw1lPXQwgLJG52n3EAMTRQVUOqUvnVhQTALjimkuZBNlj9kWdTgAEyJaB4FUWzdXOfEyXAOvCCsAFCokCeM8xHShAE4Dj0AGcAA6gETgAofEkbAUITaegA8gHDsB7mgIgLXKU9ItNKayhDlC6r1fi7N/arAAABcCXQDN0AC1ngSug5RxwAK3gAVyArgDoANqgA3h0EfgSoAAuQVdAIXAA7dABdFwGroCOKxQA6V5fSb/4fx/w+CpwBTy+BhzAE/AAiqAr4DpwAJ03gAPoAg+gGLoCbgIH8BQ8gBLgCugupQCUbGpI28T/Zqi7DLgCnoEHUA5cAT0VFABpgFPSL/6DID4joMQR0jaxA8CTnTXiH+TpA4A4+YPo2+Lc3Ww9ALCi4HAfEQC2eoc+APhfN5ABcKXqAwB/55B6AEF/VJ2XA2eMgmDopDaSguqOzfjfd+kIQOjMYbEqFbD4tBlpelPaL3YKmD9y5+9vUgRBiPLnAX85NMX8UkpNazuudi8Kfn2LpFluEQyR96HA517E1uyK+syHfeAqmY2h4/Mz5eZSrY4R9a/ZjbjaPfgegtg5Hf4/8aURgYUbJEbzt67FF4v4iZwgPFH6v5/Fua31i26SYV0Wu88N5BYZt+UNQgbjkqt0Bm6ZEtkKy2ssjyCHZ1ZvhtPxT77MmvfPu5HkO3ZQyabVerKBAlPiPx2nDSgBSoASoAQoAYgEGnMYQ0vuoKE5d1iTeY/0GVpzVskIcZ1tnEhJfTVutg1rs9ShSYttd3hakrM8B5MdniFsw1osKcfz/M9Ue48I2HEUGXPslQf+yaTZxi12acJiR1ptzGIXFwA4PL7kwx4UCUvK9G6ZGzdizmOIjY4MeciJ1PQdkQIgA4wGgG2Z3rnb5CgAqoBIrX+6BGgMoEGQZgGaBmkdQAshWgnSUpjuBehmiO4GV9Z2+H3EtsRtWdvlNDhqTjNF6n3AWIrtW/h9QJLDMxqJlyHyGKbshg3yuL8B8pEPTHk6kwYAAAAASUVORK5CYII="},598:function(e,t,a){e.exports=a(898)},603:function(e,t,a){},604:function(e,t,a){},719:function(e,t){},721:function(e,t){},762:function(e,t){},763:function(e,t){},898:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),o=a(40),l=a.n(o),r=(a(603),a(604),a(9)),s=a(8),c=a(11),d=a(10),u=a(12),m=a(384),p=a(924),g=a(105),h=Object(g.a)((function(e){return{boxOutProp:{color:"#000",backgroundColor:"#f5f6fc",padding:0,display:"flex",flexDirection:"column",alignItems:"left",maxHeight:"92vh",minHeight:"92vh",overflow:"auto",transition:"all .2s","&:hover":{cursor:"pointer",maxWidth:"17vw",transition:"all .2s","&::-webkit-scrollbar":{width:"0.25em"},"&::-webkit-scrollbar-thumb":{backgroundColor:"rgba(0,0,0,.1)",outline:"1px solid slategrey"}},"&::-webkit-scrollbar":{width:"0.0em"}},boxInProp:{fontSize:"1.2vw",color:"black",fontWeight:"bold",textDecoration:"none","&:hover":{cursor:"pointer",color:"#7d8cfa",transition:"all .2s",backgroundColor:"#e4e5f0"}},position:{display:"flex",position:"sticky",backgroundColor:"#f5f6fc",color:"black",padding:10,top:0,fontWeight:"bold",flexDirection:"row",width:"92.5%"}}})),f=a(101),_=a(560),y=a.n(_);function b(e){var t=h(),a={navStyle:{display:"flex",textDecoration:"none",padding:"15px",color:"black"},navStyleActive:{color:"#3f51b5"}};return i.a.createElement(m.a,{display:"flex"},i.a.createElement(m.a,{maxWidth:e.width,component:"div",className:t.boxOutProp},i.a.createElement(m.a,{className:t.position},i.a.createElement(m.a,{display:"flex",flexDirection:"row",width:"100vw",justifyContent:"space-between"},i.a.createElement(m.a,{fontSize:"30px",marginLeft:"5px"},"DASHBOARD"))),i.a.createElement(p.a,null),e.items.map((function(n,o){return i.a.createElement("div",{key:o},i.a.createElement(m.a,{className:t.boxInProp},i.a.createElement(f.c,{activeStyle:a.navStyleActive,style:a.navStyle,to:"/".concat(e.componentName,"/").concat(n.Path)},n.Name)),i.a.createElement(p.a,null))}))),".1px"===e.dashboard?i.a.createElement(m.a,{style:{color:"black",display:"flex",padding:"20px"}},i.a.createElement(y.a,{style:{fontSize:"40px"}})):null)}var E=new(function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).login=function(e){console.log(e),sessionStorage.setItem("authenticated",e)},a.logout=function(){return sessionStorage.clear(),!0},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"isAuthenticated",value:function(){return sessionStorage.getItem("authenticated")}}]),t}(i.a.Component)),x=a(301),v=a(41),S=a(925),C=a(387),w=a(95),D=a(5),M=a(186),k=a(241),j=a(562),O=a.n(j),R=a(288),W=a(464),I=a(593),z=a(563),P=a.n(z),q=a(564),U=a.n(q),T=a(561),A=a.n(T),N=Object(g.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2),color:"#ed3237",transition:"all .3s"},title:{flexGrow:1},expand:{transform:"rotate(45deg)",color:"#fff",transition:"all .3s"}}}));function B(e){var t=Object(n.useState)(!0),a=Object(v.a)(t,2),o=a[0],l=a[1],r=Object(n.useState)(null),s=Object(v.a)(r,2),c=s[0],d=s[1],u=N();return i.a.createElement(m.a,{className:u.root},i.a.createElement(S.a,{position:"static"},i.a.createElement(C.a,null,i.a.createElement(k.a,{edge:"start",className:Object(D.a)(Object(x.a)({},u.expand,o),u.menuButton),color:"inherit","aria-label":"menu",onClick:function(){o?(l(!o),e.dashboardMin()):(l(!o),e.dashboardMax())}},i.a.createElement(O.a,null)),i.a.createElement(w.a,{variant:"h6",className:u.title},e.name),e.homeButtonDisable?null:i.a.createElement(M.a,{color:"inherit",onClick:e.home},"Home"),i.a.createElement(M.a,{color:"inherit",onClick:function(e){return d(e.currentTarget)}},i.a.createElement(P.a,{style:{fontSize:"25px",marginRight:"5px"}}),sessionStorage.getItem("User Name")),i.a.createElement("img",{src:A.a,alt:"Logo",style:{marginLeft:"10px",width:"20px",height:"30px",backgroundColor:"white",padding:"5px",borderRadius:"5px"}}),i.a.createElement(R.a,{style:{marginTop:"40px"},id:"user-menu",anchorEl:c,keepMounted:!0,open:Boolean(c),TransitionComponent:I.a,onClose:function(){d(null)}},i.a.createElement(W.a,{onClick:e.logout},i.a.createElement(U.a,{style:{fontSize:"20px",marginRight:"5px",padding:"5px"}}),"Logout")))))}var L=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={width:"17vw",dashboardItems:[]},a.permissions=JSON.parse(sessionStorage.getItem("permissions")),a.contents=["Management","Requests","Reports","Purchase","Finance","Production","Configurations"],a.logout=function(){E.logout()&&a.props.history.push("/")},a.dashboardMin=function(){a.setState({width:".1px"})},a.dashboardMax=function(){a.setState({width:"17vw"})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.contents.map((function(t){if(e.permissions.find((function(e){return e===t}))){var a=t.toLowerCase().replace(/ /g,"-");e.setState({}),e.setState((function(e){e.dashboardItems.push({Name:t,Path:a})}))}return null}))}},{key:"render",value:function(){return i.a.createElement(m.a,null,i.a.createElement(B,{name:"Home",logout:this.logout,homeButtonDisable:!0,dashboardMax:this.dashboardMax,dashboardMin:this.dashboardMin}),i.a.createElement(m.a,null,i.a.createElement(b,{items:this.state.dashboardItems,componentName:"home",width:this.state.width,dashboardMin:this.dashboardMin}),i.a.createElement(m.a,{display:"flex",flexDirection:"column",alignItems:"center",width:"100%",marginTop:"10px"},i.a.createElement(m.a,{width:"90%",display:"flex",justifyContent:"center",flexDirection:"column"},this.props.history.location.state?i.a.createElement(m.a,{color:"red",textAlign:"center"},this.props.history.location.state.msg):null))))}}]),t}(n.Component),Q=a(4),F=a(22),H=a(26),V=a.n(H),Y=a(913),J=a(911),G=a(3),K=a.n(G),X=a(308),Z=a(388),$=a(389),ee=a(398),te=a(184),ae=Object(g.a)((function(e){return{paper:{padding:e.spacing(3),display:"flex",overflow:"auto",flexDirection:"column",width:"90%",alignItems:"center"},fixedHeight:{maxHeight:"29.5vw",minWidth:"300px",minHeight:"5px"}}})),ne=function(e){var t=ae(),a=Object(D.a)(t.paper,t.fixedHeight);return i.a.createElement(te.a,{className:a,elevation:2},e.children)},ie={box_field:{display:"flex",width:"100%",alignItems:"center",justifyContent:"center",marginBottom:"10px"},box:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"},box_msg:{color:"white",marginBottom:"20px",padding:"10px",width:"88%",textAlign:"center",fontSize:"15px",textTransform:"uppercase",borderRadius:"5px"},icons:{fontSize:"40px",marginRight:"10px"}},oe=function(e,t){var a=JSON.parse(sessionStorage.getItem("permissions"));console.log(a);var n=a.find((function(e){return e===t}));return console.log(typeof n),"undefined"!==typeof n||(e.history.push({pathname:"/home",state:{msg:"Permission not Granted. Contact Administrator"}}),!1)},le=a(50),re=a(352),se=a(571),ce=a(76),de=a.n(ce),ue=function(e){return i.a.createElement(le.a,{utils:se.a},i.a.createElement(re.b,{disabled:e.disabled,size:"small",id:"date-picker-dialog".concat(e.id),label:e.Name,minDate:e.minDate,maxDate:e.maxDate,format:"DD/MM/YYYY",onChange:function(t){e.setDate(new de.a(t))},value:e.value,KeyboardButtonProps:{"aria-label":"change date"},fullWidth:!0,inputVariant:"outlined",style:{marginRight:e.marginRight,marginTop:"0px",marginBottom:e.marginBottom},required:e.Req}))},me=ie,pe=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={employee_first_name:"",employee_middle_name:"",employee_last_name:"",employee_dob:null,employee_age:"",employee_gender:"",employee_mobile_no:"",employee_email:"",employee_father_or_spouse_name:"",employee_no_of_children:"",employee_address:"",employee_country:"",employee_state:"",employee_city:"",employee_postal_code:"",employee_id:"",employee_date_of_joinig:null,employee_designation:"",employee_salary:"",employee_work_location:"",employee_shift:"",employee_bank_account_no:"",employee_bank_name:"",employee_bank_branch:"",employee_bank_ifsc:"",errors:[],countries:[],states:[],cities:[],designations:[],work_locations:[],shifts:[]},a.onAddHandler=function(){K.a.post("/employees/add-employee",{employee_first_name:a.state.employee_first_name,employee_middle_name:a.state.employee_middle_name,employee_last_name:a.state.employee_last_name,employee_dob:a.state.employee_dob,employee_age:a.state.employee_age,employee_gender:a.state.employee_gender,employee_mobile_no:a.state.employee_mobile_no,employee_email:a.state.employee_email,employee_father_or_spouse_name:a.state.employee_father_or_spouse_name,employee_no_of_children:a.state.employee_no_of_children,employee_address:a.state.employee_address,employee_country:a.state.employee_country,employee_state:a.state.employee_state,employee_city:a.state.employee_city,employee_postal_code:a.state.employee_postal_code,employee_id:a.state.employee_id,employee_date_of_joinig:a.state.employee_date_of_joinig,employee_designation:a.state.employee_designation,employee_salary:a.state.employee_salary,employee_work_location:a.state.employee_work_location,employee_shift:a.state.employee_shift,employee_bank_account_no:a.state.employee_bank_account_no,employee_bank_name:a.state.employee_bank_name,employee_bank_branch:a.state.employee_bank_branch,employee_bank_ifsc:a.state.employee_bank_ifsc}).then((function(e){console.log(e),e.data.errors.length>0?(console.log(e.data.errors),a.setState({errors:Object(Q.a)(e.data.errors)})):a.props.cancel()})).catch((function(e){return console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;oe(this.props,"Manage Employees")&&(K.a.get("/countries/countries").then((function(t){e.setState({countries:Object(Q.a)(t.data.Countries)})})),K.a.get("/designations/designations").then((function(t){e.setState({designations:Object(Q.a)(t.data.Designations)})})),K.a.get("/work-locations/work-locations").then((function(t){e.setState({work_locations:Object(Q.a)(t.data.WorkLocations)})})),K.a.get("/shifts/shifts").then((function(t){e.setState({shifts:Object(Q.a)(t.data.Shifts)})})))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:me.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Add Employee"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:me.box_msg,bgcolor:"#f73067",key:t},e)})):null,i.a.createElement(ne,null,i.a.createElement(m.a,{fontWeight:"bold",fontSize:"1.2vw",mb:1,display:"flex",justifyContent:"flex-start",width:"100%"},"Personel Details"),i.a.createElement(m.a,{style:ie.box_field,flexDirection:"row"},i.a.createElement(m.a,{style:ie.box,marginRight:"10px"},i.a.createElement(X.a,{size:"small",required:!0,fullWidth:!0,variant:"outlined",label:"First Name",value:this.state.employee_first_name,onChange:function(t){e.setState({employee_first_name:t.target.value})}})),i.a.createElement(m.a,{style:ie.box,marginRight:"10px"},i.a.createElement(X.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Middle Name",value:this.state.employee_middle_name,onChange:function(t){e.setState({employee_middle_name:t.target.value})}})),i.a.createElement(m.a,{style:ie.box},i.a.createElement(X.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Last Name",value:this.state.employee_last_name,onChange:function(t){e.setState({employee_last_name:t.target.value})}}))),i.a.createElement(m.a,{style:ie.box_field},i.a.createElement(ue,{id:"1",Name:"Date Of Birth",Req:!0,marginRight:"10px",minDate:new Date-1893456e6,maxDate:new Date-5680368e5,value:this.state.employee_dob,setDate:function(t){e.setState({}),e.setState((function(e){e.employee_dob=t,e.employee_age=Math.floor((new Date-e.employee_dob)/315576e5)}))}}),i.a.createElement(m.a,{style:ie.box,marginRight:"10px"},i.a.createElement(X.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Age",type:"number",disabled:!0,value:this.state.employee_age})),i.a.createElement(m.a,{style:me.box},i.a.createElement(Z.a,{size:"small",required:!0,variant:"outlined",fullWidth:!0},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select Gender"),i.a.createElement(ee.a,{required:!0,value:this.state.employee_gender,onChange:function(t){console.log(t.target.value),e.setState({employee_gender:t.target.value})}},i.a.createElement(W.a,{selected:!0,value:"Male"},"Male"),i.a.createElement(W.a,{selected:!0,value:"Female"},"Female"),i.a.createElement(W.a,{selected:!0,value:"Transgender"},"Transgender"))))),i.a.createElement(m.a,{style:ie.box_field},i.a.createElement(m.a,{style:ie.box,marginRight:"10px"},i.a.createElement(X.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Mobile No",value:this.state.employee_mobile_no,onChange:function(t){e.setState({employee_mobile_no:t.target.value})}})),i.a.createElement(m.a,{style:ie.box,marginRight:"10px"},i.a.createElement(X.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Email",type:"email",value:this.state.employee_email,onChange:function(t){e.setState({employee_email:t.target.value})}})),i.a.createElement(m.a,{style:ie.box},i.a.createElement(X.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Father / Spouse Name",type:"email",value:this.state.employee_father_or_spouse_name,onChange:function(t){e.setState({employee_father_or_spouse_name:t.target.value})}}))),i.a.createElement(m.a,{style:me.box},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,value:this.state.employee_address,variant:"outlined",label:"Address",type:"text",onChange:function(t){e.setState({employee_address:t.target.value})}})),i.a.createElement(m.a,{style:me.box_field,marginTop:"10px"},i.a.createElement(m.a,{style:me.box,marginRight:"10px"},i.a.createElement(Z.a,{size:"small",required:!0,variant:"outlined",fullWidth:!0,display:"flex"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select Country"),i.a.createElement(ee.a,{required:!0,value:this.state.employee_country,onChange:function(t){console.log(t.target.value),e.setState({employee_country:t.target.value,cities:[]}),K.a.post("/states/state-country",{country_id:t.target.value}).then((function(t){console.log(t),e.setState({states:Object(Q.a)(t.data.state)})}))}},this.state.countries.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.country_name)}))))),i.a.createElement(m.a,{style:me.box,marginRight:"10px"},i.a.createElement(Z.a,{size:"small",required:!0,variant:"outlined",fullWidth:!0},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select State"),i.a.createElement(ee.a,{required:!0,value:this.state.employee_state,onChange:function(t){console.log(t.target.value),e.setState({employee_state:t.target.value}),K.a.post("/cities/city-state",{state_id:t.target.value}).then((function(t){console.log(t),e.setState({cities:Object(Q.a)(t.data.city)})}))}},this.state.states.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.state_name)}))))),i.a.createElement(m.a,{style:me.box},i.a.createElement(Z.a,{size:"small",required:!0,variant:"outlined",fullWidth:!0},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select City"),i.a.createElement(ee.a,{required:!0,value:this.state.employee_city,onChange:function(t){console.log(t.target.value),e.setState({employee_city:t.target.value})}},this.state.cities.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.city_name)})))))),i.a.createElement(m.a,{style:me.box_field},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,value:this.state.employee_postal_code,variant:"outlined",label:"Postal Code",type:"text",onChange:function(t){e.setState({employee_postal_code:t.target.value})}})),i.a.createElement(m.a,{fontWeight:"bold",fontSize:"1.2vw",mb:1,display:"flex",justifyContent:"flex-start",width:"100%"},"Work Details"),i.a.createElement(m.a,{style:ie.box_field},i.a.createElement(m.a,{style:ie.box,marginRight:"10px"},i.a.createElement(X.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Employee ID",value:this.state.employee_id,onChange:function(t){e.setState({employee_id:t.target.value})}})),i.a.createElement(ue,{id:"2",Name:"Date Of Joining",Req:!0,value:this.state.employee_date_of_joinig,minDate:"01/01/1990",maxDate:new Date,setDate:function(t){e.setState({employee_date_of_joinig:t})}})),i.a.createElement(m.a,{style:ie.box_field},i.a.createElement(m.a,{style:me.box,marginRight:"10px"},i.a.createElement(Z.a,{size:"small",required:!0,variant:"outlined",fullWidth:!0},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select Designation"),i.a.createElement(ee.a,{required:!0,value:this.state.employee_designation,onChange:function(t){console.log(t.target.value),e.setState({employee_designation:t.target.value})}},this.state.designations.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.designation_name)}))))),i.a.createElement(X.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Salary",type:"number",value:this.state.employee_salary,onChange:function(t){e.setState({employee_salary:t.target.value})}})),i.a.createElement(m.a,{style:ie.box_field},i.a.createElement(m.a,{style:me.box,marginRight:"10px"},i.a.createElement(Z.a,{size:"small",required:!0,variant:"outlined",fullWidth:!0},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select Work Location"),i.a.createElement(ee.a,{required:!0,value:this.state.employee_work_location,onChange:function(t){console.log(t.target.value),e.setState({employee_work_location:t.target.value})}},this.state.work_locations.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.work_location_name)}))))),i.a.createElement(m.a,{style:me.box},i.a.createElement(Z.a,{size:"small",required:!0,variant:"outlined",fullWidth:!0},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select Shift"),i.a.createElement(ee.a,{required:!0,value:this.state.employee_shift,onChange:function(t){console.log(t.target.value),e.setState({employee_shift:t.target.value})}},this.state.shifts.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.shift_name)})))))),i.a.createElement(m.a,{style:ie.box_field},i.a.createElement(m.a,{style:ie.box,marginRight:"10px"},i.a.createElement(X.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Bank Account Number",value:this.state.employee_bank_account_no,onChange:function(t){e.setState({employee_bank_account_no:t.target.value})}})),i.a.createElement(m.a,{style:ie.box},i.a.createElement(X.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Bank Name",value:this.state.employee_bank_name,onChange:function(t){e.setState({employee_bank_name:t.target.value})}}))),i.a.createElement(m.a,{style:ie.box_field},i.a.createElement(m.a,{style:ie.box,marginRight:"10px"},i.a.createElement(X.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Branch",value:this.state.employee_bank_branch,onChange:function(t){e.setState({employee_bank_branch:t.target.value})}})),i.a.createElement(m.a,{style:ie.box},i.a.createElement(X.a,{size:"small",fullWidth:!0,variant:"outlined",label:"IFSC",value:this.state.employee_bank_ifsc,onChange:function(t){e.setState({employee_bank_ifsc:t.target.value})}})))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:this.onAddHandler},"Add"))))}}]),t}(n.Component),ge=ie,he=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={_id:"",employee_first_name:"",employee_middle_name:"",employee_last_name:"",employee_dob:null,employee_age:"",employee_gender:"",employee_mobile_no:"",employee_email:"",employee_father_or_spouse_name:"",employee_no_of_children:"",employee_address:"",employee_country:"",employee_state:"",employee_city:"",employee_postal_code:"",employee_id:"",employee_date_of_joinig:null,employee_designation:"",employee_salary:"",employee_work_location:"",employee_shift:"",employee_bank_account_no:"",employee_bank_name:"",employee_bank_branch:"",employee_bank_ifsc:"",errors:[],countries:[],states:[],cities:[],designations:[],work_locations:[],shifts:[]},a.onEditHandler=function(){K.a.post("/employees/edit-employee",{_id:a.state._id,employee_first_name:a.state.employee_first_name,employee_middle_name:a.state.employee_middle_name,employee_last_name:a.state.employee_last_name,employee_dob:a.state.employee_dob,employee_age:a.state.employee_age,employee_gender:a.state.employee_gender,employee_mobile_no:a.state.employee_mobile_no,employee_email:a.state.employee_email,employee_father_or_spouse_name:a.state.employee_father_or_spouse_name,employee_no_of_children:a.state.employee_no_of_children,employee_address:a.state.employee_address,employee_country:a.state.employee_country,employee_state:a.state.employee_state,employee_city:a.state.employee_city,employee_postal_code:a.state.employee_postal_code,employee_id:a.state.employee_id,employee_date_of_joinig:a.state.employee_date_of_joinig,employee_designation:a.state.employee_designation,employee_salary:a.state.employee_salary,employee_work_location:a.state.employee_work_location,employee_shift:a.state.employee_shift,employee_bank_account_no:a.state.employee_bank_account_no,employee_bank_name:a.state.employee_bank_name,employee_bank_branch:a.state.employee_bank_branch,employee_bank_ifsc:a.state.employee_bank_ifsc}).then((function(e){console.log(e),e.data.errors&&(e.data.errors.length>0?(console.log(e.data.errors),a.setState({errors:Object(Q.a)(e.data.errors)})):a.props.cancel())})).catch((function(e){return console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;oe(this.props,"Manage Employees")&&K.a.get("/countries/countries").then((function(t){e.setState({countries:Object(Q.a)(t.data.Countries)}),K.a.post("/states/state-country",{country_id:e.props.Employee.employee_country}).then((function(t){e.setState({states:Object(Q.a)(t.data.state)}),K.a.post("/cities/city-state",{state_id:e.props.Employee.employee_state}).then((function(t){e.setState({cities:Object(Q.a)(t.data.city)}),K.a.get("/work-locations/work-locations").then((function(t){e.setState({work_locations:Object(Q.a)(t.data.WorkLocations)}),K.a.get("/shifts/shifts").then((function(t){e.setState({shifts:Object(Q.a)(t.data.Shifts)}),K.a.get("/designations/designations").then((function(t){e.setState({designations:Object(Q.a)(t.data.Designations)}),""===e.state.employee_first_name&&(console.log("Props: ",e.props.Employee),e.setState({_id:e.props.Employee._id,employee_first_name:e.props.Employee.employee_first_name,employee_middle_name:e.props.Employee.employee_middle_name,employee_last_name:e.props.Employee.employee_last_name,employee_dob:e.props.Employee.employee_dob,employee_age:e.props.Employee.employee_age,employee_gender:e.props.Employee.employee_gender,employee_mobile_no:e.props.Employee.employee_mobile_no,employee_email:e.props.Employee.employee_email,employee_father_or_spouse_name:e.props.Employee.employee_father_or_spouse_name,employee_no_of_children:e.props.Employee.employee_no_of_children,employee_address:e.props.Employee.employee_address,employee_country:e.props.Employee.employee_country,employee_state:e.props.Employee.employee_state,employee_city:e.props.Employee.employee_city,employee_postal_code:e.props.Employee.employee_postal_code,employee_id:e.props.Employee.employee_id,employee_date_of_joinig:e.props.Employee.employee_date_of_joinig,employee_designation:e.props.Employee.employee_designation,employee_salary:e.props.Employee.employee_salary,employee_work_location:e.props.Employee.employee_work_location,employee_shift:e.props.Employee.employee_shift,employee_bank_account_no:e.props.Employee.employee_bank_account_no,employee_bank_name:e.props.Employee.employee_bank_name,employee_bank_branch:e.props.Employee.employee_bank_branch,employee_bank_ifsc:e.props.Employee.employee_bank_ifsc}))}))}))}))}))}))})),K.a.get("/work-locations/work-locations").then((function(t){e.setState({work_locations:Object(Q.a)(t.data.WorkLocations)})})),K.a.get("/shifts/shifts").then((function(t){e.setState({shifts:Object(Q.a)(t.data.Shifts)})}))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:ge.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Edit Employee"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:ge.box_msg,bgcolor:"#f73067",key:t},e)})):null,i.a.createElement(ne,null,i.a.createElement(m.a,{fontWeight:"bold",fontSize:"1.2vw",mb:1,display:"flex",justifyContent:"flex-start",width:"100%"},"Personel Details"),i.a.createElement(m.a,{style:ie.box_field,flexDirection:"row"},i.a.createElement(m.a,{style:ie.box,marginRight:"10px"},i.a.createElement(X.a,{size:"small",required:!0,fullWidth:!0,variant:"outlined",label:"First Name",value:this.state.employee_first_name,onChange:function(t){e.setState({employee_first_name:t.target.value})}})),i.a.createElement(m.a,{style:ie.box,marginRight:"10px"},i.a.createElement(X.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Middle Name",value:this.state.employee_middle_name,onChange:function(t){e.setState({employee_middle_name:t.target.value})}})),i.a.createElement(m.a,{style:ie.box},i.a.createElement(X.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Last Name",value:this.state.employee_last_name,onChange:function(t){e.setState({employee_last_name:t.target.value})}}))),i.a.createElement(m.a,{style:ie.box_field},i.a.createElement(ue,{id:"1",Name:"Date Of Birth",Req:"true",marginRight:"10px",value:this.state.employee_dob,minDate:new Date-1893456e6,maxDate:new Date-5680368e5,setDate:function(t){e.setState({}),e.setState((function(a){a.employee_dob=t,a.employee_age=e.state.employee_dob-new Date}))}}),i.a.createElement(m.a,{style:ie.box,marginRight:"10px"},i.a.createElement(X.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Age",type:"number",disabled:!0,value:this.state.employee_age,onChange:function(t){e.setState({employee_age:e.state.employee_dob-new Date})}})),i.a.createElement(m.a,{style:ge.box},i.a.createElement(Z.a,{size:"small",required:!0,variant:"outlined",fullWidth:!0},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select Gender"),i.a.createElement(ee.a,{required:!0,value:this.state.employee_gender,onChange:function(t){console.log(t.target.value),e.setState({employee_gender:t.target.value})}},i.a.createElement(W.a,{selected:!0,value:"Male"},"Male"),i.a.createElement(W.a,{selected:!0,value:"Female"},"Female"),i.a.createElement(W.a,{selected:!0,value:"Transgender"},"Transgender"))))),i.a.createElement(m.a,{style:ie.box_field},i.a.createElement(m.a,{style:ie.box,marginRight:"10px"},i.a.createElement(X.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Mobile No",value:this.state.employee_mobile_no,onChange:function(t){e.setState({employee_mobile_no:t.target.value})}})),i.a.createElement(m.a,{style:ie.box,marginRight:"10px"},i.a.createElement(X.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Email",type:"email",value:this.state.employee_email,onChange:function(t){e.setState({employee_email:t.target.value})}})),i.a.createElement(m.a,{style:ie.box},i.a.createElement(X.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Father / Spouse Name",type:"email",value:this.state.employee_father_or_spouse_name,onChange:function(t){e.setState({employee_father_or_spouse_name:t.target.value})}}))),i.a.createElement(m.a,{style:ge.box},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,value:this.state.employee_address,variant:"outlined",label:"Address",type:"text",onChange:function(t){e.setState({employee_address:t.target.value})}})),i.a.createElement(m.a,{style:ge.box_field,marginTop:"10px"},i.a.createElement(m.a,{style:ge.box,marginRight:"10px"},i.a.createElement(Z.a,{size:"small",required:!0,variant:"outlined",fullWidth:!0,display:"flex"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select Country"),i.a.createElement(ee.a,{required:!0,value:this.state.employee_country,onChange:function(t){console.log(t.target.value),e.setState({employee_country:t.target.value,cities:[]}),K.a.post("/states/state-country",{country_id:t.target.value}).then((function(t){console.log(t),e.setState({states:Object(Q.a)(t.data.state)})}))}},this.state.countries.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.country_name)}))))),i.a.createElement(m.a,{style:ge.box,marginRight:"10px"},i.a.createElement(Z.a,{size:"small",required:!0,variant:"outlined",fullWidth:!0},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select State"),i.a.createElement(ee.a,{required:!0,value:this.state.employee_state,onChange:function(t){console.log(t.target.value),e.setState({employee_state:t.target.value}),K.a.post("/cities/city-state",{state_id:t.target.value}).then((function(t){console.log(t),e.setState({cities:Object(Q.a)(t.data.city)})}))}},this.state.states.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.state_name)}))))),i.a.createElement(m.a,{style:ge.box},i.a.createElement(Z.a,{size:"small",required:!0,variant:"outlined",fullWidth:!0},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select City"),i.a.createElement(ee.a,{required:!0,value:this.state.employee_city,onChange:function(t){console.log(t.target.value),e.setState({employee_city:t.target.value})}},this.state.cities.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.city_name)})))))),i.a.createElement(m.a,{style:ge.box_field},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,value:this.state.employee_postal_code,variant:"outlined",label:"Postal Code",type:"text",onChange:function(t){e.setState({employee_postal_code:t.target.value})}})),i.a.createElement(m.a,{fontWeight:"bold",fontSize:"1.2vw",mb:1,display:"flex",justifyContent:"flex-start",width:"100%"},"Work Details"),i.a.createElement(m.a,{style:ie.box_field},i.a.createElement(m.a,{style:ie.box,marginRight:"10px"},i.a.createElement(X.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Employee ID",value:this.state.employee_id,onChange:function(t){e.setState({employee_id:t.target.value})}})),i.a.createElement(ue,{id:"1",Name:"Date Of Joining",Req:"true",value:this.state.employee_date_of_joinig,minDate:"01/01/1990",maxDate:new Date,setDate:function(t){e.setState({employee_date_of_joinig:t})}})),i.a.createElement(m.a,{style:ie.box_field},i.a.createElement(m.a,{style:ge.box,marginRight:"10px"},i.a.createElement(Z.a,{size:"small",required:!0,variant:"outlined",fullWidth:!0},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select Designation"),i.a.createElement(ee.a,{required:!0,value:this.state.employee_designation,onChange:function(t){console.log(t.target.value),e.setState({employee_designation:t.target.value})}},this.state.designations.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.designation_name)}))))),i.a.createElement(X.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Salary",type:"number",value:this.state.employee_salary,onChange:function(t){e.setState({employee_salary:t.target.value})}})),i.a.createElement(m.a,{style:ie.box_field},i.a.createElement(m.a,{style:ge.box,marginRight:"10px"},i.a.createElement(Z.a,{size:"small",required:!0,variant:"outlined",fullWidth:!0},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select Work Location"),i.a.createElement(ee.a,{required:!0,value:this.state.employee_work_location,onChange:function(t){console.log(t.target.value),e.setState({employee_work_location:t.target.value})}},this.state.work_locations.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.work_location_name)}))))),i.a.createElement(m.a,{style:ge.box},i.a.createElement(Z.a,{size:"small",required:!0,variant:"outlined",fullWidth:!0},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select Shift"),i.a.createElement(ee.a,{required:!0,value:this.state.employee_shift,onChange:function(t){console.log(t.target.value),e.setState({employee_shift:t.target.value})}},this.state.shifts.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.shift_name)})))))),i.a.createElement(m.a,{style:ie.box_field},i.a.createElement(m.a,{style:ie.box,marginRight:"10px"},i.a.createElement(X.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Bank Account Number",value:this.state.employee_bank_account_no,onChange:function(t){e.setState({employee_bank_account_no:t.target.value})}})),i.a.createElement(m.a,{style:ie.box},i.a.createElement(X.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Bank Name",value:this.state.employee_bank_name,onChange:function(t){e.setState({employee_bank_name:t.target.value})}}))),i.a.createElement(m.a,{style:ie.box_field},i.a.createElement(m.a,{style:ie.box,marginRight:"10px"},i.a.createElement(X.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Branch",value:this.state.employee_bank_branch,onChange:function(t){e.setState({employee_bank_branch:t.target.value})}})),i.a.createElement(m.a,{style:ie.box},i.a.createElement(X.a,{size:"small",fullWidth:!0,variant:"outlined",label:"IFSC",value:this.state.employee_bank_ifsc,onChange:function(t){e.setState({employee_bank_ifsc:t.target.value})}})))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:this.onEditHandler},"Update"))))}}]),t}(n.Component);function fe(e){var t=Object(n.useState)(e.filters.firstName),a=Object(v.a)(t,2),o=a[0],l=a[1],r=Object(n.useState)(e.filters.lastName),s=Object(v.a)(r,2),c=s[0],d=s[1],u=Object(n.useState)(e.filters.fromDOB),p=Object(v.a)(u,2),g=p[0],h=p[1],f=Object(n.useState)(e.filters.toDOB),_=Object(v.a)(f,2),y=_[0],b=_[1],E=Object(n.useState)(e.filters.fromAge),x=Object(v.a)(E,2),S=x[0],C=x[1],w=Object(n.useState)(e.filters.toAge),D=Object(v.a)(w,2),k=D[0],j=D[1],O=Object(n.useState)(e.filters.gender),R=Object(v.a)(O,2),I=R[0],z=R[1],P=Object(n.useState)(e.filters.mobile),q=Object(v.a)(P,2),U=q[0],T=q[1],A=Object(n.useState)(e.filters.email),N=Object(v.a)(A,2),B=N[0],L=N[1],F=Object(n.useState)(e.filters.country),H=Object(v.a)(F,2),V=H[0],Y=H[1],J=Object(n.useState)([]),G=Object(v.a)(J,2),te=G[0],ae=G[1],oe=Object(n.useState)(e.filters.state),le=Object(v.a)(oe,2),re=le[0],se=le[1],ce=Object(n.useState)([]),de=Object(v.a)(ce,2),me=de[0],pe=de[1],ge=Object(n.useState)(e.filters.city),he=Object(v.a)(ge,2),fe=he[0],_e=he[1],ye=Object(n.useState)([]),be=Object(v.a)(ye,2),Ee=be[0],xe=be[1],ve=Object(n.useState)(e.filters.postalCode),Se=Object(v.a)(ve,2),Ce=Se[0],we=Se[1],De=Object(n.useState)(e.filters.employeeId),Me=Object(v.a)(De,2),ke=Me[0],je=Me[1],Oe=Object(n.useState)(e.filters.fromDateOfJoining),Re=Object(v.a)(Oe,2),We=Re[0],Ie=Re[1],ze=Object(n.useState)(e.filters.toDateOfJoining),Pe=Object(v.a)(ze,2),qe=Pe[0],Ue=Pe[1],Te=Object(n.useState)(e.filters.designation),Ae=Object(v.a)(Te,2),Ne=Ae[0],Be=Ae[1],Le=Object(n.useState)([]),Qe=Object(v.a)(Le,2),Fe=Qe[0],He=Qe[1],Ve=Object(n.useState)(e.filters.fromSalary),Ye=Object(v.a)(Ve,2),Je=Ye[0],Ge=Ye[1],Ke=Object(n.useState)(e.filters.toSalary),Xe=Object(v.a)(Ke,2),Ze=Xe[0],$e=Xe[1],et=Object(n.useState)(e.filters.workLocation),tt=Object(v.a)(et,2),at=tt[0],nt=tt[1],it=Object(n.useState)([]),ot=Object(v.a)(it,2),lt=ot[0],rt=ot[1],st=Object(n.useState)(e.filters.shift),ct=Object(v.a)(st,2),dt=ct[0],ut=ct[1],mt=Object(n.useState)([]),pt=Object(v.a)(mt,2),gt=pt[0],ht=pt[1];return Object(n.useEffect)((function(){K.a.get("/countries/countries").then((function(t){ae(Object(Q.a)(t.data.Countries)),Y(e.filters.country),K.a.post("/states/state-country",{country_id:e.filters.country}).then((function(t){pe(Object(Q.a)(t.data.state)),se(e.filters.state),K.a.post("/cities/city-state",{state_id:e.filters.state}).then((function(t){xe(Object(Q.a)(t.data.city)),_e(e.filters.city)}))}))}))}),[e.filters.country,e.filters.state,e.filters.city]),Object(n.useEffect)((function(){K.a.get("/designations/designations").then((function(e){He(e.data.Designations)}))}),[]),Object(n.useEffect)((function(){K.a.get("/work-locations/work-locations").then((function(e){rt(e.data.WorkLocations)}))}),[]),Object(n.useEffect)((function(){K.a.get("/shifts/shifts").then((function(e){ht(e.data.Shifts)}))}),[]),i.a.createElement(m.a,{style:ie.box,alignContent:"center"},i.a.createElement(ne,null,i.a.createElement(m.a,{style:ie.box_field},i.a.createElement(m.a,{style:ie.box,marginRight:"10px"},i.a.createElement(X.a,{size:"small",required:!0,fullWidth:!0,variant:"outlined",label:"First Name",value:o,onChange:function(e){l(e.target.value)}})),i.a.createElement(m.a,{style:ie.box},i.a.createElement(X.a,{size:"small",required:!0,fullWidth:!0,variant:"outlined",label:"Last Name",value:c,onChange:function(e){d(e.target.value)}}))),i.a.createElement(m.a,{style:ie.box_field},i.a.createElement(m.a,{style:ie.box,marginRight:"10px"},i.a.createElement(ue,{id:"1",Name:"From Date of Birth",value:g,setDate:function(e){e=e.startOf("day"),h(e)}})),i.a.createElement(m.a,{style:ie.box},i.a.createElement(ue,{disabled:null===g,id:"2",Name:"To Date of Birth",minDate:g,value:y,setDate:function(e){e=e.endOf("day"),b(e)}}))),i.a.createElement(m.a,{style:ie.box_field},i.a.createElement(m.a,{style:ie.box,marginRight:"10px"},i.a.createElement(X.a,{size:"small",required:!0,fullWidth:!0,variant:"outlined",label:"From Age",value:S,onChange:function(e){C(e.target.value)}})),i.a.createElement(m.a,{style:ie.box},i.a.createElement(X.a,{size:"small",required:!0,fullWidth:!0,variant:"outlined",label:"To Age",value:k,onChange:function(e){j(e.target.value)}}))),i.a.createElement(m.a,{style:ie.box_field},i.a.createElement(Z.a,{size:"small",required:!0,variant:"outlined",fullWidth:!0},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select Gender"),i.a.createElement(ee.a,{required:!0,value:I,onChange:function(e){z(e.target.value)}},i.a.createElement(W.a,{selected:!0,value:"Male"},"Male"),i.a.createElement(W.a,{selected:!0,value:"Female"},"Female"),i.a.createElement(W.a,{selected:!0,value:"Transgender"},"Transgender")))),i.a.createElement(m.a,{style:ie.box_field},i.a.createElement(X.a,{size:"small",required:!0,fullWidth:!0,variant:"outlined",label:"Mobile No",value:U,onChange:function(e){T(e.target.value)}})),i.a.createElement(m.a,{style:ie.box_field},i.a.createElement(X.a,{size:"small",required:!0,fullWidth:!0,variant:"outlined",label:"Email",value:B,onChange:function(e){L(e.target.value)}})),i.a.createElement(m.a,{style:ie.box_field},i.a.createElement(m.a,{style:ie.box,marginRight:"10px"},i.a.createElement(Z.a,{size:"small",required:!0,variant:"outlined",fullWidth:!0,display:"flex"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select Country"),i.a.createElement(ee.a,{required:!0,value:V,onChange:function(e){Y(e.target.value),K.a.post("/states/state-country",{country_id:e.target.value}).then((function(e){pe(Object(Q.a)(e.data.state))}))}},te.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.country_name)}))))),i.a.createElement(m.a,{style:ie.box,marginRight:"10px"},i.a.createElement(Z.a,{size:"small",required:!0,variant:"outlined",fullWidth:!0,display:"flex"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select State"),i.a.createElement(ee.a,{required:!0,value:re,onChange:function(e){se(e.target.value),K.a.post("/cities/city-state",{state_id:e.target.value}).then((function(e){xe(Object(Q.a)(e.data.city))}))}},me.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.state_name)}))))),i.a.createElement(m.a,{style:ie.box},i.a.createElement(Z.a,{size:"small",required:!0,variant:"outlined",fullWidth:!0,display:"flex"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select City"),i.a.createElement(ee.a,{required:!0,value:fe,onChange:function(e){_e(e.target.value)}},Ee.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.city_name)})))))),i.a.createElement(m.a,{style:ie.box_field},i.a.createElement(X.a,{size:"small",required:!0,fullWidth:!0,variant:"outlined",label:"Postal Code",value:Ce,onChange:function(e){we(e.target.value)}})),i.a.createElement(m.a,{style:ie.box_field},i.a.createElement(X.a,{size:"small",required:!0,fullWidth:!0,variant:"outlined",label:"Employee Id",value:ke,onChange:function(e){je(e.target.value)}})),i.a.createElement(m.a,{style:ie.box_field},i.a.createElement(m.a,{style:ie.box,marginRight:"10px"},i.a.createElement(ue,{id:"3",Name:"From Date of Joining",value:We,setDate:function(e){e=e.startOf("day"),Ie(e)}})),i.a.createElement(m.a,{style:ie.box},i.a.createElement(ue,{disabled:null===We,id:"4",Name:"To Date of Joining",minDate:We,value:qe,setDate:function(e){e=e.endOf("day"),Ue(e)}}))),i.a.createElement(m.a,{style:ie.box_field},i.a.createElement(Z.a,{size:"small",required:!0,variant:"outlined",fullWidth:!0,display:"flex"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select Designation"),i.a.createElement(ee.a,{required:!0,value:Ne,onChange:function(e){Be(e.target.value)}},Fe.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.designation_name)}))))),i.a.createElement(m.a,{style:ie.box_field},i.a.createElement(m.a,{style:ie.box,marginRight:"10px"},i.a.createElement(X.a,{size:"small",required:!0,fullWidth:!0,variant:"outlined",label:"From Salary",value:Je,onChange:function(e){Ge(e.target.value)}})),i.a.createElement(m.a,{style:ie.box},i.a.createElement(X.a,{size:"small",required:!0,fullWidth:!0,variant:"outlined",label:"To Salary",value:Ze,onChange:function(e){$e(e.target.value)}}))),i.a.createElement(m.a,{style:ie.box_field},i.a.createElement(Z.a,{size:"small",required:!0,variant:"outlined",fullWidth:!0,display:"flex"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select Work Location"),i.a.createElement(ee.a,{required:!0,value:at,onChange:function(e){nt(e.target.value)}},lt.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.work_location_name)}))))),i.a.createElement(m.a,{style:ie.box_field},i.a.createElement(Z.a,{size:"small",required:!0,variant:"outlined",fullWidth:!0,display:"flex"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select Shifts"),i.a.createElement(ee.a,{required:!0,value:dt,onChange:function(e){ut(e.target.value)}},gt.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.shift_name)})))))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{width:"100px"},i.a.createElement(M.a,{variant:"contained",color:"primary",style:{marginBottom:"20px",display:"flex"},size:"large",onClick:function(){var e={firstName:"",lastName:"",fromDOB:null,toDOB:null,fromAge:"",toAge:"",gender:"",mobile:"",email:"",country:"",state:"",city:"",postalCode:"",employeeId:"",fromDateOfJoining:null,toDateOfJoining:null,designation:"",fromSalary:"",toSalary:""};e.designation="",e.workLocation="",e.shift="",l(""),d(""),h(null),b(null),j(""),z(""),T(""),L(""),Y(""),se(""),pe([]),_e(""),xe([]),we(""),je(""),Ie(null),Ue(null),Be(""),Ge(""),$e(""),Be(""),nt(""),ut("")}},"clear")),i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(M.a,{variant:"contained",color:"primary",style:{marginBottom:"20px",display:"flex"},size:"large",onClick:function(){e.cancel()}},"Cancel")),i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(M.a,{variant:"contained",color:"primary",style:{marginBottom:"20px",display:"flex"},size:"large",onClick:function(){var t={};t.firstName=o,t.lastName=c,t.fromDOB=g,t.toDOB=y,t.fromAge=S,t.toAge=k,t.gender=I,t.mobile=U,t.email=B,t.country=V,t.state=re,t.city=fe,t.postalCode=Ce,t.employeeId=ke,t.fromDateOfJoining=We,t.toDateOfJoining=qe,t.designation=Ne,t.fromSalary=Je,t.toSalary=Ze,t.designation=Ne,t.workLocation=at,t.shift=dt,K.a.post("/employees/filter",{firstName:o,lastName:c,fromDOB:g,toDOB:y,fromAge:S,toAge:k,gender:I,mobile:U,email:B,country:V,state:re,city:fe,postalCode:Ce,employeeId:ke,fromDateOfJoining:We,toDateOfJoining:qe,designation:Ne,fromSalary:Je,toSalary:Ze,workLocation:at,shift:dt}).then((function(a){e.setData(a),e.saveFilters(t)}))}},"Apply"))))}var _e=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).EditData={},a.state={columns:[{title:"ID",field:"id"},{title:"First Name",field:"employee_first_name"},{title:"Last Name",field:"employee_last_name"},{title:"ID",field:"employee_id"},{title:"shift",field:"employee_shift_name"},{title:"Designation",field:"employee_designation_name"},{title:"Work Location",field:"employee_work_location_name"}],data:[],filters:{firstName:"",lastName:"",fromDOB:null,toDOB:null,fromAge:"",toAge:"",gender:"",mobile:"",email:"",country:"",state:"",city:"",postalCode:"",employeeId:"",fromDateOfJoining:null,toDateOfJoining:null,designation:"",fromSalary:"",toSalary:"",workLocation:"",shift:""},openAdd:!1,openEdit:!1,openFilter:!1,shifts:[],workLocations:[],designations:[]},a.OnEditHandler=function(e,t){console.log(t._id),K.a.post("/employees/employee",{_id:t._id}).then((function(e){console.log(e),a.EditData=Object(F.a)({},e.data.Employee),console.log(a.EditData[0]),a.setState({openEdit:!0})}))},a.dataFetch=function(){K.a.get("/employees/employees").then((function(e){a.handleClose(e)})).catch((function(e){}))},a.handleClose=function(e){for(var t=function(t){e.data.Employees[t].id=t+1,a.state.designations.find((function(n,i){return n._id===e.data.Employees[t].employee_designation?e.data.Employees[t].employee_designation_name=n.designation_name:i!==a.state.designations.length-1||e.data.Employees[t].employee_designation_name||(e.data.Employees[t].employee_designation_name=" Problem Loading Data"),null})),a.state.workLocations.find((function(n,i){return n._id===e.data.Employees[t].employee_work_location?e.data.Employees[t].employee_work_location_name=n.work_location_name:i!==a.state.workLocations.length-1||e.data.Employees[t].employee_work_location_name||(e.data.Employees[t].employee_work_location_name=" Problem Loading Data"),null})),a.state.shifts.find((function(n,i){return n._id===e.data.Employees[t].employee_shift?e.data.Employees[t].employee_shift_name=n.shift_name:i!==a.state.shifts.length-1||e.data.Employees[t].employee_shift_name||(e.data.Employees[t].employee_shift_name=" Problem Loading Data"),null}))},n=0;n<e.data.Employees.length;n++)t(n);a.setState({data:Object(Q.a)(e.data.Employees)})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;oe(this.props,"Manage Employees")&&0===this.state.shifts.length&&0===this.state.designations.length&&0===this.state.workLocations.length&&K.a.get("/shifts/shifts").then((function(t){e.setState({shifts:t.data.Shifts}),K.a.get("/work-locations/work-locations").then((function(t){e.setState({workLocations:t.data.WorkLocations}),K.a.get("/designations/designations").then((function(t){e.setState({designations:t.data.Designations}),e.dataFetch()}))}))}))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Manage Employees"),i.a.createElement(m.a,{width:"90%",display:"flex",flexDirection:"row"},i.a.createElement(M.a,{variant:"contained",color:"primary",style:{marginBottom:"20px",display:"flex",marginRight:"10px"},size:"large",onClick:function(){e.setState({openAdd:!0})}},"Add"),i.a.createElement(M.a,{variant:"contained",color:"primary",style:{marginBottom:"20px",display:"flex"},size:"large",onClick:function(){e.setState({openFilter:!0})}},"Filters")),i.a.createElement(V.a,{title:" ",columns:this.state.columns,data:this.state.data,style:{width:"90%",maxHeight:"500px",overflow:"auto"},options:{sorting:!0,headerStyle:{backgroundColor:"#3f51b5",color:"#FFF"}},actions:[{icon:"edit",tooltip:"Edit",onClick:function(t,a){e.OnEditHandler(t,a)}}],editable:{onRowDelete:function(t){return K.a.post("/employees/delete-employee",{_id:t._id}).then((function(a){console.log(a),a&&e.setState((function(e){var a=Object(Q.a)(e.data);return a.splice(a.indexOf(t),1),Object(F.a)({},e,{data:a})}))}))}},onRowClick:function(t,a){e.OnEditHandler(t,a)}}),i.a.createElement(J.a,{open:this.state.openAdd,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,{style:{padding:"20px"}},i.a.createElement(pe,{cancel:function(){e.setState({openAdd:!1}),e.dataFetch()}}))),i.a.createElement(J.a,{open:this.state.openEdit,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,{style:{padding:"20px"}},i.a.createElement(he,{Employee:this.EditData[0],cancel:function(){e.setState({openEdit:!1})}}))),i.a.createElement(J.a,{open:this.state.openFilter,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,{style:{padding:"20px"}},i.a.createElement(fe,{filters:this.state.filters,setData:function(t){e.handleClose(t)},cancel:function(){e.setState({openFilter:!1})},saveFilters:function(t){e.setState((function(e){e.filters=t})),e.setState({openFilter:!1})}}))))}}]),t}(n.Component),ye=ie,be=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={employee_id:"",user_name:"",password:"",password2:"",role:"",errors:[],success:!1,Roles:[],Employees:[]},a.onAddHandler=function(){K.a.post("/users/add-user",{employee_id:a.state.employee_id,name:a.state.user_name,password:a.state.password,password2:a.state.password2,role:a.state.role}).then((function(e){console.log(e),e.data.errors.length>0?(console.log(e.data.errors),a.setState({errors:Object(Q.a)(e.data.errors),success:!1})):a.props.cancel()})).catch((function(e){return console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;oe(this.props,"Manage Users")&&(K.a.get("/employees/employees").then((function(t){console.log(t.data.Employees),e.setState({Employees:Object(Q.a)(t.data.Employees)})})),K.a.get("/roles/roles").then((function(t){console.log(t.data.Roles),e.setState({Roles:Object(Q.a)(t.data.Roles)})})))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:ye.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Add User"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:ye.box_msg,bgcolor:"#f73067",key:t},e)})):null,i.a.createElement(ne,null,i.a.createElement(m.a,{style:ye.box_field},i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select Employee"),i.a.createElement(ee.a,{required:!0,value:this.state.employee_id,onChange:function(t){console.log(t.target.value),e.setState({employee_id:t.target.value})}},this.state.Employees.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.employee_first_name)}))))),i.a.createElement(m.a,{style:ye.box_field},i.a.createElement(X.a,{fullWidth:!0,required:!0,value:this.state.user_name,variant:"outlined",label:"User Name",type:"text",onChange:function(t){e.setState({user_name:t.target.value})}})),i.a.createElement(m.a,{style:ye.box_field},i.a.createElement(X.a,{fullWidth:!0,required:!0,value:this.state.password,variant:"outlined",label:"Password",type:"password",onChange:function(t){e.setState({password:t.target.value})}})),i.a.createElement(m.a,{style:ye.box_field},i.a.createElement(X.a,{fullWidth:!0,required:!0,value:this.state.password2,variant:"outlined",label:"Confirm Password",type:"password",onChange:function(t){e.setState({password2:t.target.value})}})),i.a.createElement(m.a,{style:ye.box_field},i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select Role"),i.a.createElement(ee.a,{required:!0,value:this.state.role,onChange:function(t){console.log(t.target.value),e.setState({role:t.target.value})}},this.state.Roles.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.role_name)})))))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"90%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:this.onAddHandler},"Add"))))}}]),t}(n.Component),Ee=ie,xe=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={employee_id:"",user_name:"",password:"",password2:"",errors:[],success:!1,role:"",Roles:[],Employees:[]},a.onEditHandler=function(){K.a.post("/users/edit-user",{name:a.state.user_name,password:a.state.password,password2:a.state.password2,role:a.state.role}).then((function(e){console.log(e),e.data.errors?e.data.errors.length>0&&(console.log(e.data.errors),a.setState({errors:Object(Q.a)(e.data.errors),success:!1})):a.props.cancel()})).catch((function(e){return console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;oe(this.props,"Manage Users")&&(K.a.get("/roles/roles").then((function(t){e.setState({Roles:t.data.Roles})})),K.a.get("/employees/employees").then((function(t){console.log(t.data.Employees),e.setState({Employees:Object(Q.a)(t.data.Employees)}),e.setState({employee_id:e.props.user.employee_id,user_name:e.props.user.name,role:e.props.user.role})})))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:Ee.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Edit User"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:Ee.box_msg,bgcolor:"#f73067",key:t},e)})):!0===this.state.success?i.a.createElement(m.a,{bgcolor:"#3df45b",style:Ee.box_msg},"Registration Successful"):i.a.createElement(m.a,null),i.a.createElement(ne,null,i.a.createElement(m.a,{style:Ee.box_field},i.a.createElement(Z.a,{disabled:!0,required:!0,variant:"outlined",fullWidth:!0},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select Employee"),i.a.createElement(ee.a,{required:!0,value:this.state.employee_id,onChange:function(t){console.log(t.target.value),e.setState({employee_id:t.target.value})}},this.state.Employees.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.employee_first_name)}))))),i.a.createElement(m.a,{style:Ee.box_field},i.a.createElement(X.a,{disabled:!0,fullWidth:!0,required:!0,value:this.state.user_name,variant:"outlined",label:"User Name",type:"text",onChange:function(t){e.setState({user_name:t.target.value})}})),i.a.createElement(m.a,{style:{width:"100%"}},i.a.createElement(m.a,{style:Ee.box_field},i.a.createElement(X.a,{fullWidth:!0,required:!0,value:this.state.password,variant:"outlined",label:"Password",type:"password",onChange:function(t){e.setState({password:t.target.value})}})),i.a.createElement(m.a,{style:Ee.box_field},i.a.createElement(X.a,{fullWidth:!0,required:!0,value:this.state.password2,variant:"outlined",label:"Confirm Password",type:"password",onChange:function(t){e.setState({password2:t.target.value})}}))),i.a.createElement(m.a,{style:Ee.box_field},i.a.createElement(Z.a,{variant:"outlined",fullWidth:!0},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select Role"),i.a.createElement(ee.a,{required:!0,value:this.state.role,onChange:function(t){console.log(t.target.value),e.setState({role:t.target.value})}},this.state.Roles.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.role_name)})))))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"97%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px",style:{display:"flex"}},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px",style:{display:""}},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:this.onEditHandler},"Update"))))}}]),t}(n.Component),ve=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).EditData={},a.state={columns:[{title:"ID",field:"id"},{title:"Employee ID",field:"employee_id"},{title:"Name",field:"name"},{title:"Role",field:"role"}],data:[],openAdd:!1,openEdit:!1,msg:""},a.OnEditHandler=function(e,t){K.a.post("/users/user",{name:t.name}).then((function(e){a.EditData=Object(F.a)({},e.data.Users[0]),console.log("Edit Data",a.EditData),a.setState({openEdit:!0})}))},a.handleClose=function(){K.a.get("/users/users").then((function(e){console.log(e.data.Users),console.log(e.data.Users);for(var t=function(t){e.data.Users[t].id=t+1,K.a.post("/roles/role",{_id:e.data.Users[t].role}).then((function(n){n.data.Role[0]?(console.log("role: ",n.data.Role[0].role_name),e.data.Users[t].role=n.data.Role[0].role_name,a.setState({data:Object(Q.a)(e.data.Users)})):(e.data.Users[t].role="problem loading role",a.setState({data:Object(Q.a)(e.data.Users)}))})),K.a.post("/employees/employee",{_id:e.data.Users[t].employee_id}).then((function(n){n.data.Employee[0]?(console.log("employee: ",n.data.Employee[0].employee_id),e.data.Users[t].employee_id=n.data.Employee[0].employee_id,a.setState({data:Object(Q.a)(e.data.Users)})):(e.data.Users[t].employee_id="problem loading Employee ID",a.setState({data:Object(Q.a)(e.data.Users)}))}))},n=0;n<e.data.Users.length;n++)t(n);a.setState({data:Object(Q.a)(e.data.Users)})}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){oe(this.props,"Manage Users")&&this.handleClose()}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Manage User"),i.a.createElement(m.a,{width:"90%"},i.a.createElement(M.a,{variant:"contained",color:"primary",style:{marginBottom:"20px",display:"flex"},size:"large",onClick:function(){e.setState({openAdd:!0})}},"Add Users")),i.a.createElement(V.a,{title:"",columns:this.state.columns,data:this.state.data,style:{width:"90%",maxHeight:"500px",overflow:"auto"},options:{sorting:!0,headerStyle:{backgroundColor:"#3f51b5",color:"#FFF"}},actions:[{icon:"edit",tooltip:"Edit User",onClick:function(t,a){e.OnEditHandler(t,a)}}],editable:{onRowDelete:function(t){return K.a.post("/users/delete-user",{_id:t._id}).then((function(a){console.log(a),a&&e.setState((function(e){var a=Object(Q.a)(e.data);return a.splice(a.indexOf(t),1),Object(F.a)({},e,{data:a})}))}))}},onRowClick:function(t,a){e.OnEditHandler(t,a)}}),i.a.createElement(J.a,{open:this.state.openAdd,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,{style:{padding:"20px"}},i.a.createElement(be,{cancel:function(){e.setState({openAdd:!1,msg:"Added"}),e.handleClose()},snack:function(){e.openSnack()}}))),i.a.createElement(J.a,{open:this.state.openEdit,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,{style:{padding:"20px"}},i.a.createElement(xe,{user:this.EditData,cancel:function(){e.setState({openEdit:!1,msg:"Updated"}),e.handleClose()},snack:function(){e.openSnack()}}))))}}]),t}(n.Component),Se=a(934),Ce=a(935),we=a(485),De=a(554),Me=[{name:"Manage Employees",value:!1,component:"management"},{name:"Manage Users",value:!1,component:"management"},{name:"Manage Roles",value:!1,component:"management"},{name:"Manage Products",value:!1,component:"management"},{name:"Manage Raw Materials",value:!1,component:"management"},{name:"Manage Vendors",value:!1,component:"management"},{name:"Manage Distributors",value:!1,component:"management"},{name:"Manage Countries",value:!1,component:"management"},{name:"Manage States",value:!1,component:"management"},{name:"Manage Cities",value:!1,component:"management"},{name:"Manage Work Locations",value:!1,component:"management"},{name:"Manage Shifts",value:!1,component:"management"},{name:"Manage Measuring Units",value:!1,component:"management"},{name:"Manage Material Types",value:!1,component:"management"},{name:"Manage Departments",value:!1,component:"management"},{name:"Manage Production Units",value:!1,component:"management"},{name:"Manage Designations",value:!1,component:"management"},{name:"Manage Boxes",value:!1,component:"management"},{name:"Purchase Requests",value:!1,component:"requests"},{name:"Purchase Report",value:!1,component:"reports"},{name:"Production and Sales Report",value:!1,component:"reports"},{name:"Product Code",value:!1,component:"configurations"},{name:"Manage Purchase",value:!1,component:"purchase"},{name:"Manage Purchase Wastages",value:!1,component:"purchase"},{name:"Manage Purchase Stocks",value:!1,component:"purchase"},{name:"Manage Finance",value:!1,component:"finance"},{name:"Manage PreProduction",value:!1,component:"production"},{name:"Manage Production",value:!1,component:"production"},{name:"Manage Raw Material Request",value:!1,component:"production"},{name:"Manage Wastage",value:!1,component:"production"},{name:"Manage Unit Request",value:!1,component:"production"},{name:"Manage Quality Check",value:!1,component:"production"},{name:"Manage Sales",value:!1,component:"production"},{name:"Manage Product Stock",value:!1,component:"production"},{name:"Manage Raw Material Stock",value:!1,component:"production"},{name:"Manage Unit",value:!1,component:"production"}],ke=ie,je=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={role_name:"",description:"",permissions:Me,management:!1,requests:!1,reports:!1,configurations:!1,finance:!1,purchase:!1,production:!1,errors:[],success:!1},a.manageSelected=0,a.requestSelected=0,a.reportSelected=0,a.configurationSelected=0,a.purchaseSelected=0,a.financeSelected=0,a.productionSelected=0,a.onAddHandler=function(){var e=[];a.state.management&&e.push({name:"Management",Value:!0}),a.state.reports&&e.push({name:"Reports",Value:!0}),a.state.requests&&e.push({name:"Requests",Value:!0}),a.state.configurations&&e.push({name:"Configurations",Value:!0}),a.state.purchase&&e.push({name:"Purchase",Value:!0}),a.state.finance&&e.push({name:"Finance",Value:!0}),a.state.production&&e.push({name:"Production",Value:!0}),a.state.permissions.map((function(t){return!0===t.value&&e.push(t),null})),K.a.post("/roles/add-role",{role_name:a.state.role_name,description:a.state.description,permissions:e}).then((function(e){console.log(e),e.data.errors.length>0?(console.log(e.data.errors),a.setState({errors:Object(Q.a)(e.data.errors),success:!1})):(a.props.cancel(),a.props.snack())})).catch((function(e){return console.log(e)}))},a.onCheckHandle=function(e,t){switch(e){case"management":console.log("management ".concat(t)),t?a.manageSelected++:a.manageSelected--,a.manageSelected>0?a.setState({management:!0}):a.setState({management:!1});break;case"reports":console.log("reports ".concat(t)),t?a.reportSelected++:a.reportSelected--,a.reportSelected>0?a.setState({reports:!0}):a.setState({reports:!1});break;case"requests":console.log("requests ".concat(t)),t?a.requestSelected++:a.requestSelected--,a.requestSelected>0?a.setState({requests:!0}):a.setState({requests:!1});break;case"configurations":console.log("configurations ".concat(t)),t?a.configurationSelected++:a.configurationSelected--,a.configurationSelected>0?a.setState({configurations:!0}):a.setState({configurations:!1});break;case"purchase":console.log("purchase ".concat(t)),t?a.purchaseSelected++:a.purchaseSelected--,a.purchaseSelected>0?a.setState({purchase:!0}):a.setState({purchase:!1});break;case"finance":console.log("finance ".concat(t)),t?a.financeSelected++:a.financeSelected--,a.financeSelected>0?a.setState({finance:!0}):a.setState({finance:!1});break;case"production":console.log("production ".concat(t)),t?a.productionSelected++:a.productionSelected--,a.productionSelected>0?a.setState({production:!0}):a.setState({production:!1})}},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){oe(this.props,"Manage Roles")}},{key:"componentWillUnmount",value:function(){this.state.permissions.map((function(e){return!0===e.value&&(e.value=!1),null}))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:ke.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Add Role"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:ke.box_msg,bgcolor:"#f73067",key:t},e)})):!0===this.state.success?i.a.createElement(m.a,{bgcolor:"#3df45b",style:ke.box_msg},"Registration Successful"):i.a.createElement(m.a,null),i.a.createElement(ne,null,i.a.createElement(m.a,{style:ke.box_field},i.a.createElement(X.a,{fullWidth:!0,required:!0,value:this.state.role_name,variant:"outlined",label:"Role Name",type:"text",onChange:function(t){e.setState({role_name:t.target.value})}})),i.a.createElement(m.a,{style:ke.box_field},i.a.createElement(X.a,{fullWidth:!0,multiline:!0,value:this.state.description,variant:"outlined",label:"Description",type:"text",onChange:function(t){e.setState({description:t.target.value})}})),i.a.createElement(m.a,{fontWeight:"bold",fontSize:"20px",mb:1,display:"flex",justifyContent:"flex-start",width:"100%"},"Permissions*"),i.a.createElement(m.a,{display:"flex",flexWrap:"wrap",maxHeight:"200px",overflow:"auto",border:"2px solid #dbdbdb",padding:"5px"},i.a.createElement(m.a,{width:"20%",display:"flex"},i.a.createElement(we.a,{control:i.a.createElement(De.a,{checked:this.state.management,disabled:!0,value:this.state.management}),label:"Management"})),i.a.createElement(m.a,{width:"20%",display:"flex"},i.a.createElement(we.a,{control:i.a.createElement(De.a,{checked:this.state.requests,disabled:!0,value:this.state.requests}),label:"Requests"})),i.a.createElement(m.a,{width:"20%",display:"flex"},i.a.createElement(we.a,{control:i.a.createElement(De.a,{checked:this.state.reports,disabled:!0,value:this.state.reports}),label:"Reports"})),i.a.createElement(m.a,{width:"20%",display:"flex"},i.a.createElement(we.a,{control:i.a.createElement(De.a,{checked:this.state.purchase,disabled:!0,value:this.state.purchase}),label:"Purchase"})),i.a.createElement(m.a,{width:"20%",display:"flex"},i.a.createElement(we.a,{control:i.a.createElement(De.a,{checked:this.state.finance,disabled:!0,value:this.state.finance}),label:"Finance"})),i.a.createElement(m.a,{width:"20%",display:"flex"},i.a.createElement(we.a,{control:i.a.createElement(De.a,{checked:this.state.production,disabled:!0,value:this.state.production}),label:"Production"})),i.a.createElement(m.a,{width:"20%",display:"flex"},i.a.createElement(we.a,{control:i.a.createElement(De.a,{checked:this.state.configurations,disabled:!0,value:this.state.configurations}),label:"Configurations"})),this.state.permissions.map((function(t,a){return i.a.createElement(m.a,{width:"20%",display:"flex",key:a},i.a.createElement(we.a,{control:i.a.createElement(De.a,{checked:t.value,onClick:function(a){t.value=!t.value,console.log(t.component),e.onCheckHandle(t.component,t.value),e.setState({permissions:Object(Q.a)(e.state.permissions)})},value:"".concat(t.name)}),label:"".concat(t.name)}))})))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"90%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:this.onAddHandler},"Add"))))}}]),t}(n.Component),Oe=ie,Re=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={_id:"",role_name:"",description:"",permissions:Me,management:!1,requests:!1,reports:!1,configurations:!1,finance:!1,purchase:!1,production:!1,errors:[],success:!1,open:!1},a.manageSelected=0,a.requestSelected=0,a.reportSelected=0,a.purchaseSelected=0,a.configurationSelected=0,a.financeSelected=0,a.productionSelected=0,a.onEditHandler=function(){var e=[];a.state.management&&e.push({name:"Management",Value:!0}),a.state.reports&&e.push({name:"Reports",Value:!0}),a.state.requests&&e.push({name:"Requests",Value:!0}),a.state.configurations&&e.push({name:"Configurations",Value:!0}),a.state.purchase&&e.push({name:"Purchase",Value:!0}),a.state.finance&&e.push({name:"Finance",Value:!0}),a.state.production&&e.push({name:"Production",Value:!0}),a.state.permissions.map((function(t){return!0===t.value&&e.push(t),null})),K.a.post("/roles/edit-role",{_id:a.state._id,role_name:a.state.role_name,description:a.state.description,permissions:e}).then((function(e){console.log(e),e.data.errors.length>0?(console.log(e.data.errors),a.setState({errors:Object(Q.a)(e.data.errors),success:!1})):(a.state.permissions.map((function(e){return e.value=!1,null})),a.props.snack(),a.props.cancel())})).catch((function(e){return console.log(e)}))},a.onCheckHandle=function(e,t){switch(e){case"management":console.log("management ".concat(t)),t?a.manageSelected++:a.manageSelected--,a.manageSelected>0?a.setState({management:!0}):a.setState({management:!1});break;case"reports":console.log("reports ".concat(t)),t?a.reportSelected++:a.reportSelected--,a.reportSelected>0?a.setState({reports:!0}):a.setState({reports:!1});break;case"requests":console.log("requests ".concat(t)),t?a.requestSelected++:a.requestSelected--,a.requestSelected>0?a.setState({requests:!0}):a.setState({requests:!1});break;case"configurations":console.log("configurations ".concat(t)),t?a.configurationSelected++:a.configurationSelected--,a.configurationSelected>0?a.setState({configurations:!0}):a.setState({configurations:!1});break;case"purchase":console.log("purchase ".concat(t)),t?a.purchaseSelected++:a.purchaseSelected--,a.purchaseSelected>0?a.setState({purchase:!0}):a.setState({purchase:!1});break;case"finance":console.log("finance ".concat(t)),t?a.financeSelected++:a.financeSelected--,a.financeSelected>0?a.setState({finance:!0}):a.setState({finance:!1});break;case"production":console.log("production ".concat(t)),t?a.productionSelected++:a.productionSelected--,a.productionSelected>0?a.setState({production:!0}):a.setState({production:!1})}},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;oe(this.props,"Manage Roles")&&""===this.state.role_name&&(this.setState({role_name:this.props.role.role_name,description:this.props.role.description,_id:this.props.role._id}),this.state.permissions.map((function(t){return e.props.role.permissions.map((function(a){return t.name===a.name&&("management"===a.component?(e.setState({management:!0}),e.manageSelected++):"requests"===a.component?(e.setState({requests:!0}),e.requestSelected++):"reports"===a.component?(e.setState({reports:!0}),e.reportSelected++):"purchase"===a.component?(e.setState({purchase:!0}),e.purchaseSelected++):"configurations"===a.component?(e.setState({configurations:!0}),e.configurationSelected++):"finance"===a.component?(e.setState({finance:!0}),e.financeSelected++):"production"===a.component&&(e.setState({production:!0}),e.productionSelected++),t.value=!0),null})),null})))}},{key:"componentWillUnmount",value:function(){this.state.permissions.map((function(e){return e.value=!1,null}))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:Oe.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Edit Role"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:Oe.box_msg,bgcolor:"#f73067",key:t},e)})):!0===this.state.success?i.a.createElement(m.a,{bgcolor:"#3df45b",style:Oe.box_msg},"Registration Successful"):i.a.createElement(m.a,null),i.a.createElement(ne,null,i.a.createElement(m.a,{style:Oe.box_field},i.a.createElement(X.a,{fullWidth:!0,required:!0,value:this.state.role_name,variant:"outlined",label:"Role Name",type:"text",onChange:function(t){e.setState({role_name:t.target.value})}})),i.a.createElement(m.a,{style:Oe.box_field},i.a.createElement(X.a,{fullWidth:!0,multiline:!0,value:this.state.description,variant:"outlined",label:"Description",type:"text",onChange:function(t){e.setState({description:t.target.value})}})),i.a.createElement(m.a,{fontWeight:"bold",fontSize:"20px",mb:1,display:"flex",justifyContent:"flex-start",width:"100%"},"Permissions*"),i.a.createElement(m.a,{display:"flex",flexWrap:"wrap",maxHeight:"200px",overflow:"auto",border:"2px solid #dbdbdb",padding:"5px"},i.a.createElement(m.a,{width:"20%",display:"flex"},i.a.createElement(we.a,{control:i.a.createElement(De.a,{checked:this.state.management,disabled:!0,value:this.state.management}),label:"Management"})),i.a.createElement(m.a,{width:"20%",display:"flex"},i.a.createElement(we.a,{control:i.a.createElement(De.a,{checked:this.state.requests,disabled:!0,value:this.state.requests}),label:"Requests"})),i.a.createElement(m.a,{width:"20%",display:"flex"},i.a.createElement(we.a,{control:i.a.createElement(De.a,{checked:this.state.reports,disabled:!0,value:this.state.reports}),label:"Reports"})),i.a.createElement(m.a,{width:"20%",display:"flex"},i.a.createElement(we.a,{control:i.a.createElement(De.a,{checked:this.state.purchase,disabled:!0,value:this.state.purchase}),label:"Purchase"})),i.a.createElement(m.a,{width:"20%",display:"flex"},i.a.createElement(we.a,{control:i.a.createElement(De.a,{checked:this.state.finance,disabled:!0,value:this.state.finance}),label:"Finance"})),i.a.createElement(m.a,{width:"20%",display:"flex"},i.a.createElement(we.a,{control:i.a.createElement(De.a,{checked:this.state.production,disabled:!0,value:this.state.production}),label:"Production"})),i.a.createElement(m.a,{width:"20%",display:"flex"},i.a.createElement(we.a,{control:i.a.createElement(De.a,{checked:this.state.configurations,disabled:!0,value:this.state.configurations}),label:"Configuration"})),this.state.permissions.map((function(t,a){return i.a.createElement(m.a,{width:"20%",display:"flex",key:a},i.a.createElement(we.a,{control:i.a.createElement(De.a,{checked:t.value,onClick:function(a){t.value=!t.value,console.log(t.component),e.onCheckHandle(t.component,t.value),e.setState({permissions:Object(Q.a)(e.state.permissions)})},value:"".concat(t.name)}),label:"".concat(t.name)}))})))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"90%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:this.onEditHandler},"Update"))))}}]),t}(n.Component),We=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).EditData={},a.state={columns:[{title:"ID",field:"id"},{title:"Role Name",field:"role_name"},{title:"Description",field:"description"}],data:[],open:!1,openAdd:!1,openEdit:!1,msg:""},a.onEditHandler=function(e,t){K.a.post("/roles/role",{_id:t._id}).then((function(e){a.EditData=Object(F.a)({},e.data.Role[0]),console.log("Edit ",a.EditData),a.setState({openEdit:!0})}))},a.handleClose=function(){K.a.get("/roles/roles").then((function(e){console.log(e.data);for(var t=0;t<e.data.Roles.length;t++)e.data.Roles[t].id=t+1;a.setState({data:Object(Q.a)(e.data.Roles)})})).catch((function(){}))},a.openSnack=function(){a.setState({open:!0})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){oe(this.props,"Manage Roles")&&this.handleClose()}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Manage Role"),i.a.createElement(m.a,{width:"90%"},i.a.createElement(M.a,{variant:"contained",color:"primary",style:{marginBottom:"20px",display:"flex"},size:"large",onClick:function(){e.setState({openAdd:!0})}},"Add Role")),i.a.createElement(V.a,{title:"",columns:this.state.columns,data:this.state.data,style:{width:"90%",maxHeight:"500px",overflow:"auto"},options:{sorting:!0,headerStyle:{backgroundColor:"#3f51b5",color:"#FFF"}},actions:[{icon:"edit",tooltip:"edit Role",onClick:function(t,a){e.onEditHandler(t,a)}}],editable:{onRowDelete:function(t){return K.a.post("/roles/delete-role",{role_name:t.role_name}).then((function(a){console.log(a),a&&(e.setState((function(e){var a=Object(Q.a)(e.data);return a.splice(a.indexOf(t),1),Object(F.a)({},e,{data:a})})),e.setState({msg:"Deleted"}),e.openSnack())}))}},onRowClick:function(t,a){e.onEditHandler(t,a)}}),i.a.createElement(J.a,{open:this.state.openAdd,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,{style:{padding:"20px"}},i.a.createElement(je,{cancel:function(){e.setState({openAdd:!1,msg:"Added"}),e.handleClose()},snack:function(){e.openSnack()}}))),i.a.createElement(J.a,{open:this.state.openEdit,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,{style:{padding:"20px"}},i.a.createElement(Re,{role:this.EditData,cancel:function(){e.setState({openEdit:!1,msg:"Updated"}),e.handleClose()},snack:function(){e.openSnack()}}))),i.a.createElement(Se.a,{open:this.state.open,autoHideDuration:3e3,onClose:function(){e.setState({open:!1})}},i.a.createElement(Ce.a,{onClose:function(){e.setState({open:!1})},severity:"success",elevation:6,variant:"filled"},"Role ",this.state.msg,"!")))}}]),t}(n.Component),Ie=ie,ze=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={shift_name:"",description:"",errors:[],success:!1},a.onAddHandler=function(){K.a.post("/shifts/add-shift",{shift_name:a.state.shift_name,description:a.state.description}).then((function(e){console.log(e),e.data.errors.length>0?(console.log(e.data.errors),a.setState({errors:Object(Q.a)(e.data.errors),success:!1})):a.props.cancel()})).catch((function(e){return console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){oe(this.props,"Manage Shifts")}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:Ie.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Add Shift"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:Ie.box_msg,bgcolor:"#f73067",key:t},e)})):!0===this.state.success?i.a.createElement(m.a,{bgcolor:"#3df45b",style:Ie.box_msg},"Registration Successful"):null,i.a.createElement(ne,null,i.a.createElement(m.a,{style:Ie.box_field},i.a.createElement(X.a,{fullWidth:!0,required:!0,value:this.state.shift_name,variant:"outlined",label:"Shift Name",type:"text",onChange:function(t){e.setState({shift_name:t.target.value})}})),i.a.createElement(m.a,{style:Ie.box_field},i.a.createElement(X.a,{fullWidth:!0,required:!0,value:this.state.description,variant:"outlined",label:"Description",type:"text",onChange:function(t){e.setState({description:t.target.value})}}))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:this.onAddHandler},"Add"))))}}]),t}(n.Component),Pe=ie,qe=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={_id:"",shift_name:"",description:"",errors:[],success:!1},a.onEditHandler=function(){K.a.post("/shifts/edit-shift",{_id:a.state._id,shift_name:a.state.shift_name,description:a.state.description}).then((function(e){console.log(e),e.data.errors&&(e.data.errors.length>0?(console.log(e.data.errors),a.setState({errors:Object(Q.a)(e.data.errors),success:!1})):a.props.cancel())})).catch((function(e){return console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){oe(this.props,"Manage Shifts")&&""===this.state.shift_name&&this.setState({shift_name:this.props.shift.shift_name,description:this.props.shift.description,_id:this.props.shift._id})}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:Pe.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Edit Shift"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:Pe.box_msg,bgcolor:"#f73067",key:t},e)})):!0===this.state.success?i.a.createElement(m.a,{bgcolor:"#3df45b",style:Pe.box_msg},"Registration Successful"):null,i.a.createElement(ne,null,i.a.createElement(m.a,{style:Pe.box_field},i.a.createElement(X.a,{fullWidth:!0,required:!0,value:this.state.shift_name,variant:"outlined",label:"Shift Name",type:"text",onChange:function(t){e.setState({shift_name:t.target.value})}})),i.a.createElement(m.a,{style:Pe.box_field},i.a.createElement(X.a,{fullWidth:!0,required:!0,value:this.state.description,variant:"outlined",label:"Description",type:"text",onChange:function(t){e.setState({description:t.target.value})}}))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:this.onEditHandler},"Update"))))}}]),t}(n.Component),Ue=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).EditData={},a.state={columns:[{title:"ID",field:"id"},{title:"Shift Name",field:"shift_name"},{title:"Description",field:"description"}],data:[],openAdd:!1,openEdit:!1},a.OnEditHandler=function(e,t){K.a.post("/shifts/shift",{_id:t._id}).then((function(e){console.log(e),a.EditData=Object(F.a)({},e.data.shift[0]),console.log(a.EditData),a.setState({openEdit:!0})}))},a.handleClose=function(){K.a.get("/shifts/shifts").then((function(e){console.log(e.data);for(var t=0;t<e.data.Shifts.length;t++)e.data.Shifts[t].id=t+1;a.setState({data:Object(Q.a)(e.data.Shifts)})}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){oe(this.props,"Manage Shifts")&&this.handleClose()}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Manage Shift"),i.a.createElement(m.a,{width:"90%"},i.a.createElement(M.a,{variant:"contained",color:"primary",style:{marginBottom:"20px",display:"flex"},size:"large",onClick:function(){e.setState({openAdd:!0})}},"Add Shift")),i.a.createElement(V.a,{title:" ",columns:this.state.columns,data:this.state.data,style:{width:"90%",maxHeight:"500px",overflow:"auto"},options:{sorting:!0,headerStyle:{backgroundColor:"#3f51b5",color:"#FFF"}},actions:[{icon:"edit",tooltip:"Edit User",onClick:function(t,a){e.OnEditHandler(t,a)}}],editable:{onRowDelete:function(t){return K.a.post("/shifts/delete-shift",{shift_name:t.shift_name}).then((function(a){console.log(a),a&&e.setState((function(e){var a=Object(Q.a)(e.data);return a.splice(a.indexOf(t),1),Object(F.a)({},e,{data:a})}))}))}},onRowClick:function(t,a){e.OnEditHandler(t,a)}}),i.a.createElement(J.a,{open:this.state.openAdd,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,{style:{padding:"20px"}},i.a.createElement(ze,{cancel:function(){e.setState({openAdd:!1}),e.handleClose()}}))),i.a.createElement(J.a,{open:this.state.openEdit,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,{style:{padding:"20px"}},i.a.createElement(qe,{shift:this.EditData,cancel:function(){e.setState({openEdit:!1}),e.handleClose()}}))))}}]),t}(n.Component),Te=function(e){var t=!1,a="",n=!1,i=e.target,o=i.name,l=i.value;switch(console.log(o,l),o){case"state_name":l.length>20?(t=!0,a="must have less than 20 characters"):0===l.length?(t=!0,a="Name required"):(t=!1,a="",n=!0);break;case"description":l.length>200?(t=!0,a="must have less than 200 characters"):(t=!1,a="",n=!0)}return{status:t,msg:a,isValid:n}},Ae=ie,Ne=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={state_name:"",country_id:"",description:"",errors:[],success:!1,states:[],Countries:[],fieldError:{state_name:{status:!1,msg:""},country:{status:!1,msg:""},description:{status:!1,msg:""}},isValid:!1},a.onAddHandler=function(){""===a.state.country_id?(a.setState({}),a.setState((function(e){e.fieldError.country.status=!0})),a.setState({errors:["Select Country"]})):K.a.post("/states/add-state",{state_name:a.state.state_name,country_id:a.state.country_id,description:a.state.description}).then((function(e){console.log(e),e.data.errors.length>0?(console.log(e.data.errors),a.setState({errors:Object(Q.a)(e.data.errors),success:!1})):a.props.cancel()})).catch((function(e){return console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;oe(this.props,"Manage States")&&K.a.get("/countries/countries").then((function(t){e.setState({Countries:Object(Q.a)(t.data.Countries)})}))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:Ae.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Add State"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:Ae.box_msg,bgcolor:"#f73067",key:t},e)})):!0===this.state.success?i.a.createElement(m.a,{bgcolor:"#3df45b",style:Ae.box_msg},"Registration Successful"):null,i.a.createElement(ne,null,i.a.createElement(m.a,{style:Ae.box_field},i.a.createElement(X.a,{name:"state_name",fullWidth:!0,required:!0,value:this.state.state_name,variant:"outlined",label:"State Name",type:"text",onChange:function(t){e.setState({state_name:t.target.value});var a=Te(t),n=a.status,i=a.msg,o=a.isValid;e.setState((function(e){e.fieldError.state_name.status=n,e.fieldError.state_name.msg=i,e.isValid=o}))},error:this.state.fieldError.state_name.status,helperText:this.state.fieldError.state_name.msg})),i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select Country"),i.a.createElement(ee.a,{name:"country",style:Ae.box_field,required:!0,value:this.state.country_id,onChange:function(t){e.setState({country_id:t.target.value})},error:this.state.fieldError.country.status},this.state.Countries.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.country_name)})))),i.a.createElement(m.a,{style:Ae.box_field},i.a.createElement(X.a,{name:"description",fullWidth:!0,required:!0,value:this.state.description,variant:"outlined",label:"Description",type:"text",onChange:function(t){e.setState({description:t.target.value});var a=Te(t),n=a.status,i=a.msg,o=a.isValid;e.setState((function(e){e.fieldError.description.status=n,e.fieldError.description.msg=i,e.isValid=o}))},error:this.state.fieldError.description.status,helperText:this.state.fieldError.description.msg}))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",disabled:!this.state.isValid,onClick:this.onAddHandler},"Add"))))}}]),t}(n.Component),Be=ie,Le=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={_id:"",state_name:"",country_id:"",description:"",errors:[],success:!1,countries:[],fieldError:{state_name:{status:!1,msg:""},country:{status:!1,msg:""},description:{status:!1,msg:""}},isValid:!1},a.onEditHandler=function(){""===a.state.country_id?(a.setState({}),a.setState((function(e){e.fieldError.country.status=!0})),a.setState({errors:["Select Country"]})):K.a.post("/states/edit-state",{_id:a.state._id,state_name:a.state.state_name,country_id:a.state.country_id,description:a.state.description}).then((function(e){console.log(e),e.data.errors&&(e.data.errors.length>0?(console.log(e.data.errors),a.setState({errors:Object(Q.a)(e.data.errors),success:!1})):a.props.cancel())})).catch((function(e){return console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;oe(this.props,"Manage States")&&K.a.get("/countries/countries").then((function(t){e.setState({countries:Object(Q.a)(t.data.Countries)}),""===e.state.state_name&&(console.log(e.props.state),e.setState({_id:e.props.state._id,state_name:e.props.state.state_name,country_id:e.props.state.country_id,description:e.props.state.description}))}))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:Be.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Edit State"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:Be.box_msg,bgcolor:"#f73067",key:t},e)})):!0===this.state.success?i.a.createElement(m.a,{bgcolor:"#3df45b",style:Be.box_msg},"Registration Successful"):null,i.a.createElement(ne,null,i.a.createElement(m.a,{style:Be.box_field},i.a.createElement(X.a,{name:"state_name",fullWidth:!0,required:!0,value:this.state.state_name,variant:"outlined",label:"State Name",type:"text",onChange:function(t){e.setState({state_name:t.target.value});var a=Te(t),n=a.status,i=a.msg,o=a.isValid;e.setState((function(e){e.fieldError.state_name.status=n,e.fieldError.state_name.msg=i,e.isValid=o}))},error:this.state.fieldError.state_name.status,helperText:this.state.fieldError.state_name.msg})),i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select Country"),i.a.createElement(ee.a,{name:"country",style:Be.box_field,required:!0,value:this.state.country_id,onChange:function(t){console.log(t.target.value),e.setState({country_id:t.target.value})},error:this.state.fieldError.country.status},this.state.countries.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.country_name)})))),i.a.createElement(m.a,{style:Be.box_field},i.a.createElement(X.a,{name:"description",fullWidth:!0,required:!0,value:this.state.description,variant:"outlined",label:"Description",type:"text",onChange:function(t){e.setState({description:t.target.value});var a=Te(t),n=a.status,i=a.msg,o=a.isValid;e.setState((function(e){e.fieldError.description.status=n,e.fieldError.description.msg=i,e.isValid=o}))},error:this.state.fieldError.description.status,helperText:this.state.fieldError.description.msg}))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",disabled:!this.state.isValid,onClick:this.onEditHandler},"Add"))))}}]),t}(n.Component),Qe=a(212),Fe=a.n(Qe),He=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={bulk_upload:[]},a.onBulkAddHandler=function(){a.state.bulk_upload.map((function(e){return console.log(e[1]),K.a.post("/countries/country-name",{country_name:e[1]}).then((function(t){console.log(t),K.a.post("/states/add-state",{state_name:e[0],country_id:t.data.Country[0]._id,description:e[2]}).then((function(e){console.log(e),e.data.errors.length>0&&(console.log(e.data.errors),a.setState({errors:Object(Q.a)(e.data.errors),success:!1}))})).catch((function(e){return console.log(e)}))})).catch((function(e){console.log(e),a.props.cancel()})),null}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{display:"flex",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",fontWeight:"bold"},"State CSV upload"),i.a.createElement(m.a,{display:"flex"},i.a.createElement(m.a,{display:"flex",flex:"2",alignItems:"center"},i.a.createElement(Fe.a,{onFileLoaded:function(t){console.log(t);var a=t.length-2;console.log(a),(t=t.splice(1,a)).push("EOF"),e.setState({bulk_upload:Object(Q.a)(t)})}})),i.a.createElement(m.a,{display:"flex",alignSelf:"flex-end",flex:"1"},i.a.createElement(M.a,{style:{marginRight:"10px"},variant:"contained",color:"primary",onClick:function(){e.onBulkAddHandler()}},"upload"),i.a.createElement(M.a,{variant:"contained",color:"primary",onClick:function(){e.props.cancel()}},"cancel"))))}}]),t}(n.Component),Ve=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).EditData={},a.state={columns:[{title:"ID",field:"id"},{title:"State Name",field:"state_name"},{title:"Country Name",field:"country_id"},{title:"Description",field:"description"}],data:[],openAdd:!1,openEdit:!1,openUploadCSV:!1,samp:"hello"},a.OnEditHandler=function(e,t){console.log(t._id),K.a.post("/states/state",{_id:t._id}).then((function(e){console.log(e),a.EditData=Object(F.a)({},e.data.state),console.log(a.EditData[0]),a.setState({openEdit:!0})}))},a.handleClose=function(){K.a.get("/states/states").then((function(e){for(var t=function(t){e.data.States[t].id=t+1,K.a.post("/countries/country",{_id:e.data.States[t].country_id}).then((function(n){n.data.Country[0]?(console.log(n.data.Country[0].country_name),e.data.States[t].country_id=n.data.Country[0].country_name,a.setState({data:Object(Q.a)(e.data.States)})):(e.data.States[t].country_id="problem loading country",a.setState({data:Object(Q.a)(e.data.States)}))}))},n=0;n<e.data.States.length;n++)t(n)})).catch((function(e){console.log("Error")}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){oe(this.props,"Manage States")&&this.handleClose()}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Manage State"),i.a.createElement(m.a,{width:"90%",display:"flex",flexDirection:"row"},i.a.createElement(M.a,{variant:"contained",color:"primary",style:{marginBottom:"20px",display:"flex",marginRight:"10px"},size:"large",onClick:function(){e.setState({openAdd:!0})}},"Add State"),i.a.createElement(M.a,{variant:"contained",color:"primary",style:{marginBottom:"20px",display:"flex"},size:"large",onClick:function(){e.setState({openUploadCSV:!0})}},"Upload CSV")),i.a.createElement(V.a,{title:" ",columns:this.state.columns,data:this.state.data,style:{width:"90%",maxHeight:"500px",overflow:"auto"},options:{sorting:!0,headerStyle:{backgroundColor:"#3f51b5",color:"#FFF"}},actions:[{icon:"edit",tooltip:"Edit User",onClick:function(t,a){e.OnEditHandler(t,a)}}],editable:{onRowDelete:function(t){return K.a.post("/states/delete-state",{state_name:t.state_name}).then((function(a){console.log(a),a&&e.setState((function(e){var a=Object(Q.a)(e.data);return a.splice(a.indexOf(t),1),Object(F.a)({},e,{data:a})}))}))}},onRowClick:function(t,a){e.OnEditHandler(t,a)}}),i.a.createElement(J.a,{open:this.state.openAdd,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,{style:{padding:"20px"}},i.a.createElement(Ne,{cancel:function(){e.setState({openAdd:!1}),e.handleClose()}}))),i.a.createElement(J.a,{open:this.state.openEdit,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,{style:{padding:"20px"}},i.a.createElement(Le,{state:this.EditData[0],cancel:function(){e.setState({openEdit:!1}),e.handleClose()}}))),i.a.createElement(J.a,{open:this.state.openUploadCSV,maxWidth:"sm",fullWidth:!0},i.a.createElement(Y.a,{style:{padding:"20px"}},i.a.createElement(He,{cancel:function(){e.setState({openUploadCSV:!1}),e.handleClose()}}))))}}]),t}(n.Component),Ye=function(e){var t=!1,a="",n=!1,i=e.target,o=i.name,l=i.value;switch(console.log(o,l),o){case"country_name":l.length>20?(t=!0,a="must have less than 20 characters"):0===l.length?(t=!0,a="Name required"):(t=!1,a="",n=!0);break;case"description":l.length>200?(t=!0,a="must have less than 200 characters"):(t=!1,a="",n=!0)}return{status:t,msg:a,isValid:n}},Je=ie,Ge=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={country_name:"",description:"",errors:[],success:!1,fieldError:{country_name:{status:!1,msg:""},description:{status:!1,msg:""}},isValid:!1},a.onAddHandler=function(){K.a.post("/countries/add-country",{country_name:a.state.country_name,description:a.state.description}).then((function(e){console.log(e),e.data.errors.length>0?(console.log(e.data.errors),a.setState({errors:Object(Q.a)(e.data.errors),success:!1})):a.props.cancel()})).catch((function(e){return console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){oe(this.props,"Manage Countries")}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:Je.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Add Country"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:Je.box_msg,bgcolor:"#f73067",key:t},e)})):!0===this.state.success?i.a.createElement(m.a,{bgcolor:"#3df45b",style:Je.box_msg},"Registration Successful"):null,i.a.createElement(ne,null,i.a.createElement(m.a,{style:Je.box_field},i.a.createElement(X.a,{name:"country_name",fullWidth:!0,required:!0,value:this.state.country_name,variant:"outlined",label:"Country Name",type:"text",size:"small",onChange:function(t){e.setState({country_name:t.target.value});var a=Ye(t),n=a.status,i=a.msg,o=a.isValid;e.setState((function(e){e.fieldError.country_name.status=n,e.fieldError.country_name.msg=i,e.isValid=o}))},error:this.state.fieldError.country_name.status,helperText:this.state.fieldError.country_name.msg})),i.a.createElement(m.a,{style:Je.box_field},i.a.createElement(X.a,{name:"description",fullWidth:!0,required:!0,value:this.state.description,variant:"outlined",label:"Description",type:"text",size:"small",onChange:function(t){e.setState({description:t.target.value});var a=Ye(t),n=a.status,i=a.msg,o=a.isValid;e.setState((function(e){e.fieldError.description.status=n,e.fieldError.description.msg=i,e.isValid=o}))},error:this.state.fieldError.description.status,helperText:this.state.fieldError.description.msg}))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:this.onAddHandler,disabled:!this.state.isValid},"Add"))))}}]),t}(n.Component),Ke=ie,Xe=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={_id:"",country_name:"",description:"",errors:[],success:!1,fieldError:{country_name:{status:!1,msg:""},description:{status:!1,msg:""}},isValid:!1},a.onEditHandler=function(){K.a.post("/countries/edit-country",{_id:a.state._id,country_name:a.state.country_name,description:a.state.description}).then((function(e){console.log(e),e.data.errors&&(e.data.errors.length>0?(console.log(e.data.errors),a.setState({errors:Object(Q.a)(e.data.errors),success:!1})):a.props.cancel())})).catch((function(e){return console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){oe(this.props,"Manage Countries")&&(console.log(this.props),""===this.state.country_name&&this.setState({country_name:this.props.country.country_name,description:this.props.country.description,_id:this.props.country._id}))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:Ke.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Edit Country"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:Ke.box_msg,bgcolor:"#f73067",key:t},e)})):!0===this.state.success?i.a.createElement(m.a,{bgcolor:"#3df45b",style:Ke.box_msg},"Registration Successful"):null,i.a.createElement(ne,null,i.a.createElement(m.a,{style:Ke.box_field},i.a.createElement(X.a,{name:"country_name",fullWidth:!0,required:!0,value:this.state.country_name,variant:"outlined",label:"Country Name",type:"text",size:"small",onChange:function(t){e.setState({country_name:t.target.value});var a=Ye(t),n=a.status,i=a.msg,o=a.isValid;e.setState((function(e){e.fieldError.country_name.status=n,e.fieldError.country_name.msg=i,e.isValid=o}))},error:this.state.fieldError.country_name.status,helperText:this.state.fieldError.country_name.msg})),i.a.createElement(m.a,{style:Ke.box_field},i.a.createElement(X.a,{name:"description",fullWidth:!0,required:!0,value:this.state.description,variant:"outlined",label:"Description",type:"text",size:"small",onChange:function(t){e.setState({description:t.target.value});var a=Ye(t),n=a.status,i=a.msg,o=a.isValid;e.setState((function(e){e.fieldError.description.status=n,e.fieldError.description.msg=i,e.isValid=o}))},error:this.state.fieldError.description.status,helperText:this.state.fieldError.description.msg}))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",disabled:!this.state.isValid,onClick:this.onEditHandler},"Update"))))}}]),t}(n.Component),Ze=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={bulk_upload:[]},a.onBulkAddHandler=function(){a.state.bulk_upload.map((function(e){return console.log(e[0]),K.a.post("/countries/add-country",{country_name:e[0],description:e[1]}).then((function(e){console.log(e),e.data.errors.length>0&&(console.log(e.data.errors),a.setState({errors:Object(Q.a)(e.data.errors),success:!1}))})).catch((function(e){console.log(e)})),a.props.cancel(),null}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{display:"flex",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",fontWeight:"bold"},"Country CSV upload"),i.a.createElement(m.a,{display:"flex"},i.a.createElement(m.a,{display:"flex",flex:"2",alignItems:"center"},i.a.createElement(Fe.a,{onFileLoaded:function(t){console.log(t);var a=t.length-2;console.log(a),t=t.splice(1,a),e.setState({bulk_upload:Object(Q.a)(t)})}})),i.a.createElement(m.a,{display:"flex",alignSelf:"flex-end",flex:"1"},i.a.createElement(M.a,{style:{marginRight:"10px"},variant:"contained",color:"primary",onClick:function(){e.onBulkAddHandler()}},"upload"),i.a.createElement(M.a,{variant:"contained",color:"primary",onClick:function(){e.props.cancel()}},"cancel"))))}}]),t}(n.Component),$e=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).EditData={},a.state={columns:[{title:"ID",field:"id"},{title:"Country Name",field:"country_name"},{title:"Description",field:"description"}],data:[],openAdd:!1,openEdit:!1,openUploadCSV:!1},a.OnEditHandler=function(e,t){K.a.post("/countries/country",{_id:t._id}).then((function(e){a.EditData=Object(F.a)({},e.data.Country[0]),console.log(a.EditData),a.setState({openEdit:!0})}))},a.handleClose=function(){K.a.get("/countries/countries").then((function(e){console.log(e.data.Countries);for(var t=0;t<e.data.Countries.length;t++)e.data.Countries[t].id=t+1;a.setState({data:Object(Q.a)(e.data.Countries)})}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){oe(this.props,"Manage Countries")&&this.handleClose()}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Manage Countries"),i.a.createElement(m.a,{width:"90%",display:"flex",flexDirection:"row"},i.a.createElement(M.a,{variant:"contained",color:"primary",style:{marginBottom:"20px",display:"flex",marginRight:"10px"},size:"large",onClick:function(){e.setState({openAdd:!0})}},"Add Countries"),i.a.createElement(M.a,{variant:"contained",color:"primary",style:{marginBottom:"20px",display:"flex"},size:"large",onClick:function(){e.setState({openUploadCSV:!0})}},"Upload CSV")),i.a.createElement(V.a,{title:" ",columns:this.state.columns,data:this.state.data,style:{width:"90%",maxHeight:"500px",overflow:"auto"},options:{sorting:!0,headerStyle:{backgroundColor:"#3f51b5",color:"#FFF"}},actions:[{icon:"edit",tooltip:"Edit User",onClick:function(t,a){e.OnEditHandler(t,a)}}],editable:{onRowDelete:function(t){return K.a.post("/countries/delete-country",{country_name:t.country_name}).then((function(a){console.log(a),a&&e.setState((function(e){var a=Object(Q.a)(e.data);return a.splice(a.indexOf(t),1),Object(F.a)({},e,{data:a})}))}))}},onRowClick:function(t,a){e.OnEditHandler(t,a)}}),i.a.createElement(J.a,{open:this.state.openAdd,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,{style:{padding:"20px"}},i.a.createElement(Ge,{cancel:function(){e.setState({openAdd:!1}),e.handleClose()}}))),i.a.createElement(J.a,{open:this.state.openEdit,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,{style:{padding:"20px"}},i.a.createElement(Xe,{country:this.EditData,cancel:function(){e.setState({openEdit:!1}),e.handleClose()}}))),i.a.createElement(J.a,{open:this.state.openUploadCSV,maxWidth:"sm",fullWidth:!0},i.a.createElement(Y.a,{style:{padding:"20px"}},i.a.createElement(Ze,{cancel:function(){e.setState({openUploadCSV:!1}),e.handleClose()}}))))}}]),t}(n.Component),et=function(e){var t=!1,a="",n=!1,i=e.target,o=i.name,l=i.value;switch(console.log(o,l),o){case"city_name":l.length>20?(t=!0,a="must have less than 20 characters"):0===l.length?(t=!0,a="Name required"):(t=!1,a="",n=!0);break;case"description":l.length>200?(t=!0,a="must have less than 200 characters"):(t=!1,a="",n=!0)}return{status:t,msg:a,isValid:n}},tt=ie,at=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={city_name:"",state_id:"",description:"",errors:[],success:!1,states:[],bulk_upload:[],fieldError:{city_name:{status:!1,msg:""},state:{status:!1,msg:""},description:{status:!1,msg:""}},isValid:!1},a.onAddHandler=function(){""===a.state.state_id?(a.setState({}),a.setState((function(e){e.fieldError.state.status=!0})),a.setState({errors:["Select State"]})):K.a.post("/cities/add-city",{city_name:a.state.city_name,state_id:a.state.state_id,description:a.state.description}).then((function(e){console.log(e),e.data.errors.length>0?(console.log(e.data.errors),a.setState({errors:Object(Q.a)(e.data.errors),success:!1})):a.props.cancel()})).catch((function(e){return console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;oe(this.props,"Manage Cities")&&K.a.get("/states/states").then((function(t){e.setState({states:Object(Q.a)(t.data.States)})}))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:tt.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Add City"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:tt.box_msg,bgcolor:"#f73067",key:t},e)})):!0===this.state.success?i.a.createElement(m.a,{bgcolor:"#3df45b",style:tt.box_msg},"Registration Successful"):null,i.a.createElement(ne,null,i.a.createElement(m.a,{style:tt.box_field},i.a.createElement(X.a,{size:"small",name:"city_name",fullWidth:!0,required:!0,value:this.state.city_name,variant:"outlined",label:"City Name",type:"text",onChange:function(t){e.setState({city_name:t.target.value});var a=et(t),n=a.status,i=a.msg,o=a.isValid;e.setState((function(e){e.fieldError.city_name.status=n,e.fieldError.city_name.msg=i,e.isValid=o}))},error:this.state.fieldError.city_name.status,helperText:this.state.fieldError.city_name.msg})),i.a.createElement(Z.a,{required:!0,variant:"outlined",size:"small",fullWidth:!0},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select State"),i.a.createElement(ee.a,{name:"state",style:tt.box_field,required:!0,value:this.state.state_id,onChange:function(t){console.log(t.target.value),e.setState({state_id:t.target.value}),e.setState((function(e){e.fieldError.state.status=!1})),e.setState({errors:[]})},error:this.state.fieldError.state.status},this.state.states.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.state_name)})))),i.a.createElement(m.a,{style:tt.box_field},i.a.createElement(X.a,{size:"small",name:"description",fullWidth:!0,required:!0,value:this.state.description,variant:"outlined",label:"Description",type:"text",onChange:function(t){e.setState({description:t.target.value});var a=et(t),n=a.status,i=a.msg,o=a.isValid;e.setState((function(e){e.fieldError.description.status=n,e.fieldError.description.msg=i,e.isValid=o}))},error:this.state.fieldError.description.status,helperText:this.state.fieldError.description.msg})),i.a.createElement(p.a,null),i.a.createElement(m.a,null)),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",disabled:!this.state.isValid,onClick:this.onAddHandler},"Add"))))}}]),t}(n.Component),nt=ie,it=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={_id:"",city_name:"",state_id:"",description:"",errors:[],success:!1,states:[],fieldError:{city_name:{status:!1,msg:""},state:{status:!1,msg:""},description:{status:!1,msg:""}},isValid:!1},a.onEditHandler=function(){""===a.state.state_id?(a.setState({}),a.setState((function(e){e.fieldError.state.status=!0})),a.setState({errors:["Select State"]})):K.a.post("/cities/edit-city",{_id:a.state._id,city_name:a.state.city_name,state_id:a.state.state_id,description:a.state.description}).then((function(e){console.log(e),e.data.errors&&(e.data.errors.length>0?(console.log(e.data.errors),a.setState({errors:Object(Q.a)(e.data.errors),success:!1})):a.props.cancel())})).catch((function(e){return console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;oe(this.props,"Manage Cities")&&K.a.get("/states/states").then((function(t){e.setState({states:Object(Q.a)(t.data.States)}),""===e.state.city_name&&e.setState({_id:e.props.city._id,city_name:e.props.city.city_name,state_id:e.props.city.state_id,description:e.props.city.description})}))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:nt.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Edit City"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:nt.box_msg,bgcolor:"#f73067",key:t},e)})):!0===this.state.success?i.a.createElement(m.a,{bgcolor:"#3df45b",style:nt.box_msg},"Registration Successful"):null,i.a.createElement(ne,null,i.a.createElement(m.a,{style:nt.box_field},i.a.createElement(X.a,{size:"small",name:"city_name",fullWidth:!0,required:!0,value:this.state.city_name,variant:"outlined",label:"City Name",type:"text",onChange:function(t){e.setState({city_name:t.target.value});var a=et(t),n=a.status,i=a.msg,o=a.isValid;e.setState((function(e){e.fieldError.city_name.status=n,e.fieldError.city_name.msg=i,e.isValid=o}))},error:this.state.fieldError.city_name.status,helperText:this.state.fieldError.city_name.msg})),i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select State"),i.a.createElement(ee.a,{name:"state",style:nt.box_field,required:!0,value:this.state.state_id,onChange:function(t){console.log(t.target.value),e.setState({state_id:t.target.value}),e.setState((function(e){e.fieldError.state.status=!1})),e.setState({errors:[]})},error:this.state.fieldError.state.status},this.state.states.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.state_name)})))),i.a.createElement(m.a,{style:nt.box_field},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,value:this.state.description,variant:"outlined",label:"Description",type:"text",onChange:function(t){e.setState({description:t.target.value});var a=et(t),n=a.status,i=a.msg,o=a.isValid;e.setState((function(e){e.fieldError.description.status=n,e.fieldError.description.msg=i,e.isValid=o}))},error:this.state.fieldError.description.status,helperText:this.state.fieldError.description.msg}))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",disabled:!this.state.isValid,onClick:this.onEditHandler},"Update"))))}}]),t}(n.Component),ot=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={bulk_upload:[]},a.onBulkAddHandler=function(){a.state.bulk_upload.map((function(e){return K.a.post("/states/state-name",{state_name:e[1]}).then((function(t){K.a.post("/cities/add-city",{city_name:e[0],state_id:t.data.State[0]._id,description:e[2]}).then((function(e){e.data.errors.length>0&&(console.log(e.data.errors),a.setState({errors:Object(Q.a)(e.data.errors),success:!1}))})).catch((function(e){return console.log(e)}))})).catch((function(e){console.log(e),a.props.cancel()})),null}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{display:"flex",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",fontWeight:"bold"},"City CSV upload"),i.a.createElement(m.a,{display:"flex"},i.a.createElement(m.a,{display:"flex",flex:"2",alignItems:"center"},i.a.createElement(Fe.a,{onFileLoaded:function(t){var a=t.length-2;(t=t.splice(1,a)).push("EOF"),e.setState({bulk_upload:Object(Q.a)(t)})}})),i.a.createElement(m.a,{display:"flex",alignSelf:"flex-end",flex:"1"},i.a.createElement(M.a,{style:{marginRight:"10px"},variant:"contained",color:"primary",onClick:function(){e.onBulkAddHandler()}},"upload"),i.a.createElement(M.a,{variant:"contained",color:"primary",onClick:function(){e.props.cancel()}},"cancel"))))}}]),t}(n.Component),lt=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).EditData={},a.state={columns:[{title:"ID",field:"id"},{title:"City Name",field:"city_name"},{title:"State Name",field:"state_id"},{title:"Description",field:"description"}],data:[],openAdd:!1,openEdit:!1,openUploadCSV:!1},a.CancelToken=K.a.CancelToken,a.source=a.CancelToken.source(),a.OnEditHandler=function(e,t){console.log(t._id),K.a.post("/cities/city",{_id:t._id},{cancelToken:a.source.token}).then((function(e){console.log(e),a.EditData=Object(F.a)({},e.data.city),console.log(a.EditData[0]),a.setState({openEdit:!0})}))},a.handleClose=function(){K.a.get("/cities/cities",{cancelToken:a.source.token}).then((function(e){for(var t=function(t){e.data.Cities[t].id=t+1,K.a.post("/states/state",{_id:e.data.Cities[t].state_id},{cancelToken:a.source.token}).then((function(n){console.log(n),n.data.state[0]?(console.log(n.data.state[0].state_name),e.data.Cities[t].state_id=n.data.state[0].state_name,a.setState({data:Object(Q.a)(e.data.Cities)})):(e.data.Cities[t].state_id="problem loading state",a.setState({data:Object(Q.a)(e.data.Cities)}))})).catch((function(e){console.log(e)}))},n=0;n<e.data.Cities.length;n++)t(n)})).catch((function(e){console.log("Error")}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){oe(this.props,"Manage Cities")&&this.handleClose()}},{key:"componentWillUnmount",value:function(){this.source.cancel("axios call aborted")}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Manage City"),i.a.createElement(m.a,{width:"90%",display:"flex",flexDirection:"row"},i.a.createElement(M.a,{variant:"contained",color:"primary",style:{marginBottom:"20px",display:"flex",marginRight:"10px"},size:"large",onClick:function(){e.setState({openAdd:!0})}},"Add City"),i.a.createElement(M.a,{variant:"contained",color:"primary",style:{marginBottom:"20px",display:"flex"},size:"large",onClick:function(){e.setState({openUploadCSV:!0})}},"Upload CSV")),i.a.createElement(V.a,{fixed:!0,title:" ",columns:this.state.columns,data:this.state.data,style:{width:"90%",maxHeight:"500px",overflow:"auto"},options:{sorting:!0,headerStyle:{backgroundColor:"#3f51b5",color:"#FFF"}},actions:[{icon:"edit",tooltip:"Edit User",onClick:function(t,a){e.OnEditHandler(t,a)}}],editable:{onRowDelete:function(t){return K.a.post("/cities/delete-city",{_id:t._id}).then((function(a){console.log(a),a&&e.setState((function(e){var a=Object(Q.a)(e.data);return a.splice(a.indexOf(t),1),Object(F.a)({},e,{data:a})}))}))}},onRowClick:function(t,a){e.OnEditHandler(t,a)}}),i.a.createElement(J.a,{open:this.state.openAdd,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,{style:{padding:"20px"}},i.a.createElement(at,{cancel:function(){e.setState({openAdd:!1}),e.handleClose()}}))),i.a.createElement(J.a,{open:this.state.openEdit,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,{style:{padding:"20px"}},i.a.createElement(it,{city:this.EditData[0],cancel:function(){e.setState({openEdit:!1}),e.handleClose()}}))),i.a.createElement(J.a,{open:this.state.openUploadCSV,maxWidth:"sm",fullWidth:!0},i.a.createElement(Y.a,{style:{padding:"20px"}},i.a.createElement(ot,{cancel:function(){e.setState({openUploadCSV:!1}),e.handleClose()}}))))}}]),t}(n.Component),rt=function(e){var t=!1,a="",n=!1,i=e.target,o=i.name,l=i.value;switch(o){case"measuring_unit_name":l.length>20?(t=!0,a="must have less than 20 characters"):0===l.length?(t=!0,a="Name required"):(t=!1,a="",n=!0);break;case"description":l.length>200?(t=!0,a="must have less than 200 characters"):(t=!1,a="",n=!0)}return{status:t,msg:a,isValid:n}},st=ie,ct=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={measuring_unit_name:"",description:"",errors:[],fieldError:{measuring_unit_name:{status:!1,msg:""},description:{status:!1,msg:""}},isValid:!1},a.onAddHandler=function(){K.a.post("/measuring-units/add-measuring-unit",{measuring_unit_name:a.state.measuring_unit_name,description:a.state.description}).then((function(e){console.log(e),e.data.errors.length>0?(console.log(e.data.errors),a.setState({errors:Object(Q.a)(e.data.errors)})):a.props.cancel()})).catch((function(e){return console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){oe(this.props,"Manage Measuring Units")&&this.setState({isValid:!1})}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:st.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Add Measuring Unit"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:st.box_msg,bgcolor:"#f73067",key:t},e)})):null,i.a.createElement(ne,null,i.a.createElement(m.a,{style:st.box_field},i.a.createElement(X.a,{name:"measuring_unit_name",fullWidth:!0,required:!0,value:this.state.measuring_unit_name,variant:"outlined",label:"Measuring Unit Name",type:"text",onChange:function(t){e.setState({measuring_unit_name:t.target.value});var a=rt(t),n=a.status,i=a.msg,o=a.isValid;e.setState((function(e){e.fieldError.measuring_unit_name.status=n,e.fieldError.measuring_unit_name.msg=i,e.isValid=o}))},error:this.state.fieldError.measuring_unit_name.status,helperText:this.state.fieldError.measuring_unit_name.msg})),i.a.createElement(m.a,{style:st.box_field},i.a.createElement(X.a,{name:"description",multiline:!0,rowsMax:4,fullWidth:!0,required:!0,value:this.state.description,variant:"outlined",label:"Description",type:"text",onChange:function(t){e.setState({description:t.target.value});var a=rt(t),n=a.status,i=a.msg,o=a.isValid;e.setState((function(e){e.fieldError.description.status=n,e.fieldError.description.msg=i,e.isValid=o}))},error:this.state.fieldError.description.status,helperText:this.state.fieldError.description.msg}))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",disabled:!this.state.isValid,onClick:this.onAddHandler},"Add"))))}}]),t}(n.Component),dt=ie,ut=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={_id:"",measuring_unit_name:"",description:"",errors:[],fieldError:{measuring_unit_name:{status:!1,msg:""},description:{status:!1,msg:""}},isValid:!1},a.onEditHandler=function(){K.a.post("/measuring-units/edit-measuring-unit",{_id:a.state._id,measuring_unit_name:a.state.measuring_unit_name,description:a.state.description}).then((function(e){console.log(e),e.data.errors&&(e.data.errors.length>0?(console.log(e.data.errors),a.setState({isValid:!1,errors:Object(Q.a)(e.data.errors)})):a.props.cancel())})).catch((function(e){return console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){oe(this.props,"Manage Measuring Units")&&(console.log(this.props),""===this.state.measuring_unit_name&&this.setState({measuring_unit_name:this.props.MeasuringUnit.measuring_unit_name,description:this.props.MeasuringUnit.description,_id:this.props.MeasuringUnit._id}))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:dt.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Edit Measuring Unit"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:dt.box_msg,bgcolor:"#f73067",key:t},e)})):!0===this.state.success?i.a.createElement(m.a,{bgcolor:"#3df45b",style:dt.box_msg},"Registration Successful"):null,i.a.createElement(ne,null,i.a.createElement(m.a,{style:dt.box_field},i.a.createElement(X.a,{name:"measuring_unit_name",fullWidth:!0,required:!0,value:this.state.measuring_unit_name,variant:"outlined",label:"Measuring Unit Name",type:"text",onChange:function(t){e.setState({measuring_unit_name:t.target.value});var a=rt(t),n=a.status,i=a.msg,o=a.isValid;console.log(n,i),e.setState((function(e){e.fieldError.measuring_unit_name.status=n,e.fieldError.measuring_unit_name.msg=i,e.isValid=o}))},error:this.state.fieldError.measuring_unit_name.status,helperText:this.state.fieldError.measuring_unit_name.msg})),i.a.createElement(m.a,{style:dt.box_field},i.a.createElement(X.a,{name:"description",fullWidth:!0,required:!0,value:this.state.description,variant:"outlined",label:"Description",type:"text",onChange:function(t){e.setState({description:t.target.value});var a=rt(t),n=a.status,i=a.msg,o=a.isValid;e.setState((function(e){e.fieldError.description.status=n,e.fieldError.description.msg=i,e.isValid=o}))},error:this.state.fieldError.description.status,helperText:this.state.fieldError.description.msg}))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",disabled:!this.state.isValid,onClick:this.onEditHandler},"Update"))))}}]),t}(n.Component),mt=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).EditData={},a.state={columns:[{title:"ID",field:"id"},{title:"Measuring Unit Name",field:"measuring_unit_name"},{title:"Description",field:"description"}],data:[],openAdd:!1,openEdit:!1,openUploadCSV:!1},a.OnEditHandler=function(e,t){K.a.post("/measuring-units/measuring-unit",{_id:t._id}).then((function(e){console.log(e),a.EditData=Object(F.a)({},e.data.MeasuringUnit[0]),console.log(a.EditData),a.setState({openEdit:!0})}))},a.handleClose=function(){K.a.get("/measuring-units/measuring-units").then((function(e){console.log(e.data.MeasuringUnits);for(var t=0;t<e.data.MeasuringUnits.length;t++)e.data.MeasuringUnits[t].id=t+1;a.setState({data:Object(Q.a)(e.data.MeasuringUnits)})}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){oe(this.props,"Manage Measuring Units")&&this.handleClose()}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Manage Measuring Units"),i.a.createElement(m.a,{width:"90%",display:"flex",flexDirection:"row"},i.a.createElement(M.a,{variant:"contained",color:"primary",style:{marginBottom:"20px",display:"flex",marginRight:"10px"},size:"large",onClick:function(){e.setState({openAdd:!0})}},"Add")),i.a.createElement(V.a,{title:" ",columns:this.state.columns,data:this.state.data,style:{width:"90%",maxHeight:"500px",overflow:"auto"},options:{sorting:!0,headerStyle:{backgroundColor:"#3f51b5",color:"#FFF"}},actions:[{icon:"edit",tooltip:"Edit User",onClick:function(t,a){e.OnEditHandler(t,a)}}],editable:{onRowDelete:function(t){return K.a.post("/measuring-units/delete-measuring-unit",{measuring_unit_name:t.measuring_unit_name}).then((function(a){console.log(a),a&&e.setState((function(e){var a=Object(Q.a)(e.data);return a.splice(a.indexOf(t),1),Object(F.a)({},e,{data:a})}))}))}},onRowClick:function(t,a){e.OnEditHandler(t,a)}}),i.a.createElement(J.a,{open:this.state.openAdd,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,{style:{padding:"20px"}},i.a.createElement(ct,{cancel:function(){e.setState({openAdd:!1}),e.handleClose()}}))),i.a.createElement(J.a,{open:this.state.openEdit,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,{style:{padding:"20px"}},i.a.createElement(ut,{MeasuringUnit:this.EditData,cancel:function(){e.setState({openEdit:!1}),e.handleClose()}}))))}}]),t}(n.Component),pt=function(e){var t=!1,a="",n=!1,i=e.target,o=i.name,l=i.value;switch(console.log(o,l),o){case"material_type_name":l.length>20?(t=!0,a="must have less than 20 characters"):0===l.length?(t=!0,a="Name required"):(t=!1,a="",n=!0);break;case"description":l.length>200?(t=!0,a="must have less than 200 characters"):(t=!1,a="",n=!0)}return{status:t,msg:a,isValid:n}},gt=ie,ht=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={material_type_name:"",description:"",errors:[],success:!1,fieldError:{material_type_name:{status:!1,msg:""},description:{status:!1,msg:""}},isValid:!1},a.onAddHandler=function(){a.setState({}),""===a.state.material_type_name?a.setState((function(e){e.fieldError.material_type_name.status=!0,e.fieldError.material_type_name.msg="Name required"})):K.a.post("/material-types/add-material-type",{material_type_name:a.state.material_type_name,description:a.state.description}).then((function(e){console.log(e),e.data.errors.length>0?(console.log(e.data.errors),a.setState({errors:Object(Q.a)(e.data.errors),success:!1})):a.props.cancel()})).catch((function(e){return console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){oe(this.props,"Manage Material Types")}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:gt.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Add Material Type"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:gt.box_msg,bgcolor:"#f73067",key:t},e)})):!0===this.state.success?i.a.createElement(m.a,{bgcolor:"#3df45b",style:gt.box_msg},"Registration Successful"):null,i.a.createElement(ne,null,i.a.createElement(m.a,{style:gt.box_field},i.a.createElement(X.a,{fullWidth:!0,name:"material_type_name",required:!0,value:this.state.material_type_name,variant:"outlined",label:"Material Type Name",type:"text",onChange:function(t){e.setState({material_type_name:t.target.value});var a=pt(t),n=a.status,i=a.msg,o=a.isValid;e.setState((function(e){e.fieldError.material_type_name.status=n,e.fieldError.material_type_name.msg=i,e.isValid=o}))},error:this.state.fieldError.material_type_name.status,helperText:this.state.fieldError.material_type_name.msg})),i.a.createElement(m.a,{style:gt.box_field},i.a.createElement(X.a,{name:"description",fullWidth:!0,required:!0,value:this.state.description,variant:"outlined",label:"Description",type:"text",onChange:function(t){e.setState({description:t.target.value});var a=pt(t),n=a.status,i=a.msg,o=a.isValid;e.setState((function(e){e.fieldError.description.status=n,e.fieldError.description.msg=i,e.isValid=o}))},error:this.state.fieldError.description.status,helperText:this.state.fieldError.description.msg}))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",disabled:!this.state.isValid,onClick:this.onAddHandler},"Add"))))}}]),t}(n.Component),ft=ie,_t=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={_id:"",material_type_name:"",description:"",errors:[],success:!1,fieldError:{material_type_name:{status:!1,msg:""},description:{status:!1,msg:""}},isValid:!1},a.onEditHandler=function(){a.setState({}),""===a.state.material_type_name?a.setState((function(e){e.fieldError.material_type_name.status=!0,e.fieldError.material_type_name.msg="Name required"})):K.a.post("/material-types/edit-material-type",{_id:a.state._id,material_type_name:a.state.material_type_name,description:a.state.description}).then((function(e){console.log(e),e.data.errors&&(e.data.errors.length>0?(console.log(e.data.errors),a.setState({errors:Object(Q.a)(e.data.errors),success:!1})):a.props.cancel())})).catch((function(e){return console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){oe(this.props,"Manage Material Types")&&(console.log(this.props),""===this.state.material_type_name&&this.setState({material_type_name:this.props.MaterialType.material_type_name,description:this.props.MaterialType.description,_id:this.props.MaterialType._id}))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:ft.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Edit Material Type"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:ft.box_msg,bgcolor:"#f73067",key:t},e)})):!0===this.state.success?i.a.createElement(m.a,{bgcolor:"#3df45b",style:ft.box_msg},"Registration Successful"):null,i.a.createElement(ne,null,i.a.createElement(m.a,{style:ft.box_field},i.a.createElement(X.a,{name:"material_type_name",fullWidth:!0,required:!0,value:this.state.material_type_name,variant:"outlined",label:"Material Type Name",type:"text",onChange:function(t){e.setState({material_type_name:t.target.value});var a=pt(t),n=a.status,i=a.msg,o=a.isValid;e.setState((function(e){e.fieldError.material_type_name.status=n,e.fieldError.material_type_name.msg=i,e.isValid=o}))},error:this.state.fieldError.material_type_name.status,helperText:this.state.fieldError.material_type_name.msg})),i.a.createElement(m.a,{style:ft.box_field},i.a.createElement(X.a,{name:"description",fullWidth:!0,required:!0,value:this.state.description,variant:"outlined",label:"Description",type:"text",onChange:function(t){e.setState({description:t.target.value});var a=pt(t),n=a.status,i=a.msg,o=a.isValid;e.setState((function(e){e.fieldError.description.status=n,e.fieldError.description.msg=i,e.isValid=o}))},error:this.state.fieldError.description.status,helperText:this.state.fieldError.description.msg}))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",disabled:!this.state.isValid,onClick:this.onEditHandler},"Update"))))}}]),t}(n.Component),yt=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).EditData={},a.state={columns:[{title:"ID",field:"id"},{title:"Material Type Name",field:"material_type_name"},{title:"Description",field:"description"}],data:[],openAdd:!1,openEdit:!1,openUploadCSV:!1},a.OnEditHandler=function(e,t){K.a.post("/material-types/material-type",{_id:t._id}).then((function(e){a.EditData=Object(F.a)({},e.data.MaterialType[0]),console.log(a.EditData),a.setState({openEdit:!0})}))},a.handleClose=function(){K.a.get("/material-types/material-types").then((function(e){console.log(e.data.MaterialTypes);for(var t=0;t<e.data.MaterialTypes.length;t++)e.data.MaterialTypes[t].id=t+1;a.setState({data:Object(Q.a)(e.data.MaterialTypes)})}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){oe(this.props,"Manage Material Types")&&this.handleClose()}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Manage Material Types"),i.a.createElement(m.a,{width:"90%",display:"flex",flexDirection:"row"},i.a.createElement(M.a,{variant:"contained",color:"primary",style:{marginBottom:"20px",display:"flex",marginRight:"10px"},size:"large",onClick:function(){e.setState({openAdd:!0})}},"Add")),i.a.createElement(V.a,{title:" ",columns:this.state.columns,data:this.state.data,style:{width:"90%",maxHeight:"500px",overflow:"auto"},options:{sorting:!0,headerStyle:{backgroundColor:"#3f51b5",color:"#FFF"}},actions:[{icon:"edit",tooltip:"Edit User",onClick:function(t,a){e.OnEditHandler(t,a)}}],editable:{onRowDelete:function(t){return K.a.post("/material-types/delete-material-type",{material_type_name:t.material_type_name}).then((function(a){console.log(a),a&&e.setState((function(e){var a=Object(Q.a)(e.data);return a.splice(a.indexOf(t),1),Object(F.a)({},e,{data:a})}))}))}},onRowClick:function(t,a){e.OnEditHandler(t,a)}}),i.a.createElement(J.a,{open:this.state.openAdd,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,{style:{padding:"20px"}},i.a.createElement(ht,{cancel:function(){e.setState({openAdd:!1}),e.handleClose()}}))),i.a.createElement(J.a,{open:this.state.openEdit,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,{style:{padding:"20px"}},i.a.createElement(_t,{MaterialType:this.EditData,cancel:function(){e.setState({openEdit:!1}),e.handleClose()}}))))}}]),t}(n.Component),bt=ie,Et=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={raw_material_name:"",raw_material_code:"",raw_material_type:"",raw_material_measuring_unit:"",description:"",errors:[],success:!1,material_types:[],measuring_units:[]},a.onAddHandler=function(){K.a.post("/raw-materials/add-raw-material",{raw_material_name:a.state.raw_material_name,raw_material_code:a.state.raw_material_code,raw_material_type:a.state.raw_material_type,raw_material_measuring_unit:a.state.raw_material_measuring_unit,description:a.state.description}).then((function(e){console.log(e),e.data.errors.length>0?(console.log(e.data.errors),a.setState({errors:Object(Q.a)(e.data.errors),success:!1})):a.props.cancel()})).catch((function(e){return console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;oe(this.props,"Manage Raw Materials")&&(K.a.get("/material-types/material-types").then((function(t){e.setState({material_types:Object(Q.a)(t.data.MaterialTypes)})})),K.a.get("/measuring-units/measuring-units").then((function(t){console.log(t),e.setState({measuring_units:Object(Q.a)(t.data.MeasuringUnits)})})))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:bt.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Add Raw Material"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:bt.box_msg,bgcolor:"#f73067",key:t},e)})):null,i.a.createElement(ne,null,i.a.createElement(m.a,{style:bt.box_field},i.a.createElement(m.a,{style:bt.box,marginRight:"10px"},i.a.createElement(X.a,{fullWidth:!0,required:!0,value:this.state.raw_material_name,variant:"outlined",label:"Raw Material Name",type:"text",onChange:function(t){e.setState({raw_material_name:t.target.value})}})),i.a.createElement(m.a,{style:bt.box},i.a.createElement(X.a,{fullWidth:!0,required:!0,value:this.state.raw_material_code,variant:"outlined",label:"Raw Material Code",type:"text",onChange:function(t){e.setState({raw_material_code:t.target.value})}}))),i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select Raw Material Type"),i.a.createElement(ee.a,{style:bt.box_field,required:!0,value:this.state.raw_material_type,onChange:function(t){console.log(t.target.value),e.setState({raw_material_type:t.target.value})}},this.state.material_types.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.material_type_name)})))),i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select Measuring Unit"),i.a.createElement(ee.a,{style:bt.box_field,required:!0,value:this.state.raw_material_measuring_unit,onChange:function(t){console.log(t.target.value),e.setState({raw_material_measuring_unit:t.target.value})}},this.state.measuring_units.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.measuring_unit_name)})))),i.a.createElement(m.a,{style:bt.box_field},i.a.createElement(X.a,{fullWidth:!0,required:!0,value:this.state.description,variant:"outlined",label:"Description",type:"text",onChange:function(t){e.setState({description:t.target.value})}}))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:this.onAddHandler},"Add"))))}}]),t}(n.Component),xt=ie,vt=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={_id:"",raw_material_name:"",raw_material_code:"",raw_material_type:"",raw_material_measuring_unit:"",description:"",errors:[],success:!1,material_types:[],measuring_units:[]},a.onEditHandler=function(){K.a.post("/raw-materials/edit-raw-material",{_id:a.state._id,raw_material_name:a.state.raw_material_name,raw_material_code:a.state.raw_material_code,raw_material_type:a.state.raw_material_type,raw_material_measuring_unit:a.state.raw_material_measuring_unit,description:a.state.description}).then((function(e){console.log(e),e.data.errors&&(e.data.errors.length>0?(console.log(e.data.errors),a.setState({errors:Object(Q.a)(e.data.errors),success:!1})):a.props.cancel())})).catch((function(e){return console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;oe(this.props,"Manage Raw Materials")&&(K.a.get("/material-types/material-types").then((function(t){e.setState({material_types:Object(Q.a)(t.data.MaterialTypes)})})),K.a.get("/measuring-units/measuring-units").then((function(t){console.log(t),e.setState({measuring_units:Object(Q.a)(t.data.MeasuringUnits)})})),""===this.state.raw_material_name&&this.setState({_id:this.props.RawMaterial._id,raw_material_name:this.props.RawMaterial.raw_material_name,raw_material_code:this.props.RawMaterial.raw_material_code,raw_material_type:this.props.RawMaterial.raw_material_type,raw_material_measuring_unit:this.props.RawMaterial.raw_material_measuring_unit,description:this.props.RawMaterial.description}))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:xt.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Edit Raw Material"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:xt.box_msg,bgcolor:"#f73067",key:t},e)})):null,i.a.createElement(ne,null,i.a.createElement(m.a,{style:xt.box_field},i.a.createElement(m.a,{style:xt.box,marginRight:"10px"},i.a.createElement(X.a,{fullWidth:!0,required:!0,value:this.state.raw_material_name,variant:"outlined",label:"Raw Material Name",type:"text",onChange:function(t){e.setState({raw_material_name:t.target.value})}})),i.a.createElement(m.a,{style:xt.box},i.a.createElement(X.a,{fullWidth:!0,required:!0,value:this.state.raw_material_code,variant:"outlined",label:"Raw Material Code",type:"text",onChange:function(t){e.setState({raw_material_code:t.target.value})}}))),i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select Raw Material Type"),i.a.createElement(ee.a,{style:xt.box_field,required:!0,value:this.state.raw_material_type,onChange:function(t){console.log(t.target.value),e.setState({raw_material_type:t.target.value})}},this.state.material_types.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.material_type_name)})))),i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select Measuring Unit"),i.a.createElement(ee.a,{style:xt.box_field,required:!0,value:this.state.raw_material_measuring_unit,onChange:function(t){console.log(t.target.value),e.setState({raw_material_measuring_unit:t.target.value})}},this.state.measuring_units.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.measuring_unit_name)})))),i.a.createElement(m.a,{style:xt.box_field},i.a.createElement(X.a,{fullWidth:!0,required:!0,value:this.state.description,variant:"outlined",label:"Description",type:"text",onChange:function(t){e.setState({description:t.target.value})}}))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:this.onEditHandler},"Update"))))}}]),t}(n.Component),St=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).EditData={},a.state={columns:[{title:"ID",field:"id"},{title:"Name",field:"raw_material_name"},{title:"Code",field:"raw_material_code"},{title:"Type",field:"raw_material_type"},{title:"Measuring Unit",field:"raw_material_measuring_unit"},{title:"Description",field:"description"}],data:[],openAdd:!1,openEdit:!1},a.OnEditHandler=function(e,t){console.log(t._id),K.a.post("/raw-materials/raw-material",{_id:t._id}).then((function(e){console.log(e),a.EditData=Object(F.a)({},e.data.RawMaterial),console.log(a.EditData[0]),a.setState({openEdit:!0})}))},a.handleClose=function(){K.a.get("/raw-materials/raw-materials").then((function(e){for(var t=function(t){e.data.RawMaterials[t].id=t+1,K.a.post("/material-types/material-type",{_id:e.data.RawMaterials[t].raw_material_type}).then((function(n){console.log(n),n.data.MaterialType[0]?(console.log(n.data.MaterialType[0].material_type_name),e.data.RawMaterials[t].raw_material_type=n.data.MaterialType[0].material_type_name,a.setState({data:Object(Q.a)(e.data.RawMaterials)})):(e.data.RawMaterials[t].material_type="problem loading Material Type",a.setState({data:Object(Q.a)(e.data.RawMaterials)}))})),K.a.post("/measuring-units/measuring-unit",{_id:e.data.RawMaterials[t].raw_material_measuring_unit}).then((function(n){console.log(n),n.data.MeasuringUnit[0]?(console.log(n.data.MeasuringUnit[0].measuring_unit_name),e.data.RawMaterials[t].raw_material_measuring_unit=n.data.MeasuringUnit[0].measuring_unit_name,a.setState({data:Object(Q.a)(e.data.RawMaterials)})):(e.data.RawMaterials[t].raw_material_measuring_unit="problem loading measuring unit",a.setState({data:Object(Q.a)(e.data.RawMaterial)}))}))},n=0;n<e.data.RawMaterials.length;n++)t(n)})).catch((function(e){console.log("Error")}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){oe(this.props,"Manage Raw Materials")&&this.handleClose()}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Manage Raw Materials"),i.a.createElement(m.a,{width:"90%",display:"flex",flexDirection:"row"},i.a.createElement(M.a,{variant:"contained",color:"primary",style:{marginBottom:"20px",display:"flex",marginRight:"10px"},size:"large",onClick:function(){e.setState({openAdd:!0})}},"Add")),i.a.createElement(V.a,{title:" ",columns:this.state.columns,data:this.state.data,style:{width:"90%",maxHeight:"500px",overflow:"auto"},options:{sorting:!0,headerStyle:{backgroundColor:"#3f51b5",color:"#FFF"}},actions:[{icon:"edit",tooltip:"Edit",onClick:function(t,a){e.OnEditHandler(t,a)}}],editable:{onRowDelete:function(t){return K.a.post("/raw-materials/delete-raw-material",{_id:t._id}).then((function(a){console.log(a),a&&e.setState((function(e){var a=Object(Q.a)(e.data);return a.splice(a.indexOf(t),1),Object(F.a)({},e,{data:a})}))}))}},onRowClick:function(t,a){e.OnEditHandler(t,a)}}),i.a.createElement(J.a,{open:this.state.openAdd,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,{style:{padding:"20px"}},i.a.createElement(Et,{cancel:function(){e.setState({openAdd:!1}),e.handleClose()}}))),i.a.createElement(J.a,{open:this.state.openEdit,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,{style:{padding:"20px"}},i.a.createElement(vt,{RawMaterial:this.EditData[0],cancel:function(){e.setState({openEdit:!1}),e.handleClose()}}))))}}]),t}(n.Component),Ct=ie,wt=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={work_location_name:"",description:"",errors:[]},a.onAddHandler=function(){K.a.post("/work-locations/add-work-location",{work_location_name:a.state.work_location_name,description:a.state.description}).then((function(e){console.log(e),e.data.errors.length>0?(console.log(e.data.errors),a.setState({errors:Object(Q.a)(e.data.errors)})):a.props.cancel()})).catch((function(e){return console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){oe(this.props,"Manage Work Locations")}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:Ct.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Add Work Location"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:Ct.box_msg,bgcolor:"#f73067",key:t},e)})):null,i.a.createElement(ne,null,i.a.createElement(m.a,{style:Ct.box_field},i.a.createElement(X.a,{fullWidth:!0,required:!0,value:this.state.work_location_name,variant:"outlined",label:"Work Location Name",type:"text",onChange:function(t){e.setState({work_location_name:t.target.value})}})),i.a.createElement(m.a,{style:Ct.box_field},i.a.createElement(X.a,{fullWidth:!0,required:!0,value:this.state.description,variant:"outlined",label:"Description",type:"text",onChange:function(t){e.setState({description:t.target.value})}}))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:this.onAddHandler},"Add"))))}}]),t}(n.Component),Dt=ie,Mt=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={_id:"",work_location_name:"",description:"",errors:[]},a.onEditHandler=function(){K.a.post("/work-locations/edit-work-location",{_id:a.state._id,work_location_name:a.state.work_location_name,description:a.state.description}).then((function(e){console.log(e),e.data.errors&&(e.data.errors.length>0?(console.log(e.data.errors),a.setState({errors:Object(Q.a)(e.data.errors)})):a.props.cancel())})).catch((function(e){return console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){oe(this.props,"Manage Work Locations")&&(console.log(this.props),""===this.state.work_location_name&&this.setState({work_location_name:this.props.WorkLocation.work_location_name,description:this.props.WorkLocation.description,_id:this.props.WorkLocation._id}))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:Dt.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Edit Country"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:Dt.box_msg,bgcolor:"#f73067",key:t},e)})):null,i.a.createElement(ne,null,i.a.createElement(m.a,{style:Dt.box_field},i.a.createElement(X.a,{fullWidth:!0,required:!0,value:this.state.work_location_name,variant:"outlined",label:"Work Location Name",type:"text",onChange:function(t){e.setState({work_location_name:t.target.value})}})),i.a.createElement(m.a,{style:Dt.box_field},i.a.createElement(X.a,{fullWidth:!0,required:!0,value:this.state.description,variant:"outlined",label:"Description",type:"text",onChange:function(t){e.setState({description:t.target.value})}}))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:this.onEditHandler},"Update"))))}}]),t}(n.Component),kt=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).EditData={},a.state={columns:[{title:"ID",field:"id"},{title:"Work Location Name",field:"work_location_name"},{title:"Description",field:"description"}],data:[],openAdd:!1,openEdit:!1,openUploadCSV:!1},a.OnEditHandler=function(e,t){K.a.post("/work-locations/work-location",{_id:t._id}).then((function(e){a.EditData=Object(F.a)({},e.data.WorkLocation[0]),console.log(a.EditData),a.setState({openEdit:!0})}))},a.handleClose=function(){K.a.get("/work-locations/work-locations").then((function(e){console.log(e.data.WorkLocations);for(var t=0;t<e.data.WorkLocations.length;t++)e.data.WorkLocations[t].id=t+1;a.setState({data:Object(Q.a)(e.data.WorkLocations)})}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){oe(this.props,"Manage Work Locations")&&this.handleClose()}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Manage Work Locations"),i.a.createElement(m.a,{width:"90%",display:"flex",flexDirection:"row"},i.a.createElement(M.a,{variant:"contained",color:"primary",style:{marginBottom:"20px",display:"flex",marginRight:"10px"},size:"large",onClick:function(){e.setState({openAdd:!0})}},"Add")),i.a.createElement(V.a,{title:" ",columns:this.state.columns,data:this.state.data,style:{width:"90%",maxHeight:"500px",overflow:"auto"},options:{sorting:!0,headerStyle:{backgroundColor:"#3f51b5",color:"#FFF"}},actions:[{icon:"edit",tooltip:"Edit User",onClick:function(t,a){e.OnEditHandler(t,a)}}],editable:{onRowDelete:function(t){return K.a.post("/work-locations/delete-work-location",{work_location_name:t.work_location_name}).then((function(a){console.log(a),a&&e.setState((function(e){var a=Object(Q.a)(e.data);return a.splice(a.indexOf(t),1),Object(F.a)({},e,{data:a})}))}))}},onRowClick:function(t,a){e.OnEditHandler(t,a)}}),i.a.createElement(J.a,{open:this.state.openAdd,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,{style:{padding:"20px"}},i.a.createElement(wt,{cancel:function(){e.setState({openAdd:!1}),e.handleClose()}}))),i.a.createElement(J.a,{open:this.state.openEdit,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,{style:{padding:"20px"}},i.a.createElement(Mt,{WorkLocation:this.EditData,cancel:function(){e.setState({openEdit:!1}),e.handleClose()}}))))}}]),t}(n.Component),jt=ie,Ot=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={production_unit_name:"",description:"",errors:[]},a.onAddHandler=function(){K.a.post("/production-units/add-production-unit",{production_unit_name:a.state.production_unit_name,description:a.state.description}).then((function(e){console.log(e),e.data.errors.length>0?(console.log(e.data.errors),a.setState({errors:Object(Q.a)(e.data.errors)})):a.props.cancel()})).catch((function(e){return console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){oe(this.props,"Manage Production Units")}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:jt.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Add Production Unit"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:jt.box_msg,bgcolor:"#f73067",key:t},e)})):null,i.a.createElement(ne,null,i.a.createElement(m.a,{style:jt.box_field},i.a.createElement(X.a,{fullWidth:!0,required:!0,value:this.state.production_unit_name,variant:"outlined",label:"Production Unit Name",type:"text",onChange:function(t){e.setState({production_unit_name:t.target.value})}})),i.a.createElement(m.a,{style:jt.box_field},i.a.createElement(X.a,{fullWidth:!0,required:!0,value:this.state.description,variant:"outlined",label:"Description",type:"text",onChange:function(t){e.setState({description:t.target.value})}}))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:this.onAddHandler},"Add"))))}}]),t}(n.Component),Rt=ie,Wt=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={_id:"",production_unit_name:"",description:"",errors:[]},a.onEditHandler=function(){K.a.post("/production-units/edit-production-unit",{_id:a.state._id,production_unit_name:a.state.production_unit_name,description:a.state.description}).then((function(e){console.log(e),e.data.errors&&(e.data.errors.length>0?(console.log(e.data.errors),a.setState({errors:Object(Q.a)(e.data.errors)})):a.props.cancel())})).catch((function(e){return console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){oe(this.props.props,"Manage Production Units")&&(console.log(this.props),""===this.state.production_unit_name&&this.setState({production_unit_name:this.props.ProductionUnit.production_unit_name,description:this.props.ProductionUnit.description,_id:this.props.ProductionUnit._id}))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:Rt.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Edit Production Unit"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:Rt.box_msg,bgcolor:"#f73067",key:t},e)})):null,i.a.createElement(ne,null,i.a.createElement(m.a,{style:Rt.box_field},i.a.createElement(X.a,{fullWidth:!0,required:!0,value:this.state.production_unit_name,variant:"outlined",label:"Production Units Name",type:"text",onChange:function(t){e.setState({production_unit_name:t.target.value})}})),i.a.createElement(m.a,{style:Rt.box_field},i.a.createElement(X.a,{fullWidth:!0,required:!0,value:this.state.description,variant:"outlined",label:"Description",type:"text",onChange:function(t){e.setState({description:t.target.value})}}))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:this.onEditHandler},"Update"))))}}]),t}(n.Component),It=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).EditData={},a.state={columns:[{title:"ID",field:"id"},{title:"Production Unit Name",field:"production_unit_name"},{title:"Description",field:"description"}],data:[],openAdd:!1,openEdit:!1},a.OnEditHandler=function(e,t){K.a.post("/production-units/production-unit",{_id:t._id}).then((function(e){a.EditData=Object(F.a)({},e.data.ProductionUnit[0]),console.log(a.EditData),a.setState({openEdit:!0})}))},a.handleClose=function(){K.a.get("/production-units/production-units").then((function(e){console.log(e.data.ProductionUnits);for(var t=0;t<e.data.ProductionUnits.length;t++)e.data.ProductionUnits[t].id=t+1;a.setState({data:Object(Q.a)(e.data.ProductionUnits)})}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){oe(this.props,"Manage Production Units")&&this.handleClose()}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Manage Production Units"),i.a.createElement(m.a,{width:"90%",display:"flex",flexDirection:"row"},i.a.createElement(M.a,{variant:"contained",color:"primary",style:{marginBottom:"20px",display:"flex",marginRight:"10px"},size:"large",onClick:function(){e.setState({openAdd:!0})}},"Add")),i.a.createElement(V.a,{title:" ",columns:this.state.columns,data:this.state.data,style:{width:"90%",maxHeight:"500px",overflow:"auto"},options:{sorting:!0,headerStyle:{backgroundColor:"#3f51b5",color:"#FFF"}},actions:[{icon:"edit",tooltip:"Edit",onClick:function(t,a){e.OnEditHandler(t,a)}}],editable:{onRowDelete:function(t){return K.a.post("/production-units/delete-production-unit",{production_unit_name:t.production_unit_name}).then((function(a){console.log(a),a&&e.setState((function(e){var a=Object(Q.a)(e.data);return a.splice(a.indexOf(t),1),Object(F.a)({},e,{data:a})}))}))}},onRowClick:function(t,a){e.OnEditHandler(t,a)}}),i.a.createElement(J.a,{open:this.state.openAdd,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,{style:{padding:"20px"}},i.a.createElement(Ot,{cancel:function(){e.setState({openAdd:!1}),e.handleClose()}}))),i.a.createElement(J.a,{open:this.state.openEdit,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,{style:{padding:"20px"}},i.a.createElement(Wt,{ProductionUnit:this.EditData,props:this.props,cancel:function(){e.setState({openEdit:!1}),e.handleClose()}}))))}}]),t}(n.Component),zt=ie,Pt=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={product_name:"",product_code:"",product_price:"",product_measuring_unit:"",product_registration_date:null,description:"",errors:[],success:!1,measuring_units:[]},a.onAddHandler=function(){K.a.post("/products/add-product",{product_name:a.state.product_name,product_code:a.state.product_code,product_price:a.state.product_price,product_measuring_unit:a.state.product_measuring_unit,product_registration_date:a.state.product_registration_date,description:a.state.description}).then((function(e){console.log(e),e.data.errors.length>0?(console.log(e.data.errors),a.setState({errors:Object(Q.a)(e.data.errors),success:!1})):a.props.cancel()})).catch((function(e){return console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;oe(this.props,"Manage Products")&&K.a.get("/measuring-units/measuring-units").then((function(t){console.log(t),e.setState({measuring_units:Object(Q.a)(t.data.MeasuringUnits)})}))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:zt.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Add Product"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:zt.box_msg,bgcolor:"#f73067",key:t},e)})):null,i.a.createElement(ne,null,i.a.createElement(m.a,{style:zt.box_field},i.a.createElement(m.a,{style:zt.box,marginRight:"10px"},i.a.createElement(X.a,{fullWidth:!0,required:!0,variant:"outlined",label:"Product Name",type:"text",value:this.state.product_name,onChange:function(t){e.setState({product_name:t.target.value})}})),i.a.createElement(m.a,{style:zt.box},i.a.createElement(X.a,{fullWidth:!0,required:!0,value:this.state.product_code,variant:"outlined",label:"Product Code",type:"text",onChange:function(t){e.setState({product_code:t.target.value})}}))),i.a.createElement(m.a,{style:zt.box_field},i.a.createElement(X.a,{fullWidth:!0,required:!0,value:this.state.product_price,variant:"outlined",label:"Product Price",type:"text",onChange:function(t){e.setState({product_price:t.target.value})}})),i.a.createElement(ue,{id:"1",Name:"Product Registration Date",Req:"true",marginBottom:"10px",minDate:"01/01/1990",maxDate:new Date,value:this.state.product_registration_date,setDate:function(t){e.setState({product_registration_date:t})}}),i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select Measuring Unit"),i.a.createElement(ee.a,{style:zt.box_field,required:!0,value:this.state.product_measuring_unit,onChange:function(t){console.log(t.target.value),e.setState({product_measuring_unit:t.target.value})}},this.state.measuring_units.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.measuring_unit_name)})))),i.a.createElement(m.a,{style:zt.box_field},i.a.createElement(X.a,{fullWidth:!0,required:!0,value:this.state.description,variant:"outlined",label:"Description",type:"text",onChange:function(t){e.setState({description:t.target.value})}}))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:this.onAddHandler},"Add"))))}}]),t}(n.Component),qt=ie,Ut=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={_id:"",product_name:"",product_code:"",product_price:0,product_measuring_unit:"",product_registration_date:"",description:"",errors:[],measuring_units:[]},a.onEditHandler=function(){K.a.post("/products/edit-product",{_id:a.state._id,product_name:a.state.product_name,product_code:a.state.product_code,product_price:a.state.product_price,product_measuring_unit:a.state.product_measuring_unit,product_registration_date:a.state.product_registration_date,description:a.state.description}).then((function(e){console.log(e),e.data.errors&&(e.data.errors.length>0?(console.log(e.data.errors),a.setState({errors:Object(Q.a)(e.data.errors)})):a.props.cancel())})).catch((function(e){return console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;oe(this.props,"Manage Products")&&(K.a.get("/measuring-units/measuring-units").then((function(t){console.log(t),e.setState({measuring_units:Object(Q.a)(t.data.MeasuringUnits)})})),""===this.state.product_name&&this.setState({_id:this.props.Product._id,product_name:this.props.Product.product_name,product_code:this.props.Product.product_code,product_price:this.props.Product.product_price,product_measuring_unit:this.props.Product.product_measuring_unit,product_registration_date:this.props.Product.product_registration_date,description:this.props.Product.description}))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:qt.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Edit Product"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:qt.box_msg,bgcolor:"#f73067",key:t},e)})):null,i.a.createElement(ne,null,i.a.createElement(m.a,{style:qt.box_field},i.a.createElement(m.a,{style:qt.box,marginRight:"10px"},i.a.createElement(X.a,{fullWidth:!0,required:!0,value:this.state.product_name,variant:"outlined",label:"Product Name",type:"text",onChange:function(t){e.setState({product_name:t.target.value})}})),i.a.createElement(m.a,{style:qt.box},i.a.createElement(X.a,{fullWidth:!0,required:!0,value:this.state.product_code,variant:"outlined",label:"Product Code",type:"text",onChange:function(t){e.setState({product_code:t.target.value})}}))),i.a.createElement(m.a,{style:qt.box_field},i.a.createElement(X.a,{fullWidth:!0,required:!0,value:this.state.product_price,variant:"outlined",label:"Product Price",type:"text",onChange:function(t){e.setState({product_price:t.target.value})}})),i.a.createElement(ue,{id:"1",Name:"Product Registration Date",Req:"true",marginBottom:"20px",value:this.state.product_registration_date,setDate:function(t){e.setState({product_registration_date:t})}}),i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select Measuring Unit"),i.a.createElement(ee.a,{style:qt.box_field,required:!0,value:this.state.product_measuring_unit,onChange:function(t){console.log(t.target.value),e.setState({product_measuring_unit:t.target.value})}},this.state.measuring_units.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.measuring_unit_name)})))),i.a.createElement(m.a,{style:qt.box_field},i.a.createElement(X.a,{fullWidth:!0,required:!0,value:this.state.description,variant:"outlined",label:"Description",type:"text",onChange:function(t){e.setState({description:t.target.value})}}))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:this.onEditHandler},"Update"))))}}]),t}(n.Component),Tt=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).EditData={},a.state={columns:[{title:"ID",field:"id"},{title:"Product Name",field:"product_name"},{title:"Product code",field:"product_code"},{title:"Product price",field:"product_price"},{title:"Measuring Unit",field:"product_measuring_unit"},{title:"Description",field:"description"}],data:[],openAdd:!1,openEdit:!1},a.OnEditHandler=function(e,t){console.log(t._id),K.a.post("/products/product",{_id:t._id}).then((function(e){console.log(e),a.EditData=Object(F.a)({},e.data.Product),console.log(a.EditData[0]),a.setState({openEdit:!0})}))},a.handleClose=function(){K.a.get("/products/products").then((function(e){for(var t=function(t){e.data.Products[t].id=t+1,K.a.post("/measuring-units/measuring-unit",{_id:e.data.Products[t].product_measuring_unit}).then((function(n){console.log(n),n.data.MeasuringUnit[0]?(console.log(n.data.MeasuringUnit[0].measuring_unit_name),e.data.Products[t].product_measuring_unit=n.data.MeasuringUnit[0].measuring_unit_name,a.setState({data:Object(Q.a)(e.data.Products)})):(e.data.Products[t].product_measuring_unit="problem loading Measuring Unit",a.setState({data:Object(Q.a)(e.data.Products)}))}))},n=0;n<e.data.Products.length;n++)t(n)})).catch((function(e){console.log("Error")}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){oe(this.props,"Manage Products")&&this.handleClose()}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Manage Products"),i.a.createElement(m.a,{width:"90%",display:"flex",flexDirection:"row"},i.a.createElement(M.a,{variant:"contained",color:"primary",style:{marginBottom:"20px",display:"flex",marginRight:"10px"},size:"large",onClick:function(){e.setState({openAdd:!0})}},"Add")),i.a.createElement(V.a,{title:" ",columns:this.state.columns,data:this.state.data,style:{width:"90%",maxHeight:"500px",overflow:"auto"},options:{sorting:!0,headerStyle:{backgroundColor:"#3f51b5",color:"#FFF"}},actions:[{icon:"edit",tooltip:"Edit",onClick:function(t,a){e.OnEditHandler(t,a)}}],editable:{onRowDelete:function(t){return K.a.post("/products/delete-product",{_id:t._id}).then((function(a){console.log(a),a&&e.setState((function(e){var a=Object(Q.a)(e.data);return a.splice(a.indexOf(t),1),Object(F.a)({},e,{data:a})}))}))}},onRowClick:function(t,a){e.OnEditHandler(t,a)}}),i.a.createElement(J.a,{open:this.state.openAdd,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,{style:{padding:"20px"}},i.a.createElement(Pt,{cancel:function(){e.setState({openAdd:!1}),e.handleClose()}}))),i.a.createElement(J.a,{open:this.state.openEdit,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,{style:{padding:"20px"}},i.a.createElement(Ut,{Product:this.EditData[0],cancel:function(){e.setState({openEdit:!1}),e.handleClose()}}))))}}]),t}(n.Component),At=function(e){var t=!1,a="",n=!1,i=e.target,o=i.name,l=i.value;switch(console.log(o,l),o){case"department_name":l.length>20?(t=!0,a="must have less than 20 characters"):0===l.length?(t=!0,a="Name required"):(t=!1,a="",n=!0);break;case"description":l.length>200?(t=!0,a="must have less than 200 characters"):(t=!1,a="",n=!0)}return{status:t,msg:a,isValid:n}},Nt=ie,Bt=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={department_name:"",description:"",errors:[],status:"Add",fieldError:{department_name:{status:!1,msg:""},description:{status:!1,msg:""}},isValid:!1},a.onAddHandler=function(){a.setState({}),""===a.state.department_name?a.setState((function(e){e.fieldError.department_name.status=!0,e.fieldError.department_name.msg="Name required"})):K.a.post("/departments/add-department",{department_name:a.state.department_name,description:a.state.description}).then((function(e){a.setState({status:"Add"}),console.log(e),e.data.errors.length>0?(console.log(e.data.errors),a.setState({errors:Object(Q.a)(e.data.errors)})):a.props.cancel()})).catch((function(e){return console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){oe(this.props,"Manage Departments")}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:Nt.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Add Department"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:Nt.box_msg,bgcolor:"#f73067",key:t},e)})):null,i.a.createElement(ne,null,i.a.createElement(m.a,{style:Nt.box_field},i.a.createElement(X.a,{name:"department_name",fullWidth:!0,required:!0,value:this.state.department_name,variant:"outlined",label:"Department Name",type:"text",onChange:function(t){e.setState({department_name:t.target.value});var a=At(t),n=a.status,i=a.msg,o=a.isValid;e.setState((function(e){e.fieldError.department_name.status=n,e.fieldError.department_name.msg=i,e.isValid=o}))},error:this.state.fieldError.department_name.status,helperText:this.state.fieldError.department_name.msg})),i.a.createElement(m.a,{style:Nt.box_field},i.a.createElement(X.a,{name:"description",fullWidth:!0,required:!0,value:this.state.description,variant:"outlined",label:"Description",type:"text",onChange:function(t){e.setState({description:t.target.value});var a=At(t),n=a.status,i=a.msg,o=a.isValid;e.setState((function(e){e.fieldError.description.status=n,e.fieldError.description.msg=i,e.isValid=o}))},error:this.state.fieldError.description.status,helperText:this.state.fieldError.description.msg}))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",disabled:!this.state.isValid,onClick:this.onAddHandler},this.state.status))))}}]),t}(n.Component),Lt=ie,Qt=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={_id:"",department_name:"",description:"",errors:[],status:"Add",fieldError:{department_name:{status:!1,msg:""},description:{status:!1,msg:""}},isValid:!1},a.onEditHandler=function(){a.setState({}),""===a.state.department_name?a.setState((function(e){e.fieldError.department_name.status=!0,e.fieldError.department_name.msg="Name required"})):K.a.post("/departments/edit-department",{_id:a.state._id,department_name:a.state.department_name,description:a.state.description}).then((function(e){a.setState({status:"Update"}),console.log(e),e.data.errors&&(e.data.errors.length>0?(console.log(e.data.errors),a.setState({errors:Object(Q.a)(e.data.errors)})):a.props.cancel())})).catch((function(e){return console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){oe(this.props.props,"Manage Departments")&&(console.log(this.props),""===this.state.department_name&&this.setState({department_name:this.props.Department.department_name,description:this.props.Department.description,_id:this.props.Department._id}))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:Lt.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Edit Department"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:Lt.box_msg,bgcolor:"#f73067",key:t},e)})):null,i.a.createElement(ne,null,i.a.createElement(m.a,{style:Lt.box_field},i.a.createElement(X.a,{name:"department_name",fullWidth:!0,required:!0,value:this.state.department_name,variant:"outlined",label:"Department Name",type:"text",onChange:function(t){e.setState({department_name:t.target.value});var a=At(t),n=a.status,i=a.msg,o=a.isValid;e.setState((function(e){e.fieldError.department_name.status=n,e.fieldError.department_name.msg=i,e.isValid=o}))},error:this.state.fieldError.department_name.status,helperText:this.state.fieldError.department_name.msg})),i.a.createElement(m.a,{style:Lt.box_field},i.a.createElement(X.a,{name:"description",fullWidth:!0,required:!0,value:this.state.description,variant:"outlined",label:"Description",type:"text",onChange:function(t){e.setState({description:t.target.value});var a=At(t),n=a.status,i=a.msg,o=a.isValid;e.setState((function(e){e.fieldError.description.status=n,e.fieldError.description.msg=i,e.isValid=o}))},error:this.state.fieldError.description.status,helperText:this.state.fieldError.description.msg}))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",disabled:!this.state.isValid,onClick:this.onEditHandler},this.state.status))))}}]),t}(n.Component),Ft=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).EditData={},a.state={columns:[{title:"ID",field:"id"},{title:"Department Name",field:"department_name"},{title:"Description",field:"description"}],data:[],openAdd:!1,openEdit:!1},a.OnEditHandler=function(e,t){K.a.post("/departments/department",{_id:t._id}).then((function(e){a.EditData=Object(F.a)({},e.data.Department[0]),console.log(a.EditData),a.setState({openEdit:!0})}))},a.handleClose=function(){K.a.get("/departments/departments").then((function(e){console.log(e.data.Departments);for(var t=0;t<e.data.Departments.length;t++)e.data.Departments[t].id=t+1;a.setState({data:Object(Q.a)(e.data.Departments)})}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){oe(this.props,"Manage Departments")&&this.handleClose()}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Manage Departments"),i.a.createElement(m.a,{width:"90%",display:"flex",flexDirection:"row"},i.a.createElement(M.a,{variant:"contained",color:"primary",style:{marginBottom:"20px",display:"flex",marginRight:"10px"},size:"large",onClick:function(){e.setState({openAdd:!0})}},"Add")),i.a.createElement(V.a,{title:" ",columns:this.state.columns,data:this.state.data,style:{width:"90%",maxHeight:"500px",overflow:"auto"},options:{sorting:!0,headerStyle:{backgroundColor:"#3f51b5",color:"#FFF"}},actions:[{icon:"edit",tooltip:"Edit",onClick:function(t,a){e.OnEditHandler(t,a)}}],editable:{onRowDelete:function(t){return K.a.post("/departments/delete-department",{department_name:t.department_name}).then((function(a){console.log(a),a&&e.setState((function(e){var a=Object(Q.a)(e.data);return a.splice(a.indexOf(t),1),Object(F.a)({},e,{data:a})}))}))}},onRowClick:function(t,a){e.OnEditHandler(t,a)}}),i.a.createElement(J.a,{open:this.state.openAdd,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,{style:{padding:"20px"}},i.a.createElement(Bt,{cancel:function(){e.setState({openAdd:!1}),e.handleClose()}}))),i.a.createElement(J.a,{open:this.state.openEdit,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,{style:{padding:"20px"}},i.a.createElement(Qt,{Department:this.EditData,props:this.props,cancel:function(){e.setState({openEdit:!1}),e.handleClose()}}))))}}]),t}(n.Component),Ht=a(54),Vt=a.n(Ht),Yt=a(55),Jt=a.n(Yt),Gt=ie,Kt=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={vendor_name:"",vendor_location:"",vendor_tax_no:"",vendor_mobile_no:"",vendor_email:"",vendor_address:"",vendor_country:"",vendor_state:"",vendor_city:"",vendor_postal_code:"",vendor_point_of_contacts:[{name:"",designation:"",mobile_no:"",sec_mobile_no:""}],poc_name:"",poc_designation:"",poc_mobile_no:"",poc_sec_mobile_no:"",description:"",errors:[],countries:[],states:[],cities:[]},a.onAddHandler=function(){K.a.post("/vendors/add-vendor",{vendor_name:a.state.vendor_name,vendor_location:a.state.vendor_location,vendor_tax_no:a.state.vendor_tax_no,vendor_mobile_no:a.state.vendor_mobile_no,vendor_email:a.state.vendor_email,vendor_address:a.state.vendor_address,vendor_country:a.state.vendor_country,vendor_state:a.state.vendor_state,vendor_city:a.state.vendor_city,vendor_postal_code:a.state.vendor_postal_code,vendor_point_of_contact:a.state.vendor_point_of_contacts,description:a.state.description}).then((function(e){console.log(e),e.data.errors.length>0?(console.log(e.data.errors),a.setState({errors:Object(Q.a)(e.data.errors)})):a.props.cancel()})).catch((function(e){return console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;oe(this.props,"Manage Vendors")&&K.a.get("/countries/countries").then((function(t){e.setState({countries:Object(Q.a)(t.data.Countries)})}))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:Gt.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Add Vendor"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:Gt.box_msg,bgcolor:"#f73067",key:t},e)})):null,i.a.createElement(ne,null,i.a.createElement(m.a,{style:Gt.box_field},i.a.createElement(m.a,{style:Gt.box,marginRight:"10px"},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,value:this.state.vendor_name,variant:"outlined",label:"Vendor Name",type:"text",onChange:function(t){e.setState({vendor_name:t.target.value})}})),i.a.createElement(m.a,{style:Gt.box,marginRight:"10px"},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,value:this.state.vendor_location,variant:"outlined",label:"Location",type:"text",onChange:function(t){e.setState({vendor_location:t.target.value})}})),i.a.createElement(m.a,{style:Gt.box},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,value:this.state.vendor_tax_no,variant:"outlined",label:"Tax Number (GSTIN/VAT)",type:"text",onChange:function(t){e.setState({vendor_tax_no:t.target.value})}}))),i.a.createElement(m.a,{style:Gt.box_field},i.a.createElement(m.a,{style:Gt.box,marginRight:"10px"},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,value:this.state.vendor_mobile_no,variant:"outlined",label:"Mobile Number",type:"text",onChange:function(t){e.setState({vendor_mobile_no:t.target.value})}})),i.a.createElement(m.a,{style:Gt.box},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,value:this.state.vendor_email,variant:"outlined",label:"Email",type:"email",onChange:function(t){e.setState({vendor_email:t.target.value})}}))),i.a.createElement(m.a,{style:Gt.box},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,value:this.state.vendor_address,variant:"outlined",label:"Address",type:"text",onChange:function(t){e.setState({vendor_address:t.target.value})}})),i.a.createElement(m.a,{style:Gt.box_field,marginTop:"10px"},i.a.createElement(m.a,{style:Gt.box,marginRight:"10px"},i.a.createElement(Z.a,{size:"small",required:!0,variant:"outlined",fullWidth:!0,display:"flex"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select Country"),i.a.createElement(ee.a,{required:!0,value:this.state.vendor_country,onChange:function(t){console.log(t.target.value),e.setState({vendor_country:t.target.value,cities:[]}),K.a.post("/states/state-country",{country_id:t.target.value}).then((function(t){console.log(t),e.setState({states:Object(Q.a)(t.data.state)})}))}},this.state.countries.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.country_name)}))))),i.a.createElement(m.a,{style:Gt.box,marginRight:"10px"},i.a.createElement(Z.a,{size:"small",required:!0,variant:"outlined",fullWidth:!0},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select State"),i.a.createElement(ee.a,{required:!0,value:this.state.vendor_state,onChange:function(t){console.log(t.target.value),e.setState({vendor_state:t.target.value}),K.a.post("/cities/city-state",{state_id:t.target.value}).then((function(t){console.log(t),e.setState({cities:Object(Q.a)(t.data.city)})}))}},this.state.states.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.state_name)}))))),i.a.createElement(m.a,{style:Gt.box},i.a.createElement(Z.a,{size:"small",required:!0,variant:"outlined",fullWidth:!0},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select City"),i.a.createElement(ee.a,{required:!0,value:this.state.vendor_city,onChange:function(t){console.log(t.target.value),e.setState({vendor_city:t.target.value})}},this.state.cities.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.city_name)})))))),i.a.createElement(m.a,{style:Gt.box_field},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,value:this.state.vendor_postal_code,variant:"outlined",label:"Postal Code",type:"text",onChange:function(t){e.setState({vendor_postal_code:t.target.value})}})),i.a.createElement(m.a,{style:Gt.box},i.a.createElement(X.a,{size:"small",fullWidth:!0,multiline:!0,rowsMax:4,required:!0,value:this.state.description,variant:"outlined",label:"Description",type:"text",onChange:function(t){e.setState({description:t.target.value})}})),i.a.createElement(m.a,{fontWeight:"bold",fontSize:"1.2vw",mt:1,mb:1,display:"flex",justifyContent:"flex-start",width:"100%"},"Point of contact"),i.a.createElement(m.a,{style:Gt.box_field,padding:"10px",border:"1px solid #3f51b5",marginBottom:"10px",flexDirection:"column"},this.state.vendor_point_of_contacts.map((function(t,a){return i.a.createElement(m.a,{style:Gt.box_field},i.a.createElement(m.a,{style:Gt.box,marginRight:"10px"},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,value:e.state.vendor_point_of_contacts[a].name,variant:"outlined",label:"Name",type:"text",onChange:function(t){e.setState({poc_name:t.target.value}),e.setState((function(e){e.vendor_point_of_contacts[a].name=e.poc_name,console.log(e.vendor_point_of_contacts[a])}))}})),i.a.createElement(m.a,{style:Gt.box,marginRight:"10px"},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,value:e.state.vendor_point_of_contacts[a].designation,variant:"outlined",label:"Designation",type:"text",onChange:function(t){e.setState({poc_designation:t.target.value}),e.setState((function(e){e.vendor_point_of_contacts[a].designation=e.poc_designation,console.log(e.vendor_point_of_contacts[a])}))}})),i.a.createElement(m.a,{style:Gt.box,marginRight:"10px"},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,value:e.state.vendor_point_of_contacts[a].mobile_no,variant:"outlined",label:"Mobile No",type:"text",onChange:function(t){e.setState({poc_mobile_no:t.target.value}),e.setState((function(e){e.vendor_point_of_contacts[a].mobile_no=e.poc_mobile_no,console.log(e.vendor_point_of_contacts[a])}))}})),i.a.createElement(m.a,{style:Gt.box,marginRight:"10px"},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,value:e.state.vendor_point_of_contacts[a].sec_mobile_no,variant:"outlined",label:"Secondary Mobile No",type:"text",onChange:function(t){e.setState({poc_sec_mobile_no:t.target.value}),e.setState((function(e){e.vendor_point_of_contacts[a].sec_mobile_no=e.poc_sec_mobile_no,console.log(e.vendor_point_of_contacts[a])}))}})),e.state.vendor_point_of_contacts.length===a+1?i.a.createElement(Vt.a,{color:"secondary",fontSize:"medium",onClick:function(){e.setState({}),e.setState((function(e){e.vendor_point_of_contacts.push({name:"",designation:"",mobile_no:"",sec_mobile_no:""}),console.log(e.vendor_point_of_contacts)}))}}):i.a.createElement(Jt.a,{color:"secondary",fontSize:"medium",onClick:function(){e.setState({}),e.setState((function(e){e.vendor_point_of_contacts.splice(a,1),console.log(e.vendor_point_of_contacts)}))}}))})).reverse())),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:this.onAddHandler},"Add"))))}}]),t}(n.Component),Xt=ie,Zt=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={_id:"",vendor_name:"",vendor_location:"",vendor_tax_no:"",vendor_mobile_no:"",vendor_email:"",vendor_address:"",vendor_country:"",vendor_state:"",vendor_city:"",vendor_postal_code:"",vendor_point_of_contacts:[{name:"",designation:"",mobile_no:"",sec_mobile_no:""}],description:"",errors:[],fieldErrors:{vendor_name:!1,vendor_location:!1,vendor_tax_no:!1,vendor_mobile_no:!1,vendor_email:!1,vendor_address:!1,vendor_country:!1,vendor_state:!1,vendor_city:!1,vendor_postal_code:!1,vendor_point_of_contacts:!1},countries:[],states:[],cities:[],poc_name:"",poc_designation:"",poc_mobile_no:"",poc_sec_mobile_no:""},a.onEditHandler=function(){a.state.vendor_point_of_contacts.map((function(e,t){var n=e.name,i=e.mobile_no;return n||i||a.state.vendor_point_of_contacts.splice(t,1),null})),console.log(a.state.vendor_point_of_contacts),K.a.post("/vendors/edit-vendor",{_id:a.state._id,vendor_name:a.state.vendor_name,vendor_location:a.state.vendor_location,vendor_tax_no:a.state.vendor_tax_no,vendor_mobile_no:a.state.vendor_mobile_no,vendor_email:a.state.vendor_email,vendor_address:a.state.vendor_address,vendor_country:a.state.vendor_country,vendor_state:a.state.vendor_state,vendor_city:a.state.vendor_city,vendor_postal_code:a.state.vendor_postal_code,vendor_point_of_contact:a.state.vendor_point_of_contacts,description:a.state.description}).then((function(e){console.log(e),e.data.errors&&(e.data.errors.length>0?(console.log(e.data.errors),a.setState({errors:Object(Q.a)(e.data.errors)})):a.props.cancel())})).catch((function(e){return console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;console.log(this.props.Vendor),console.log(this.props.Vendor.vendor_point_of_contact),oe(this.props,"Manage Vendors")&&K.a.get("/countries/countries").then((function(t){e.setState({countries:Object(Q.a)(t.data.Countries)}),K.a.post("/states/state-country",{country_id:e.props.Vendor.vendor_country}).then((function(t){e.setState({states:Object(Q.a)(t.data.state)}),K.a.post("/cities/city-state",{state_id:e.props.Vendor.vendor_state}).then((function(t){e.setState({cities:Object(Q.a)(t.data.city)}),""===e.state.vendor_name&&e.setState({_id:e.props.Vendor._id,vendor_name:e.props.Vendor.vendor_name,vendor_location:e.props.Vendor.vendor_location,vendor_tax_no:e.props.Vendor.vendor_tax_no,vendor_mobile_no:e.props.Vendor.vendor_mobile_no,vendor_email:e.props.Vendor.vendor_email,vendor_address:e.props.Vendor.vendor_address,vendor_country:e.props.Vendor.vendor_country,vendor_state:e.props.Vendor.vendor_state,vendor_city:e.props.Vendor.vendor_city,vendor_postal_code:e.props.Vendor.vendor_postal_code,vendor_point_of_contacts:e.props.Vendor.vendor_point_of_contact,description:e.props.Vendor.description})}))}))}))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:Xt.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Edit Vendor"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:Xt.box_msg,bgcolor:"#f73067",key:t},e)})):null,i.a.createElement(ne,null,i.a.createElement(m.a,{style:Xt.box_field},i.a.createElement(m.a,{style:Xt.box,marginRight:"10px"},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,value:this.state.vendor_name,variant:"outlined",label:"Vendor Name",type:"text",onChange:function(t){e.setState({vendor_name:t.target.value})}})),i.a.createElement(m.a,{style:Xt.box,marginRight:"10px"},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,value:this.state.vendor_location,variant:"outlined",label:"Location",type:"text",onChange:function(t){e.setState({vendor_location:t.target.value})}})),i.a.createElement(m.a,{style:Xt.box},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,value:this.state.vendor_tax_no,variant:"outlined",label:"Tax Number (GSTIN/VAT)",type:"text",onChange:function(t){e.setState({vendor_tax_no:t.target.value})}}))),i.a.createElement(m.a,{style:Xt.box_field},i.a.createElement(m.a,{style:Xt.box,marginRight:"10px"},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,value:this.state.vendor_mobile_no,variant:"outlined",label:"Mobile Number",type:"text",onChange:function(t){e.setState({vendor_mobile_no:t.target.value})}})),i.a.createElement(m.a,{style:Xt.box},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,value:this.state.vendor_email,variant:"outlined",label:"Email",type:"email",onChange:function(t){e.setState({vendor_email:t.target.value})}}))),i.a.createElement(m.a,{style:Xt.box},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,value:this.state.vendor_address,variant:"outlined",label:"Address",type:"text",onChange:function(t){e.setState({vendor_address:t.target.value})}})),i.a.createElement(m.a,{style:Xt.box_field,marginTop:"10px"},i.a.createElement(m.a,{style:Xt.box,marginRight:"10px"},i.a.createElement(Z.a,{size:"small",required:!0,variant:"outlined",fullWidth:!0,display:"flex"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select Country"),i.a.createElement(ee.a,{required:!0,value:this.state.vendor_country,onChange:function(t){console.log(t.target.value),e.setState({vendor_country:t.target.value,cities:[]}),K.a.post("/states/state-country",{country_id:t.target.value}).then((function(t){console.log(t),e.setState({states:Object(Q.a)(t.data.state)})}))}},this.state.countries.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.country_name)}))))),i.a.createElement(m.a,{style:Xt.box,marginRight:"10px"},i.a.createElement(Z.a,{size:"small",required:!0,variant:"outlined",fullWidth:!0},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select State"),i.a.createElement(ee.a,{required:!0,value:this.state.vendor_state,onChange:function(t){console.log(t.target.value),e.setState({vendor_state:t.target.value}),K.a.post("/cities/city-state",{state_id:t.target.value}).then((function(t){console.log(t),e.setState({cities:Object(Q.a)(t.data.city)})}))}},this.state.states.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.state_name)}))))),i.a.createElement(m.a,{style:Xt.box},i.a.createElement(Z.a,{size:"small",required:!0,variant:"outlined",fullWidth:!0},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select City"),i.a.createElement(ee.a,{required:!0,value:this.state.vendor_city,onChange:function(t){console.log(t.target.value),e.setState({vendor_city:t.target.value})}},this.state.cities.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.city_name)})))))),i.a.createElement(m.a,{style:Xt.box_field},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,value:this.state.vendor_postal_code,variant:"outlined",label:"Postal Code",type:"text",onChange:function(t){e.setState({vendor_postal_code:t.target.value})}})),i.a.createElement(m.a,{style:Xt.box},i.a.createElement(X.a,{size:"small",fullWidth:!0,multiline:!0,rowsMax:4,required:!0,value:this.state.description,variant:"outlined",label:"Description",type:"text",onChange:function(t){e.setState({description:t.target.value})}})),i.a.createElement(m.a,{fontWeight:"bold",fontSize:"1.2vw",mt:1,mb:1,display:"flex",justifyContent:"flex-start",width:"100%"},"Point of contact"),i.a.createElement(m.a,{style:Xt.box_field,padding:"10px",border:"1px solid #3f51b5",marginBottom:"10px",flexDirection:"column"},this.state.vendor_point_of_contacts.map((function(t,a){return i.a.createElement(m.a,{key:a,style:Xt.box_field},i.a.createElement(m.a,{style:Xt.box,marginRight:"10px"},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,value:e.state.vendor_point_of_contacts[a].name,variant:"outlined",label:"Name",type:"text",onChange:function(t){e.setState({poc_name:t.target.value}),e.setState((function(e){e.vendor_point_of_contacts[a].name=e.poc_name,console.log(e.vendor_point_of_contacts[a])}))}})),i.a.createElement(m.a,{style:Xt.box,marginRight:"10px"},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,value:e.state.vendor_point_of_contacts[a].designation,variant:"outlined",label:"Designation",type:"text",onChange:function(t){e.setState({poc_designation:t.target.value}),e.setState((function(e){e.vendor_point_of_contacts[a].designation=e.poc_designation,console.log(e.vendor_point_of_contacts[a])}))}})),i.a.createElement(m.a,{style:Xt.box,marginRight:"10px"},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,value:e.state.vendor_point_of_contacts[a].mobile_no,variant:"outlined",label:"Mobile No",type:"text",onChange:function(t){e.setState({poc_mobile_no:t.target.value}),e.setState((function(e){e.vendor_point_of_contacts[a].mobile_no=e.poc_mobile_no,console.log(e.vendor_point_of_contacts[a])}))}})),i.a.createElement(m.a,{style:Xt.box,marginRight:"10px"},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,value:e.state.vendor_point_of_contacts[a].sec_mobile_no,variant:"outlined",label:"Secondary Mobile No",type:"text",onChange:function(t){e.setState({poc_sec_mobile_no:t.target.value}),e.setState((function(e){e.vendor_point_of_contacts[a].sec_mobile_no=e.poc_sec_mobile_no,console.log(e.vendor_point_of_contacts[a])}))}})),e.state.vendor_point_of_contacts.length===a+1?i.a.createElement(Vt.a,{color:"secondary",style:{fontSize:"30px"},onClick:function(){e.setState({}),e.setState((function(e){e.vendor_point_of_contacts.push({name:"",designation:"",mobile_no:"",sec_mobile_no:""}),console.log(e.vendor_point_of_contacts)}))}}):i.a.createElement(Jt.a,{color:"secondary",style:{fontSize:"30px"},onClick:function(){e.setState({}),e.setState((function(e){e.vendor_point_of_contacts.splice(a,1),console.log(e.vendor_point_of_contacts)}))}}))})).reverse())),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:this.onEditHandler},"Update"))))}}]),t}(n.Component),$t=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).EditData={},a.state={columns:[{title:"ID",field:"id"},{title:"Vendor Name",field:"vendor_name"},{title:"Vendor Location",field:"vendor_location"},{title:"Description",field:"description"}],data:[],openAdd:!1,openEdit:!1},a.OnEditHandler=function(e,t){console.log(t._id),K.a.post("/vendors/vendor",{_id:t._id}).then((function(e){console.log(e),a.EditData=Object(F.a)({},e.data.Vendor),console.log(a.EditData[0]),a.setState({openEdit:!0})}))},a.handleClose=function(){K.a.get("/vendors/vendors").then((function(e){for(var t=0;t<e.data.Vendors.length;t++)e.data.Vendors[t].id=t+1;a.setState({data:Object(Q.a)(e.data.Vendors)})})).catch((function(e){console.log("Error")}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){oe(this.props,"Manage Vendors")&&this.handleClose()}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Manage Vendors"),i.a.createElement(m.a,{width:"90%",display:"flex",flexDirection:"row"},i.a.createElement(M.a,{variant:"contained",color:"primary",style:{marginBottom:"20px",display:"flex",marginRight:"10px"},size:"large",onClick:function(){e.setState({openAdd:!0})}},"Add")),i.a.createElement(V.a,{title:" ",columns:this.state.columns,data:this.state.data,style:{width:"90%",maxHeight:"500px",overflow:"auto"},options:{sorting:!0,headerStyle:{backgroundColor:"#3f51b5",color:"#FFF"}},actions:[{icon:"edit",tooltip:"Edit",onClick:function(t,a){e.OnEditHandler(t,a)}}],editable:{onRowDelete:function(t){return K.a.post("/vendors/delete-vendor",{_id:t._id}).then((function(a){console.log(a),a&&e.setState((function(e){var a=Object(Q.a)(e.data);return a.splice(a.indexOf(t),1),Object(F.a)({},e,{data:a})}))}))}},onRowClick:function(t,a){e.OnEditHandler(t,a)}}),i.a.createElement(J.a,{open:this.state.openAdd,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,{style:{padding:"20px"}},i.a.createElement(Kt,{cancel:function(){e.setState({openAdd:!1}),e.handleClose()}}))),i.a.createElement(J.a,{open:this.state.openEdit,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,{style:{padding:"20px"}},i.a.createElement(Zt,{Vendor:this.EditData[0],cancel:function(){e.setState({openEdit:!1}),e.handleClose()}}))))}}]),t}(n.Component),ea=ie,ta=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={distributor_name:"",distributor_location:"",distributor_tax_no:"",distributor_mobile_no:"",distributor_email:"",distributor_address:"",distributor_country:"",distributor_state:"",distributor_city:"",distributor_postal_code:"",distributor_point_of_contacts:[{name:"",designation:"",mobile_no:"",sec_mobile_no:""}],description:"",errors:[],countries:[],states:[],cities:[],poc_name:"",poc_designation:"",poc_mobile_no:"",poc_sec_mobile_no:""},a.onAddHandler=function(){K.a.post("/distributors/add-distributor",{distributor_name:a.state.distributor_name,distributor_location:a.state.distributor_location,distributor_tax_no:a.state.distributor_tax_no,distributor_mobile_no:a.state.distributor_mobile_no,distributor_email:a.state.distributor_email,distributor_address:a.state.distributor_address,distributor_country:a.state.distributor_country,distributor_state:a.state.distributor_state,distributor_city:a.state.distributor_city,distributor_postal_code:a.state.distributor_postal_code,distributor_point_of_contact:a.state.distributor_point_of_contacts,description:a.state.description}).then((function(e){console.log(e),e.data.errors.length>0?(console.log(e.data.errors),a.setState({errors:Object(Q.a)(e.data.errors)})):a.props.cancel()})).catch((function(e){return console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;oe(this.props,"Manage Distributors")&&K.a.get("/countries/countries").then((function(t){e.setState({countries:Object(Q.a)(t.data.Countries)})}))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:ea.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Add Distributor"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:ea.box_msg,bgcolor:"#f73067",key:t},e)})):null,i.a.createElement(ne,null,i.a.createElement(m.a,{style:ea.box_field},i.a.createElement(m.a,{style:ea.box,marginRight:"10px"},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,value:this.state.distributor_name,variant:"outlined",label:"Distributor Name",type:"text",onChange:function(t){e.setState({distributor_name:t.target.value})}})),i.a.createElement(m.a,{style:ea.box,marginRight:"10px"},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,value:this.state.distributor_location,variant:"outlined",label:"Location",type:"text",onChange:function(t){e.setState({distributor_location:t.target.value})}})),i.a.createElement(m.a,{style:ea.box},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,value:this.state.distributor_tax_no,variant:"outlined",label:"Tax Number (GSTIN/VAT)",type:"text",onChange:function(t){e.setState({distributor_tax_no:t.target.value})}}))),i.a.createElement(m.a,{style:ea.box_field},i.a.createElement(m.a,{style:ea.box,marginRight:"10px"},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,value:this.state.distributor_mobile_no,variant:"outlined",label:"Mobile Number",type:"text",onChange:function(t){e.setState({distributor_mobile_no:t.target.value})}})),i.a.createElement(m.a,{style:ea.box},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,value:this.state.distributor_email,variant:"outlined",label:"Email",type:"email",onChange:function(t){e.setState({distributor_email:t.target.value})}}))),i.a.createElement(m.a,{style:ea.box},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,value:this.state.distributor_address,variant:"outlined",label:"Address",type:"text",onChange:function(t){e.setState({distributor_address:t.target.value})}})),i.a.createElement(m.a,{style:ea.box_field,marginTop:"10px"},i.a.createElement(m.a,{style:ea.box,marginRight:"10px"},i.a.createElement(Z.a,{size:"small",required:!0,variant:"outlined",fullWidth:!0,display:"flex"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select Country"),i.a.createElement(ee.a,{required:!0,value:this.state.distributor_country,onChange:function(t){console.log(t.target.value),e.setState({distributor_country:t.target.value,cities:[]}),K.a.post("/states/state-country",{country_id:t.target.value}).then((function(t){console.log(t),e.setState({states:Object(Q.a)(t.data.state)})}))}},this.state.countries.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.country_name)}))))),i.a.createElement(m.a,{style:ea.box,marginRight:"10px"},i.a.createElement(Z.a,{size:"small",required:!0,variant:"outlined",fullWidth:!0},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select State"),i.a.createElement(ee.a,{required:!0,value:this.state.distributor_state,onChange:function(t){console.log(t.target.value),e.setState({distributor_state:t.target.value}),K.a.post("/cities/city-state",{state_id:t.target.value}).then((function(t){console.log(t),e.setState({cities:Object(Q.a)(t.data.city)})}))}},this.state.states.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.state_name)}))))),i.a.createElement(m.a,{style:ea.box},i.a.createElement(Z.a,{size:"small",required:!0,variant:"outlined",fullWidth:!0},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select City"),i.a.createElement(ee.a,{required:!0,value:this.state.distributor_city,onChange:function(t){console.log(t.target.value),e.setState({distributor_city:t.target.value})}},this.state.cities.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.city_name)})))))),i.a.createElement(m.a,{style:ea.box_field},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,value:this.state.distributor_postal_code,variant:"outlined",label:"Postal Code",type:"text",onChange:function(t){e.setState({distributor_postal_code:t.target.value})}})),i.a.createElement(m.a,{style:ea.box},i.a.createElement(X.a,{size:"small",fullWidth:!0,multiline:!0,rowsMax:4,required:!0,value:this.state.description,variant:"outlined",label:"Description",type:"text",onChange:function(t){e.setState({description:t.target.value})}})),i.a.createElement(m.a,{fontWeight:"bold",fontSize:"1.2vw",mt:1,mb:1,display:"flex",justifyContent:"flex-start",width:"100%"},"Point of contact"),i.a.createElement(m.a,{style:ea.box_field,padding:"10px",border:"1px solid #3f51b5",marginBottom:"10px",flexDirection:"column"},this.state.distributor_point_of_contacts.map((function(t,a){return i.a.createElement(m.a,{style:ea.box_field},i.a.createElement(m.a,{style:ea.box,marginRight:"10px"},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,value:e.state.distributor_point_of_contacts[a].name,variant:"outlined",label:"Name",type:"text",onChange:function(t){e.setState({poc_name:t.target.value}),e.setState((function(e){e.distributor_point_of_contacts[a].name=e.poc_name,console.log(e.distributor_point_of_contacts[a])}))}})),i.a.createElement(m.a,{style:ea.box,marginRight:"10px"},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,value:e.state.distributor_point_of_contacts[a].designation,variant:"outlined",label:"Designation",type:"text",onChange:function(t){e.setState({poc_designation:t.target.value}),e.setState((function(e){e.distributor_point_of_contacts[a].designation=e.poc_designation,console.log(e.distributor_point_of_contacts[a])}))}})),i.a.createElement(m.a,{style:ea.box,marginRight:"10px"},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,value:e.state.distributor_point_of_contacts[a].mobile_no,variant:"outlined",label:"Mobile No",type:"text",onChange:function(t){e.setState({poc_mobile_no:t.target.value}),e.setState((function(e){e.distributor_point_of_contacts[a].mobile_no=e.poc_mobile_no,console.log(e.distributor_point_of_contacts[a])}))}})),i.a.createElement(m.a,{style:ea.box,marginRight:"10px"},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,value:e.state.distributor_point_of_contacts[a].sec_mobile_no,variant:"outlined",label:"Secondary Mobile No",type:"text",onChange:function(t){e.setState({poc_sec_mobile_no:t.target.value}),e.setState((function(e){e.distributor_point_of_contacts[a].sec_mobile_no=e.poc_sec_mobile_no,console.log(e.distributor_point_of_contacts[a])}))}})),e.state.distributor_point_of_contacts.length===a+1?i.a.createElement(Vt.a,{color:"secondary",fontSize:"medium",onClick:function(){e.setState({}),e.setState((function(e){e.distributor_point_of_contacts.push({name:"",designation:"",mobile_no:"",sec_mobile_no:""}),console.log(e.distributor_point_of_contacts)}))}}):i.a.createElement(Jt.a,{color:"secondary",fontSize:"medium",onClick:function(){e.setState({}),e.setState((function(e){e.distributor_point_of_contacts.splice(a,1),console.log(e.distributor_point_of_contacts)}))}}))})).reverse())),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:this.onAddHandler},"Add"))))}}]),t}(n.Component),aa=ie,na=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={_id:"",distributor_name:"",distributor_location:"",distributor_tax_no:"",distributor_mobile_no:"",distributor_email:"",distributor_address:"",distributor_country:"",distributor_state:"",distributor_city:"",distributor_postal_code:"",distributor_point_of_contacts:[{name:"",designation:"",mobile_no:"",sec_mobile_no:""}],description:"",errors:[],fieldErrors:{distributor_name:!1,distributor_location:!1,distributor_tax_no:!1,distributor_mobile_no:!1,distributor_email:!1,distributor_address:!1,distributor_country:!1,distributor_state:!1,distributor_city:!1,distributor_postal_code:!1,distributor_point_of_contacts:!1},countries:[],states:[],cities:[],poc_name:"",poc_designation:"",poc_mobile_no:"",poc_sec_mobile_no:""},a.onEditHandler=function(){a.state.distributor_point_of_contacts.map((function(e,t){var n=e.name,i=e.mobile_no;return n||i||a.state.distributor_point_of_contacts.splice(t,1),null})),console.log(a.state.distributor_point_of_contacts),K.a.post("/distributors/edit-distributor",{_id:a.state._id,distributor_name:a.state.distributor_name,distributor_location:a.state.distributor_location,distributor_tax_no:a.state.distributor_tax_no,distributor_mobile_no:a.state.distributor_mobile_no,distributor_email:a.state.distributor_email,distributor_address:a.state.distributor_address,distributor_country:a.state.distributor_country,distributor_state:a.state.distributor_state,distributor_city:a.state.distributor_city,distributor_postal_code:a.state.distributor_postal_code,distributor_point_of_contact:a.state.distributor_point_of_contacts,description:a.state.description}).then((function(e){console.log(e),e.data.errors&&(e.data.errors.length>0?(console.log(e.data.errors),a.setState({errors:Object(Q.a)(e.data.errors)})):a.props.cancel())})).catch((function(e){return console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;console.log(this.props.Distributor),console.log(this.props.Distributor.distributor_point_of_contact),oe(this.props,"Manage Distributors")&&K.a.get("/countries/countries").then((function(t){e.setState({countries:Object(Q.a)(t.data.Countries)}),K.a.post("/states/state-country",{country_id:e.props.Distributor.distributor_country}).then((function(t){e.setState({states:Object(Q.a)(t.data.state)}),K.a.post("/cities/city-state",{state_id:e.props.Distributor.distributor_state}).then((function(t){e.setState({cities:Object(Q.a)(t.data.city)}),""===e.state.distributor_name&&e.setState({_id:e.props.Distributor._id,distributor_name:e.props.Distributor.distributor_name,distributor_location:e.props.Distributor.distributor_location,distributor_tax_no:e.props.Distributor.distributor_tax_no,distributor_mobile_no:e.props.Distributor.distributor_mobile_no,distributor_email:e.props.Distributor.distributor_email,distributor_address:e.props.Distributor.distributor_address,distributor_country:e.props.Distributor.distributor_country,distributor_state:e.props.Distributor.distributor_state,distributor_city:e.props.Distributor.distributor_city,distributor_postal_code:e.props.Distributor.distributor_postal_code,distributor_point_of_contacts:e.props.Distributor.distributor_point_of_contact,description:e.props.Distributor.description})}))}))}))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:aa.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Edit Distributor"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:aa.box_msg,bgcolor:"#f73067",key:t},e)})):null,i.a.createElement(ne,null,i.a.createElement(m.a,{style:aa.box_field},i.a.createElement(m.a,{style:aa.box,marginRight:"10px"},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,value:this.state.distributor_name,variant:"outlined",label:"Distributor Name",type:"text",onChange:function(t){e.setState({distributor_name:t.target.value})}})),i.a.createElement(m.a,{style:aa.box,marginRight:"10px"},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,value:this.state.distributor_location,variant:"outlined",label:"Location",type:"text",onChange:function(t){e.setState({distributor_location:t.target.value})}})),i.a.createElement(m.a,{style:aa.box},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,value:this.state.distributor_tax_no,variant:"outlined",label:"Tax Number (GSTIN/VAT)",type:"text",onChange:function(t){e.setState({distributor_tax_no:t.target.value})}}))),i.a.createElement(m.a,{style:aa.box_field},i.a.createElement(m.a,{style:aa.box,marginRight:"10px"},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,value:this.state.distributor_mobile_no,variant:"outlined",label:"Mobile Number",type:"text",onChange:function(t){e.setState({distributor_mobile_no:t.target.value})}})),i.a.createElement(m.a,{style:aa.box},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,value:this.state.distributor_email,variant:"outlined",label:"Email",type:"email",onChange:function(t){e.setState({distributor_email:t.target.value})}}))),i.a.createElement(m.a,{style:aa.box},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,value:this.state.distributor_address,variant:"outlined",label:"Address",type:"text",onChange:function(t){e.setState({distributor_address:t.target.value})}})),i.a.createElement(m.a,{style:aa.box_field,marginTop:"10px"},i.a.createElement(m.a,{style:aa.box,marginRight:"10px"},i.a.createElement(Z.a,{size:"small",required:!0,variant:"outlined",fullWidth:!0,display:"flex"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select Country"),i.a.createElement(ee.a,{required:!0,value:this.state.distributor_country,onChange:function(t){console.log(t.target.value),e.setState({distributor_country:t.target.value,cities:[]}),K.a.post("/states/state-country",{country_id:t.target.value}).then((function(t){console.log(t),e.setState({states:Object(Q.a)(t.data.state)})}))}},this.state.countries.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.country_name)}))))),i.a.createElement(m.a,{style:aa.box,marginRight:"10px"},i.a.createElement(Z.a,{size:"small",required:!0,variant:"outlined",fullWidth:!0},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select State"),i.a.createElement(ee.a,{required:!0,value:this.state.distributor_state,onChange:function(t){console.log(t.target.value),e.setState({distributor_state:t.target.value}),K.a.post("/cities/city-state",{state_id:t.target.value}).then((function(t){console.log(t),e.setState({cities:Object(Q.a)(t.data.city)})}))}},this.state.states.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.state_name)}))))),i.a.createElement(m.a,{style:aa.box},i.a.createElement(Z.a,{size:"small",required:!0,variant:"outlined",fullWidth:!0},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select City"),i.a.createElement(ee.a,{required:!0,value:this.state.distributor_city,onChange:function(t){console.log(t.target.value),e.setState({distributor_city:t.target.value})}},this.state.cities.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.city_name)})))))),i.a.createElement(m.a,{style:aa.box_field},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,value:this.state.distributor_postal_code,variant:"outlined",label:"Postal Code",type:"text",onChange:function(t){e.setState({distributor_postal_code:t.target.value})}})),i.a.createElement(m.a,{style:aa.box},i.a.createElement(X.a,{size:"small",fullWidth:!0,multiline:!0,rowsMax:4,required:!0,value:this.state.description,variant:"outlined",label:"Description",type:"text",onChange:function(t){e.setState({description:t.target.value})}})),i.a.createElement(m.a,{fontWeight:"bold",fontSize:"1.2vw",mt:1,mb:1,display:"flex",justifyContent:"flex-start",width:"100%"},"Point of contact"),i.a.createElement(m.a,{style:aa.box_field,padding:"10px",border:"1px solid #3f51b5",marginBottom:"10px",flexDirection:"column"},this.state.distributor_point_of_contacts.map((function(t,a){return i.a.createElement(m.a,{style:aa.box_field},i.a.createElement(m.a,{style:aa.box,marginRight:"10px"},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,value:e.state.distributor_point_of_contacts[a].name,variant:"outlined",label:"Name",type:"text",onChange:function(t){e.setState({poc_name:t.target.value}),e.setState((function(e){e.distributor_point_of_contacts[a].name=e.poc_name,console.log(e.distributor_point_of_contacts[a])}))}})),i.a.createElement(m.a,{style:aa.box,marginRight:"10px"},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,value:e.state.distributor_point_of_contacts[a].designation,variant:"outlined",label:"Designation",type:"text",onChange:function(t){e.setState({poc_designation:t.target.value}),e.setState((function(e){e.distributor_point_of_contacts[a].designation=e.poc_designation,console.log(e.distributor_point_of_contacts[a])}))}})),i.a.createElement(m.a,{style:aa.box,marginRight:"10px"},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,value:e.state.distributor_point_of_contacts[a].mobile_no,variant:"outlined",label:"Mobile No",type:"text",onChange:function(t){e.setState({poc_mobile_no:t.target.value}),e.setState((function(e){e.distributor_point_of_contacts[a].mobile_no=e.poc_mobile_no,console.log(e.distributor_point_of_contacts[a])}))}})),i.a.createElement(m.a,{style:aa.box,marginRight:"10px"},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,value:e.state.distributor_point_of_contacts[a].sec_mobile_no,variant:"outlined",label:"Secondary Mobile No",type:"text",onChange:function(t){e.setState({poc_sec_mobile_no:t.target.value}),e.setState((function(e){e.distributor_point_of_contacts[a].sec_mobile_no=e.poc_sec_mobile_no,console.log(e.distributor_point_of_contacts[a])}))}})),e.state.distributor_point_of_contacts.length===a+1?i.a.createElement(Vt.a,{color:"secondary",fontSize:"medium",onClick:function(){e.setState({}),e.setState((function(e){e.distributor_point_of_contacts.push({name:"",designation:"",mobile_no:"",sec_mobile_no:""}),console.log(e.distributor_point_of_contacts)}))}}):i.a.createElement(Jt.a,{color:"secondary",fontSize:"medium",onClick:function(){e.setState({}),e.setState((function(e){e.distributor_point_of_contacts.splice(a,1),console.log(e.distributor_point_of_contacts)}))}}))})).reverse())),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:this.onEditHandler},"Update"))))}}]),t}(n.Component),ia=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).EditData={},a.state={columns:[{title:"ID",field:"id"},{title:"Distributor Name",field:"distributor_name"},{title:"Distributor Location",field:"distributor_location"},{title:"Description",field:"description"}],data:[],openAdd:!1,openEdit:!1},a.OnEditHandler=function(e,t){console.log(t._id),K.a.post("/distributors/distributor",{_id:t._id}).then((function(e){console.log(e),a.EditData=Object(F.a)({},e.data.Distributor),console.log(a.EditData[0]),a.setState({openEdit:!0})}))},a.handleClose=function(){K.a.get("/distributors/distributors").then((function(e){for(var t=0;t<e.data.Distributors.length;t++)e.data.Distributors[t].id=t+1;a.setState({data:Object(Q.a)(e.data.Distributors)})})).catch((function(e){console.log("Error")}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){oe(this.props,"Manage Distributors")&&this.handleClose()}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Manage Distributors"),i.a.createElement(m.a,{width:"90%",display:"flex",flexDirection:"row"},i.a.createElement(M.a,{variant:"contained",color:"primary",style:{marginBottom:"20px",display:"flex",marginRight:"10px"},size:"large",onClick:function(){e.setState({openAdd:!0})}},"Add")),i.a.createElement(V.a,{title:" ",columns:this.state.columns,data:this.state.data,style:{width:"90%",maxHeight:"500px",overflow:"auto"},options:{sorting:!0,headerStyle:{backgroundColor:"#3f51b5",color:"#FFF"}},actions:[{icon:"edit",tooltip:"Edit",onClick:function(t,a){e.OnEditHandler(t,a)}}],editable:{onRowDelete:function(t){return K.a.post("/distributors/delete-distributor",{_id:t._id}).then((function(a){console.log(a),a&&e.setState((function(e){var a=Object(Q.a)(e.data);return a.splice(a.indexOf(t),1),Object(F.a)({},e,{data:a})}))}))}},onRowClick:function(t,a){e.OnEditHandler(t,a)}}),i.a.createElement(J.a,{open:this.state.openAdd,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,{style:{padding:"20px"}},i.a.createElement(ta,{cancel:function(){e.setState({openAdd:!1}),e.handleClose()}}))),i.a.createElement(J.a,{open:this.state.openEdit,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,{style:{padding:"20px"}},i.a.createElement(na,{Distributor:this.EditData[0],cancel:function(){e.setState({openEdit:!1}),e.handleClose()}}))))}}]),t}(n.Component),oa=function(e){var t=!1,a="",n=!1,i=e.target,o=i.name,l=i.value;switch(console.log(o,l),o){case"designation_name":l.length>20?(t=!0,a="must have less than 20 characters"):0===l.length?(t=!0,a="Name required"):(t=!1,a="",n=!0);break;case"description":l.length>200?(t=!0,a="must have less than 200 characters"):(t=!1,a="",n=!0)}return{status:t,msg:a,isValid:n}},la=ie,ra=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={designation_name:"",description:"",errors:[],status:"Add",fieldError:{designation_name:{status:!1,msg:""},description:{status:!1,msg:""}},isValid:!1},a.onAddHandler=function(){a.setState({}),""===a.state.designation_name?a.setState((function(e){e.fieldError.designation_name.status=!0,e.fieldError.designation_name.msg="Name required"})):K.a.post("/designations/add-designation",{designation_name:a.state.designation_name,description:a.state.description}).then((function(e){a.setState({status:"Add"}),console.log(e),e.data.errors.length>0?(console.log(e.data.errors),a.setState({errors:Object(Q.a)(e.data.errors)})):a.props.cancel()})).catch((function(e){return console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){oe(this.props,"Manage Designations")}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:la.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Add Designation"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:la.box_msg,bgcolor:"#f73067",key:t},e)})):null,i.a.createElement(ne,null,i.a.createElement(m.a,{style:la.box_field},i.a.createElement(X.a,{size:"small",name:"designation_name",fullWidth:!0,required:!0,value:this.state.designation_name,variant:"outlined",label:"Designation Name",type:"text",onChange:function(t){e.setState({designation_name:t.target.value});var a=oa(t),n=a.status,i=a.msg,o=a.isValid;e.setState((function(e){e.fieldError.designation_name.status=n,e.fieldError.designation_name.msg=i,e.isValid=o}))},error:this.state.fieldError.designation_name.status,helperText:this.state.fieldError.designation_name.msg})),i.a.createElement(m.a,{style:la.box_field},i.a.createElement(X.a,{name:"description",size:"small",fullWidth:!0,required:!0,value:this.state.description,variant:"outlined",label:"Description",type:"text",onChange:function(t){e.setState({description:t.target.value});var a=oa(t),n=a.status,i=a.msg,o=a.isValid;e.setState((function(e){e.fieldError.description.status=n,e.fieldError.description.msg=i,e.isValid=o}))},error:this.state.fieldError.description.status,helperText:this.state.fieldError.description.msg}))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",disabled:!this.state.isValid,onClick:this.onAddHandler},this.state.status))))}}]),t}(n.Component),sa=ie,ca=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={_id:"",designation_name:"",description:"",errors:[],status:"Add",fieldError:{designation_name:{status:!1,msg:""},description:{status:!1,msg:""}},isValid:!1},a.onEditHandler=function(){a.setState({}),""===a.state.designation_name?a.setState((function(e){e.fieldError.designation_name.status=!0,e.fieldError.designation_name.msg="Name required"})):K.a.post("/designations/edit-designation",{_id:a.state._id,designation_name:a.state.designation_name,description:a.state.description}).then((function(e){a.setState({status:"Update"}),console.log(e),e.data.errors&&(e.data.errors.length>0?(console.log(e.data.errors),a.setState({errors:Object(Q.a)(e.data.errors)})):a.props.cancel())})).catch((function(e){return console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){oe(this.props.props,"Manage Designations")&&(console.log(this.props),""===this.state.designation_name&&this.setState({designation_name:this.props.Designation.designation_name,description:this.props.Designation.description,_id:this.props.Designation._id}))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:sa.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Edit Designation"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:sa.box_msg,bgcolor:"#f73067",key:t},e)})):null,i.a.createElement(ne,null,i.a.createElement(m.a,{style:sa.box_field},i.a.createElement(X.a,{size:"small",name:"designation_name",fullWidth:!0,required:!0,value:this.state.designation_name,variant:"outlined",label:"Designation Name",type:"text",onChange:function(t){e.setState({designation_name:t.target.value});var a=oa(t),n=a.status,i=a.msg,o=a.isValid;e.setState((function(e){e.fieldError.designation_name.status=n,e.fieldError.designation_name.msg=i,e.isValid=o}))},error:this.state.fieldError.designation_name.status,helperText:this.state.fieldError.designation_name.msg})),i.a.createElement(m.a,{style:sa.box_field},i.a.createElement(X.a,{name:"description",size:"small",fullWidth:!0,required:!0,value:this.state.description,variant:"outlined",label:"Description",type:"text",onChange:function(t){e.setState({description:t.target.value});var a=oa(t),n=a.status,i=a.msg,o=a.isValid;e.setState((function(e){e.fieldError.description.status=n,e.fieldError.description.msg=i,e.isValid=o}))},error:this.state.fieldError.description.status,helperText:this.state.fieldError.description.msg}))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",disabled:!this.state.isValid,onClick:this.onEditHandler},this.state.status))))}}]),t}(n.Component),da=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).EditData={},a.state={columns:[{title:"ID",field:"id"},{title:"Designation Name",field:"designation_name"},{title:"Description",field:"description"}],data:[],openAdd:!1,openEdit:!1},a.OnEditHandler=function(e,t){K.a.post("/designations/designation",{_id:t._id}).then((function(e){a.EditData=Object(F.a)({},e.data.Designation[0]),console.log(a.EditData),a.setState({openEdit:!0})}))},a.handleClose=function(){K.a.get("/designations/designations").then((function(e){console.log(e.data.Designations);for(var t=0;t<e.data.Designations.length;t++)e.data.Designations[t].id=t+1;a.setState({data:Object(Q.a)(e.data.Designations)})}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){oe(this.props,"Manage Designations")&&this.handleClose()}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Manage Designations"),i.a.createElement(m.a,{width:"90%",display:"flex",flexDirection:"row"},i.a.createElement(M.a,{variant:"contained",color:"primary",style:{marginBottom:"20px",display:"flex",marginRight:"10px"},size:"large",onClick:function(){e.setState({openAdd:!0})}},"Add")),i.a.createElement(V.a,{title:" ",columns:this.state.columns,data:this.state.data,style:{width:"90%",maxHeight:"500px",overflow:"auto"},options:{sorting:!0,headerStyle:{backgroundColor:"#3f51b5",color:"#FFF"}},actions:[{icon:"edit",tooltip:"Edit",onClick:function(t,a){e.OnEditHandler(t,a)}}],editable:{onRowDelete:function(t){return K.a.post("/designations/delete-designation",{designation_name:t.designation_name}).then((function(a){console.log(a),a&&e.setState((function(e){var a=Object(Q.a)(e.data);return a.splice(a.indexOf(t),1),Object(F.a)({},e,{data:a})}))}))}},onRowClick:function(t,a){e.OnEditHandler(t,a)}}),i.a.createElement(J.a,{open:this.state.openAdd,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,{style:{padding:"20px"}},i.a.createElement(ra,{cancel:function(){e.setState({openAdd:!1}),e.handleClose()}}))),i.a.createElement(J.a,{open:this.state.openEdit,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,{style:{padding:"20px"}},i.a.createElement(ca,{Designation:this.EditData,props:this.props,cancel:function(){e.setState({openEdit:!1}),e.handleClose()}}))))}}]),t}(n.Component),ua=function(e){var t=!1,a="",n=!1,i=e.target,o=i.name,l=i.value;switch(console.log(o,l),o){case"box_name":l.length>20?(t=!0,a="must have less than 20 characters"):0===l.length?(t=!0,a="Name required"):(t=!1,a="",n=!0);break;case"box_size":0===l.length?(t=!0,a="required"):(t=!1,a="",n=!0);break;case"description":l.length>200?(t=!0,a="must have less than 200 characters"):(t=!1,a="",n=!0)}return{status:t,msg:a,isValid:n}},ma=ie,pa=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={box_name:"",box_size:0,description:"",errors:[],status:"Add",fieldError:{box_name:{status:!1,msg:""},box_size:{status:!1,msg:""},description:{status:!1,msg:""}},isValid:!1},a.onAddHandler=function(){a.setState({}),""===a.state.box_name?a.setState((function(e){e.fieldError.box_name.status=!0,e.fieldError.box_name.msg="Name required"})):a.state.box_size<=0?a.setState((function(e){e.fieldError.box_size.status=!0,e.fieldError.box_size.msg="Enter a positive value"})):K.a.post("/boxes/add-box",{box_name:a.state.box_name,box_size:a.state.box_size,description:a.state.description}).then((function(e){a.setState({status:"Add"}),console.log(e),e.data.errors.length>0?(console.log(e.data.errors),a.setState({errors:Object(Q.a)(e.data.errors)})):a.props.cancel()})).catch((function(e){return console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){oe(this.props,"Manage Boxes")}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:ma.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Add Box"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:ma.box_msg,bgcolor:"#f73067",key:t},e)})):null,i.a.createElement(ne,null,i.a.createElement(m.a,{style:ma.box_field},i.a.createElement(X.a,{name:"box_name",fullWidth:!0,required:!0,value:this.state.box_name,variant:"outlined",label:"Box Name",type:"text",onChange:function(t){e.setState({box_name:t.target.value});var a=ua(t),n=a.status,i=a.msg,o=a.isValid;e.setState((function(e){e.fieldError.box_name.status=n,e.fieldError.box_name.msg=i,e.isValid=o}))},error:this.state.fieldError.box_name.status,helperText:this.state.fieldError.box_name.msg})),i.a.createElement(m.a,{style:ma.box_field},i.a.createElement(X.a,{fullWidth:!0,required:!0,name:"box_size",value:this.state.box_size,variant:"outlined",label:"Box Size",type:"number",onChange:function(t){e.setState({box_size:t.target.value});var a=ua(t),n=a.status,i=a.msg,o=a.isValid;e.setState((function(e){e.fieldError.box_size.status=n,e.fieldError.box_size.msg=i,e.isValid=o}))},error:this.state.fieldError.box_size.status,helperText:this.state.fieldError.box_size.msg})),i.a.createElement(m.a,{style:ma.box_field},i.a.createElement(X.a,{fullWidth:!0,value:this.state.description,variant:"outlined",label:"Description",type:"text",onChange:function(t){e.setState({description:t.target.value});var a=ua(t),n=a.status,i=a.msg,o=a.isValid;e.setState((function(e){e.fieldError.description.status=n,e.fieldError.description.msg=i,e.isValid=o}))},error:this.state.fieldError.description.status,helperText:this.state.fieldError.description.msg}))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",disabled:!this.state.isValid,onClick:this.onAddHandler},this.state.status))))}}]),t}(n.Component),ga=ie,ha=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={_id:"",box_name:"",box_size:"",description:"",errors:[],status:"Add",fieldError:{box_name:{status:!1,msg:""},box_size:{status:!1,msg:""},description:{status:!1,msg:""}},isValid:!1},a.onEditHandler=function(){a.setState({}),""===a.state.box_name?a.setState((function(e){e.fieldError.box_name.status=!0,e.fieldError.box_name.msg="Name required"})):a.state.box_size<=0?a.setState((function(e){e.fieldError.box_size.status=!0,e.fieldError.box_size.msg="Enter a positive value"})):K.a.post("/boxes/edit-box",{_id:a.state._id,box_name:a.state.box_name,box_size:a.state.box_size,description:a.state.description}).then((function(e){a.setState({status:"Update"}),console.log(e),e.data.errors&&(e.data.errors.length>0?(console.log(e.data.errors),a.setState({errors:Object(Q.a)(e.data.errors)})):a.props.cancel())})).catch((function(e){return console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){oe(this.props.props,"Manage Boxes")&&(console.log(this.props),""===this.state.box_name&&this.setState({box_name:this.props.Box.box_name,box_size:this.props.Box.box_size,description:this.props.Box.description,_id:this.props.Box._id}))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:ga.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Edit Box"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:ga.box_msg,bgcolor:"#f73067",key:t},e)})):null,i.a.createElement(ne,null,i.a.createElement(m.a,{style:ga.box_field},i.a.createElement(X.a,{name:"box_name",fullWidth:!0,required:!0,value:this.state.box_name,variant:"outlined",label:"Box Name",type:"text",onChange:function(t){e.setState({box_name:t.target.value});var a=ua(t),n=a.status,i=a.msg,o=a.isValid;e.setState((function(e){e.fieldError.box_name.status=n,e.fieldError.box_name.msg=i,e.isValid=o}))},error:this.state.fieldError.box_name.status,helperText:this.state.fieldError.box_name.msg})),i.a.createElement(m.a,{style:ga.box_field},i.a.createElement(X.a,{fullWidth:!0,required:!0,name:"box_size",value:this.state.box_size,variant:"outlined",label:"Box Size",type:"number",onChange:function(t){e.setState({box_size:t.target.value});var a=ua(t),n=a.status,i=a.msg,o=a.isValid;e.setState((function(e){e.fieldError.box_size.status=n,e.fieldError.box_size.msg=i,e.isValid=o}))},error:this.state.fieldError.box_size.status,helperText:this.state.fieldError.box_size.msg})),i.a.createElement(m.a,{style:ga.box_field},i.a.createElement(X.a,{fullWidth:!0,required:!0,value:this.state.description,variant:"outlined",label:"Description",type:"text",onChange:function(t){e.setState({description:t.target.value});var a=ua(t),n=a.status,i=a.msg,o=a.isValid;e.setState((function(e){e.fieldError.description.status=n,e.fieldError.description.msg=i,e.isValid=o}))},error:this.state.fieldError.description.status,helperText:this.state.fieldError.description.msg}))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",disabled:!this.state.isValid,onClick:this.onEditHandler},this.state.status))))}}]),t}(n.Component),fa=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).EditData={},a.state={columns:[{title:"ID",field:"id"},{title:"Box Name",field:"box_name"},{title:"Box Size",field:"box_size"},{title:"Description",field:"description"}],data:[],openAdd:!1,openEdit:!1},a.OnEditHandler=function(e,t){console.log(t._id),K.a.post("/boxes/box",{_id:t._id}).then((function(e){console.log(e.data),a.EditData=Object(F.a)({},e.data.box[0]),console.log(a.EditData),a.setState({openEdit:!0})}))},a.handleClose=function(){K.a.get("/boxes/boxes").then((function(e){console.log(e.data.Boxes);for(var t=0;t<e.data.Boxes.length;t++)e.data.Boxes[t].id=t+1;a.setState({data:Object(Q.a)(e.data.Boxes)})}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){oe(this.props,"Manage Boxes")&&this.handleClose()}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Manage Boxes"),i.a.createElement(m.a,{width:"90%",display:"flex",flexDirection:"row"},i.a.createElement(M.a,{variant:"contained",color:"primary",style:{marginBottom:"20px",display:"flex",marginRight:"10px"},size:"large",onClick:function(){e.setState({openAdd:!0})}},"Add")),i.a.createElement(V.a,{title:" ",columns:this.state.columns,data:this.state.data,style:{width:"90%",maxHeight:"500px",overflow:"auto"},options:{sorting:!0,headerStyle:{backgroundColor:"#3f51b5",color:"#FFF"}},actions:[{icon:"edit",tooltip:"Edit",onClick:function(t,a){e.OnEditHandler(t,a)}}],editable:{onRowDelete:function(t){return K.a.post("/boxes/delete-box",{_id:t._id}).then((function(a){console.log(a),a&&e.setState((function(e){var a=Object(Q.a)(e.data);return a.splice(a.indexOf(t),1),Object(F.a)({},e,{data:a})}))}))}},onRowClick:function(t,a){e.OnEditHandler(t,a)}}),i.a.createElement(J.a,{open:this.state.openAdd,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,{style:{padding:"20px"}},i.a.createElement(pa,{cancel:function(){e.setState({openAdd:!1}),e.handleClose()}}))),i.a.createElement(J.a,{open:this.state.openEdit,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,{style:{padding:"20px"}},i.a.createElement(ha,{Box:this.EditData,props:this.props,cancel:function(){e.setState({openEdit:!1}),e.handleClose()}}))))}}]),t}(n.Component),_a=a(53),ya=function(){return i.a.createElement(m.a,{style:{width:"100%"}},i.a.createElement(_a.b,{exact:!0,path:"/home/management/manage-employees",component:_e}),i.a.createElement(_a.b,{path:"/home/management/manage-users",component:ve}),i.a.createElement(_a.b,{exact:!0,path:"/home/management/manage-roles",component:We}),i.a.createElement(_a.b,{exact:!0,path:"/home/management/manage-shifts",component:Ue}),i.a.createElement(_a.b,{exact:!0,path:"/home/management/manage-countries",component:$e}),i.a.createElement(_a.b,{exact:!0,path:"/home/management/manage-states",component:Ve}),i.a.createElement(_a.b,{exact:!0,path:"/home/management/manage-cities",component:lt}),i.a.createElement(_a.b,{exact:!0,path:"/home/management/manage-measuring-units",component:mt}),i.a.createElement(_a.b,{exact:!0,path:"/home/management/manage-material-types",component:yt}),i.a.createElement(_a.b,{exact:!0,path:"/home/management/manage-raw-materials",component:St}),i.a.createElement(_a.b,{exact:!0,path:"/home/management/manage-work-locations",component:kt}),i.a.createElement(_a.b,{exact:!0,path:"/home/management/manage-products",component:Tt}),i.a.createElement(_a.b,{exact:!0,path:"/home/management/manage-production-units",component:It}),i.a.createElement(_a.b,{exact:!0,path:"/home/management/manage-departments",component:Ft}),i.a.createElement(_a.b,{exact:!0,path:"/home/management/manage-vendors",component:$t}),i.a.createElement(_a.b,{exact:!0,path:"/home/management/manage-distributors",component:ia}),i.a.createElement(_a.b,{exact:!0,path:"/home/management/manage-designations",component:da}),i.a.createElement(_a.b,{exact:!0,path:"/home/management/manage-boxes",component:fa}))},ba=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={dashboardItems:[],width:"17vw"},a.permissions=JSON.parse(sessionStorage.getItem("permissions")),a.contents=["Manage Employees","Manage Users","Manage Roles","Manage Products","Manage Raw Materials","Manage Vendors","Manage Distributors","Manage Countries","Manage States","Manage Cities","Manage Work Locations","Manage Shifts","Manage Measuring Units","Manage Material Types","Manage Departments","Manage Production Units","Manage Designations","Manage Boxes"],a.logout=function(){E.logout()&&a.props.history.push("/")},a.home=function(){a.props.history.push("/home")},a.dashboardMin=function(){a.setState({width:".1px"})},a.dashboardMax=function(){a.setState({width:"17vw"})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.contents.map((function(t){if(e.permissions.find((function(e){return e===t}))){var a=t.toLowerCase().replace(/ /g,"-");e.setState({}),e.setState((function(e){e.dashboardItems.push({Name:t,Path:a})}))}return null}))}},{key:"render",value:function(){return i.a.createElement(m.a,null,i.a.createElement(B,{name:"Management",logout:this.logout,home:this.home,dashboardMax:this.dashboardMax,dashboardMin:this.dashboardMin}),i.a.createElement(m.a,{display:"flex"},i.a.createElement(b,{items:this.state.dashboardItems,componentName:"home/management",width:this.state.width,dashboardMin:this.dashboardMin}),i.a.createElement(m.a,{display:"flex",flexDirection:"column",alignItems:"center",width:"100%",marginTop:"10px"},i.a.createElement(ya,null))))}}]),t}(i.a.Component),Ea=a(572),xa=a.n(Ea),va=a(573),Sa=a.n(va),Ca={box:{display:"flex",width:"100%",alignItems:"center",justifyContent:"center",marginBottom:"20px"}},wa=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={user_name:"",password:"",success:!1,errors:[]},a.login=function(){K.a.post("/users/login",{name:a.state.user_name,password:a.state.password}).then((function(e){e.data.name===a.state.user_name?(console.log("User: ",e.data),sessionStorage.setItem("User Name",e.data.name),sessionStorage.setItem("User ID",e.data.employee_id?e.data.employee_id:"not specified"),console.log("User ID: ",sessionStorage.getItem("User ID")),sessionStorage.setItem("Role ID",e.data.role),E.login(e.data.name===a.state.user_name),K.a.post("roles/role",{_id:e.data.role}).then((function(e){var t=[];console.log(e.data),e.data.Role[0].permissions.map((function(e){return t.push(e.name),null})),sessionStorage.setItem("permissions",JSON.stringify(t)),a.props.history.push("/home")})).catch((function(e){console.log(e),a.setState({errors:["Problem in user. Contact Administrator"]})}))):(console.log(e.data.message),a.setState({errors:e.data.message}))})).catch((function(e){a.setState({errors:["Could not reach the server"]}),console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){E.logout(),this.props.history.location.state&&this.props.history.location.state.Errors[0]&&this.setState({errors:this.props.history.location.state.Errors})}}]),Object(s.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{flexDirection:"column",height:"100vh",bgcolor:"#3f51b5",style:Ca.box},i.a.createElement(m.a,{width:"30vw"},i.a.createElement(ne,null,i.a.createElement(m.a,{style:{fontWeight:"bolder",color:"#3f51b5"},fontSize:"3vw",mb:3},"Login"),i.a.createElement(m.a,{style:Ca.box},i.a.createElement(xa.a,{style:{fontSize:"40px",marginRight:"10px"},color:"primary"}),i.a.createElement(X.a,{color:"primary",size:"small",fullWidth:!0,required:!0,variant:"outlined",label:"User Name",type:"text",onChange:function(t){e.setState({user_name:t.target.value})},onKeyPress:function(t){"Enter"===t.key&&e.login()}})),i.a.createElement(m.a,{style:Ca.box},i.a.createElement(Sa.a,{style:{fontSize:"40px",marginRight:"10px"},color:"primary"}),i.a.createElement(X.a,{size:"small",variant:"outlined",fullWidth:!0,label:"Password",required:!0,type:"password",onChange:function(t){e.setState({password:t.target.value})},onKeyPress:function(t){"Enter"===t.key&&e.login()}})),i.a.createElement(M.a,{variant:"contained",size:"large",color:"primary",onClick:function(){e.login()}},"Login"),this.state.errors.length>0?this.state.errors.map((function(e,t){return null!=e?i.a.createElement(m.a,{key:t,bgcolor:"#f73067",marginTop:"10px",padding:"10px",width:"90%",textAlign:"center"},e):i.a.createElement(m.a,{key:t})})):i.a.createElement(m.a,null))))}}]),t}(n.Component),Da=a(590),Ma=function(e){var t=e.component,a=Object(Da.a)(e,["component"]);return i.a.createElement(_a.b,Object.assign({},a,{render:function(e){return E.isAuthenticated()?i.a.createElement(t,e):i.a.createElement(_a.a,{to:{pathname:"/",state:{from:e.location,Errors:["Please Login to get access"]}}})}}))},ka=a(933),ja={box_field:{display:"flex",width:"100%",alignItems:"center",justifyContent:"center",marginBottom:"20px"},box:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",height:"80%"},box_msg:{marginBottom:"10px",padding:"10px",width:"90%",textAlign:"center",fontSize:"15px",textTransform:"uppercase "},icons:{fontSize:"40px",marginRight:"10px"},root:{display:"flex",flexDirection:"column",justifyContent:"center",width:"100%"},heading:{display:"flex",justifyContent:"center",width:"100%",paddingTop:"15px",paddingBottom:"25px"},lbox:{display:"flex",flexDirection:"row",justifyContent:"center",width:"100%"},form:{display:"flex",flexDirection:"column",width:"90%",justifyContent:"space-around"},boxSize2:{display:"flex",flexDirection:"row",alignContent:"center",paddingTop:"5px",paddingLeft:"5px",paddingRight:"5px",paddingBottom:"5px",minWidth:"10%",maxWidth:"100%"},lastboxSize2:{display:"flex",flexDirection:"row",alignContent:"center",paddingTop:"5px",paddingLeft:"15px",paddingRight:"15px",paddingBottom:"20px"},addbtns:{display:"flex",alignSelf:"center",paddingLeft:"10px",paddingRight:"10px"},addbtnl:{display:"flex",alignSelf:"flex-end",paddingLeft:"10px",paddingRight:"10px"},submit:{display:"flex",justifyContent:"flex-end",paddingTop:"20px",paddingBottom:"10px",marginRight:"60px",alignSelf:"flex-end"},add:{display:"flex",justifyContent:"flex-start",paddingTop:"20px",paddingBottom:"10px",marginRight:"60px",alignSelf:"flex-start"},paper:{overflow:"auto",width:"100%"},table:{overflow:"auto"},link:{backgroundColor:"white",display:"flex",alignItems:"center",borderRadius:"5px",color:"black",fontSize:"20px",fontWeight:"bold"}},Oa=a(575),Ra=a.n(Oa),Wa=a(574),Ia=a.n(Wa),za=a(931),Pa=a(932),qa=Object(g.a)({root:{minWidth:275},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12}}),Ua=function(e){var t=Object(n.useState)(e.data),a=Object(v.a)(t,1)[0],o=Object(n.useState)([]),l=Object(v.a)(o,2),r=l[0],s=l[1];Object(n.useEffect)((function(){var e=0;a.map((function(t){return console.log(t.Address.From),K.a.post("/roles/role",{_id:t.Address.From}).then((function(n){t.Address.From_Name=n.data.Role[0].role_name,console.log(n.data.Role[0].role_name),console.log("i: ",e,"logs.length: ",a.length),e===a.length-1?(s(a),console.log("if: ",r)):e++})),null})),console.log("out if: ",r)}),[r,a]);var c=qa();return i.a.createElement(m.a,{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Request Log"),i.a.createElement(m.a,{display:"flex",width:"100%",flexDirection:"column",alignItems:"center",bgcolor:"#d6f2ff",maxHeight:"500px",overflow:"auto"},r.map((function(e,t){var a=e.Address.From===sessionStorage.getItem("Role ID")?"#ccffd2":"white";return i.a.createElement(m.a,{key:t,display:"flex",alignItems:e.Address.From===sessionStorage.getItem("Role ID")?"flex-end":"flex-start",padding:"5px",width:"90%",flexDirection:"column"},i.a.createElement(za.a,{className:c.root,style:{color:"red",backgroundColor:"".concat(a),width:"40%"}},i.a.createElement(Pa.a,null,i.a.createElement(w.a,{className:c.title,color:"textSecondary",gutterBottom:!0},e.Address.From_Name," To ",e.Address.To),i.a.createElement(w.a,{className:c.pos,color:"textSecondary"},new de.a(e.Entry_Date).format("DD-MM-YYYY HH:m:s")),i.a.createElement(w.a,{variant:"body2",component:"p"},e.Comments))))}))))},Ta=ja,Aa={marginRight:"6px",marginLeft:"6px"},Na=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={_id:"",Raw_Material_Id:"",Raw_Material_Code:"",Quantity:"",Measuring_Unit:"",Priority:"",Due_Date:null,Status:"",Comments:"",Total_Price:"",Vendor:"",errors:[],success:!1,measuring_units:[],materials:[],vendors:[],code:"",to:"",quotation:"",openLog:!1,logs:[],disabled:!1,label:"Submit"},a.onEditHandler=function(){a.setState({disabled:!0,label:"wait..."}),K.a.post("/logs/comment",{logs:{reqId:e.Purchase._id,from:sessionStorage.getItem("Role ID"),to:a.state.to,comments:a.state.Comments}}).then((function(e){console.log("Comments: ",e),e.data.errors.length>0?a.setState({errors:Object(Q.a)(e.data.errors),disabled:!1,label:"Submit"}):K.a.post("/request-details/request-detail-edit",{_id:a.state._id,Quantity:a.state.Quantity,Measuring_Unit:a.state.Measuring_Unit,Status:a.state.Status,Vendor:a.state.Vendor,Comments:a.state.Comments,Total_Price:a.state.Total_Price}).then((function(t){console.log(t.data),e.data.errors.length>0?a.setState({errors:Object(Q.a)(e.data.errors),disabled:!1,label:"Submit"}):a.props.close()}))})).catch((function(e){return console.log(e)}))},a.loadStatus=function(){return["ForwardedToPurchase","ForwardedToFinance","Rejected"].map((function(e,t){return i.a.createElement(W.a,{key:t,value:e},e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;console.log("Props: ",this.props.Purchase),K.a.get("/raw-materials/raw-materials").then((function(t){console.log(t),e.setState((function(e){e.materials=Object(Q.a)(t.data.RawMaterials)})),e.setState({Raw_Material_Id:e.props.Purchase.Raw_Material_Id,Raw_Material_Code:e.props.Purchase.Raw_Material_Code})})),K.a.get("/vendors/vendors").then((function(t){console.log(t),e.setState((function(e){e.vendors=Object(Q.a)(t.data.Vendors)})),e.setState({Vendor:e.props.Purchase.Vendor})})),K.a.get("/measuring-units/measuring-units").then((function(t){console.log(t),e.setState((function(e){e.measuring_units=Object(Q.a)(t.data.MeasuringUnits)})),e.setState({Measuring_Unit:e.props.Purchase.Measuring_Unit})})),console.log("PProps: ",this.props.Purchase.Quotation_Document_URL[0]),this.setState({_id:this.props.Purchase._id,Quantity:this.props.Purchase.Quantity,Priority:this.props.Purchase.Priority,Due_Date:this.props.Purchase.Due_Date,Comments:this.props.Purchase.Comments,Total_Price:this.props.Purchase.Total_Price?this.props.Purchase.Total_Price:"",quotation:"/uploads/".concat(this.props.Purchase.Quotation_Document_URL)})}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:Ta.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Request Details"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:Ta.box_msg,bgcolor:"#f73067",key:t},e)})):!0===this.state.success?i.a.createElement(m.a,{bgcolor:"#3df45b",style:Ta.box_msg},"Successful"):null,i.a.createElement(m.a,{style:Ta.root},i.a.createElement(m.a,{display:"flex",justifyContent:"center"},i.a.createElement(m.a,{style:Ta.lbox},i.a.createElement(m.a,{style:Ta.form},i.a.createElement(m.a,{style:Ta.boxSize2},i.a.createElement(m.a,{width:"50%",style:Aa},i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Material Name"),i.a.createElement(ee.a,{disabled:!0,variant:"outlined",required:!0,name:"Raw_Material_Id",value:this.state.Raw_Material_Id,onChange:function(t){var a;e.state.materials.map((function(e){return e._id===t.target.value&&(a=e.raw_material_code,console.log("code: ",a)),null})),e.setState({Raw_Material_Id:t.target.value,Raw_Material_Code:a})}},this.state.materials.map((function(e,t){return i.a.createElement(W.a,{key:t,value:e._id},e.raw_material_name)}))))),i.a.createElement(m.a,{width:"50%",style:Aa},i.a.createElement(X.a,{disabled:!0,size:"small",fullWidth:!0,variant:"outlined",label:"Material_Code",required:!0,name:"Material_Code",value:this.state.Raw_Material_Code,onChange:function(t){e.setState({Material_Code:t.target.value}),console.log(t.target.value)}}))),i.a.createElement(m.a,{style:Ta.boxSize2},i.a.createElement(m.a,{width:"50%",style:Aa},i.a.createElement(X.a,{disabled:this.props.disabled.quantity,size:"small",fullWidth:!0,variant:"outlined",label:"Quantity",required:!0,name:"Quantity",value:this.state.Quantity,onChange:function(t){e.setState({Quantity:t.target.value})}})),i.a.createElement(m.a,{width:"50%",style:Aa},i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Measuring Unit"),i.a.createElement(ee.a,{disabled:this.props.disabled.unit,name:"Measuring_Unit",variant:"outlined",required:!0,value:this.state.Measuring_Unit,onChange:function(t){e.setState({Measuring_Unit:t.target.value}),console.log(t.target.value)}},this.state.measuring_units.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.measuring_unit_name)})))))),i.a.createElement(m.a,{style:Ta.boxSize2},i.a.createElement(m.a,{width:"50%",style:Aa},i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Vendor Name"),i.a.createElement(ee.a,{disabled:this.props.disabled.vendor,variant:"outlined",required:!0,name:"Vendor",value:this.state.Vendor,onChange:function(t){e.setState({Vendor:t.target.value})}},this.state.vendors.map((function(e,t){return i.a.createElement(W.a,{key:t,value:e._id},e.vendor_name)}))))),i.a.createElement(m.a,{width:"50%",style:Aa},i.a.createElement(X.a,{disabled:this.props.disabled.vendor,size:"small",fullWidth:!0,variant:"outlined",label:"Total_Price",required:!0,name:"Total_Price",value:this.state.Total_Price,onChange:function(t){e.setState({Total_Price:t.target.value})}}))),i.a.createElement(m.a,{style:Ta.boxSize2},i.a.createElement(m.a,{width:"50%",style:Aa},i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Priority"),i.a.createElement(ee.a,{disabled:!0,variant:"outlined",required:!0,name:"Priority",value:this.state.Priority,onChange:function(t){e.setState({Priority:t.target.value})}},i.a.createElement(W.a,{value:"Priority",disabled:!0},"Priority"),i.a.createElement(W.a,{value:"Low"},"Low"),i.a.createElement(W.a,{value:"Medium"},"Medium"),i.a.createElement(W.a,{value:"High"},"High")))),i.a.createElement(m.a,{width:"50%",style:Aa},i.a.createElement(ue,{disabled:!0,id:"4",variant:"outlined",Name:"Due_Date",minDate:new Date,value:this.state.Due_Date,setDate:function(t){e.setState({Due_Date:t}),console.log(t)}}))),i.a.createElement(m.a,{style:Ta.boxSize2},i.a.createElement(m.a,{width:"100%",style:Aa},i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Status"),i.a.createElement(ee.a,{disabled:this.props.disabled.status,variant:"outlined",required:!0,name:"Status",value:this.state.Status,onChange:function(t){e.setState({Status:t.target.value}),"ForwardedToFinance"===t.target.value?e.setState((function(e){e.to="Finance"})):"ForwardedToPurchase"===t.target.value?e.setState((function(e){e.to="Purchase"})):e.setState((function(e){e.to="Rejected"})),console.log(e.state.to)}},this.loadStatus()))),i.a.createElement(m.a,{width:"100%",style:Aa,display:"flex",justifyContent:"space-between"},i.a.createElement(m.a,{display:"flex",width:"85%"},i.a.createElement(X.a,{disabled:this.props.disabled.comment,size:"small",multiline:!0,rowsMax:"3",variant:"outlined",fullWidth:!0,label:"Comments",value:this.state.Comments,onChange:function(t){e.setState({Comments:t.target.value})}})),i.a.createElement(m.a,{display:"flex"},i.a.createElement(M.a,{variant:"outlined",color:"secondary",size:"small",fontWeight:"Bold",onClick:function(){K.a.post("/logs/logs",{Request_Id:e.state._id}).then((function(t){console.log(t.data),e.setState({logs:t.data}),e.setState({openLog:!0})}))}},i.a.createElement(Ia.a,null))))))))),i.a.createElement(m.a,{pt:2,pb:2,m:0,display:"flex",justifyContent:"space-between",width:"88%"},i.a.createElement(m.a,{display:"flex"},null!==this.props.Purchase.Quotation_Document_URL[0]?i.a.createElement(ka.a,{style:Ta.link,href:this.state.quotation,target:"_blank",rel:"noreferrer"},i.a.createElement(Ra.a,{color:"secondary"}),"Quotation"):null),i.a.createElement(m.a,{display:"flex",alignSelf:"flex-end"},i.a.createElement(m.a,null,i.a.createElement(M.a,{variant:"contained",color:"primary",size:"large",fontWeight:"Bold",onClick:function(){e.props.cancel()},style:{fontWeight:"bold"}},this.props.disabled.btnText)),i.a.createElement(m.a,{marginLeft:"10px"},i.a.createElement(M.a,{disabled:this.state.disabled,variant:"contained",color:"primary",size:"large",fontWeight:"bold",onClick:this.onEditHandler,style:{fontWeight:"bold"}},this.state.label)),i.a.createElement(J.a,{open:this.state.openLog,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,null,i.a.createElement(Ua,{data:this.state.logs,cancel:function(){e.setState({openLog:!1}),e.handleClose()}}),i.a.createElement(m.a,{width:"95%",display:"flex",justifyContent:"flex-end",marginTop:"20px"},i.a.createElement(M.a,{variant:"contained",color:"primary",size:"large",onClick:function(){e.setState({openLog:!1})}},"Close")))))))}}]),t}(n.Component),Ba=ja,La={marginRight:"6px",marginLeft:"6px"},Qa=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={file:null,_id:"",Raw_Material_Id:"",Raw_Material_Code:"",Quantity:"",Measuring_Unit:"",Priority:"",Due_Date:null,Status:"",Comments:"",Total_Price:"",Vendor:"",errors:[],success:!1,measuring_units:[],materials:[],vendors:[],code:"",to:""},a.onUploadHandler=function(){var e=new FormData;console.log(a.state.file),a.state.file?(e.append("file",a.state.file),K.a.post("/request-details/upload",e,{headers:{"content-type":"multipart/form-data"}}).then((function(e){e.data&&a.onAddHandler(e.data)})).catch((function(e){console.error(e)}))):(a.setState({}),a.setState((function(e){e.errors.push("Choose a file")})),console.log(a.state.errors))},a.onAddHandler=function(e){console.log("Add:",e),K.a.post("/request-details/request-detail-add",{Raw_Material_Id:a.state.Raw_Material_Id,Raw_Material_Code:a.state.Raw_Material_Code,Quantity:a.state.Quantity,Measuring_Unit:a.state.Measuring_Unit,Priority:a.state.Priority,Due_Date:a.state.Due_Date,Status:a.state.Status,Comments:a.state.Comments,Quotation_Document_URL:[e.filePath],Vendor:a.state.Vendor,Total_Price:a.state.Total_Price,Created_By:{Employee_Id:sessionStorage.getItem("User ID"),Role_Id:sessionStorage.getItem("Role ID")},logs:{from:sessionStorage.getItem("Role ID"),to:a.state.to,comments:a.state.Comments}}).then((function(e){console.log(e.data),e.data.errors.length>0?a.setState({errors:Object(Q.a)(e.data.errors)}):(a.setState({errors:Object(Q.a)(e.data.errors)}),a.props.close())})).catch((function(e){console.log(e)}))},a.loadStatus=function(){return["ForwardedToPurchase","ForwardedToFinance","Rejected"].map((function(e,t){return i.a.createElement(W.a,{key:t,value:e},e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;K.a.get("/raw-materials/raw-materials").then((function(t){console.log(t),e.setState({materials:Object(Q.a)(t.data.RawMaterials)})})),K.a.get("/vendors/vendors").then((function(t){console.log(t),e.setState({vendors:Object(Q.a)(t.data.Vendors)})})),K.a.get("/measuring-units/measuring-units").then((function(t){console.log(t),e.setState({measuring_units:Object(Q.a)(t.data.MeasuringUnits)})}))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:Ba.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Request Details"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:Ba.box_msg,bgcolor:"#f73067",key:t},e)})):!0===this.state.success?i.a.createElement(m.a,{bgcolor:"#3df45b",style:Ba.box_msg},"Successful"):null,i.a.createElement(m.a,{style:Ba.root},i.a.createElement(m.a,{display:"flex",justifyContent:"center"},i.a.createElement(m.a,{style:Ba.lbox},i.a.createElement(m.a,{style:Ba.form},i.a.createElement(m.a,{style:Ba.boxSize2},i.a.createElement(m.a,{width:"50%",style:La},i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Material Name"),i.a.createElement(ee.a,{variant:"outlined",required:!0,name:"Raw_Material_Id",value:this.state.Raw_Material_Id,onChange:function(t){var a;e.state.materials.map((function(e){return e._id===t.target.value&&(a=e.raw_material_code,console.log("code: ",a)),null})),e.setState({Raw_Material_Id:t.target.value,Raw_Material_Code:a})}},this.state.materials.map((function(e,t){return i.a.createElement(W.a,{key:t,value:e._id},e.raw_material_name)}))))),i.a.createElement(m.a,{width:"50%",style:La},i.a.createElement(X.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Material_Code",required:!0,name:"Material_Code",value:this.state.Raw_Material_Code,onChange:function(t){e.setState({Material_Code:t.target.value}),console.log(t.target.value)}}))),i.a.createElement(m.a,{style:Ba.boxSize2},i.a.createElement(m.a,{width:"50%",style:La},i.a.createElement(X.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Quantity",required:!0,name:"Quantity",value:this.state.Quantity,onChange:function(t){e.setState({Quantity:t.target.value})}})),i.a.createElement(m.a,{width:"50%",style:La},i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Measuring Unit"),i.a.createElement(ee.a,{name:"Measuring_Unit",variant:"outlined",required:!0,value:this.state.Measuring_Unit,onChange:function(t){e.setState({Measuring_Unit:t.target.value}),console.log(t.target.value)}},this.state.measuring_units.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.measuring_unit_name)})))))),i.a.createElement(m.a,{style:Ba.boxSize2},i.a.createElement(m.a,{width:"50%",style:La},i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Priority"),i.a.createElement(ee.a,{variant:"outlined",required:!0,name:"Priority",value:this.state.Priority,onChange:function(t){e.setState({Priority:t.target.value})}},i.a.createElement(W.a,{value:"Priority",disabled:!0},"Priority"),i.a.createElement(W.a,{value:"Low"},"Low"),i.a.createElement(W.a,{value:"Medium"},"Medium"),i.a.createElement(W.a,{value:"High"},"High")))),i.a.createElement(m.a,{width:"50%",style:La},i.a.createElement(ue,{id:"4",variant:"outlined",Name:"Due_Date",minDate:new Date,value:this.state.Due_Date,setDate:function(t){e.setState({Due_Date:t}),console.log(t)}}))),i.a.createElement(m.a,{style:Ba.boxSize2},i.a.createElement(m.a,{width:"100%",style:La},i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Status"),i.a.createElement(ee.a,{variant:"outlined",required:!0,name:"Status",value:this.state.Status,onChange:function(t){e.setState({Status:t.target.value}),"ForwardedToFinance"===t.target.value?e.setState((function(e){e.to="Finance"})):"ForwardedToPurchase"===t.target.value?e.setState((function(e){e.to="Purchase"})):e.setState((function(e){e.to="Rejected"})),console.log(e.state.to)}},this.loadStatus()))),i.a.createElement(m.a,{width:"100%",style:La},i.a.createElement(X.a,{size:"small",multiline:!0,rowsMax:"3",variant:"outlined",fullWidth:!0,label:"Comments",value:this.state.Comments,onChange:function(t){e.setState({Comments:t.target.value}),console.log(t.target.value)}}))),i.a.createElement(m.a,{style:{display:"flex",flexDirection:"column",alignContent:"center",paddingTop:"5px",paddingLeft:"5px",paddingRight:"5px",paddingBottom:"5px",minWidth:"10%"}},"ForwardedToFinance"===this.state.Status?i.a.createElement(i.a.Fragment,null,i.a.createElement(m.a,{style:Ba.boxSize2},i.a.createElement(m.a,{width:"50%",marginRight:"10px"},i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Vendor Name"),i.a.createElement(ee.a,{variant:"outlined",required:!0,name:"Vendor",value:this.state.Vendor,onChange:function(t){e.setState({Vendor:t.target.value})}},this.state.vendors.map((function(e,t){return i.a.createElement(W.a,{key:t,value:e._id},e.vendor_name)}))))),i.a.createElement(m.a,{width:"50%"},i.a.createElement(X.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Total_Price",required:!0,name:"Total_Price",value:this.state.Total_Price,onChange:function(t){e.setState({Total_Price:t.target.value})}}))),i.a.createElement(m.a,{style:Ba.boxSize2},i.a.createElement(m.a,{fontWeight:"bold",fontSize:"1.2vw",mb:1,ml:2,mt:1,display:"flex"},"Add Quotation"),i.a.createElement(m.a,{width:"30%",style:La},i.a.createElement("input",{multiple:!0,id:"file",type:"file",onChange:function(t){console.log(t.target.files[0]),e.setState({file:t.target.files[0]}),console.log(e.state.file)}})))):null))))),i.a.createElement(m.a,{pt:2,pb:2,m:0,display:"flex",justifyContent:"flex-end",width:"87%"},i.a.createElement(m.a,{display:"flex"},i.a.createElement(M.a,{variant:"contained",color:"primary",size:"large",fontWeight:"Bold",onClick:function(){e.props.cancel()},style:{fontWeight:"bold"}},"Cancel")),i.a.createElement(m.a,{marginLeft:"10px"},i.a.createElement(M.a,{variant:"contained",color:"primary",size:"large",fontWeight:"bold",onClick:"ForwardedToFinance"===this.state.Status?this.onUploadHandler:this.onAddHandler,style:{fontWeight:"bold"}},"Submit"))))}}]),t}(n.Component),Fa=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).EditData={},a.req=[],a.state={columns:[{title:"Material",field:"Raw_Material_Name"},{title:"Quantity",field:"Quantity"},{title:"Measuring Unit",field:"Measuring_Unit_Name"},{title:"Vendor",field:"Vendor_Name"},{title:"Total Price",field:"Total_Price"},{title:"Priority",field:"Priority"},{title:"Status",field:"Status"}],data:[],openAdd:!1,openEdit:!1,openAll:!1,alert:!1,fieldDisabled:{quantity:!1,unit:!1,vendor:!1,amount:!1,status:!1,comment:!1,btnDisplay:"none",btnText:"Close"},found:!1,msg:"Fetching Data..."},a.closeAlert=function(){a.setState({alert:!1})},a.OnEditHandler=function(e,t){K.a.post("/request-details",{_id:t._id}).then((function(e){console.log(e.data[0]),a.EditData=Object(F.a)({},e.data[0]),console.log(a.EditData),a.setState({openEdit:!0})}))},a.loadRawMaterial=function(e){K.a.post("/raw-materials/raw-material",{_id:e.Raw_Material_Id}).then((function(t){e.Raw_Material_Name=t.data.RawMaterial[0].raw_material_name,a.req.push(e),a.setState({data:Object(Q.a)(a.req),msg:"No Data Found!"})})).catch((function(t){e.Raw_Material_Name="Problem Loading Raw Material",a.req.push(e),a.setState({data:Object(Q.a)(a.req),msg:"No Data Found!"})}))},a.loadMeasuringUnit=function(e){K.a.post("/measuring-units/measuring-unit",{_id:e.Measuring_Unit}).then((function(t){e.Measuring_Unit_Name=t.data.MeasuringUnit[0].measuring_unit_name,a.loadRawMaterial(e)})).catch((function(t){e.Measuring_Unit_Name="Problem Loading Measuring Unit",a.loadRawMaterial(e)}))},a.loadVendor=function(e){K.a.post("/vendors/vendor",{_id:e.Vendor}).then((function(t){e.Vendor_Name=t.data.Vendor[0].vendor_name,a.loadMeasuringUnit(e)})).catch((function(t){e.Vendor_Name="Problem Loading Vendor",a.loadMeasuringUnit(e)}))},a.handleClose=function(){a.req=[],a.setState({msg:"Fetching Data..."}),K.a.get("/request-details").then((function(e){void 0!==e.data[0]?e.data.map((function(e){return a.props.load?("Completed"!==e.Status&&(a.loadVendor(e),a.setState({found:!0})),a.state.found?a.setState({msg:"Loading...."}):a.setState({msg:"No data Found!"})):(console.log("1: ".concat(e.Created_By.Role_Id," 2:").concat(sessionStorage.getItem("Role ID"))),"ForwardedToAdmin"!==e.Status&&e.Created_By.Role_Id!==sessionStorage.getItem("Role ID")||(a.setState({found:!0}),a.loadVendor(e)),a.state.found?a.setState({msg:"Loading...."}):a.setState({msg:"No data Found!"})),a.setState({data:Object(Q.a)(a.req)}),a.setState({openEdit:!1,openAdd:!1}),null})):a.setState({msg:"No data Found!"})}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.handleClose()}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",mb:3,fontWeight:"bold"},"Request Details"),this.props.load?null:i.a.createElement(m.a,{width:"90%",display:"flex",flexDirection:"row"},i.a.createElement(M.a,{variant:"contained",color:"primary",style:{marginBottom:"20px",display:"flex",marginRight:"10px"},size:"large",onClick:function(){e.setState({openAdd:!0})}},"Add"),i.a.createElement(M.a,{variant:"contained",color:"primary",style:{marginBottom:"20px",display:"flex",marginRight:"10px"},size:"large",onClick:function(){e.setState({openAll:!0})}},"All Requests")),i.a.createElement(V.a,{title:" ",columns:this.state.columns,data:this.state.data,style:{width:"90%",maxHeight:"500px",overflow:"auto"},localization:{body:{emptyDataSourceMessage:this.state.msg}},options:{sorting:!0,headerStyle:{backgroundColor:"#3f51b5",color:"#FFF",fontSize:"medium",fontWeight:"bold"}},actions:[{icon:"edit",tooltip:"Edit User",onClick:function(t,a){"ForwardedToAdmin"===a.Status||"ForwardedToFinance"===a.Status||"ForwardedToPurchase"===a.Status||"Requesting"===a.Status||"Rejected"===a.Status||"Finance-Accepted"===a.Status?(e.setState({fieldDisabled:{quantity:!1,unit:!1,vendor:!1,amount:!1,status:!1,comment:!1,btnDisplay:"flex",btnText:"Cancel"}}),e.OnEditHandler(t,a)):e.setState({alert:!0})}}],onRowClick:function(t,a){e.setState({fieldDisabled:{quantity:!0,unit:!0,vendor:!0,amount:!0,status:!0,comment:!0,btnDisplay:"none",btnText:"Close"}}),e.OnEditHandler(t,a)}}),i.a.createElement(J.a,{open:this.state.openAll,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,{style:{padding:"20px"}},i.a.createElement(m.a,null,i.a.createElement(t,{load:!0}),i.a.createElement(m.a,{width:"95%",display:"flex",justifyContent:"flex-end",marginTop:"20px"},i.a.createElement(M.a,{variant:"contained",color:"primary",size:"large",onClick:function(){e.setState({openAll:!1})}},"Close"))))),i.a.createElement(J.a,{open:this.state.openEdit,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,null,i.a.createElement(Na,{disabled:this.state.fieldDisabled,Purchase:this.EditData,cancel:function(){e.setState({openEdit:!1})},close:function(){e.handleClose()}}))),i.a.createElement(J.a,{open:this.state.openAdd,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,null,i.a.createElement(Qa,{disabled:!1,Purchase:this.EditData,cancel:function(){e.setState({openAdd:!1})},close:function(){e.handleClose()}}))),i.a.createElement(Se.a,{open:this.state.alert,autoHideDuration:3e3,anchorOrigin:{vertical:"bottom",horizontal:"center"},onClose:this.closeAlert},i.a.createElement(Ce.a,{severity:"error",variant:"filled",onClose:this.closeAlert},"You cannot modify / reject this record")))}}]),t}(n.Component),Ha=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={width:"17vw",dashboardItems:[]},a.permissions=JSON.parse(sessionStorage.getItem("permissions")),a.contents=["Purchase Requests"],a.logout=function(){E.logout()&&a.props.history.push("/")},a.home=function(){a.props.history.push("/home")},a.dashboardMin=function(){a.setState({width:".1px"})},a.dashboardMax=function(){a.setState({width:"17vw"})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;console.log(this.permissions),this.contents.map((function(t){if(e.permissions.find((function(e){return e===t}))){var a=t.toLowerCase().replace(/ /g,"-");e.setState({}),e.setState((function(e){e.dashboardItems.push({Name:t,Path:a})}))}return null}))}},{key:"render",value:function(){return i.a.createElement(m.a,null,i.a.createElement(B,{name:"Requests",logout:this.logout,home:this.home,dashboardMax:this.dashboardMax,dashboardMin:this.dashboardMin}),i.a.createElement(m.a,{display:"flex"},i.a.createElement(b,{items:this.state.dashboardItems,componentName:"home/requests",width:this.state.width,dashboardMin:this.dashboardMin}),i.a.createElement(m.a,{display:"flex",flexDirection:"column",alignItems:"center",width:"100%",marginTop:"10px"},i.a.createElement(_a.b,{exact:!0,path:"/home/requests/purchase-requests",component:Fa}))))}}]),t}(n.Component),Va=a(116),Ya=a(57),Ja=Va.StyleSheet.create({page:{flexDirection:"coulmn",backgroundColor:"#fff",display:"flex",justifyContent:"center",fontSize:10,width:"100%",padding:20},section:{margin:10,padding:10,flexGrow:1}}),Ga=function(e){return i.a.createElement(Va.Document,{title:"Purchase Report ".concat((new de.a).format("DD/MM/YYYY HH:m:s"))},i.a.createElement(Va.Page,{orientation:"landscape",size:"A4",style:Ja.page},i.a.createElement(Va.Text,{style:{textAlign:"center"}},"Purcase Report"),i.a.createElement(Va.View,{style:(Ja.section,{marginTop:"10"})},i.a.createElement(Ya.Table,{data:e.data},i.a.createElement(Ya.TableHeader,{fontSize:"10"},i.a.createElement(Ya.TableCell,{style:{padding:"5"}},"Raw Material Name"),i.a.createElement(Ya.TableCell,{style:{padding:"5"}},"Material Code"),i.a.createElement(Ya.TableCell,{style:{padding:"5"}},"Qty"),i.a.createElement(Ya.TableCell,{style:{padding:"5"}},"Unit"),i.a.createElement(Ya.TableCell,{style:{padding:"5"}},"Priority"),i.a.createElement(Ya.TableCell,{style:{padding:"5"}},"Status"),i.a.createElement(Ya.TableCell,{style:{padding:"5"}},"Vendor"),i.a.createElement(Ya.TableCell,{style:{padding:"5"}},"Total Price"),i.a.createElement(Ya.TableCell,{style:{padding:"5"}},"Created By"),i.a.createElement(Ya.TableCell,{style:{padding:"5"}},"Designation"),i.a.createElement(Ya.TableCell,{style:{padding:"5"}},"Date")),i.a.createElement(Ya.TableBody,{fontSize:"10"},i.a.createElement(Ya.DataTableCell,{style:{padding:"5"},getContent:function(e){return e.Raw_Material_Name}}),i.a.createElement(Ya.DataTableCell,{style:{padding:"5"},getContent:function(e){return e.Raw_Material_Code}}),i.a.createElement(Ya.DataTableCell,{style:{padding:"5"},getContent:function(e){return e.Quantity}}),i.a.createElement(Ya.DataTableCell,{style:{padding:"5",width:"10"},getContent:function(e){return e.Measuring_Unit}}),i.a.createElement(Ya.DataTableCell,{style:{padding:"5"},getContent:function(e){return e.Priority}}),i.a.createElement(Ya.DataTableCell,{style:{padding:"5"},getContent:function(e){return e.Status}}),i.a.createElement(Ya.DataTableCell,{style:{padding:"5"},getContent:function(e){return e.Vendor}}),i.a.createElement(Ya.DataTableCell,{style:{padding:"5"},getContent:function(e){return e.Total_Price}}),i.a.createElement(Ya.DataTableCell,{style:{padding:"5"},getContent:function(e){return e.Employee}}),i.a.createElement(Ya.DataTableCell,{style:{padding:"5"},getContent:function(e){return e.Role}}),i.a.createElement(Ya.DataTableCell,{style:{padding:"5"},getContent:function(e){return e.date}})))),i.a.createElement(Va.View,{style:Ja.section})))},Ka=a(588),Xa=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).headers=[{label:"Raw Material Name",key:"Raw_Material_Name"},{label:"Material Code",key:"Raw_Material_Code"},{label:"Quantity",key:"Quantity"},{label:"Unit",key:"Measuring_Unit"},{label:"Priority",key:"Priority"},{label:"Status",key:"Status"},{label:"Vendor",key:"Vendor"},{label:"Total Price",key:"Total_Price"},{label:"Created By",key:"Employee"},{label:"Designation",key:"Role"},{label:"Created Date",key:"date"}],a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return i.a.createElement(Ka.CSVLink,{filename:this.props.name,headers:this.headers,data:this.props.data,style:{textDecoration:"none",backgroundColor:"#3f51b5",padding:"10px",color:"white",borderRadius:"5px"}},"Click to download")}}]),t}(n.Component),Za=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={from_date:null,to_date:null,from_due_date:null,to_due_date:null,from_quantity:"",to_quantity:"",measuring_unit:"",raw_material_id:"",raw_material_code:"",status:"",vendor:"",from_total_price:"",to_total_price:"",disabled:!1,columns:[{title:"Material Name",field:"Raw_Material_Name"},{title:"Quantity",field:"Quantity"},{title:"Vendor",field:"Vendor"},{title:"Total Price",field:"Total_Price"},{title:"Status",field:"Status"}],data:[],raw_materials:[],vendors:[],measuring_units:[],openReport:!1,openPDF:!1,openCSV:!1},a.ref=i.a.createRef(),a.onFilterHandler=function(){K.a.post("/request-details/request-details-filter",{from_date:a.state.from_date,to_date:a.state.to_date,from_due_date:a.state.from_due_date,to_due_date:a.state.to_due_date,from_quantity:a.state.from_quantity,to_quantity:a.state.to_quantity,measuring_unit:a.state.measuring_unit,raw_material_id:a.state.raw_material_id,vendor:a.state.vendor,raw_material_code:a.state.raw_material_code,status:a.state.status,from_total_price:a.state.from_total_price,to_total_price:a.state.to_total_price}).then((function(e){console.log(e.data),e.data.map((function(t){return console.log(t.Vendor),t.date=t.date.split("T"),t.date=t.date[0].split("-").reverse().join("-"),K.a.post("/raw-materials/raw-material",{_id:t.Raw_Material_Id}).then((function(n){console.log(n),t.Raw_Material_Name=n.data.RawMaterial[0].raw_material_name,a.setState({data:Object(Q.a)(e.data)})})),K.a.post("/measuring-units/measuring-unit",{_id:t.Measuring_Unit}).then((function(n){console.log(n),t.Measuring_Unit=n.data.MeasuringUnit[0].measuring_unit_name,a.setState({data:Object(Q.a)(e.data)})})),K.a.post("/vendors/vendor",{_id:t.Vendor}).then((function(n){n.data.Vendor?(console.log(n.data.Vendor[0].vendor_name),t.Vendor=n.data.Vendor[0].vendor_name):t.Vendor="not specified",a.setState({data:Object(Q.a)(e.data)})})),K.a.post("/roles/role",{_id:t.Created_By.Role_Id}).then((function(n){n.data.Role[0]?t.Role=n.data.Role[0].role_name:t.Role="not specified",a.setState({data:Object(Q.a)(e.data)})})),"not specified"!==t.Created_By.Employee_Id?(console.log(t.Created_By.Employee_Id),K.a.post("/employees/employee",{_id:t.Created_By.Employee_Id}).then((function(n){n.data.Employee[0]?(console.log(n.data.Employee[0].employee_first_name),t.Employee=n.data.Employee[0].employee_first_name):t.Employee="not specified",a.setState({data:Object(Q.a)(e.data)})}))):t.Employee="not specified",null})),a.setState({data:Object(Q.a)(e.data),openReport:!0}),console.log(a.state.data)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;K.a.get("/raw-materials/raw-materials").then((function(t){e.setState({raw_materials:Object(Q.a)(t.data.RawMaterials)})})),K.a.get("/vendors/vendors").then((function(t){e.setState({vendors:Object(Q.a)(t.data.Vendors)})})),K.a.get("/measuring-units/measuring-units").then((function(t){e.setState({measuring_units:Object(Q.a)(t.data.MeasuringUnits)})}))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Purchase Report"),i.a.createElement(ne,null,i.a.createElement(m.a,{style:ie.box,alignContent:"center"},i.a.createElement(m.a,{style:ie.box_field},i.a.createElement(m.a,{style:ie.box,marginRight:"10px"},i.a.createElement(ue,{id:"1",Name:"From Requested Date",minDate:new Date("01-01-1990"),maxDate:new Date,value:this.state.from_date,setDate:function(t){t=t.startOf("day"),e.setState({from_date:t,disabled:!0})}})),i.a.createElement(m.a,{style:ie.box},i.a.createElement(ue,{disabled:null===this.state.from_date,id:"2",Name:"To Requested Date",minDate:this.state.from_date,value:this.state.to_date,setDate:function(t){t=t.endOf("day"),e.setState({to_date:t,disabled:!1})}}))),i.a.createElement(m.a,{style:ie.box_field},i.a.createElement(m.a,{style:ie.box,marginRight:"10px"},i.a.createElement(ue,{id:"1",Name:"From Due Date",minDate:new Date("01-01-1990"),value:this.state.from_due_date,setDate:function(t){t=t.startOf("day"),e.setState({from_due_date:t,disabled:!0})}})),i.a.createElement(m.a,{style:ie.box},i.a.createElement(ue,{disabled:null===this.state.from_due_date,id:"2",Name:"To Due Date",minDate:this.state.from_due_date,value:this.state.to_due_date,setDate:function(t){t=t.endOf("day"),e.setState({to_due_date:t,disabled:!1})}}))),i.a.createElement(m.a,{style:ie.box},i.a.createElement(Z.a,{size:"small",variant:"outlined",fullWidth:!0},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select Raw Material"),i.a.createElement(ee.a,{style:ie.box_field,value:this.state.raw_material_id,onChange:function(t){e.setState({raw_material_id:t.target.value})}},this.state.raw_materials.map((function(e,t){return i.a.createElement(W.a,{key:t,selected:!0,value:e._id},e.raw_material_name)}))))),i.a.createElement(m.a,{style:ie.box},i.a.createElement(Z.a,{size:"small",variant:"outlined",fullWidth:!0},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Status"),i.a.createElement(ee.a,{style:ie.box_field,name:"status",fullWidth:!0,variant:"outlined",value:this.state.status,onChange:function(t){e.setState({status:t.target.value})}},i.a.createElement(W.a,{value:"Requesting"},"Requesting"),i.a.createElement(W.a,{value:"Processing"},"Processing"),i.a.createElement(W.a,{value:"ForwardedToAdmin"},"ForwardedToAdmin"),i.a.createElement(W.a,{value:"ForwardedToFinance"},"ForwardedToFinance"),i.a.createElement(W.a,{value:"Rejected"},"Rejected")))),i.a.createElement(m.a,{style:ie.box},i.a.createElement(Z.a,{size:"small",variant:"outlined",fullWidth:!0},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select Vendors"),i.a.createElement(ee.a,{style:ie.box_field,value:this.state.vendor,onChange:function(t){e.setState({vendor:t.target.value})}},this.state.vendors.map((function(e,t){return i.a.createElement(W.a,{key:t,selected:!0,value:e._id},e.vendor_name)}))))),i.a.createElement(m.a,{style:ie.box},i.a.createElement(Z.a,{size:"small",variant:"outlined",fullWidth:!0},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Select Measuring Unit"),i.a.createElement(ee.a,{style:ie.box_field,value:this.state.measuring_unit,onChange:function(t){e.setState({measuring_unit:t.target.value})}},this.state.measuring_units.map((function(e,t){return i.a.createElement(W.a,{key:t,selected:!0,value:e._id},e.measuring_unit_name)}))))),i.a.createElement(m.a,{style:ie.box_field},i.a.createElement(m.a,{style:ie.box,marginRight:"10px",marginBottom:"20px"},i.a.createElement(X.a,{size:"small",fullWidth:!0,value:this.state.from_quantity,variant:"outlined",label:"From Quantity",type:"text",onChange:function(t){e.setState({from_quantity:t.target.value,disabled:!0})}})),i.a.createElement(m.a,{style:ie.box},i.a.createElement(X.a,{disabled:""===this.state.from_quantity,size:"small",fullWidth:!0,value:this.state.to_quantity,variant:"outlined",label:"To Quantity",type:"text",onChange:function(t){e.setState({to_quantity:t.target.value}),e.setState((function(e){parseFloat(e.to_quantity)>=parseFloat(e.from_quantity)?e.disabled=!1:e.disabled=!0}))},helperText:"must be greater than From Quantity"})))),i.a.createElement(m.a,{style:ie.box_field},i.a.createElement(m.a,{style:ie.box,marginRight:"10px",marginBottom:"20px"},i.a.createElement(X.a,{size:"small",fullWidth:!0,value:this.state.from_total_price,variant:"outlined",label:"From Total Price",type:"text",onChange:function(t){e.setState({from_total_price:t.target.value,disabled:!0})}})),i.a.createElement(m.a,{style:ie.box},i.a.createElement(X.a,{disabled:""===this.state.from_total_price,size:"small",fullWidth:!0,value:this.state.to_total_price,variant:"outlined",label:"To Total Price",type:"text",onChange:function(t){e.setState({to_total_price:t.target.value}),e.setState((function(e){parseFloat(e.to_total_price)>=parseFloat(e.from_total_price)?e.disabled=!1:e.disabled=!0}))},helperText:"must be greater than from Total Price"})))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.setState({from_date:null,to_date:null,from_due_date:null,to_due_date:null,from_quantity:"",to_quantity:"",measuring_unit:"",raw_material_id:"",raw_material_code:"",status:"",vendor:"",from_total_price:"",to_total_price:"",disabled:!1})}},"Clear")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(M.a,{disabled:this.state.disabled,fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:this.onFilterHandler},"Report"))),i.a.createElement(J.a,{fullScreen:!0,maxWidth:"lg",open:this.state.openReport,fullWidth:!0},i.a.createElement(Y.a,{ref:this.ref},i.a.createElement(m.a,{fontSize:"30px",mb:3,disabled:"flex",textAlign:"center"},"Purchase Report"),i.a.createElement(m.a,{style:ie.box},i.a.createElement(V.a,{title:"",style:{width:"95%",maxHeight:"500px",overflow:"auto"},columns:this.state.columns,data:this.state.data,options:{search:!1,draggable:!1,sorting:!0,headerStyle:{backgroundColor:"#3f51b5",color:"#FFF"},pageSize:this.state.data.length}}),i.a.createElement(m.a,{width:"95%",display:"flex",justifyContent:"flex-end",marginTop:"20px"},i.a.createElement(m.a,{marginRight:"10px"},i.a.createElement(M.a,{variant:"contained",color:"primary",size:"large",onClick:function(){e.setState({openReport:!1})}},"Close")),i.a.createElement(m.a,{marginRight:"10px"},i.a.createElement(M.a,{variant:"contained",color:"primary",size:"large",onClick:function(){e.setState({openCSV:!0})}},"Export CSV")),i.a.createElement(m.a,null,i.a.createElement(M.a,{variant:"contained",color:"primary",size:"large",onClick:function(){e.setState({openPDF:!0})}},"Export PDF")))))),i.a.createElement(J.a,{onClose:function(){e.setState({openPDF:!1})},open:this.state.openPDF,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,null,i.a.createElement(Va.PDFViewer,{style:{minHeight:"500px"},width:"100%"},i.a.createElement(Ga,{data:this.state.data})))),i.a.createElement(J.a,{onClose:function(){e.setState({openCSV:!1})},open:this.state.openCSV,maxWidth:"sm"},i.a.createElement(Y.a,null,i.a.createElement(m.a,{style:ie.box_field,flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Purchase Report CSV"),i.a.createElement(Xa,{name:"Purchase Report ".concat((new de.a).format("DD/MM/YYYY HH:m:s"),".csv"),data:this.state.data}))))))}}]),t}(n.Component),$a=a(589),en=function(e){var t=Object(n.useState)("line"),a=Object(v.a)(t,2),o=a[0],l=a[1],r=i.a.useMemo((function(){return e.ChartContent}),[e.ChartContent]),s=i.a.useMemo((function(){return{type:o}}),[o]),c=i.a.useMemo((function(){return[{primary:!0,type:"ordinal",position:"bottom"},{type:"linear",position:"left"}]}),[]),d=i.a.useCallback((function(){return{transition:"all .5s ease"}}),[]),u=i.a.useCallback((function(){return{transition:"all .5s ease"}}),[]);return i.a.createElement(m.a,{style:ie.box},i.a.createElement(m.a,{width:"90%",height:"400px",overflow:"hidden",border:"1px solid black",padding:"10px"},i.a.createElement($a.Chart,{data:r,series:s,axes:c,getSeriesStyle:d,getDatumStyle:u,tooltip:!0})),i.a.createElement(m.a,{style:{marginTop:"20px"}},i.a.createElement(ee.a,{value:o,onChange:function(e){l(e.target.value)}},i.a.createElement(W.a,{value:"bar"},"Bar"),i.a.createElement(W.a,{value:"line"},"Line"),i.a.createElement(W.a,{value:"area"},"Area"))),i.a.createElement(m.a,{display:" flex",marginTop:"10px",justifyContent:"flex-end",width:"92%"},i.a.createElement(m.a,{width:"100px"},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.cancel()}},"Close"))))},tn=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).state={start_date:null,end_date:null,label:"",ProductionData:[],SalesData:[],ChartContent:[],ChartOpen:!1,end_date_disabled:!0},a.onReportHandler=function(){a.setState({ChartContent:[],ProductionData:[],SalesData:[]}),K.a.post("/sales/sale",{start_date:a.state.start_date,end_date:a.state.end_date}).then((function(e){console.log(e.data),e.data.Sale.map((function(e){return a.setState({label:"Sales"}),a.setState((function(t){t.SalesData.push([e.Product_ID+"-"+new de.a(e.Selling_Date).format("MMM-YYYY"),e.Quantity])})),null})),a.setState((function(e){e.ChartContent.push({label:e.label,data:e.SalesData})})),K.a.post("/productions/production",{start_date:a.state.start_date,end_date:a.state.end_date}).then((function(e){console.log(e.data),e.data.Production.map((function(e){return a.setState({label:"Production"}),a.setState((function(t){t.ProductionData.push([e.Product_ID+"-"+new de.a(e.Manufacture_Date).format("MMM-YYYY"),e.Quantity])})),null})),a.setState((function(e){e.ChartContent.push({label:e.label,data:e.ProductionData})})),a.setState({ChartOpen:!0}),console.log(a.state.ChartContent)}))}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:ie.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Production And Sales Report"),i.a.createElement(ne,null,i.a.createElement(m.a,{style:ie.box_field},i.a.createElement(m.a,{style:ie.box,marginRight:"10px"},i.a.createElement(ue,{id:"1",Name:"Select Start month",Req:!0,value:this.state.start_date,minDate:new Date("01-01-1990"),maxDate:new Date,setDate:function(t){e.setState({start_date:t.startOf("month"),end_date_disabled:!1})}})),i.a.createElement(m.a,{style:ie.box},i.a.createElement(ue,{id:"2",Name:"Select End Month",Req:!0,disabled:null===this.state.start_date,value:this.state.end_date,minDate:this.state.start_date,maxDate:(new de.a).endOf("month"),setDate:function(t){e.setState({end_date:t.endOf("month")})}})))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{width:"100px"},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.onReportHandler()}},"Report"))),i.a.createElement(J.a,{fullWidth:!0,maxWidth:"lg",open:this.state.ChartOpen},i.a.createElement(Y.a,{style:{padding:"20px"}},i.a.createElement(m.a,{fontSize:"30px",mb:3,textAlign:"center"},"Production and Sales report"),i.a.createElement(en,{cancel:function(){e.setState({ChartOpen:!1})},ChartContent:this.state.ChartContent}))))}}]),t}(n.Component),an=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={width:"17vw",dashboardItems:[]},a.permissions=JSON.parse(sessionStorage.getItem("permissions")),a.contents=["Purchase Report","Production and Sales Report"],a.logout=function(){E.logout()&&a.props.history.push("/")},a.home=function(){a.props.history.push("/home")},a.dashboardMin=function(){a.setState({width:".1px"})},a.dashboardMax=function(){a.setState({width:"17vw"})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;console.log(this.permissions),this.contents.map((function(t){if(e.permissions.find((function(e){return e===t}))){var a=t.toLowerCase().replace(/ /g,"-");e.setState({}),e.setState((function(e){e.dashboardItems.push({Name:t,Path:a})}))}return null}))}},{key:"render",value:function(){return i.a.createElement(m.a,null,i.a.createElement(B,{name:"Reports",logout:this.logout,home:this.home,dashboardMax:this.dashboardMax,dashboardMin:this.dashboardMin}),i.a.createElement(m.a,{display:"flex"},i.a.createElement(b,{items:this.state.dashboardItems,componentName:"home/reports",width:this.state.width,dashboardMin:this.dashboardMin}),i.a.createElement(m.a,{display:"flex",flexDirection:"column",alignItems:"center",width:"100%",marginTop:"10px"},i.a.createElement(_a.b,{exact:!0,path:"/home/reports/purchase-report",component:Za}),i.a.createElement(_a.b,{exact:!0,path:"/home/reports/production-and-sales-report",component:tn}))))}}]),t}(n.Component),nn={box_field:{display:"flex",width:"100%",alignItems:"center",justifyContent:"center",marginBottom:"20px"},box:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",height:"80%"},box_msg:{marginBottom:"10px",padding:"10px",width:"90%",textAlign:"center",fontSize:"15px",textTransform:"uppercase "},icons:{fontSize:"40px",marginRight:"10px"},root:{display:"flex",flexDirection:"column",justifyContent:"center",width:"100%"},heading:{display:"flex",justifyContent:"center",width:"100%",paddingTop:"15px",paddingBottom:"25px"},lbox:{display:"flex",flexDirection:"row",justifyContent:"center",width:"100%"},form:{display:"flex",flexDirection:"column",width:"90%",justifyContent:"space-around"},boxSize2:{width:"100%",display:"flex",flexDirection:"row",alignContent:"center",paddingTop:"5px",paddingLeft:"5px",paddingRight:"5px",paddingBottom:"5px",minWidth:"10%",maxWidth:"100%"},lastboxSize2:{display:"flex",flexDirection:"row",alignContent:"center",paddingTop:"5px",paddingLeft:"15px",paddingRight:"15px",paddingBottom:"20px"},addbtns:{display:"flex",alignSelf:"center",paddingLeft:"10px",paddingRight:"10px"},addbtnl:{display:"flex",alignSelf:"flex-end",paddingLeft:"10px",paddingRight:"10px"},submit:{display:"flex",justifyContent:"flex-end",paddingTop:"20px",paddingBottom:"10px",marginRight:"60px",alignSelf:"flex-end"},add:{display:"flex",justifyContent:"flex-start",paddingTop:"20px",paddingBottom:"10px",marginRight:"60px",alignSelf:"flex-start"},paper:{overflow:"auto",width:"100%"},table:{overflow:"auto"}},on=a(316),ln=a.n(on),rn=nn,sn={marginRight:"6px",marginLeft:"6px"},cn=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={invoice_quantity:null,unitList:[],roleList:[],munit:"",vendors:[],vendor:"",invoice_amount:null,invoice_date:null,invoice_document_url:[],status:"",file:[],Id:[{id:""}],a_id:"",idType:""},a.loadStatus=function(){return["Purchase-Completed"].map((function(e,t){return i.a.createElement(W.a,{key:t,value:e},e)}))},a.showFile=function(){for(var e=[],t=0;t<a.state.file.length;t++)e.push(i.a.createElement(m.a,{key:t},a.state.file[t].name));return e},a.getRoles=function(e){var t=e;return a.state.roleList.map((function(a){return a._id===e&&(t=a.role_name),null})),t},a.onSubmit=function(){if(null===a.state.invoice_date||0===a.state.file.length||""===a.state.status)alert("Some fields contain invalid value!");else{for(var e=new FormData,t=0;t<a.state.file.length;t++){var n=a.state.file[t].name.split(".");e.append("file",a.state.file[t],"invoice_"+(new de.a).format("DD_MM_YYYY_HH_m_s.")+n[1])}K.a.post("/files",e,{headers:{"content-type":"multipart/form-data"}}).then((function(e){console.log("invoice called",e.data),K.a.post("/request-details/invoice",{_id:a.props.Purchase._id,Invoice_Quantity:a.props.Purchase.Quantity,Invoice_Measuring_Unit:a.props.Purchase.Measuring_Unit,Invoice_Amount:a.props.Purchase.Total_Price,Invoice_Date:a.state.invoice_date,Invoice_Document:e.data,Id_Type:a.state.idType,Id:a.state.Id,Status:a.state.status}).then((function(e){console.log("add stock called"),K.a.post("/purchase-stocks/add",{Purchase_List:a.props.Purchase._id,Purchase_Id:a.props.Purchase._id,Measuring_Unit:a.props.Purchase.Measuring_Unit,Total_Quantity:a.props.Purchase.Quantity}).then((function(e){console.log("add production stock called:",e);var t=a.getRoles(a.props.Purchase.Created_By.Role_Id);console.log("role:",t),"Production Manager"===t?K.a.post("/purchase-stocks/add-production",{_id:a.props.Purchase._id,Raw_Material_Id:a.props.Purchase.Raw_Material_Id,Raw_Material_Code:a.props.Purchase.Raw_Material_Code,Quantity:a.props.Purchase.Quantity,Measuring_Unit:a.props.Purchase.Measuring_Unit,Id:a.props.Purchase._id}).then((function(e){console.log("response: ",e),a.props.closeDialog()})).catch((function(e){console.log("stock not reduced",e)})):a.props.closeDialog()})).catch((function(e){console.log("Stock not added",e)}))})).catch((function(e){console.log("Invoice not added",e)}))})).catch((function(e){console.log("File not added",e)}))}},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;K.a.get("/measuring-unit").then((function(t){e.setState({unitList:Object(Q.a)(t.data.MeasuringUnits)})})),K.a.get("/roles/roles").then((function(t){e.setState({roleList:Object(Q.a)(t.data.Roles)})}))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{display:"flex",flexDirection:"column",alignItems:"center"},i.a.createElement(m.a,{fontSize:"30px",mb:3,fontWeight:"bold"},"Add to Stock"),i.a.createElement(m.a,{style:rn.boxSize2},i.a.createElement(m.a,{width:"100%",style:sn},i.a.createElement(X.a,{disabled:!0,size:"small",fullWidth:!0,variant:"outlined",label:"Invoice_Quantity",required:!0,value:this.props.Purchase.Quantity,onChange:function(t){e.setState({invoice_quantity:t.target.value})}})),i.a.createElement(m.a,{width:"100%",style:sn},i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Measuring Unit"),i.a.createElement(ee.a,{disabled:!0,name:"Measuring_Unit",variant:"outlined",required:!0,value:this.props.Purchase.Measuring_Unit,onChange:function(t){e.setState({munit:t.target.value}),console.log(t.target.value)}},this.state.unitList.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.measuring_unit_name)})))))),i.a.createElement(m.a,{style:rn.boxSize2},i.a.createElement(m.a,{width:"100%",style:sn},i.a.createElement(X.a,{disabled:!0,size:"small",fullWidth:!0,variant:"outlined",label:"Invoice_Amount",required:!0,value:this.props.Purchase.Total_Price,onChange:function(t){e.setState({invoice_amount:t.target.value})}})),i.a.createElement(m.a,{width:"100%",style:sn},i.a.createElement(ue,{id:"1",Name:"Invoice_Date",Req:"true",marginBottom:"10px",minDate:"01/01/1990",maxDate:new Date,value:this.state.invoice_date,setDate:function(t){e.setState({invoice_date:t})}}))),i.a.createElement(m.a,{style:rn.boxSize2},i.a.createElement(m.a,{width:"100%",style:sn},i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Status"),i.a.createElement(ee.a,{variant:"outlined",required:!0,value:this.state.status,onChange:function(t){e.setState({status:t.target.value})}},this.loadStatus()))),i.a.createElement(m.a,{width:"100%",style:sn},i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Id Type"),i.a.createElement(ee.a,{variant:"outlined",required:!0,value:this.state.idType,onChange:function(t){e.setState({idType:t.target.value})}},i.a.createElement(W.a,{value:"Box"},"Box"),i.a.createElement(W.a,{value:"Individual"},"Individual"))))),i.a.createElement(m.a,{style:rn.boxSize2},i.a.createElement(m.a,{width:"100%",maxHeight:"100px",style:sn,flexDirection:"row",display:"flex",flexWrap:"wrap",overflow:"auto"},this.state.Id.map((function(t,a){return i.a.createElement(m.a,{display:"flex",width:"33.33%",pt:1},i.a.createElement(X.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Id",required:!0,name:"Id",value:e.state.Id[a].id,onChange:function(t){e.setState({a_id:t.target.value}),console.log(t.target.value),e.setState((function(e){e.Id[a].id=e.a_id,console.log("====",e.Id[a])}))}}),e.state.Id.length===a+1?i.a.createElement(Vt.a,{color:"secondary",style:{fontSize:"30px",margin:"4px",padding:"0px"},onClick:function(){e.setState({}),e.setState((function(e){e.Id.push({id:""}),console.log(e.Id)}))}}):i.a.createElement(Jt.a,{color:"secondary",style:{fontSize:"30px",padding:"0px",margin:"4px"},onClick:function(){e.setState({}),e.setState((function(e){e.Id.splice(a,1),console.log(e.Id)}))}}))})).reverse())),i.a.createElement(m.a,{style:rn.boxSize2},i.a.createElement(m.a,{display:this.props.uploadFile,flexDirection:"column"},i.a.createElement("input",{style:{display:"none"},id:"#file2",type:"file",accept:"image/*,application/pdf",multiple:"multiple",onChange:function(t){var a=t.target.files;e.setState({file:a}),console.log("temp: ",a)}}),i.a.createElement("label",{htmlFor:"#file2"},i.a.createElement(M.a,{style:{marginLeft:"10px"},variant:"contained",component:"span",color:"default",startIcon:i.a.createElement(ln.a,null)},"Upload Invoice")),i.a.createElement(m.a,{style:{marginLeft:"10px",paddingTop:"5px"}},this.showFile()))),i.a.createElement(m.a,{pt:2,pb:2,m:0,display:"flex",justifyContent:"flex-end",width:"87%"},i.a.createElement(m.a,{display:"flex"},i.a.createElement(M.a,{variant:"contained",color:"primary",size:"large",fontWeight:"Bold",onClick:function(){e.props.closeDialog()},style:{fontWeight:"bold"}},"Cancel")),i.a.createElement(m.a,{marginLeft:"10px"},i.a.createElement(M.a,{variant:"contained",color:"primary",size:"large",fontWeight:"bold",onClick:this.onSubmit,style:{fontWeight:"bold"}},"Submit"))))}}]),t}(n.Component),dn=nn,un={marginRight:"6px",marginLeft:"6px"},mn=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={_id:"",Raw_Material_Id:"Raw_material_Id",Raw_Material_Code:null,Quantity:null,Measuring_Unit:"",Priority:"",Due_Date:null,Status:"",Comments:"no comments",Total_Price:null,Vendor:"",errors:[],success:!1,unitList:[],materials:[],vendorList:[],stockList:[],reqDetails:[],logComments:"no comments",To:"",file:"",openDialog:!1,vendorInfo:!1},a.openDialog=function(){a.setState({openDialog:!0})},a.closeDialog=function(){a.setState({openDialog:!1})},a.onEditHandler=function(){if(null!==a.state.Quantity&&""!==a.state.Vendor&&null!==a.state.Total_Price&&0!==a.state.file.length&&""!==a.state.Measuring_Unit&&""!==a.state.Status){var t=new FormData;console.log("fileLength: ",a.state.file);for(var n=0;n<a.state.file.length;n++){var i=a.state.file[n].name.split(".");t.append("file",a.state.file[n],"quotation_"+(new de.a).format("DD_MM_YYYY_HH_m_s.")+i[1])}K.a.post("/files",t,{headers:{"content-type":"multipart/form-data"}}).then((function(t){console.log("file: ",t),K.a.post("/log/comment",{logs:{reqId:e.Purchase._id,from:sessionStorage.getItem("Role ID"),to:"Finance",comments:a.state.Comments}}).then((function(e){console.log("Comments: ",e),K.a.post("/request-details/edit",{_id:a.state._id,Raw_Material_Id:a.state.Raw_Material_Id,Raw_Material_Code:a.state.Raw_Material_Code,Quantity:a.state.Quantity,Measuring_Unit:a.state.Measuring_Unit,Priority:a.state.Priority,Due_Date:a.state.Due_Date,Status:a.state.Status,Comments:a.state.Comments,Vendor:a.state.Vendor,Total_Price:a.state.Total_Price,Quotation_Document_URL:t.data})})).then(a.props.cancel())})).catch((function(e){return console.log(e)}))}else alert("please check all fields are entered properly")},a.showFile=function(){for(var e=[],t=0;t<a.state.file.length;t++)e.push(i.a.createElement(m.a,{key:t},a.state.file[t].name));return e},a.loadFile=function(){var e=[];return a.props.Purchase.Quotation_Document_URL.map((function(t,a){return e.push(i.a.createElement(m.a,{display:"flex",key:a},i.a.createElement(ka.a,{href:"/uploads/".concat(t),target:"_blank",rel:"noreferrer"},t))),null})),e},a.loadStatus=function(){return["Requesting","Finance-Accepted","Purchase-Completed","ForwardedToFinance","Purchase-Accepted","Purchase-Rejected","ForwardedToProduction"].map((function(e,t){return i.a.createElement(W.a,{key:t,value:e,disabled:"Requesting"===e||"Finance-Accepted"===e},e)}))},a.vendorInfo=function(){var e=[];return a.state.vendorList.map((function(t,n){return t._id===a.state.Vendor?(console.log("matched"),e.push(i.a.createElement(m.a,{key:n},i.a.createElement("h4",{style:{padding:"0px",margin:"0px"}},"Vendor:"),"".concat(t.vendor_name," - ").concat(t.vendor_mobile_no," - ").concat(t.vendor_email)," ",i.a.createElement("br",null),i.a.createElement("h4",{style:{padding:"0px",margin:"0px"}},"Point of contacts:"),t.vendor_point_of_contact.map((function(e,t){return i.a.createElement(m.a,{key:t},e.name+" ( "+e.designation+" ) - "+e.mobile_no)}))))):console.log("not match"),null})),e},a.getMaterialDetails=function(e){var t=e;return a.state.materials.map((function(a){return a._id===e&&(t=a.raw_material_code),null})),t},a.getDetails=function(e){var t=e;return console.log("reqdetails:",a.state.reqDetails),a.state.reqDetails.map((function(n){return n._id===e&&(t=a.getMaterialDetails(n.Raw_Material_Id)),null})),t},a.getStockDetails=function(){var e;console.log("stockList:",a.state.stockList);var t=a.getDetails(a.props.Purchase._id);return a.state.stockList.map((function(n){var i=a.getDetails(n.Purchase_Id);return console.log("scode:",i,t),i===t&&(e=n.Total_Quantity),null})),e},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;K.a.get("/raw-material").then((function(t){console.log(t),e.setState({materials:Object(Q.a)(t.data.RawMaterials)})})),K.a.get("/vendors/vendors").then((function(t){console.log(t),e.setState({vendorList:Object(Q.a)(t.data.Vendors)})})),K.a.get("/measuring-units/measuring-units").then((function(t){console.log(t),e.setState({unitList:Object(Q.a)(t.data.MeasuringUnits)})})).then((function(){K.a.get("/purchase-stocks").then((function(t){e.setState({stockList:Object(Q.a)(t.data.stock)})})).then((function(){K.a.get("/request-details").then((function(t){e.setState({reqDetails:Object(Q.a)(t.data)})}))})).catch((function(e){console.log("cannot get reqdetails",e)}))})).catch((function(e){console.log("cannot get unitlist",e)})),this.setState({_id:this.props.Purchase._id,Raw_Material_Id:this.props.Purchase.Raw_Material_Id,Raw_Material_Code:this.props.Purchase.Raw_Material_Code,Quantity:this.props.Purchase.Quantity,Measuring_Unit:this.props.Purchase.Measuring_Unit,Priority:this.props.Purchase.Priority,Due_Date:this.props.Purchase.Due_Date,Status:this.props.Purchase.Status,Comments:this.state.Comments,Vendor:this.props.Purchase.Vendor,Total_Price:this.props.Purchase.Total_Price})}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:dn.box},i.a.createElement(m.a,{fontSize:"30px",mb:3,fontWeight:"bold"},"Request Details"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:dn.box_msg,bgcolor:"#f73067",key:t},e)})):!0===this.state.success?i.a.createElement(m.a,{bgcolor:"#3df45b",style:dn.box_msg},"Successful"):null,i.a.createElement(m.a,{style:dn.root},i.a.createElement(m.a,{display:"flex",justifyContent:"center"},i.a.createElement(m.a,{style:dn.lbox},i.a.createElement(m.a,{style:dn.form},i.a.createElement(m.a,{style:dn.boxSize2},i.a.createElement(m.a,{width:"50%",style:un},i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Material Name"),i.a.createElement(ee.a,{disabled:!0,variant:"outlined",required:!0,name:"Raw_Material_Id",value:this.state.Raw_Material_Id,onChange:function(t){var a;e.state.materials.map((function(e){return e._id===t.target.value&&(a=e.raw_material_code,console.log("code: ",a)),null})),e.setState({Raw_Material_Id:t.target.value,Raw_Material_Code:a})}},this.state.materials.map((function(e,t){return i.a.createElement(W.a,{key:t,value:e._id},e.raw_material_name)}))))),i.a.createElement(m.a,{width:"50%",style:un},i.a.createElement(X.a,{disabled:!0,size:"small",fullWidth:!0,variant:"outlined",label:"Material_Code",required:!0,value:this.state.Raw_Material_Code,onChange:function(t){e.setState({Material_Code:t.target.value}),console.log(t.target.value)}}))),i.a.createElement(m.a,{style:dn.boxSize2},i.a.createElement(m.a,{width:"50%",style:un},i.a.createElement(X.a,{disabled:!0,size:"small",fullWidth:!0,variant:"outlined",label:"Quantity",required:!0,value:this.state.Quantity,onChange:function(t){e.setState({Quantity:t.target.value})}})),i.a.createElement(m.a,{width:"50%",style:un},i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Measuring Unit"),i.a.createElement(ee.a,{disabled:!0,name:"Measuring_Unit",variant:"outlined",required:!0,value:this.state.Measuring_Unit,onChange:function(t){e.setState({Measuring_Unit:t.target.value}),console.log(t.target.value)}},this.state.unitList.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.measuring_unit_name)})))))),i.a.createElement(m.a,{style:dn.boxSize2},i.a.createElement(m.a,{width:"50%",style:un},i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Vendor Name"),i.a.createElement(ee.a,{disabled:this.props.disabled.vendor,variant:"outlined",required:!0,name:"Vendor",value:this.state.Vendor,onChange:function(t){e.setState({Vendor:t.target.value})}},this.state.vendorList.map((function(e,t){return i.a.createElement(W.a,{key:t,value:e._id},e.vendor_name)}))))),i.a.createElement(m.a,{width:"50%",style:un},i.a.createElement(X.a,{disabled:this.props.disabled.amount,size:"small",fullWidth:!0,variant:"outlined",label:"Total_Price",required:!0,value:this.state.Total_Price,onChange:function(t){e.setState({Total_Price:t.target.value})}}))),i.a.createElement(m.a,{style:dn.boxSize2},i.a.createElement(m.a,{width:"50%",style:un},i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Priority"),i.a.createElement(ee.a,{disabled:!0,variant:"outlined",required:!0,name:"Priority",value:this.props.Purchase.Priority},i.a.createElement(W.a,{value:"Priority",disabled:!0},"Priority"),i.a.createElement(W.a,{value:"Low"},"Low"),i.a.createElement(W.a,{value:"Medium"},"Medium"),i.a.createElement(W.a,{value:"High"},"High")))),i.a.createElement(m.a,{width:"50%",style:un},i.a.createElement(ue,{disabled:!0,id:"4",variant:"outlined",Name:"Due_Date",value:this.state.Due_Date,setDate:function(t){e.setState({Due_Date:t}),console.log(t)}}))),i.a.createElement(m.a,{style:dn.boxSize2},i.a.createElement(m.a,{width:"100%",style:un},i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Status"),i.a.createElement(ee.a,{disabled:this.props.disabled.status,variant:"outlined",required:!0,name:"Status",value:this.state.Status,onChange:function(t){e.setState({Status:t.target.value}),"ForwardedToFinance"===t.target.value?e.setState((function(e){e.To="Finance"})):"ForwardedToProduction"!==t.target.value&&"Purchase-Accepted"!==t.target.value&&"Purchase-Rejected"!==t.target.value||e.setState((function(e){e.To="Purchase"}))}},this.loadStatus()))),i.a.createElement(m.a,{width:"100%",style:un,display:"flex",flexDirection:"column"},i.a.createElement(X.a,{disabled:this.props.disabled.comment,size:"small",multiline:!0,rowsMax:"3",variant:"outlined",fullWidth:!0,label:"Comment",value:this.state.Comments,onChange:function(t){e.setState({Comments:t.target.value}),console.log(t.target.value)}}))),i.a.createElement(m.a,{style:dn.boxSize2},i.a.createElement(m.a,{width:"100%",display:"flex"},i.a.createElement("input",{style:{display:"none"},accept:"image/*,application/pdf",id:"#file",type:"file",multiple:"multiple",onChange:function(t){e.setState({file:t.target.files}),console.log("temp: ",e.state.file)}}),i.a.createElement(m.a,{display:"flex",flexDirection:"column"},i.a.createElement("label",{htmlFor:"#file"},i.a.createElement(M.a,{style:{display:this.props.uploadFile,marginLeft:"10px"},variant:"contained",component:"span",color:"default",startIcon:i.a.createElement(ln.a,null)},"Upload Quotation")),i.a.createElement(m.a,{style:{marginLeft:"10px",paddingTop:"5px"}},this.showFile())),i.a.createElement(m.a,{display:this.props.Purchase.Quotation_Document_URL.length>0?"flex":"none",marginLeft:"10px",alignSelf:"center"},this.loadFile()))),i.a.createElement(m.a,{style:dn.boxSize2},i.a.createElement(m.a,{width:"100%"},"Stock: ",this.getStockDetails())))))),i.a.createElement(m.a,{pt:2,pb:2,m:0,display:"flex",justifyContent:"flex-end",width:"87%"},i.a.createElement(m.a,{display:"flex"},i.a.createElement(M.a,{variant:"contained",color:"primary",size:"large",fontWeight:"Bold",onClick:function(){e.props.cancel()},style:{fontWeight:"bold"}},this.props.disabled.btnText)),i.a.createElement(m.a,{marginLeft:"10px",display:""!==this.state.Vendor?"flex":"none"},i.a.createElement(M.a,{variant:"contained",color:"primary",size:"large",fontWeight:"bold",onClick:function(){e.setState({vendorInfo:!0}),e.openDialog()},style:{fontWeight:"bold"}},"Vendor Info")),i.a.createElement(m.a,{marginLeft:"10px",display:"Finance-Accepted"===this.props.Purchase.Status?"flex":"none"},i.a.createElement(M.a,{variant:"contained",color:"primary",size:"large",fontWeight:"bold",onClick:function(){e.setState({vendorInfo:!1}),e.openDialog()},style:{fontWeight:"bold"}},"Add Stock")),i.a.createElement(m.a,{marginLeft:"10px",display:this.props.disabled.btnDisplay},i.a.createElement(M.a,{variant:"contained",color:"primary",size:"large",fontWeight:"bold",onClick:this.onEditHandler,style:{fontWeight:"bold"}},"Submit"))),i.a.createElement(J.a,{open:this.state.openDialog,onBackdropClick:function(){return!0===e.state.vendorInfo?e.closeDialog():i.a.createElement(m.a,null)},maxWidth:"sm",fullWidth:!0},i.a.createElement(Y.a,null,!0===this.state.vendorInfo?i.a.createElement(m.a,{display:"flex",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"25px",mb:3,textAlign:"center",fontWeight:"bold"},"Vendor Information"),this.vendorInfo()):i.a.createElement(cn,{Purchase:this.props.Purchase,closeDialog:this.closeDialog,upload:this.props.uploadFile}))))}}]),t}(n.Component),pn=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).EditData={},a.state={columns:[{title:"Material Name",field:"Raw_Material_Id"},{title:"Quantity",field:"Quantity"},{title:"Measuring Unit",field:"Measuring_Unit"},{title:"Status",field:"Status"},{title:"Comments",field:"Comments"}],data:[],openAdd:!1,openEdit:!1,alert:!1,vendorList:[],unitList:[],materialList:[],reqDetails:[],fieldDisabled:{quantity:!1,unit:!1,vendor:!1,amount:!1,status:!1,comment:!1,btnDisplay:"none",btnText:"Close",from:"",to:"",uploadFile:"flex"},logComments:"",temp:[]},a.closeAlert=function(){a.setState({alert:!1})},a.OnEditHandler=function(e,t){K.a.post("/request-details",{_id:t._id}).then((function(e){a.EditData=Object(F.a)({},e.data[0]),a.setState({openEdit:!0})}))},a.getMaterialName=function(e){var t=e;return a.state.materialList.map((function(a){return a._id===e&&(t=a.raw_material_name),null})),t},a.getUnit=function(e){var t=e;return a.state.unitList.map((function(a){return a._id===e&&(t=a.measuring_unit_name),null})),t},a.getVendor=function(e){var t=e;return""!==e?a.state.vendorList.map((function(a){return a._id===e&&(t=a.vendor_name),null})):t="undefined",t},a.loadFinanceAccepted=function(){var e=[];console.log("reqDetails:",a.state.reqDetails),a.state.reqDetails.map((function(t){return"Finance-Accepted"===t.Status&&(t.Raw_Material_Id=a.getMaterialName(t.Raw_Material_Id),t.Measuring_Unit=a.getUnit(t.Measuring_Unit),e.push(t)),a.setState({data:e}),null}))},a.loadFinanceAccepted=function(){var e=[];console.log("reqDetails:",a.state.reqDetails),a.state.reqDetails.map((function(t){return"Finance-Accepted"===t.Status&&(t.Raw_Material_Id=a.getMaterialName(t.Raw_Material_Id),t.Measuring_Unit=a.getUnit(t.Measuring_Unit),e.push(t)),a.setState({data:e}),null}))},a.loadRequest=function(){var e=[];console.log("reqDetails:",a.state.reqDetails),a.state.reqDetails.map((function(t){return"Requesting"!==t.Status&&"ForwardedToPurchase"!==t.Status||(t.Raw_Material_Id=a.getMaterialName(t.Raw_Material_Id),t.Measuring_Unit=a.getUnit(t.Measuring_Unit),e.push(t)),a.setState({data:e}),null}))},a.handleClose=function(){K.a.get("/raw-materials/raw-materials").then((function(e){a.setState({materialList:Object(Q.a)(e.data.RawMaterials)})})).catch((function(e){console.log("cannot get materialList",e)})),K.a.get("/measuring-units/measuring-units").then((function(e){a.setState({unitList:Object(Q.a)(e.data.MeasuringUnits)})})).catch((function(e){console.log("cannot get unitList",e)})),K.a.get("/vendors/vendors").then((function(e){a.setState({vendorList:Object(Q.a)(e.data.Vendors)})})).catch((function(e){console.log("cannot get vendorList",e)})),K.a.get("/request-details").then((function(e){var t=[];console.log("Details: ",e.data);for(var n=0;n<e.data.length;n++)e.data[n].Raw_Material_Id=a.getMaterialName(e.data[n].Raw_Material_Id),e.data[n].Measuring_Unit=a.getUnit(e.data[n].Measuring_Unit),e.data[n].Vendor=a.getVendor(e.data[n].Vendor),t.push(e.data[n]);a.setState({data:t,reqDetails:Object(Q.a)(e.data)})}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.handleClose()}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",mb:2,fontWeight:"bold"},"Request Details"),i.a.createElement(m.a,{width:"90%",display:"flex",flexDirection:"row"},i.a.createElement(M.a,{variant:"contained",color:"primary",style:{marginBottom:"10px",display:"flex",marginRight:"10px"},size:"small",onClick:this.loadFinanceAccepted},"Finance Accepted"),i.a.createElement(M.a,{variant:"contained",color:"primary",size:"small",style:{marginBottom:"10px",display:"flex"},onClick:this.loadRequest},"Request"),i.a.createElement(M.a,{variant:"contained",color:"primary",size:"small",style:{marginBottom:"10px",display:"flex",marginLeft:"10px"},onClick:this.handleClose},"All")),i.a.createElement(m.a,{width:"90%",display:"flex",flexDirection:"row"},i.a.createElement(V.a,{title:" ",columns:this.state.columns,data:this.state.data,style:{width:"100%",maxHeight:"500px",overflow:"auto"},options:{sorting:!0,headerStyle:{backgroundColor:"#3f51b5",color:"#FFF",fontSize:"medium",fontWeight:"bold"}},actions:[{icon:"edit",tooltip:"Edit User",onClick:function(t,a){"Requesting"===a.Status||"ForwardedToPurchase"===a.Status||"Finance-Accepted"===a.Status?"Finance-Accepted"===a.Status?(e.setState({logComments:a.Comments,from:a.From,to:a.To,uploadFile:"none",fieldDisabled:{quantity:!0,unit:!0,vendor:!0,amount:!0,status:!0,comment:!0,btnDisplay:"none",btnText:"Close"}}),e.OnEditHandler(t,a)):(e.setState({logComments:a.Comments,from:a.From,to:a.To,uploadFile:"flex",fieldDisabled:{quantity:!1,unit:!1,vendor:!1,amount:!1,status:!1,comment:!1,btnDisplay:"flex",btnText:"Cancel"}}),e.OnEditHandler(t,a)):e.setState({alert:!0})}}],onRowClick:function(t,a){e.setState({logComments:a.Comments,from:a.From,to:a.To,uploadFile:"none",fieldDisabled:{quantity:!0,unit:!0,vendor:!0,amount:!0,status:!0,comment:!0,btnDisplay:"none",btnText:"Close"}}),e.OnEditHandler(t,a)}})),i.a.createElement(J.a,{open:this.state.openEdit,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,{style:{padding:"20px"}},i.a.createElement(mn,{disabled:this.state.fieldDisabled,dept:"Purchase",uploadFile:this.state.uploadFile,From:this.state.from,To:this.state.to,logComments:this.state.logComments,Purchase:this.EditData,cancel:function(){e.setState({openEdit:!1}),e.handleClose()}}))),i.a.createElement(Se.a,{open:this.state.alert,autoHideDuration:3e3,anchorOrigin:{vertical:"bottom",horizontal:"center"},onClose:this.closeAlert},i.a.createElement(Ce.a,{severity:"error",variant:"filled",onClose:this.closeAlert},"You cannot modify / reject this record")))}}]),t}(n.Component),gn=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).EditData={},a.state={columns:[{title:"Material Code",field:"Raw_Material_Code"},{title:"Material Name",field:"Raw_Material_Id"},{title:"Quantity",field:"Total_Quantity"},{title:"Measuring Unit",field:"Measuring_Unit"}],xtraColumns:[{title:"Invoice Quantity",field:"Invoice_Quantity"},{title:"Measuring Unit",field:"Measuring_Unit"},{title:"Stock Type",field:"Id_Type"},{title:"Stock Id",field:"id"},{title:"Invoice Doument",field:"Invoice_Document",render:function(e){var t=e.Invoice_Document,a=[];return t.map((function(e,t){return a.push(i.a.createElement(m.a,{display:"flex",key:t},i.a.createElement(ka.a,{href:"/uploads/".concat(e),target:"_blank",rel:"noreferrer"},e))),null})),a}},{title:"Invoice Date",field:"Invoice_Date"}],data:[],xtraData:[],materialList:[],unitList:[],reqDetails:[],stockDetails:[],openDialog:!1},a.closeDialog=function(){a.setState({openDialog:!1})},a.getMaterialDetails=function(e,t){var n=e;return"name"===t?a.state.materialList.map((function(t){return t._id===e&&(console.log("name called"),n=t.raw_material_name),null})):a.state.materialList.map((function(t){return t._id===e&&(console.log("code called"),n=t.raw_material_code),null})),n},a.getUnit=function(e){var t=e;return a.state.unitList.map((function(a){return a._id===e&&(t=a.measuring_unit_name),null})),t},a.getDetails=function(e,t){var n=e;return console.log("reqdetails:",a.state.reqDetails),a.state.reqDetails.map((function(i){return i._id===e&&(n=a.getMaterialDetails(i.Raw_Material_Id,t)),null})),n},a.getFullDetails=function(e){var t=[];return console.log("fulldetails called"),a.state.reqDetails.map((function(a){return a._id===e&&(t=a),null})),t},a.loadDetails=function(){var e=[];console.log("fulldetails: ",a.state.stockDetails);for(var t=0;t<a.state.stockDetails[0].stock.length;t++)a.state.stockDetails[0].stock[t].Purchase_List.map((function(t){var n=a.getFullDetails(t);return console.log(t),e.push(n),null}));a.setState({data:e})},a.callDetails=function(){K.a.get("/raw-materials/raw-materials").then((function(e){a.setState({materialList:Object(Q.a)(e.data.RawMaterials)})})).catch((function(e){console.log("cannot get materialList",e)})),K.a.get("/measuring-units/measuring-units").then((function(e){a.setState({unitList:Object(Q.a)(e.data.MeasuringUnits)})})).catch((function(e){console.log("cannot get unitList",e)})),K.a.get("/request-details").then((function(e){a.setState({reqDetails:Object(Q.a)(e.data)}),K.a.get("/purchase-stocks").then((function(e){var t=[];console.log("Stocks: ",e.data.stock);for(var n=0;n<e.data.stock.length;n++)e.data.stock[n].Total_Quantity>0&&(e.data.stock[n].Raw_Material_Id=a.getDetails(e.data.stock[n].Purchase_Id,"name"),e.data.stock[n].Raw_Material_Code=a.getDetails(e.data.stock[n].Purchase_Id,"code"),e.data.stock[n].Measuring_Unit=a.getUnit(e.data.stock[n].Measuring_Unit),console.log("rm: ",e.data.stock[n].Total_Quantity),t.push(e.data.stock[n]));a.setState({data:t,stockDetails:[e.data]})}))})).catch((function(e){console.log("cannot get reqDetails",e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.callDetails()}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",mb:2,fontWeight:"bold "},"Raw Material Stock Details"),i.a.createElement(m.a,{width:"90%",display:"flex",flexDirection:"row"},i.a.createElement(V.a,{title:" ",columns:this.state.columns,data:this.state.data,style:{width:"100%",overflow:"auto",alignItems:"left"},options:{sorting:!0,headerStyle:{backgroundColor:"#3f51b5",color:"#FFF",fontSize:"medium",fontWeight:"bold"}},onRowClick:function(t,a){var n=[];e.state.reqDetails.map((function(t){return"Purchase-Completed"===t.Status&&t.Raw_Material_Code===a.Raw_Material_Code&&(t.Measuring_Unit=e.getUnit(t.Measuring_Unit),n.push(t)),null})),e.setState({xtraData:n,openDialog:!0})}})),i.a.createElement(J.a,{open:this.state.openDialog,onBackdropClick:function(){e.closeDialog()},maxWidth:"md"},i.a.createElement(Y.a,null,i.a.createElement(m.a,{fontSize:"30px",mb:2,fontWeight:"bold",display:"flex",justifyContent:"center"},"Stock Details"),i.a.createElement(V.a,{title:" ",columns:this.state.xtraColumns,data:this.state.xtraData,style:{width:"100%",overflow:"auto",alignItems:"left"},options:{sorting:!0,headerStyle:{backgroundColor:"#3f51b5",color:"#FFF",fontSize:"medium",fontWeight:"bold"}}}))))}}]),t}(n.Component),hn={box_field:{display:"flex",width:"100%",alignItems:"center",justifyContent:"center",marginBottom:"20px"},box:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",height:"80%"},box_msg:{marginBottom:"10px",padding:"10px",width:"90%",textAlign:"center",fontSize:"15px",textTransform:"uppercase "},icons:{fontSize:"40px",marginRight:"10px"},root:{display:"flex",flexDirection:"column",justifyContent:"center",width:"100%"},heading:{display:"flex",justifyContent:"center",width:"100%",paddingTop:"15px",paddingBottom:"25px"},lbox:{display:"flex",flexDirection:"row",justifyContent:"center",width:"100%"},form:{display:"flex",flexDirection:"column",width:"90%",justifyContent:"space-around"},boxSize2:{width:"100%",display:"flex",flexDirection:"row",alignContent:"center",paddingTop:"5px",paddingLeft:"5px",paddingRight:"5px",paddingBottom:"5px",minWidth:"10%",maxWidth:"100%"},lastboxSize2:{display:"flex",flexDirection:"row",alignContent:"center",paddingTop:"5px",paddingLeft:"15px",paddingRight:"15px",paddingBottom:"20px"},addbtns:{display:"flex",alignSelf:"center",paddingLeft:"10px",paddingRight:"10px"},addbtnl:{display:"flex",alignSelf:"flex-end",paddingLeft:"10px",paddingRight:"10px"},submit:{display:"flex",justifyContent:"flex-end",paddingTop:"20px",paddingBottom:"10px",marginRight:"60px",alignSelf:"flex-end"},add:{display:"flex",justifyContent:"flex-start",paddingTop:"20px",paddingBottom:"10px",marginRight:"60px",alignSelf:"flex-start"},paper:{overflow:"auto",width:"100%"},table:{overflow:"auto"}},fn=hn,_n={marginRight:"6px",marginLeft:"6px"},yn=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={Raw_Material_Id:"",Quantity:"",raw_material_code:"",Id_Type:"",Id:[{id:""}],Measuring_Unit:"",Wastage_Date:null,Description:"",errors:[],openAdd:!1,success:!1,materials:[],measuring_units:[],a_id:""},a.onAddHandler=function(){""!==a.state.Raw_Material_Id&&""!==a.state.Quantity&&""!==a.state.raw_material_code&&""!==a.state.Id_Type&&""!==a.state.Id[0].id&&null!==a.state.Wastage_Date&&""!==a.state.Description?K.a.post("/purchase-wastages/add",{Raw_Material_Id:a.state.Raw_Material_Id,Quantity:a.state.Quantity,Product_ID:a.state.Product_ID,Raw_Material_Code:a.state.raw_material_code,Id_Type:a.state.Id_Type,Id:a.state.Id,Measuring_Unit:a.state.Measuring_Unit,Wastage_Date:a.state.Wastage_Date,Description:a.state.Description}).then((function(e){console.log(e),a.props.cancel()})):alert("Please check all the fields are entered properly")},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;K.a.get("/raw-material").then((function(t){console.log(t),e.setState({materials:Object(Q.a)(t.data.RawMaterials)})})),K.a.get("/measuring-unit").then((function(t){console.log(t),e.setState({measuring_units:Object(Q.a)(t.data.MeasuringUnits)})}))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:fn.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Add Wastage"),i.a.createElement(m.a,{style:fn.root},i.a.createElement(m.a,{display:"flex",justifyContent:"center"},i.a.createElement(m.a,{style:fn.lbox},i.a.createElement(m.a,{style:fn.form},i.a.createElement(m.a,{style:fn.boxSize2},i.a.createElement(m.a,{width:"50%",style:_n},i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Material Name"),i.a.createElement(ee.a,{variant:"outlined",required:!0,name:"Raw_Material_Id",value:this.state.Raw_Material_Id,onChange:function(t){var a,n;e.state.materials.map((function(e){return e._id===t.target.value&&(a=e.raw_material_code,n=e.raw_material_measuring_unit,console.log("code: ",a)),null})),e.setState({Raw_Material_Id:t.target.value,raw_material_code:a,Measuring_Unit:n})}},this.state.materials.map((function(e,t){return i.a.createElement(W.a,{key:t,value:e._id},e.raw_material_name)}))))),i.a.createElement(m.a,{width:"50%",style:_n},i.a.createElement(X.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Quantity",required:!0,name:"Quantity",value:this.state.Quantity,onChange:function(t){e.setState({Quantity:t.target.value})}}))),i.a.createElement(m.a,{style:fn.boxSize2},i.a.createElement(m.a,{width:"50%",style:_n},i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Id Type"),i.a.createElement(ee.a,{variant:"outlined",required:!0,name:"Id_Type",value:this.state.Id_Type,onChange:function(t){e.setState({Id_Type:t.target.value})}},i.a.createElement(W.a,{value:"Id Type",disabled:!0},"Id Type"),i.a.createElement(W.a,{value:"Individual"},"Individual"),i.a.createElement(W.a,{value:"Box"},"Box")))),i.a.createElement(m.a,{width:"50%",style:_n},i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Measuring Unit"),i.a.createElement(ee.a,{name:"Measuring_Unit",variant:"outlined",required:!0,value:this.state.Measuring_Unit,onChange:function(t){e.setState({Measuring_Unit:t.target.value}),console.log(t.target.value)}},this.state.measuring_units.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.measuring_unit_name)})))))),i.a.createElement(m.a,{style:fn.boxSize2},i.a.createElement(m.a,{width:"100%",maxHeight:"100px",style:_n,flexDirection:"row",display:"flex",flexWrap:"wrap",overflow:"auto"},this.state.Id.map((function(t,a){return i.a.createElement(m.a,{display:"flex",width:"33.33%",pt:1},i.a.createElement(X.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Id",required:!0,name:"Id",value:e.state.Id[a].id,onChange:function(t){e.setState({a_id:t.target.value}),console.log(t.target.value),e.setState((function(e){e.Id[a].id=e.a_id,console.log("====",e.Id[a])}))}}),e.state.Id.length===a+1?i.a.createElement(Vt.a,{color:"secondary",style:{fontSize:"30px",margin:"4px",padding:"0px"},onClick:function(){e.setState({}),e.setState((function(e){e.Id.push({id:""}),console.log(e.Id)}))}}):i.a.createElement(Jt.a,{color:"secondary",style:{fontSize:"30px",padding:"0px",margin:"4px"},onClick:function(){e.setState({}),e.setState((function(e){e.Id.splice(a,1),console.log(e.Id)}))}}))})).reverse())),i.a.createElement(m.a,{style:fn.boxSize2},i.a.createElement(m.a,{width:"100%",style:_n},i.a.createElement(ue,{id:"4",variant:"outlined",Name:"Wastage Date",value:this.state.Wastage_Date,setDate:function(t){e.setState({Wastage_Date:t}),console.log(t)}}))),i.a.createElement(m.a,{style:fn.boxSize2},i.a.createElement(m.a,{width:"100%",style:_n},i.a.createElement(X.a,{multiline:!0,rowsMax:"3",variant:"outlined",fullWidth:!0,label:"Reasons",size:"small",value:this.state.Description,onChange:function(t){e.setState({Description:t.target.value}),console.log(t.target.value)}}))))))),i.a.createElement(m.a,{display:" flex",pt:2,pb:2,m:0,justifyContent:"flex-end",width:"87%"},i.a.createElement(m.a,{display:" flex"},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",style:{fontWeight:"bold"},onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{marginLeft:"10px"},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",style:{fontWeight:"bold"},size:"large",onClick:function(){e.onAddHandler()}},"Submit"))))}}]),t}(n.Component),bn=hn,En={marginRight:"6px",marginLeft:"6px"},xn=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={_id:"",Product_Name:"",Raw_Material_Id:"",Quantity:"",Raw_Material_Code:"",Id_Type:"",Id:[{id:""}],Measuring_Unit:"",Wastage_Date:"",Description:"",errors:[],materials:[],products:[],measuring_units:[],A_Id:""},a.onEditHandler=function(){K.a.post("/wastage/edit",{_id:a.state._id,Wastage_Type:a.state.Wastage_Type,Product_Name:a.state.Product_Name,Raw_Material_Id:a.state.Raw_Material_Id,Quantity:a.state.Quantity,Product_ID:a.state.Product_ID,Raw_Material_Code:a.state.Raw_Material_Code,Id_Type:a.state.Id_Type,Id:a.state.Id,Measuring_Unit:a.state.Measuring_Unit,Wastage_Date:a.state.Wastage_Date,Description:a.state.Description}).then((function(e){console.log(e.data),a.props.cancel()})).catch((function(e){return console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;K.a.get("/measuring-unit").then((function(t){console.log(t),e.setState({measuring_units:Object(Q.a)(t.data.MeasuringUnits)})})),K.a.get("/raw-material").then((function(t){console.log(t),e.setState({materials:Object(Q.a)(t.data.RawMaterials),Raw_Material_Id:e.props.wastage.Raw_Material_Id})})),this.setState({Wastage_Type:this.props.wastage.Wastage_Type,Quantity:this.props.wastage.Quantity,Product_ID:this.props.wastage.Product_ID,Raw_Material_Code:this.props.wastage.raw_material_code,Id_Type:this.props.wastage.Id_Type,Id:this.props.wastage.Id,Measuring_Unit:this.props.wastage.Measuring_Unit,Wastage_Date:this.props.wastage.Wastage_Date,Description:this.props.wastage.Description,_id:this.props.wastage._id})}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:bn.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Edit Wastage"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:bn.box_msg,bgcolor:"#f73067",key:t},e)})):!0===this.state.success?i.a.createElement(m.a,{bgcolor:"#3df45b",style:bn.box_msg},"Successful"):null,i.a.createElement(m.a,{style:bn.root},i.a.createElement(m.a,{display:"flex",justifyContent:"center"},i.a.createElement(m.a,{style:bn.lbox},i.a.createElement(m.a,{style:bn.form},i.a.createElement(m.a,{style:bn.boxSize2},i.a.createElement(m.a,{width:"50%",style:En},i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Material Name"),i.a.createElement(ee.a,{disabled:this.props.disabled.Raw_Material_Id,variant:"outlined",required:!0,name:"Raw_Material_Id",value:this.state.Raw_Material_Id,onChange:function(t){var a;e.state.materials.map((function(e){return e._id===t.target.value&&(a=e.raw_material_code,console.log("code: ",a)),null})),e.setState({Raw_Material_Id:t.target.value,Raw_Material_Code:a})}},this.state.materials.map((function(e,t){return i.a.createElement(W.a,{key:t,value:e._id},e.raw_material_name)}))))),i.a.createElement(m.a,{width:"50%",style:En},i.a.createElement(X.a,{disabled:this.props.disabled.Quantity,size:"small",fullWidth:!0,variant:"outlined",label:"Quantity",required:!0,name:"Quantity",value:this.state.Quantity,onChange:function(t){e.setState({Quantity:t.target.value})}}))),i.a.createElement(m.a,{style:bn.boxSize2},i.a.createElement(m.a,{width:"50%",style:En},i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Id Type"),i.a.createElement(ee.a,{disabled:this.props.disabled.Id_Type,variant:"outlined",required:!0,name:"Id_Type",value:this.state.Id_Type,onChange:function(t){e.setState({Id_Type:t.target.value})}},i.a.createElement(W.a,{value:"Id Type",disabled:!0},"Id Type"),i.a.createElement(W.a,{value:"Individual"},"Individual"),i.a.createElement(W.a,{value:"Box"},"Box")))),i.a.createElement(m.a,{width:"50%",style:En},i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Measuring Unit"),i.a.createElement(ee.a,{disabled:this.props.disabled.Measuring_Unit,name:"Measuring_Unit",variant:"outlined",required:!0,value:this.state.Measuring_Unit,onChange:function(t){e.setState({Measuring_Unit:t.target.value})}},this.state.measuring_units.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.measuring_unit_name)})))))),i.a.createElement(m.a,{style:bn.boxSize2},i.a.createElement(m.a,{width:"100%",style:En,flexDirection:"row",display:"flex",flexWrap:"wrap",overflow:"auto",maxHeight:"100px"},this.state.Id.map((function(t,a){return i.a.createElement(m.a,{display:"flex",width:"33.33%",pt:1},i.a.createElement(X.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Id",required:!0,name:"Id",value:e.state.Id[a].id,disabled:e.props.disabled.Id,onFocus:function(){console.log("wiiid:",e.state.Id[a].Id)},onChange:function(t){e.setState({A_Id:t.target.value}),console.log(t.target.value),e.setState((function(e){e.Id[a].id=e.A_Id,console.log(e.Id[a])}))}}),e.state.Id.length===a+1?i.a.createElement(Vt.a,{color:"secondary",style:{fontSize:"30px",margin:"4px",padding:"0px"},onClick:function(){e.setState({}),e.setState((function(e){e.Id.push({id:""}),console.log(e.Id)}))}}):i.a.createElement(Jt.a,{color:"secondary",style:{fontSize:"30px",margin:"4px",padding:"0px"},onClick:function(){e.setState({}),e.setState((function(e){e.Id.splice(a,1),console.log(e.Id)}))}}))})).reverse())),i.a.createElement(m.a,{style:bn.boxSize2},i.a.createElement(m.a,{width:"100%",style:En},i.a.createElement(ue,{disabled:this.props.disabled.Wastage_Date,id:"4",variant:"outlined",name:"Wastage Date",value:this.state.Wastage_Date,onChange:function(t){e.setState({Wastage_Date:t.target.value})}}))),i.a.createElement(m.a,{style:bn.boxSize2},i.a.createElement(m.a,{style:En,display:"flex",alignItems:"center",width:"100%"},i.a.createElement(X.a,{disabled:this.props.disabled.Description,size:"small",multiline:!0,rowsMax:"3",variant:"outlined",fullWidth:!0,label:"Reasons",value:this.state.Description,onChange:function(t){e.setState({Description:t.target.value})}}))))))),i.a.createElement(m.a,{display:" flex",pt:2,pb:2,m:0,justifyContent:"flex-end",width:"87%"},i.a.createElement(m.a,{display:" flex"},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",style:{fontWeight:"bold"},onClick:function(){e.props.cancel()}},"close")),i.a.createElement(m.a,{marginLeft:"10px",display:this.props.disabled.btnDisplay},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",fontWeight:"bold",onClick:this.onEditHandler},"Update"))))}}]),t}(n.Component),vn=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).EditData={},a.state={columns:[{title:"Material Name",field:"Item_Name"},{title:"Quantity",field:"Quantity"},{title:"Measuring Unit",field:"Measuring_Unit"}],data:[],openAdd:!1,openEdit:!1,fieldDisabled:{Wastage_Type:!1,Product_Name:!1,Raw_Material_Id:!1,Quantity:!1,Id_Type:!1,Id:!1,Measuring_Unit:!1,Wastage_Date:!1,Description:!1,btnDisplay:"none",btnText:"Close"}},a.OnEditHandler=function(e,t){K.a.post("/purchase-wastages",{_id:t._id}).then((function(e){a.EditData=Object(F.a)({},e.data[0]),console.log(a.EditData),a.setState({openEdit:!0})}))},a.handleClose=function(){K.a.get("/purchase-wastages").then((function(e){console.log(e.data);for(var t=function(t){e.data[t].id=t+1,K.a.post("/measuring-unit",{_id:e.data[t].Measuring_Unit}).then((function(n){console.log(n),n.data.MeasuringUnit[0]?(console.log(n.data.MeasuringUnit[0].measuring_unit_name),e.data[t].Measuring_Unit=n.data.MeasuringUnit[0].measuring_unit_name,a.setState({data:Object(Q.a)(e.data)})):(e.data[t].Measuring_Unit="problem loading Measuring Unit",a.setState({data:Object(Q.a)(e.data)}))})),K.a.post("/raw-material",{_id:e.data[t].Raw_Material_Id}).then((function(n){console.log(n),n.data.RawMaterial[0]?(console.log(n.data.RawMaterial[0].raw_material_name),e.data[t].Item_Name=n.data.RawMaterial[0].raw_material_name,a.setState({data:Object(Q.a)(e.data)})):(e.data[t].Item_Name="problem loading",a.setState({data:Object(Q.a)(e.data)}))}))},n=0;n<e.data.length;n++)t(n)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.handleClose()}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",mb:1,fontWeight:"bold"},"Wastage Details"),i.a.createElement(m.a,{width:"90%",display:"flex",flexDirection:"row"},i.a.createElement(M.a,{variant:"contained",color:"primary",style:{marginBottom:"10px",display:"flex",marginRight:"10px"},size:"small",onClick:function(){e.setState({openAdd:!0})}},"Add")),i.a.createElement(V.a,{title:" ",columns:this.state.columns,data:this.state.data,style:{width:"90%",maxHeight:"500px",overflow:"auto"},options:{sorting:!0,headerStyle:{backgroundColor:"#3f51b5",color:"#FFF",fontSize:"medium",fontWeight:"bold"}},onRowClick:function(t,a){e.setState({fieldDisabled:{Wastage_Type:!0,Product_Name:!0,Raw_Material_Id:!0,Quantity:!0,Id_Type:!0,Id:!0,Measuring_Unit:!0,Wastage_Date:!0,Description:!0,btnDisplay:"none",btnText:"Close"}}),e.OnEditHandler(t,a)}}),i.a.createElement(J.a,{open:this.state.openAdd,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,null,i.a.createElement(yn,{cancel:function(){e.setState({openAdd:!1}),e.handleClose()}}))),i.a.createElement(J.a,{open:this.state.openEdit,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,null,i.a.createElement(xn,{disabled:this.state.fieldDisabled,wastage:this.EditData,cancel:function(){e.setState({openEdit:!1}),e.handleClose()}}))))}}]),t}(n.Component),Sn=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={width:"17vw",dashboardItems:[]},a.permissions=JSON.parse(sessionStorage.getItem("permissions")),a.contents=["Manage Purchase","Manage Purchase Stocks","Manage Purchase Wastages"],a.logout=function(){E.logout()&&a.props.history.push("/")},a.dashboardMin=function(){a.setState({width:".1px"})},a.home=function(){a.props.history.push("/home")},a.dashboardMax=function(){a.setState({width:"17vw"})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.contents.map((function(t){if(e.permissions.find((function(e){return e===t}))){var a=t.toLowerCase().replace(/ /g,"-");e.setState({}),e.setState((function(e){e.dashboardItems.push({Name:t,Path:a})}))}return null}))}},{key:"render",value:function(){return i.a.createElement(m.a,null,i.a.createElement(B,{name:"Purchase",logout:this.logout,home:this.home,dashboardMax:this.dashboardMax,dashboardMin:this.dashboardMin}),i.a.createElement(m.a,{display:"flex"},i.a.createElement(b,{items:this.state.dashboardItems,componentName:"home/purchase",width:this.state.width,dashboardMin:this.dashboardMin}),i.a.createElement(m.a,{display:"flex",flexDirection:"column",alignItems:"center",width:"100%",marginTop:"10px"},i.a.createElement(_a.b,{exact:!0,path:"/home/purchase/manage-purchase",component:pn}),i.a.createElement(_a.b,{exact:!0,path:"/home/purchase/manage-purchase-stocks",component:gn}),i.a.createElement(_a.b,{exact:!0,path:"/home/purchase/manage-purchase-wastages",component:vn}))))}}]),t}(n.Component),Cn={box_field:{display:"flex",width:"100%",alignItems:"center",justifyContent:"center",marginBottom:"20px"},box:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",height:"80%"},box_msg:{marginBottom:"10px",padding:"10px",width:"90%",textAlign:"center",fontSize:"15px",textTransform:"uppercase "},icons:{fontSize:"40px",marginRight:"10px"},root:{display:"flex",flexDirection:"column",justifyContent:"center",width:"100%"},heading:{display:"flex",justifyContent:"center",width:"100%",paddingTop:"15px",paddingBottom:"25px"},lbox:{display:"flex",flexDirection:"row",justifyContent:"center",width:"100%"},form:{display:"flex",flexDirection:"column",width:"90%",justifyContent:"space-around"},boxSize2:{width:"100%",display:"flex",flexDirection:"row",alignContent:"center",paddingTop:"5px",paddingLeft:"5px",paddingRight:"5px",paddingBottom:"5px",minWidth:"10%",maxWidth:"100%"},lastboxSize2:{display:"flex",flexDirection:"row",alignContent:"center",paddingTop:"5px",paddingLeft:"15px",paddingRight:"15px",paddingBottom:"20px"},addbtns:{display:"flex",alignSelf:"center",paddingLeft:"10px",paddingRight:"10px"},addbtnl:{display:"flex",alignSelf:"flex-end",paddingLeft:"10px",paddingRight:"10px"},submit:{display:"flex",justifyContent:"flex-end",paddingTop:"20px",paddingBottom:"10px",marginRight:"60px",alignSelf:"flex-end"},add:{display:"flex",justifyContent:"flex-start",paddingTop:"20px",paddingBottom:"10px",marginRight:"60px",alignSelf:"flex-start"},paper:{overflow:"auto",width:"100%"},table:{overflow:"auto"}},wn={marginRight:"6px",marginLeft:"6px"},Dn=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={_id:"",Raw_Material_Id:"Raw_material_Id",Raw_Material_Code:"",Quantity:"",Measuring_Unit:"",Priority:"",Due_Date:null,Status:"",Comments:"no comments",Total_Price:"",Vendor:"",errors:[],success:!1,measuring_units:[],materials:[],vendorList:[],vendorInfo:!1,logComments:"no comments",To:"",file:""},a.openDialog=function(){a.setState({openDialog:!0})},a.closeDialog=function(){a.setState({openDialog:!1})},a.onEditHandler=function(){K.a.post("/log/comment",{logs:{reqId:e.Finance._id,from:sessionStorage.getItem("Role ID"),to:a.state.To,comments:a.state.Comments}}).then((function(e){console.log("Comments: ",e),K.a.post("/request-details/edit",{_id:a.state._id,Raw_Material_Id:a.state.Raw_Material_Id,Raw_Material_Code:a.state.Raw_Material_Code,Quantity:a.state.Quantity,Measuring_Unit:a.state.Measuring_Unit,Priority:a.state.Priority,Due_Date:a.state.Due_Date,Status:a.state.Status,Comments:a.state.Comments,Vendor:a.state.Vendor,Total_Price:a.state.Total_Price,Quotation_Document_URL:a.props.Finance.Quotation_Document_URL})})).then(a.props.cancel()).catch((function(e){return console.log(e)}))},a.vendorInfo=function(){var e=[];return a.state.vendorList.map((function(t,n){return t._id===a.state.Vendor?e.push(i.a.createElement(m.a,{key:n},i.a.createElement("h4",{style:{padding:"0px",margin:"0px"}},"Vendor:"),"".concat(t.vendor_name," - ").concat(t.vendor_mobile_no," - ").concat(t.vendor_email)," ",i.a.createElement("br",null),i.a.createElement("h4",{style:{padding:"0px",margin:"0px"}},"Point of contacts:"),t.vendor_point_of_contact.map((function(e,t){return i.a.createElement(m.a,{key:t},e.name+" ( "+e.designation+" ) - "+e.mobile_no)})))):console.log("vendor not match"),null})),e},a.loadFile=function(){var e=[];return a.props.Finance.Quotation_Document_URL.map((function(t,a){return e.push(i.a.createElement(m.a,{display:"flex",key:a},i.a.createElement(ka.a,{href:"/uploads/".concat(t),target:"_blank",rel:"noreferrer"},t))),null})),e},a.loadStatus=function(){return["ForwardedToFinance","Finance-Accepted","Finance-Rejected","ForwardedToAdmin","ForwardedToPurchase"].map((function(e,t){return i.a.createElement(W.a,{key:t,value:e,disabled:"ForwardedToFinance"===e},e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;K.a.get("/raw-materials/raw-materials").then((function(t){console.log(t),e.setState({materials:Object(Q.a)(t.data.RawMaterials)})})),K.a.get("/vendors/vendors").then((function(t){console.log(t),e.setState({vendorList:Object(Q.a)(t.data.Vendors)})})),K.a.get("/measuring-units/measuring-units").then((function(t){console.log(t),e.setState({measuring_units:Object(Q.a)(t.data.MeasuringUnits)})})),this.setState({_id:this.props.Finance._id,Raw_Material_Id:this.props.Finance.Raw_Material_Id,Raw_Material_Code:this.props.Finance.Raw_Material_Code,Quantity:this.props.Finance.Quantity,Measuring_Unit:this.props.Finance.Measuring_Unit,Priority:this.props.Finance.Priority,Due_Date:this.props.Finance.Due_Date,Status:this.props.Finance.Status,Comments:this.state.Comments,Vendor:this.props.Finance.Vendor,Total_Price:this.props.Finance.Total_Price,Quotation_Document_URL:this.props.Finance.Quotation_Document_URL})}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:Cn.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Request Details"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:Cn.box_msg,bgcolor:"#f73067",key:t},e)})):!0===this.state.success?i.a.createElement(m.a,{bgcolor:"#3df45b",style:Cn.box_msg},"Successful"):null,i.a.createElement(m.a,{style:Cn.root},i.a.createElement(m.a,{display:"flex",justifyContent:"center"},i.a.createElement(m.a,{style:Cn.lbox},i.a.createElement(m.a,{style:Cn.form},i.a.createElement(m.a,{style:Cn.boxSize2},i.a.createElement(m.a,{width:"50%",style:wn},i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Material Name"),i.a.createElement(ee.a,{disabled:!0,variant:"outlined",required:!0,name:"Raw_Material_Id",value:this.state.Raw_Material_Id,onChange:function(t){var a;e.state.materials.map((function(e){return e._id===t.target.value&&(a=e.raw_material_code,console.log("code: ",a)),null})),e.setState({Raw_Material_Id:t.target.value,Raw_Material_Code:a})}},this.state.materials.map((function(e,t){return i.a.createElement(W.a,{key:t,value:e._id},e.raw_material_name)}))))),i.a.createElement(m.a,{width:"50%",style:wn},i.a.createElement(X.a,{disabled:!0,size:"small",fullWidth:!0,variant:"outlined",label:"Material_Code",required:!0,name:"Material_Code",value:this.state.Raw_Material_Code,onChange:function(t){e.setState({Material_Code:t.target.value}),console.log(t.target.value)}}))),i.a.createElement(m.a,{style:Cn.boxSize2},i.a.createElement(m.a,{width:"50%",style:wn},i.a.createElement(X.a,{disabled:this.props.disabled.quantity,size:"small",fullWidth:!0,variant:"outlined",label:"Quantity",required:!0,name:"Quantity",value:this.state.Quantity,onChange:function(t){e.setState({Quantity:t.target.value})}})),i.a.createElement(m.a,{width:"50%",style:wn},i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Measuring Unit"),i.a.createElement(ee.a,{disabled:this.props.disabled.unit,name:"Measuring_Unit",variant:"outlined",required:!0,value:this.state.Measuring_Unit,onChange:function(t){e.setState({Measuring_Unit:t.target.value}),console.log(t.target.value)}},this.state.measuring_units.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.measuring_unit_name)})))))),i.a.createElement(m.a,{style:Cn.boxSize2},i.a.createElement(m.a,{width:"50%",style:wn},i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Vendor Name"),i.a.createElement(ee.a,{disabled:this.props.disabled.vendor,variant:"outlined",required:!0,name:"Vendor",value:this.state.Vendor,onChange:function(t){e.setState({Vendor:t.target.value})}},this.state.vendorList.map((function(e,t){return i.a.createElement(W.a,{key:t,value:e._id},e.vendor_name)}))))),i.a.createElement(m.a,{width:"50%",style:wn},i.a.createElement(X.a,{disabled:this.props.disabled.vendor,size:"small",fullWidth:!0,variant:"outlined",label:"Total_Price",required:!0,name:"Total_Price",value:this.state.Total_Price,onChange:function(t){e.setState({Total_Price:t.target.value})}}))),i.a.createElement(m.a,{style:Cn.boxSize2},i.a.createElement(m.a,{width:"50%",style:wn},i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Priority"),i.a.createElement(ee.a,{disabled:!0,variant:"outlined",required:!0,name:"Priority",value:this.state.Priority,onChange:function(t){e.setState({Priority:t.target.value})}},i.a.createElement(W.a,{value:"Priority",disabled:!0},"Priority"),i.a.createElement(W.a,{value:"Low"},"Low"),i.a.createElement(W.a,{value:"Medium"},"Medium"),i.a.createElement(W.a,{value:"High"},"High")))),i.a.createElement(m.a,{width:"50%",style:wn},i.a.createElement(ue,{disabled:!0,id:"4",variant:"outlined",Name:"Due_Date",value:this.state.Due_Date,setDate:function(t){e.setState({Due_Date:t}),console.log(t)}}))),i.a.createElement(m.a,{style:Cn.boxSize2},i.a.createElement(m.a,{width:"100%",style:wn},i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Status"),i.a.createElement(ee.a,{disabled:this.props.disabled.status,variant:"outlined",required:!0,name:"Status",value:this.state.Status,onChange:function(t){e.setState({Status:t.target.value}),"ForwardedToAdmin"===t.target.value?(e.setState((function(e){e.To="Admin"})),console.log("if To state setted: ",e.state.To)):"ForwardedToPurchase"!==t.target.value&&"Finance-Accepted"!==t.target.value&&"Finance-Rejected"!==t.target.value||e.setState((function(e){e.To="Purchase"}))}},this.loadStatus()))),i.a.createElement(m.a,{width:"100%",style:wn,display:"flex",flexDirection:"column"},i.a.createElement(X.a,{disabled:this.props.disabled.comment,size:"small",multiline:!0,rowsMax:"3",variant:"outlined",fullWidth:!0,label:"Comment",value:this.state.Comments,onChange:function(t){e.setState({Comments:t.target.value}),console.log(t.target.value)}}))),i.a.createElement(m.a,{style:Cn.boxSize2,ml:2},this.loadFile()))))),i.a.createElement(m.a,{pt:2,pb:2,m:0,display:"flex",justifyContent:"flex-end",width:"87%"},i.a.createElement(m.a,{display:"flex"},i.a.createElement(M.a,{variant:"contained",color:"primary",size:"large",fontWeight:"Bold",onClick:function(){e.props.cancel()},style:{fontWeight:"bold"}},this.props.disabled.btnText)),i.a.createElement(m.a,{marginLeft:"10px",display:""!==this.props.Finance.Vendor?"flex":"none"},i.a.createElement(M.a,{variant:"contained",color:"primary",size:"large",fontWeight:"bold",onClick:function(){e.setState({vendorInfo:!0}),e.openDialog()},style:{fontWeight:"bold"}},"Vendor Info")),i.a.createElement(m.a,{marginLeft:"10px",display:this.props.disabled.btnDisplay},i.a.createElement(M.a,{variant:"contained",color:"primary",size:"large",fontWeight:"bold",onClick:this.onEditHandler,style:{fontWeight:"bold"}},"Submit"))),i.a.createElement(J.a,{open:this.state.openDialog,onBackdropClick:function(){return!0===e.state.vendorInfo?e.closeDialog():i.a.createElement(m.a,null)},maxWidth:"sm",fullWidth:!0},i.a.createElement(Y.a,null,i.a.createElement(m.a,{display:"flex",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"25px",mb:3,textAlign:"center",fontWeight:"bold"},"Vendor Information"),this.vendorInfo()))))}}]),t}(n.Component),Mn=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).EditData={},a.state={columns:[{title:"Material Name",field:"Raw_Material_Id"},{title:"Quantity",field:"Quantity"},{title:"Measuring Unit",field:"Measuring_Unit"},{title:"Status",field:"Status"},{title:"Comments",field:"Comments"}],data:[],openAdd:!1,openEdit:!1,alert:!1,materialList:[],unitList:[],vendorList:[],fieldDisabled:{quantity:!1,unit:!1,vendor:!1,amount:!1,status:!1,comment:!1,btnDisplay:"none",btnText:"Close",from:"",to:"",uploadFile:"flex"},logComments:"no commments"},a.closeAlert=function(){a.setState({alert:!1})},a.loadDetails=function(){K.a.get("/request-details").then((function(e){var t=[];console.log("Details: ",e.data);for(var n=0;n<e.data.length;n++)e.data[n].Raw_Material_Id=a.getMaterialName(e.data[n].Raw_Material_Id),e.data[n].Measuring_Unit=a.getUnit(e.data[n].Measuring_Unit),e.data[n].Vendor=a.getVendor(e.data[n].Vendor),t.push(e.data[n]);a.setState({data:t})}))},a.OnEditHandler=function(e,t){K.a.post("/request-details",{_id:t._id}).then((function(e){a.EditData=Object(F.a)({},e.data[0]),a.setState({openEdit:!0})}))},a.getMaterialName=function(e){var t=e;return a.state.materialList.map((function(a){return a._id===e&&(t=a.raw_material_name),null})),t},a.getUnit=function(e){var t=e;return a.state.unitList.map((function(a){return a._id===e&&(t=a.measuring_unit_name),null})),t},a.getVendor=function(e){var t=e;return""!==e?a.state.vendorList.map((function(a){return a._id===e&&(t=a.vendor_name),null})):t="undefined",t},a.handleClose=function(){K.a.get("/raw-materials/raw-materials").then((function(e){a.setState({materialList:Object(Q.a)(e.data.RawMaterials)})})).catch((function(e){console.log("cannot get materialList",e)})),K.a.get("/measuring-units/measuring-units").then((function(e){a.setState({unitList:Object(Q.a)(e.data.MeasuringUnits)})})).catch((function(e){console.log("cannot get unitList",e)})),K.a.get("/vendors/vendors").then((function(e){a.setState({vendorList:Object(Q.a)(e.data.Vendors)})})).catch((function(e){console.log("cannot get vendorList",e)})),K.a.get("/request-details").then((function(e){var t=[];console.log("Details: ",e.data);for(var n=0;n<e.data.length;n++)"ForwardedToFinance"===e.data[n].Status&&(e.data[n].Raw_Material_Id=a.getMaterialName(e.data[n].Raw_Material_Id),e.data[n].Measuring_Unit=a.getUnit(e.data[n].Measuring_Unit),e.data[n].Vendor=a.getVendor(e.data[n].Vendor),t.push(e.data[n]));a.setState({data:t})}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.handleClose()}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",mb:2,fontWeight:"bold"},"Request Details"),i.a.createElement(m.a,{width:"90%",display:"flex",flexDirection:"row"},i.a.createElement(M.a,{variant:"contained",color:"primary",style:{marginBottom:"10px",display:"flex",marginRight:"10px"},size:"small",onClick:this.loadDetails},"Purchase Details"),i.a.createElement(M.a,{variant:"contained",color:"primary",size:"small",style:{marginBottom:"10px",display:"flex"},onClick:this.handleClose},"Request Details")),i.a.createElement(V.a,{title:" ",columns:this.state.columns,data:this.state.data,style:{width:"90%",maxHeight:"500px",overflow:"auto"},options:{sorting:!0,headerStyle:{backgroundColor:"#3f51b5",color:"#FFF",fontSize:"medium",fontWeight:"bold"}},actions:[{icon:"edit",tooltip:"Edit User",onClick:function(t,a){"ForwardedToFinance"===a.Status?(e.setState({logComments:a.Comments,from:a.From,to:a.To,uploadFile:"flex",fieldDisabled:{quantity:!1,unit:!1,vendor:!0,amount:!0,status:!1,comment:!1,btnDisplay:"flex",btnText:"Cancel"}}),e.OnEditHandler(t,a)):e.setState({alert:!0})}}],onRowClick:function(t,a){e.setState({logComments:a.Comments,from:a.From,to:a.To,uploadFile:"none",fieldDisabled:{quantity:!0,unit:!0,vendor:!0,amount:!0,status:!0,comment:!0,btnDisplay:"none",btnText:"Close"}}),e.OnEditHandler(t,a)}}),i.a.createElement(J.a,{open:this.state.openEdit,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,{style:{padding:"20px"}},i.a.createElement(Dn,{disabled:this.state.fieldDisabled,dept:"Finance",uploadFile:"none",From:this.state.from,To:this.state.to,logComments:this.state.logComments,Finance:this.EditData,cancel:function(){e.setState({openEdit:!1}),e.handleClose()}}))),i.a.createElement(Se.a,{open:this.state.alert,autoHideDuration:3e3,anchorOrigin:{vertical:"bottom",horizontal:"center"},onClose:this.closeAlert},i.a.createElement(Ce.a,{severity:"error",variant:"filled",onClose:this.closeAlert},"You cannot modify / reject this record")))}}]),t}(n.Component),kn=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={width:"17vw",dashboardItems:[]},a.permissions=JSON.parse(sessionStorage.getItem("permissions")),a.contents=["Manage Finance"],a.logout=function(){E.logout()&&a.props.history.push("/")},a.dashboardMin=function(){a.setState({width:".1px"})},a.home=function(){a.props.history.push("/home")},a.dashboardMax=function(){a.setState({width:"17vw"})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.contents.map((function(t){if(e.permissions.find((function(e){return e===t}))){var a=t.toLowerCase().replace(/ /g,"-");e.setState({}),e.setState((function(e){e.dashboardItems.push({Name:t,Path:a})}))}return null}))}},{key:"render",value:function(){return i.a.createElement(m.a,null,i.a.createElement(B,{name:"Finance",logout:this.logout,home:this.home,dashboardMax:this.dashboardMax,dashboardMin:this.dashboardMin}),i.a.createElement(m.a,{display:"flex"},i.a.createElement(b,{items:this.state.dashboardItems,componentName:"home/finance",width:this.state.width,dashboardMin:this.dashboardMin}),i.a.createElement(m.a,{display:"flex",flexDirection:"column",alignItems:"center",width:"100%",marginTop:"10px"},i.a.createElement(_a.b,{exact:!0,path:"/home/finance/manage-finance",component:Mn}))))}}]),t}(n.Component),jn={box_field:{display:"flex",width:"100%",alignItems:"center",justifyContent:"center",marginBottom:"20px"},box:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column",height:"80%"},box_msg:{marginBottom:"10px",padding:"10px",width:"90%",textAlign:"center",fontSize:"15px",textTransform:"uppercase "},icons:{fontSize:"40px",marginRight:"10px"},root:{display:"flex",flexDirection:"column",justifyContent:"center",width:"100%"},heading:{display:"flex",justifyContent:"center",width:"100%",paddingTop:"15px",paddingBottom:"25px"},lbox:{display:"flex",flexDirection:"row",justifyContent:"center",width:"100%"},form:{display:"flex",flexDirection:"column",width:"90%",justifyContent:"space-around"},boxSize2:{display:"flex",flexDirection:"row",alignContent:"center",paddingTop:"5px",paddingLeft:"5px",paddingRight:"5px",paddingBottom:"5px",minWidth:"10%",maxWidth:"100%"},lastboxSize2:{display:"flex",flexDirection:"row",alignContent:"center",paddingTop:"5px",paddingLeft:"15px",paddingRight:"15px",paddingBottom:"20px"},addbtns:{display:"flex",alignSelf:"center",paddingLeft:"10px",paddingRight:"10px"},addbtnl:{display:"flex",alignSelf:"flex-end",paddingLeft:"10px",paddingRight:"10px"},submit:{display:"flex",justifyContent:"flex-end",paddingTop:"20px",paddingBottom:"10px",marginRight:"60px",alignSelf:"flex-end"},add:{display:"flex",justifyContent:"flex-start",paddingTop:"20px",paddingBottom:"10px",marginRight:"60px",alignSelf:"flex-start"},paper:{overflow:"auto",width:"100%"},table:{overflow:"auto"}},On=jn,Rn={marginRight:"6px",marginLeft:"6px"},Wn=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={Product_Name:"",Product_ID:"",Quantity:"",Measuring_Unit:"",Raw_Material_Details:[{material_name:"",material_code:"",measuring_unit:"",quantity:"",available_stock:""}],rmd_material_name:"",rmd_material_code:"",rmd_measuring_unit:"",rmd_quantity:" ",rmd_available_stock:"",errors:[],openAdd:!1,success:!1,measuring_units:[],products:[],materials:[],rmstocks:[],code:""},a.onAddHandler=function(){console.log("Ready to add"),K.a.post("/pre-production/add",{Product_ID:a.state.Product_ID,Product_Name:a.state.Product_Name,Quantity:a.state.Quantity,Measuring_Unit:a.state.Measuring_Unit,Raw_Material_Details:a.state.Raw_Material_Details}).then((function(e){console.log(e),a.props.cancel()}))},a.getUnit=function(e){var t=e;return a.state.measuring_units.map((function(a){return a._id===e&&(t=a.measuring_unit_name),null})),t},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;K.a.get("/production-raw-material-stock").then((function(t){console.log(t),e.setState({rmstocks:Object(Q.a)(t.data)}),console.log(e.state.rmstocks)})),K.a.get("/measuring-units/measuring-units").then((function(t){console.log(t),e.setState({measuring_units:Object(Q.a)(t.data.MeasuringUnits)})})),K.a.get("/products/products").then((function(t){console.log(t),e.setState({products:Object(Q.a)(t.data.Products)})})),K.a.get("/raw-materials/raw-materials").then((function(t){console.log(t),e.setState({materials:Object(Q.a)(t.data.RawMaterials)})}))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:On.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"PreProduction Details"),i.a.createElement(m.a,{style:On.root},i.a.createElement(m.a,{display:"flex",justifyContent:"center"},i.a.createElement(m.a,{style:On.lbox},i.a.createElement(m.a,{style:On.form},i.a.createElement(m.a,{style:On.boxSize2},i.a.createElement(m.a,{width:"50%",style:Rn},i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Product Name"),i.a.createElement(ee.a,{variant:"outlined",required:!0,name:"Product_Name",value:this.state.Product_Name,onChange:function(t){var a,n;e.state.products.map((function(e){return e._id===t.target.value&&(a=e.product_code,n=e.product_measuring_unit,console.log("Procode: ",a)),null})),e.setState({Product_Name:t.target.value,Product_ID:a,Measuring_Unit:n})}},this.state.products.map((function(e,t){return i.a.createElement(W.a,{key:t,value:e._id},e.product_name)}))))),i.a.createElement(m.a,{width:"50%",style:Rn},i.a.createElement(X.a,{disabled:!0,size:"small",fullWidth:!0,variant:"outlined",label:"Product_ID",required:!0,name:"Product_ID",value:this.state.Product_ID,onChange:function(t){e.setState({Product_ID:t.target.value}),console.log(t.target.value)}}))),i.a.createElement(m.a,{style:On.boxSize2},i.a.createElement(m.a,{width:"50%",style:Rn},i.a.createElement(X.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Quantity",required:!0,name:"Quantity",value:this.state.Quantity,onChange:function(t){e.setState({Quantity:t.target.value})}})),i.a.createElement(m.a,{width:"50%",style:Rn},i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Measuring Unit"),i.a.createElement(ee.a,{disabled:!0,name:"Measuring_Unit",variant:"outlined",required:!0,value:this.state.Measuring_Unit,onChange:function(t){e.setState({Measuring_Unit:t.target.value}),console.log(t.target.value)}},this.state.measuring_units.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.measuring_unit_name)})))))),i.a.createElement(m.a,{style:On.boxSize2},i.a.createElement(m.a,{style:Rn,width:"100%"},i.a.createElement("h3",null,"Raw Material Required:"))),i.a.createElement(m.a,{flexWrap:"wrap",maxHeight:"200px",overflow:"auto",style:On.boxSize2},this.state.Raw_Material_Details.map((function(t,a){return i.a.createElement(m.a,{style:On.boxSize2,key:a},i.a.createElement(m.a,{style:On.box,marginRight:"10px"},i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Material Name"),i.a.createElement(ee.a,{variant:"outlined",required:!0,name:"material_name",value:e.state.Raw_Material_Details[a].material_name,onChange:function(t){var n,i,o;console.log(e.state.rmstocks),t.persist(),e.state.rmstocks.map((function(e){return e.Raw_Material_Id===t.target.value&&(n=e.Raw_Material_Code,i=e.Measuring_Unit,o=e.Quantity),null})),e.setState({rmd_material_name:t.target.value,rmd_material_code:n,rmd_measuring_unit:e.getUnit(i),rmd_available_stock:o}),e.setState((function(e){console.log("Hello"),e.Raw_Material_Details[a].material_name=e.rmd_material_name,e.Raw_Material_Details[a].material_code=e.rmd_material_code,e.Raw_Material_Details[a].measuring_unit=e.rmd_measuring_unit,e.Raw_Material_Details[a].available_stock=e.rmd_available_stock,console.log(e.Raw_Material_Details[a])}))}},e.state.rmstocks.map((function(t,a){return i.a.createElement(W.a,{key:a,value:t.Raw_Material_Id},e.state.materials.map((function(e,a){return t.Raw_Material_Id===e._id?e.raw_material_name:null})))}))))),i.a.createElement(m.a,{style:On.box,marginRight:"10px"},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,name:"rmd_material_code",value:e.state.Raw_Material_Details[a].material_code,variant:"outlined",label:"Material Code",type:"text",onChange:function(t){e.setState({rmd_material_code:t.target.value}),e.setState((function(e){e.Raw_Material_Details[a].material_code=e.rmd_material_code,console.log(e.Raw_Material_Details[a])}))}})),i.a.createElement(m.a,{style:On.box,marginRight:"10px"},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,value:e.state.Raw_Material_Details[a].available_stock,variant:"outlined",label:"Available Stock",type:"text",onChange:function(t){e.setState({rmd_available_stock:t.target.value}),e.setState((function(e){e.Raw_Material_Details[a].available_stock=e.rmd_available_stock,console.log(e.Raw_Material_Details[a])}))}})),i.a.createElement(m.a,{style:On.box,marginRight:"10px"},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,value:e.state.Raw_Material_Details[a].quantity,variant:"outlined",label:"Quantity",type:"text",onChange:function(t){e.setState({rmd_quantity:t.target.value}),e.setState((function(e){e.Raw_Material_Details[a].quantity=e.rmd_quantity,console.log(e.Raw_Material_Details[a])}))}})),i.a.createElement(m.a,{style:On.box,marginRight:"10px"},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,value:e.state.Raw_Material_Details[a].measuring_unit,variant:"outlined",label:"Measuring Unit",type:"text",onChange:function(t){e.setState({rmd_measuring_unit:t.target.value}),e.setState((function(e){e.Raw_Material_Details[a].measuring_unit=e.rmd_measuring_unit,console.log(e.Raw_Material_Details[a])}))}})),e.state.Raw_Material_Details.length===a+1?i.a.createElement(Vt.a,{color:"secondary",style:{fontSize:"30px",margin:"4px",padding:"0px"},onClick:function(){e.setState({}),e.setState((function(e){e.Raw_Material_Details.push({material_name:"",material_code:"",measuring_unit:"",quantity:"",available_stock:""}),console.log(e.Raw_Material_Details)}))}}):i.a.createElement(Jt.a,{color:"secondary",style:{fontSize:"30px",margin:"4px",padding:"0px"},onClick:function(){e.setState({}),e.setState((function(e){e.Raw_Material_Details.splice(a,1),console.log(e.Raw_Material_Details)}))}}))})).reverse()))))),i.a.createElement(m.a,{display:" flex",pt:2,pb:2,m:0,justifyContent:"flex-end",width:"87%"},i.a.createElement(m.a,{display:" flex"},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",fontWeight:"Bold",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{marginLeft:"10px"},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",fontSize:"20px",onClick:function(){e.onAddHandler()}},"Submit"))))}}]),t}(n.Component),In=jn,zn={marginRight:"6px",marginLeft:"6px"},Pn=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={Product_Name:"",Product_ID:"",Quantity:"",Measuring_Unit:"",Raw_Material_Details:[{material_name:"",material_code:"",measuring_unit:"",quantity:"",available_stock:""}],rmd_material_name:"",rmd_material_code:"",rmd_measuring_unit:"",rmd_quantity:" ",rmd_available_stock:"",errors:[],openAdd:!1,success:!1,measuring_units:[],products:[],materials:[],code:""},a.onEditHandler=function(){K.a.post("/pre-production/edit",{_id:a.state._id,Product_ID:a.state.Product_ID,Product_Name:a.state.Product_Name,Quantity:a.state.Quantity,Measuring_Unit:a.state.Measuring_Unit,Raw_Material_Details:a.state.Raw_Material_Details}).then((function(e){console.log(e.data),a.props.cancel()})).catch((function(e){return console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;K.a.get("/measuring-units/measuring-units").then((function(t){console.log(t),e.setState({measuring_units:Object(Q.a)(t.data.MeasuringUnits)})})),K.a.get("/products/products").then((function(t){console.log(t),e.setState({products:Object(Q.a)(t.data.Products)})})),K.a.get("/raw-materials/raw-materials").then((function(t){console.log(t),e.setState({materials:Object(Q.a)(t.data.RawMaterials)})})),this.setState({_id:this.props.PreProduction._id,Product_ID:this.props.PreProduction.Product_ID,Product_Name:this.props.PreProduction.Product_Name,Quantity:this.props.PreProduction.Quantity,Measuring_Unit:this.props.PreProduction.Measuring_Unit,Raw_Material_Details:this.props.PreProduction.Raw_Material_Details})}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:In.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Edit Production"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:In.box_msg,bgcolor:"#f73067",key:t},e)})):!0===this.state.success?i.a.createElement(m.a,{bgcolor:"#3df45b",style:In.box_msg},"Successful"):null,i.a.createElement(m.a,{style:In.root},i.a.createElement(m.a,{display:"flex",justifyContent:"center"},i.a.createElement(m.a,{style:In.lbox},i.a.createElement(m.a,{style:In.form},i.a.createElement(m.a,{style:In.boxSize2},i.a.createElement(m.a,{width:"50%",style:zn},i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Product Name"),i.a.createElement(ee.a,{disabled:this.props.disabled.Product_Name,variant:"outlined",required:!0,name:"Product_Name",value:this.state.Product_Name,onChange:function(t){var a,n;e.state.products.map((function(e){return e._id===t.target.value&&(a=e.product_code,n=e.product_measuring_unit,console.log("Procode: ",a)),null})),e.setState({Product_Name:t.target.value,Product_ID:a,Measuring_Unit:n})}},this.state.products.map((function(e,t){return i.a.createElement(W.a,{key:t,value:e._id},e.product_name)}))))),i.a.createElement(m.a,{width:"50%",style:zn},i.a.createElement(X.a,{disabled:!0,size:"small",fullWidth:!0,variant:"outlined",label:"Product_ID",required:!0,name:"Product_ID",value:this.state.Product_ID,onChange:function(t){e.setState({Product_ID:t.target.value}),console.log(t.target.value)}}))),i.a.createElement(m.a,{style:In.boxSize2},i.a.createElement(m.a,{width:"50%",style:zn},i.a.createElement(X.a,{disabled:this.props.disabled.Quantity,size:"small",fullWidth:!0,variant:"outlined",label:"Quantity",required:!0,name:"Quantity",value:this.state.Quantity,onChange:function(t){e.setState({Quantity:t.target.value})}})),i.a.createElement(m.a,{width:"50%",style:zn},i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Measuring Unit"),i.a.createElement(ee.a,{disabled:!0,name:"Measuring_Unit",variant:"outlined",required:!0,value:this.state.Measuring_Unit,onChange:function(t){e.setState({Measuring_Unit:t.target.value}),console.log(t.target.value)}},this.state.measuring_units.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.measuring_unit_name)})))))),i.a.createElement(m.a,{style:In.boxSize2},i.a.createElement(m.a,{style:zn,width:"100%"},i.a.createElement("h3",null,"Raw Material Required:"))),i.a.createElement(m.a,{flexWrap:"wrap",maxHeight:"200px",overflow:"auto",style:In.boxSize2},this.state.Raw_Material_Details.map((function(t,a){return i.a.createElement(m.a,{style:In.boxSize2},i.a.createElement(m.a,{style:In.box,marginRight:"10px"},i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Material Name"),i.a.createElement(ee.a,{variant:"outlined",required:!0,name:"material_name",value:e.state.Raw_Material_Details[a].material_name,onChange:function(t){var n,i;e.state.materials.map((function(e){return e._id===t.target.value&&(n=e.raw_material_code,i=e.raw_material_measuring_unit,console.log("code: ",n)),null})),e.setState({rmd_material_name:t.target.value,Raw_Material_Details:[{material_code:n,measuring_unit:e.getUnit(i)}]}),e.setState((function(e){e.Raw_Material_Details[a].material_name=e.rmd_material_name,console.log(e.Raw_Material_Details[a])}))}},e.state.materials.map((function(e,t){return i.a.createElement(W.a,{key:t,value:e._id},e.raw_material_name)}))))),i.a.createElement(m.a,{style:In.box,marginRight:"10px"},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,name:"rmd_material_code",value:e.state.Raw_Material_Details[a].material_code,variant:"outlined",label:"Material Code",type:"text",onChange:function(t){e.setState({rmd_material_code:t.target.value}),e.setState((function(e){e.Raw_Material_Details[a].material_code=e.rmd_material_code,console.log(e.Raw_Material_Details[a])}))}})),i.a.createElement(m.a,{style:In.box,marginRight:"10px"},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,value:e.state.Raw_Material_Details[a].available_stock,variant:"outlined",label:"Available Stock",type:"text",onChange:function(t){e.setState({rmd_available_stock:t.target.value}),e.setState((function(e){e.Raw_Material_Details[a].available_stock=e.rmd_available_stock,console.log(e.Raw_Material_Details[a])}))}})),i.a.createElement(m.a,{style:In.box,marginRight:"10px"},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,value:e.state.Raw_Material_Details[a].quantity,variant:"outlined",label:"Quantity",type:"text",onChange:function(t){e.setState({rmd_quantity:t.target.value}),e.setState((function(e){e.Raw_Material_Details[a].quantity=e.rmd_quantity,console.log(e.Raw_Material_Details[a])}))}})),i.a.createElement(m.a,{style:In.box,marginRight:"10px"},i.a.createElement(X.a,{size:"small",fullWidth:!0,required:!0,value:e.state.Raw_Material_Details[a].measuring_unit,variant:"outlined",label:"Measuring Unit",type:"text",onChange:function(t){e.setState({rmd_measuring_unit:t.target.value}),e.setState((function(e){e.Raw_Material_Details[a].measuring_unit=e.rmd_measuring_unit,console.log(e.Raw_Material_Details[a])}))}})),e.state.Raw_Material_Details.length===a+1?i.a.createElement(Vt.a,{color:"secondary",style:{fontSize:"30px",margin:"4px",padding:"0px"},onClick:function(){e.setState({}),e.setState((function(e){e.Raw_Material_Details.push({material_name:"",material_code:"",measuring_unit:"",quantity:" ",available_stock:""}),console.log(e.Raw_Material_Details)}))}}):i.a.createElement(Jt.a,{color:"secondary",style:{fontSize:"30px",margin:"4px",padding:"0px"},onClick:function(){e.setState({}),e.setState((function(e){e.Raw_Material_Details.splice(a,1),console.log(e.Raw_Material_Details)}))}}))})).reverse()))))),i.a.createElement(m.a,{display:" flex",pt:2,pb:2,m:0,justifyContent:"flex-end",width:"87%"},i.a.createElement(m.a,{display:" flex"},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",fontWeight:"Bold",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{marginLeft:"10px",display:this.props.disabled.btnDisplay},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",fontWeight:"bold",onClick:this.onEditHandler},"Update"))))}}]),t}(n.Component),qn=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).EditData={},a.state={columns:[{title:"Product Name",field:"Product_Name"},{title:"Product Code",field:"Product_ID"},{title:"Quantity",field:"Quantity"},{title:"Measuring Unit",field:"Measuring_Unit"}],data:[],openAdd:!1,openEdit:!1,fieldDisabled:{Product_Name:!1,Product_ID:!1,Batch_Id:!1,Quantity:!1,Measuring_Unit:!1,Raw_Material_Details:!1,btnDisplay:"none",btnText:"Close"}},a.OnEditHandler=function(e,t){K.a.post("/pre-production",{_id:t._id}).then((function(e){console.log(e.data[0]),a.EditData=Object(F.a)({},e.data[0]),console.log(a.EditData),a.setState({openEdit:!0})}))},a.handleClose=function(){K.a.get("/pre-production").then((function(e){console.log(e.data);for(var t=function(t){e.data[t].id=t+1,K.a.post("/measuring-units/measuring-unit",{_id:e.data[t].Measuring_Unit}).then((function(n){console.log(n),n.data.MeasuringUnit[0]?(console.log(n.data.MeasuringUnit[0].measuring_unit_name),e.data[t].Measuring_Unit=n.data.MeasuringUnit[0].measuring_unit_name,a.setState({data:Object(Q.a)(e.data)})):(e.data[t].Measuring_Unit="problem loading Measuring Unit",a.setState({data:Object(Q.a)(e.data)}))})),K.a.post("/products/product",{_id:e.data[t].Product_Name}).then((function(n){console.log(n.data.Product[0].product_name),n.data.Product?(console.log(n.data.Product[0].product_name),e.data[t].Product_Name=n.data.Product[0].product_name,a.setState({data:Object(Q.a)(e.data)})):(e.data[t].Product_Name="problem loading",a.setState({data:Object(Q.a)(e.data)}))}))},n=0;n<e.data.length;n++)t(n)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.handleClose()}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Manage PreProduction"),i.a.createElement(m.a,{width:"90%",display:"flex",flexDirection:"row"},i.a.createElement(M.a,{variant:"contained",color:"primary",style:{marginBottom:"20px",display:"flex",marginRight:"10px"},size:"large",onClick:function(){e.setState({openAdd:!0})}},"Add")),i.a.createElement(V.a,{title:" ",columns:this.state.columns,data:this.state.data,style:{width:"90%",maxHeight:"500px",overflow:"auto"},options:{sorting:!0,headerStyle:{backgroundColor:"#3f51b5",color:"#FFF",fontSize:"medium",fontWeight:"bold"}},onRowClick:function(t,a){e.setState({fieldDisabled:{Product_Name:!0,Product_ID:!0,Batch_Id:!0,Quantity:!0,Raw_Material_Details:!0,btnDisplay:"none",btnText:"Close"}}),e.OnEditHandler(t,a)}}),i.a.createElement(J.a,{open:this.state.openAdd,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,null,i.a.createElement(Wn,{cancel:function(){e.setState({openAdd:!1}),e.handleClose()}}))),i.a.createElement(J.a,{open:this.state.openEdit,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,null,i.a.createElement(Pn,{disabled:this.state.fieldDisabled,PreProduction:this.EditData,cancel:function(){e.setState({openEdit:!1}),e.handleClose()}}))))}}]),t}(n.Component),Un=jn,Tn={marginRight:"6px",marginLeft:"6px"},An=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={_id:"",Product_Name:"",Product_ID:"",Batch_Id:"",Quantity:"",Measuring_Unit:"",Expiry_Duration_Days:"",Manufacture_Date:null,Status:"Ready for QC",errors:[],openAdd:!1,success:!1,measuring_units:[],products:[],code:"",batchid:[]},a.onAddHandler=function(){console.log("Ready to add"),K.a.post("/production/add",{Product_ID:a.state.Product_ID,Product_Name:a.state.Product_Name,Batch_Id:a.state.Batch_Id,Quantity:a.state.Quantity,Measuring_Unit:a.state.Measuring_Unit,Expiry_Duration_Days:a.state.Expiry_Duration_Days,Manufacture_Date:a.state.Manufacture_Date,Status:a.state.Status}).then((function(e){console.log(e),a.props.cancel()}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;K.a.get("/measuring-units/measuring-units").then((function(t){console.log(t),e.setState({measuring_units:Object(Q.a)(t.data.MeasuringUnits)})})),K.a.get("/products/products").then((function(t){console.log(t),e.setState({products:Object(Q.a)(t.data.Products)})})),K.a.get("/production").then((function(t){console.log("batchid",t.data),e.setState({batchid:t.data})}))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:Un.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Add Production"),i.a.createElement(m.a,{style:Un.root},i.a.createElement(m.a,{display:"flex",justifyContent:"center"},i.a.createElement(m.a,{style:Un.lbox},i.a.createElement(m.a,{style:Un.form},i.a.createElement(m.a,{style:Un.boxSize2},i.a.createElement(m.a,{width:"50%",style:Tn},i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Product Name"),i.a.createElement(ee.a,{variant:"outlined",required:!0,name:"Product_Name",value:this.state.Product_Name,onChange:function(t){var a,n;e.state.products.map((function(e){return e._id===t.target.value&&(a=e.product_code,n=e.product_measuring_unit,console.log("Procode: ",a)),null})),e.setState({Product_Name:t.target.value,Product_ID:a,Measuring_Unit:n})}},this.state.products.map((function(e,t){return i.a.createElement(W.a,{key:t,value:e._id},e.product_name)}))))),i.a.createElement(m.a,{width:"50%",style:Tn},i.a.createElement(X.a,{disabled:!0,size:"small",fullWidth:!0,variant:"outlined",label:"Product_ID",required:!0,name:"Product_ID",value:this.state.Product_ID,onChange:function(t){e.setState({Product_ID:t.target.value}),console.log(t.target.value)}}))),i.a.createElement(m.a,{style:Un.boxSize2},i.a.createElement(m.a,{width:"100%",style:Tn},i.a.createElement(X.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Batch_Id",required:!0,name:"Batch_Id",value:this.state.Batch_Id,onChange:function(t){e.setState({Batch_Id:t.target.value}),e.state.batchid.map((function(a){return console.log("res.batchid",a.Batch_Id),console.log("state.batchid",e.state.Batch_Id),t.target.value===a.Batch_Id&&alert("Batch Id Already Exist"),null})),console.log(t.target.value)}}))),i.a.createElement(m.a,{style:Un.boxSize2},i.a.createElement(m.a,{width:"50%",style:Tn},i.a.createElement(X.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Quantity",required:!0,name:"Quantity",value:this.state.Quantity,onChange:function(t){e.setState({Quantity:t.target.value})}})),i.a.createElement(m.a,{width:"50%",style:Tn},i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Measuring Unit"),i.a.createElement(ee.a,{disabled:!0,name:"Measuring_Unit",variant:"outlined",required:!0,value:this.state.Measuring_Unit,onChange:function(t){e.setState({Measuring_Unit:t.target.value}),console.log(t.target.value)}},this.state.measuring_units.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.measuring_unit_name)})))))),i.a.createElement(m.a,{style:Un.boxSize2},i.a.createElement(m.a,{width:"50%",style:Tn},i.a.createElement(X.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Expiry_Duration_Days",required:!0,name:"Expiry_Duration_Days",value:this.state.Expiry_Duration_Days,onChange:function(t){e.setState({Expiry_Duration_Days:t.target.value}),console.log(t.target.value)}})),i.a.createElement(m.a,{width:"50%",style:Tn},i.a.createElement(ue,{id:"4",variant:"outlined",Name:"Manufacture_Date",value:this.state.Manufacture_Date,setDate:function(t){e.setState({Manufacture_Date:t}),console.log(t)}}))),i.a.createElement(m.a,{style:Un.boxSize2},i.a.createElement(m.a,{width:"100%",style:Tn},i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Status"),i.a.createElement(ee.a,{name:"Measuring_Unit",variant:"outlined",required:!0,value:this.state.Status,onChange:function(t){e.setState({Status:t.target.value}),console.log(t.target.value)}},i.a.createElement(W.a,{value:"Status ",disabled:!0}),i.a.createElement(W.a,{value:"Ready to Product QC"},"Ready to Product QC"),i.a.createElement(W.a,{value:"Ready to Packing QC"},"Ready to Packing QC"),i.a.createElement(W.a,{value:"Ready For QC"},"Ready For QC"))))))))),i.a.createElement(m.a,{display:" flex",pt:2,pb:2,m:0,justifyContent:"flex-end",width:"87%"},i.a.createElement(m.a,{display:" flex"},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",fontWeight:"Bold",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{marginLeft:"10px"},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",fontSize:"20px",onClick:function(){e.onAddHandler()}},"Submit"))))}}]),t}(n.Component),Nn=jn,Bn={marginRight:"6px",marginLeft:"6px"},Ln=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={_id:"",Product_Name:"Product_Name",Product_ID:"Product_ID",Batch_Id:"",Quantity:" Quantity",Measuring_Unit:"Measuring_Unit",Expiry_Duration_Days:"",Status:"",Manufacture_Date:null,errors:[],success:!1,measuring_units:[],products:[],code:""},a.onEditHandler=function(){K.a.post("/production/edit",{_id:a.state._id,Product_ID:a.state.Product_ID,Product_Name:a.state.Product_Name,Batch_Id:a.state.Batch_Id,Quantity:a.state.Quantity,Status:a.state.Status,Measuring_Unit:a.state.Measuring_Unit,Expiry_Duration_Days:a.state.Expiry_Duration_Days,Manufacture_Date:a.state.Manufacture_Date}).then((function(e){console.log(e.data),a.props.cancel()})).catch((function(e){return console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;K.a.get("/measuring-units/measuring-units").then((function(t){console.log(t),e.setState({measuring_units:Object(Q.a)(t.data.MeasuringUnits)})})),K.a.get("/products/products").then((function(t){console.log(t),e.setState({products:Object(Q.a)(t.data.Products)})})),this.setState({_id:this.props.Production._id,Product_ID:this.props.Production.Product_ID,Product_Name:this.props.Production.Product_Name,Batch_Id:this.props.Production.Batch_Id,Quantity:this.props.Production.Quantity,Status:this.props.Production.Status,Measuring_Unit:this.props.Production.Measuring_Unit,Expiry_Duration_Days:this.props.Production.Expiry_Duration_Days,Manufacture_Date:this.props.Production.Manufacture_Date})}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:Nn.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Edit Production"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:Nn.box_msg,bgcolor:"#f73067",key:t},e)})):!0===this.state.success?i.a.createElement(m.a,{bgcolor:"#3df45b",style:Nn.box_msg},"Successful"):null,i.a.createElement(m.a,{style:Nn.root},i.a.createElement(m.a,{display:"flex",justifyContent:"center"},i.a.createElement(m.a,{style:Nn.lbox},i.a.createElement(m.a,{style:Nn.form},i.a.createElement(m.a,{style:Nn.boxSize2},i.a.createElement(m.a,{width:"50%",style:Bn},i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Product Name"),i.a.createElement(ee.a,{disabled:this.props.disabled.Product_Name,variant:"outlined",required:!0,name:"Product_Name",value:this.state.Product_Name,onChange:function(t){var a;e.state.products.map((function(e){return e._id===t.target.value&&(a=e.product_code,console.log("Procode: ",a)),null})),e.setState({Product_Name:t.target.value,Product_ID:a})}},this.state.products.map((function(e,t){return i.a.createElement(W.a,{key:t,value:e._id},e.product_name)}))))),i.a.createElement(m.a,{width:"50%",style:Bn},i.a.createElement(X.a,{disabled:!0,size:"small",fullWidth:!0,variant:"outlined",label:"Product_ID",required:!0,name:"Product_ID",value:this.state.Product_ID,onChange:function(t){e.setState({Product_ID:t.target.value}),console.log(t.target.value)}}))),i.a.createElement(m.a,{style:Nn.boxSize2},i.a.createElement(m.a,{width:"100%",style:Bn},i.a.createElement(X.a,{disabled:this.props.disabled.Batch_Id,size:"small",fullWidth:!0,variant:"outlined",label:"Batch_Id",required:!0,name:"Batch_Id",value:this.state.Batch_Id,onChange:function(t){e.setState({Batch_Id:t.target.value}),console.log(t.target.value)}}))),i.a.createElement(m.a,{style:Nn.boxSize2},i.a.createElement(m.a,{width:"50%",style:Bn},i.a.createElement(X.a,{disabled:this.props.disabled.Quantity,size:"small",fullWidth:!0,variant:"outlined",label:"Quantity",required:!0,name:"Quantity",value:this.state.Quantity,onChange:function(t){e.setState({Quantity:t.target.value})}})),i.a.createElement(m.a,{width:"50%",style:Bn},i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Measuring Unit"),i.a.createElement(ee.a,{disabled:!0,name:"Measuring_Unit",variant:"outlined",required:!0,value:this.state.Measuring_Unit,onChange:function(t){e.setState({Measuring_Unit:t.target.value}),console.log(t.target.value)}},this.state.measuring_units.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.measuring_unit_name)})))))),i.a.createElement(m.a,{style:Nn.boxSize2},i.a.createElement(m.a,{width:"50%",style:Bn},i.a.createElement(X.a,{disabled:this.props.disabled.Expiry_Duration_Days,size:"small",fullWidth:!0,variant:"outlined",label:"Expiry_Duration_Days",required:!0,name:"Expiry_Duration_Days",value:this.state.Expiry_Duration_Days,onChange:function(t){e.setState({Expiry_Duration_Days:t.target.value}),console.log(t.target.value)}})),i.a.createElement(m.a,{width:"50%",style:Bn},i.a.createElement(ue,{disabled:this.props.disabled.Manufacture_Date,id:"4",variant:"outlined",Name:"Manufacture_Date",value:this.state.Manufacture_Date,setDate:function(t){e.setState({Manufacture_Date:t}),console.log(t)}}))),i.a.createElement(m.a,{style:Nn.boxSize2},i.a.createElement(m.a,{width:"100%",style:Bn},i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Status"),i.a.createElement(ee.a,{name:"Status",variant:"outlined",required:!0,value:this.state.Status,onChange:function(t){e.setState({Status:t.target.value}),console.log(t.target.value)}},i.a.createElement(W.a,{value:"Status ",disabled:!0}),i.a.createElement(W.a,{value:"Ready to Product QC"},"Ready to Product QC"),i.a.createElement(W.a,{value:"Ready to Packing QC"},"Ready to Packing QC"),i.a.createElement(W.a,{value:"Ready For QC"},"Ready For QC"))))))))),i.a.createElement(m.a,{display:" flex",pt:2,pb:2,m:0,justifyContent:"flex-end",width:"87%"},i.a.createElement(m.a,{display:" flex"},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",fontWeight:"Bold",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{marginLeft:"10px",display:this.props.disabled.btnDisplay},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",fontWeight:"bold",onClick:this.onEditHandler},"Update"))))}}]),t}(n.Component),Qn=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).EditData={},a.state={columns:[{title:"Batch ID",field:"Batch_Id"},{title:"Product Name",field:"Product_Name"},{title:"Quantity",field:"Quantity"},{title:"Measuring Unit",field:"Measuring_Unit"},{title:"Status",field:"Status"}],data:[],open:!1,openAdd:!1,openEdit:!1,alert:!1,fieldDisabled:{Product_Name:!1,Product_ID:!1,Batch_Id:!1,Quantity:!1,Measuring_Unit:!1,Expiry_Duration_Days:!1,Manufacture_Date:!1,Status:!1,btnDisplay:"none",btnText:"Close"}},a.OnEditHandler=function(e,t){K.a.post("/production",{_id:t._id}).then((function(e){console.log(e.data[0]),a.EditData=Object(F.a)({},e.data[0]),console.log(a.EditData),a.setState({openEdit:!0})}))},a.handleClose=function(){K.a.get("/production").then((function(e){console.log(e.data);for(var t=function(t){e.data[t].id=t+1,K.a.post("/measuring-units/measuring-unit",{_id:e.data[t].Measuring_Unit}).then((function(n){console.log(n),n.data.MeasuringUnit[0]?(console.log(n.data.MeasuringUnit[0].measuring_unit_name),e.data[t].Measuring_Unit=n.data.MeasuringUnit[0].measuring_unit_name,a.setState({data:Object(Q.a)(e.data)})):(e.data[t].Measuring_Unit="problem loading Measuring Unit",a.setState({data:Object(Q.a)(e.data)}))})),K.a.post("/products/product",{_id:e.data[t].Product_Name}).then((function(n){console.log(n.data.Product[0].product_name),n.data.Product?(console.log(n.data.Product[0].product_name),e.data[t].Product_Name=n.data.Product[0].product_name,a.setState({data:Object(Q.a)(e.data)})):(e.data[t].Product_Name="problem loading",a.setState({data:Object(Q.a)(e.data)}))}))},n=0;n<e.data.length;n++)t(n)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.handleClose()}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Manage Production"),i.a.createElement(m.a,{width:"90%",display:"flex",flexDirection:"row"},i.a.createElement(M.a,{variant:"contained",color:"primary",style:{marginBottom:"20px",display:"flex",marginRight:"10px"},size:"large",onClick:function(){e.setState({openAdd:!0})}},"Add")),i.a.createElement(V.a,{title:" ",columns:this.state.columns,data:this.state.data,style:{width:"90%",maxHeight:"500px",overflow:"auto"},options:{sorting:!0,headerStyle:{backgroundColor:"#3f51b5",color:"#FFF",fontSize:"medium",fontWeight:"bold"}},actions:[{icon:"edit",tooltip:"Edit User",onClick:function(t,a){"Product QC Success"===e.Status?(e.setState({fieldDisabled:{Product_Name:!1,Product_ID:!1,Batch_Id:!1,Quantity:!1,Measuring_Unit:!1,Expiry_Duration_Days:!1,Manufacture_Date:!1,Status:!1,btnDisplay:"flex",btnText:"Cancel"}}),e.OnEditHandler(t,a)):e.setState({alert:!0})}}],editable:{onRowDelete:function(t){return K.a.post("/production/delete",{_id:t._id}).then((function(a){console.log(a),a&&e.setState((function(e){var a=Object(Q.a)(e.data);return a.splice(a.indexOf(t),1),Object(F.a)({},e,{data:a})}))}))}},onRowClick:function(t,a){e.setState({fieldDisabled:{Product_Name:!0,Product_ID:!0,Batch_Id:!0,Quantity:!0,Measuring_Unit:!0,Expiry_Duration_Days:!0,Manufacture_Date:!0,btnDisplay:"none",btnText:"Close"}}),e.OnEditHandler(t,a)}}),i.a.createElement(J.a,{open:this.state.openAdd,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,null,i.a.createElement(An,{cancel:function(){e.setState({openAdd:!1}),e.handleClose()}}))),i.a.createElement(J.a,{open:this.state.openEdit,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,null,i.a.createElement(Ln,{disabled:this.state.fieldDisabled,Production:this.EditData,cancel:function(){e.setState({openEdit:!1}),e.handleClose()}}))),i.a.createElement(Se.a,{open:this.state.alert,autoHideDuration:3e3,anchorOrigin:{vertical:"bottom",horizontal:"center"},onClose:this.closeAlert},i.a.createElement(Ce.a,{variant:"filled",severity:"error",onClose:this.closeAlert},"You cannot Modify this Record")))}}]),t}(n.Component),Fn=jn,Hn={marginRight:"6px",marginLeft:"6px"},Vn=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={Raw_Material_Id:"Raw_Material_Id",Raw_Material_Code:"",Quantity:"",Measuring_Unit:"",Priority:"",Due_Date:null,Status:"Requesting",Comments:"-",errors:[],openAdd:!1,success:!1,measuring_units:[],materials:[],code:""},a.onAddHandler=function(){console.log("Ready to add"),K.a.post("/request-details/add",{Raw_Material_Id:a.state.Raw_Material_Id,Raw_Material_Code:a.state.Raw_Material_Code,Quantity:a.state.Quantity,Measuring_Unit:a.state.Measuring_Unit,Priority:a.state.Priority,Due_Date:a.state.Due_Date,Status:"Requesting",Comments:a.state.Comments,Created_By:{Employee_Id:sessionStorage.getItem("User ID"),Role_Id:sessionStorage.getItem("Role ID")},logs:{from:"Production",to:"Purchase",comments:a.state.Comments},Qoutation_Document_URL:[]}).then((function(e){console.log(e),console.log("added"),a.props.cancel()})),console.log("added")},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;K.a.get("/measuring-units/measuring-units").then((function(t){console.log(t),e.setState({measuring_units:Object(Q.a)(t.data.MeasuringUnits)})})),K.a.get("/raw-material").then((function(t){console.log(t),e.setState({materials:Object(Q.a)(t.data.RawMaterials)})}))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:Fn.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Add Raw Material Request"),i.a.createElement(m.a,{style:Fn.root},i.a.createElement(m.a,{display:"flex",justifyContent:"center"},i.a.createElement(m.a,{style:Fn.lbox},i.a.createElement(m.a,{style:Fn.form},i.a.createElement(m.a,{style:Fn.boxSize2},i.a.createElement(m.a,{width:"50%",style:Hn},i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Material Name"),i.a.createElement(ee.a,{variant:"outlined",required:!0,name:"Raw_Material_Id",value:this.state.Raw_Material_Id,onChange:function(t){var a,n;e.state.materials.map((function(e){return e._id===t.target.value&&(a=e.raw_material_code,n=e.raw_material_measuring_unit,console.log("code: ",a)),null})),e.setState({Raw_Material_Id:t.target.value,Raw_Material_Code:a,Measuring_Unit:n})}},this.state.materials.map((function(e,t){return i.a.createElement(W.a,{key:t,value:e._id},e.raw_material_name)}))))),i.a.createElement(m.a,{width:"50%",style:Hn},i.a.createElement(X.a,{disabled:!0,size:"small",fullWidth:!0,variant:"outlined",label:"Material_Code",required:!0,name:"Raw_Material_Code",value:this.state.Raw_Material_Code,onChange:function(t){e.setState({Raw_Material_Code:t.target.value}),console.log(t.target.value)}}))),i.a.createElement(m.a,{style:Fn.boxSize2},i.a.createElement(m.a,{width:"50%",style:Hn},i.a.createElement(X.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Quantity",required:!0,name:"Quantity",value:this.state.Quantity,onChange:function(t){e.setState({Quantity:t.target.value})}})),i.a.createElement(m.a,{width:"50%",style:Hn},i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Measuring Unit"),i.a.createElement(ee.a,{disabled:!0,name:"Measuring_Unit",variant:"outlined",required:!0,value:this.state.Measuring_Unit,onChange:function(t){e.setState({Measuring_Unit:t.target.value}),console.log(t.target.value)}},this.state.measuring_units.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.measuring_unit_name)})))))),i.a.createElement(m.a,{style:Fn.boxSize2},i.a.createElement(m.a,{width:"50%",style:Hn},i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Priority"),i.a.createElement(ee.a,{variant:"outlined",required:!0,name:"Priority",value:this.state.Priority,onChange:function(t){e.setState({Priority:t.target.value})}},i.a.createElement(W.a,{value:"Priority",disabled:!0},"Priority"),i.a.createElement(W.a,{value:"Low"},"Low"),i.a.createElement(W.a,{value:"Medium"},"Medium"),i.a.createElement(W.a,{value:"High"},"High")))),i.a.createElement(m.a,{width:"50%",style:Hn},i.a.createElement(ue,{minDate:new Date,id:"4",variant:"outlined",Name:"Due_Date",value:this.state.Due_Date,setDate:function(t){e.setState({Due_Date:t}),console.log(t)}}))),i.a.createElement(m.a,{style:Fn.boxSize2},i.a.createElement(m.a,{width:"100%",style:Hn},i.a.createElement(X.a,{disabled:!0,size:"small",fullWidth:!0,variant:"outlined",label:"Status",required:!0,name:"Status",value:this.state.Status,onChange:function(t){e.setState({Status:t.target.value})}}))),i.a.createElement(m.a,{style:Fn.boxSize2},i.a.createElement(m.a,{width:"100%",style:Hn},i.a.createElement(X.a,{multiline:!0,size:"small",rowsMax:"3",variant:"outlined",fullWidth:!0,label:"Comments",value:this.state.Comments,onChange:function(t){e.setState({Comments:t.target.value}),console.log(t.target.value)}}))))))),i.a.createElement(m.a,{display:" flex",pt:2,pb:2,m:0,justifyContent:"flex-end",width:"87%"},i.a.createElement(m.a,{display:" flex"},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",fontWeight:"Bold",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{marginLeft:"10px"},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",fontSize:"20px",onClick:function(){e.onAddHandler()}},"Submit"))))}}]),t}(n.Component),Yn=jn,Jn={marginRight:"6px",marginLeft:"6px"},Gn=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={_id:"",Raw_Material_Id:"Raw_material_Id",Raw_Material_Code:"",Quantity:"",Measuring_Unit:"",Priority:"",Due_Date:null,Status:"Requesting",Comments:"",errors:[],success:!1,measuring_units:[],materials:[],code:""},a.onEditHandler=function(){K.a.post("/request-details/edit",{_id:a.state._id,Raw_Material_Id:a.state.Raw_Material_Id,Raw_Material_Code:a.state.Raw_Material_Code,Quantity:a.state.Quantity,Measuring_Unit:a.state.Measuring_Unit,Priority:a.state.Priority,Due_Date:a.state.Due_Date,Status:a.state.Status,Comments:a.state.Comments,logs:{from:"Production",to:"Purchase",comments:a.state.Comments},Qoutation_Document_URL:[]}).then((function(e){console.log(e.data),a.props.cancel()})).catch((function(e){return console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;K.a.get("/raw-materials/raw-materials").then((function(t){console.log(t),e.setState({materials:Object(Q.a)(t.data.RawMaterials)}),K.a.get("/measuring-units/measuring-units").then((function(t){console.log(t),e.setState({measuring_units:Object(Q.a)(t.data.MeasuringUnits)}),e.setState({_id:e.props.RMRequest._id,Raw_Material_Id:e.props.RMRequest.Raw_Material_Id,Raw_Material_Code:e.props.RMRequest.Raw_Material_Code,Quantity:e.props.RMRequest.Quantity,Measuring_Unit:e.props.RMRequest.Measuring_Unit,Priority:e.props.RMRequest.Priority,Due_Date:e.props.RMRequest.Due_Date,Status:e.props.RMRequest.Status,Comments:e.props.RMRequest.Comments})}))}))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:Yn.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Edit Raw Material Request"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:Yn.box_msg,bgcolor:"#f73067",key:t},e)})):!0===this.state.success?i.a.createElement(m.a,{bgcolor:"#3df45b",style:Yn.box_msg},"Successful"):null,i.a.createElement(m.a,{style:Yn.root},i.a.createElement(m.a,{display:"flex",justifyContent:"center"},i.a.createElement(m.a,{style:Yn.lbox},i.a.createElement(m.a,{style:Yn.form},i.a.createElement(m.a,{style:Yn.boxSize2},i.a.createElement(m.a,{width:"50%",style:Jn},i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Material Name"),i.a.createElement(ee.a,{disabled:this.props.disabled.Raw_Material_Id,variant:"outlined",required:!0,name:"Raw_Material_Id",value:this.state.Raw_Material_Id,onChange:function(t){var a,n;e.state.materials.map((function(e){return e._id===t.target.value&&(a=e.raw_material_code,n=e.raw_material_measuring_unit,console.log("code: ",a)),null})),e.setState({Raw_Material_Id:t.target.value,Raw_Material_Code:a,Measuring_Unit:n})}},this.state.materials.map((function(e,t){return i.a.createElement(W.a,{key:t,value:e._id},e.raw_material_name)}))))),i.a.createElement(m.a,{width:"50%",style:Jn},i.a.createElement(X.a,{disabled:!0,size:"small",fullWidth:!0,variant:"outlined",label:"Material_Code",required:!0,name:"Material_Code",value:this.state.Raw_Material_Code,onChange:function(t){e.setState({Material_Code:t.target.value}),console.log(t.target.value)}}))),i.a.createElement(m.a,{style:Yn.boxSize2},i.a.createElement(m.a,{width:"50%",style:Jn},i.a.createElement(X.a,{disabled:this.props.disabled.Quantity,size:"small",fullWidth:!0,variant:"outlined",label:"Quantity",required:!0,name:"Quantity",value:this.state.Quantity,onChange:function(t){e.setState({Quantity:t.target.value})}})),i.a.createElement(m.a,{width:"50%",style:Jn},i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Measuring Unit"),i.a.createElement(ee.a,{disabled:this.props.disabled.Measuring_Unit,name:"Measuring_Unit",variant:"outlined",required:!0,value:this.state.Measuring_Unit,onChange:function(t){e.setState({Measuring_Unit:t.target.value}),console.log(t.target.value)}},this.state.measuring_units.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.measuring_unit_name)})))))),i.a.createElement(m.a,{style:Yn.boxSize2},i.a.createElement(m.a,{width:"50%",style:Jn},i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Priority"),i.a.createElement(ee.a,{disabled:this.props.disabled.Priority,variant:"outlined",required:!0,name:"Priority",value:this.state.Priority,onChange:function(t){e.setState({Priority:t.target.value})}},i.a.createElement(W.a,{value:"Priority",disabled:!0},"Priority"),i.a.createElement(W.a,{value:"Low"},"Low"),i.a.createElement(W.a,{value:"Medium"},"Medium"),i.a.createElement(W.a,{value:"High"},"High")))),i.a.createElement(m.a,{width:"50%",style:Jn},i.a.createElement(ue,{disabled:this.props.disabled.Due_Date,id:"4",variant:"outlined",Name:"Due_Date",value:this.state.Due_Date,setDate:function(t){e.setState({Due_Date:t}),console.log(t)}}))),i.a.createElement(m.a,{style:Yn.boxSize2},i.a.createElement(m.a,{width:"100%",style:Jn},i.a.createElement(X.a,{disabled:!0,size:"small",fullWidth:!0,variant:"outlined",label:"Status",required:!0,name:"Status",value:this.state.Status,onChange:function(t){e.setState({Status:t.target.value})}}))),i.a.createElement(m.a,{style:Yn.boxSize2},i.a.createElement(m.a,{width:"100%",style:Jn},i.a.createElement(X.a,{disabled:this.props.disabled.Comments,size:"small",multiline:!0,rowsMax:"3",variant:"outlined",fullWidth:!0,label:"Comments",value:this.state.Comments,onChange:function(t){e.setState({Comments:t.target.value}),console.log(t.target.value)}}))))))),i.a.createElement(m.a,{display:" flex",pt:2,pb:2,m:0,justifyContent:"flex-end",width:"87%"},i.a.createElement(m.a,{display:" flex"},i.a.createElement(M.a,{variant:"contained",color:"primary",size:"large",fontWeight:"Bold",onClick:function(){e.props.cancel()}},this.props.disabled.btnText)),i.a.createElement(m.a,{marginLeft:"10px",display:this.props.disabled.btnDisplay},i.a.createElement(M.a,{variant:"contained",color:"primary",size:"large",fontWeight:"bold",onClick:this.onEditHandler},"Update"))))}}]),t}(n.Component),Kn=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).EditData={},a.state={columns:[{title:"Material Name",field:"Raw_Material_Id"},{title:"Quantity",field:"Quantity"},{title:"Measuring Unit",field:"Measuring_Unit"},{title:"Priority",field:"Priority"},{title:"Status",field:"Status"}],data:[],openAdd:!1,openEdit:!1,open:!1,alert:!1,fieldDisabled:{Raw_Material_Id:!1,Raw_Material_Code:!1,Quantity:!1,Measuring_Unit:!1,Priority:!1,Due_Date:!1,Status:!1,Comments:!1,btnDisplay:"none",btnText:"Close"}},a.closeAlert=function(){a.setState({alert:!1})},a.OnEditHandler=function(e,t){K.a.post("/request-details",{_id:t._id}).then((function(e){console.log(e.data[0]),a.EditData=Object(F.a)({},e.data[0]),console.log(a.EditData),a.setState({openEdit:!0})}))},a.handleClose=function(){K.a.get("/request-details").then((function(e){console.log(e.data);for(var t=function(t){e.data[t].id=t+1,K.a.post("/measuring-units/measuring-unit",{_id:e.data[t].Measuring_Unit}).then((function(n){console.log(n),n.data.MeasuringUnit[0]?(console.log(n.data.MeasuringUnit[0].measuring_unit_name),e.data[t].Measuring_Unit=n.data.MeasuringUnit[0].measuring_unit_name,a.setState({data:Object(Q.a)(e.data)})):(e.data[t].Measuring_Unit="problem loading Measuring Unit",a.setState({data:Object(Q.a)(e.data)}))})),K.a.post("/raw-materials/raw-material",{_id:e.data[t].Raw_Material_Id}).then((function(n){console.log(n),n.data.RawMaterial[0]?(console.log(n.data.RawMaterial[0].raw_material_name),e.data[t].Raw_Material_Id=n.data.RawMaterial[0].raw_material_name,a.setState({data:Object(Q.a)(e.data)})):(e.data[t].Raw_Material_Id="problem loading",a.setState({data:Object(Q.a)(e.data)}))}))},n=0;n<e.data.length;n++)t(n)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.handleClose()}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Manage Raw Material Request"),i.a.createElement(m.a,{width:"90%",display:"flex",flexDirection:"row"},i.a.createElement(M.a,{variant:"contained",color:"primary",style:{marginBottom:"20px",display:"flex",marginRight:"10px"},size:"large",onClick:function(){e.setState({openAdd:!0})}},"Add")),i.a.createElement(V.a,{title:" ",columns:this.state.columns,data:this.state.data,style:{width:"90%",maxHeight:"500px",overflow:"auto"},options:{sorting:!0,headerStyle:{backgroundColor:"#3f51b5",color:"#FFF",fontSize:"medium",fontWeight:"bold"}},actions:[{icon:"edit",tooltip:"Edit User",onClick:function(t,a){"Requesting"===a.Status?(e.setState({fieldDisabled:{Raw_Material_Id:!1,Raw_Material_Code:!1,Quantity:!1,Measuring_Unit:!1,Priority:!1,Due_Date:!1,Status:!1,Comments:!1,btnDisplay:"flex",btnText:"Cancel"}}),e.OnEditHandler(t,a)):e.setState({alert:!0})}}],onRowClick:function(t,a){e.setState({fieldDisabled:{Raw_Material_Id:!0,Raw_Material_Code:!0,Quantity:!0,Measuring_Unit:!0,Priority:!0,Due_Date:!0,Status:!0,Comments:!0,btnDisplay:"none",btnText:"Close"}}),e.OnEditHandler(t,a)}}),i.a.createElement(J.a,{open:this.state.openAdd,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,null,i.a.createElement(Vn,{cancel:function(){e.setState({openAdd:!1}),e.handleClose()}}))),i.a.createElement(J.a,{open:this.state.openEdit,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,null,i.a.createElement(Gn,{disabled:this.state.fieldDisabled,RMRequest:this.EditData,cancel:function(){e.setState({openEdit:!1}),e.handleClose()}}))),i.a.createElement(Se.a,{open:this.state.alert,autoHideDuration:3e3,anchorOrigin:{vertical:"bottom",horizontal:"center"},onClose:this.closeAlert},i.a.createElement(Ce.a,{variant:"filled",severity:"error",onClose:this.closeAlert},"You cannot Modify / Delete this Record")))}}]),t}(n.Component),Xn=jn,Zn={marginRight:"6px",marginLeft:"6px"},$n=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={Wastage_Type:"Product",Product_Name:"",Raw_Material_Id:"",Quantity:"",Product_ID:"",raw_material_code:"",Id_Type:"",Id:[{id:""}],Measuring_Unit:"",Wastage_Date:null,Description:"",errors:[],openAdd:!1,success:!1,materials:[],products:[],measuring_units:[],a_id:""},a.onAddHandler=function(){console.log("Ready to add"),K.a.post("/wastage/add",{Wastage_Type:a.state.Wastage_Type,Product_Name:a.state.Product_Name,Raw_Material_Id:a.state.Raw_Material_Id,Quantity:a.state.Quantity,Product_ID:a.state.Product_ID,raw_material_code:a.state.raw_material_code,Id_Type:a.state.Id_Type,Id:a.state.Id,Measuring_Unit:a.state.Measuring_Unit,Wastage_Date:a.state.Wastage_Date,Description:a.state.Description}).then((function(e){console.log(e),a.props.cancel()}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;console.log("material"),K.a.get("/raw-material").then((function(t){console.log(t),e.setState({materials:Object(Q.a)(t.data.RawMaterials)})})),K.a.get("/products/products").then((function(t){console.log(t),e.setState({products:Object(Q.a)(t.data.Products)})})),K.a.get("/measuring-units/measuring-units").then((function(t){console.log(t),e.setState({measuring_units:Object(Q.a)(t.data.MeasuringUnits)})}))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:Xn.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Add Wastage"),i.a.createElement(m.a,{style:Xn.root},i.a.createElement(m.a,{display:"flex",justifyContent:"center"},i.a.createElement(m.a,{style:Xn.lbox},i.a.createElement(m.a,{style:Xn.form},i.a.createElement(m.a,{style:Xn.boxSize2},i.a.createElement(m.a,{width:"100%",style:Zn},i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Wastage Type"),i.a.createElement(ee.a,{variant:"outlined",required:!0,name:"Wastage_Type",value:this.state.Wastage_Type,onChange:function(t){e.setState({Wastage_Type:t.target.value})}},i.a.createElement(W.a,{value:"Wastage Type",disabled:!0},"Wastage Type"),i.a.createElement(W.a,{value:"Product"},"Product"),i.a.createElement(W.a,{value:"RawMaterial"},"RawMaterial"))))),i.a.createElement(m.a,{style:Xn.boxSize2},i.a.createElement(m.a,{width:"50%",style:Zn},"Product"===this.state.Wastage_Type?i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Product Name"),i.a.createElement(ee.a,{variant:"outlined",required:!0,name:"Product_Name",value:this.state.Product_Name,onChange:function(t){var a,n;e.state.products.map((function(e){return e._id===t.target.value&&(a=e.product_code,n=e.product_measuring_unit,console.log("Procode: ",a)),null})),e.setState({Product_Name:t.target.value,Product_ID:a,Measuring_Unit:n})}},this.state.products.map((function(e,t){return i.a.createElement(W.a,{key:t,value:e._id},e.product_name)})))):i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Material Name"),i.a.createElement(ee.a,{variant:"outlined",required:!0,name:"Raw_Material_Id",value:this.state.Raw_Material_Id,onChange:function(t){var a,n;e.state.materials.map((function(e){return e._id===t.target.value&&(a=e.raw_material_code,n=e.raw_material_measuring_unit,console.log("code: ",a)),null})),e.setState({Raw_Material_Id:t.target.value,raw_material_code:a,Measuring_Unit:n})}},this.state.materials.map((function(e,t){return i.a.createElement(W.a,{key:t,value:e._id},e.raw_material_name)}))))),i.a.createElement(m.a,{width:"50%",style:Zn},i.a.createElement(X.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Quantity",required:!0,name:"Quantity",value:this.state.Quantity,onChange:function(t){e.setState({Quantity:t.target.value})}}))),i.a.createElement(m.a,{style:Xn.boxSize2},i.a.createElement(m.a,{width:"50%",style:Zn},i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Id Type"),i.a.createElement(ee.a,{variant:"outlined",required:!0,name:"Id_Type",value:this.state.Id_Type,onChange:function(t){e.setState({Id_Type:t.target.value})}},i.a.createElement(W.a,{value:"Id Type",disabled:!0},"Id Type"),i.a.createElement(W.a,{value:"Individual"},"Individual"),i.a.createElement(W.a,{value:"Box"},"Box")))),i.a.createElement(m.a,{width:"50%",style:Zn},i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Measuring Unit"),i.a.createElement(ee.a,{name:"Measuring_Unit",variant:"outlined",required:!0,value:this.state.Measuring_Unit,onChange:function(t){e.setState({Measuring_Unit:t.target.value}),console.log(t.target.value)}},this.state.measuring_units.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.measuring_unit_name)})))))),i.a.createElement(m.a,{style:Xn.boxSize2,overflow:!0},i.a.createElement(m.a,{width:"100%",style:Zn,flexDirection:"row",display:"flex",overflow:"auto",flexWrap:"wrap",maxHeight:"100px"},this.state.Id.map((function(t,a){return i.a.createElement(m.a,{display:"flex",width:"33.33%",pt:.3},i.a.createElement(X.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Id",required:!0,name:"Id",value:e.state.Id[a].id,onChange:function(t){e.setState({a_id:t.target.value}),console.log(t.target.value),e.setState((function(e){e.Id[a].id=e.a_id,console.log("====",e.Id[a])}))}}),e.state.Id.length===a+1?i.a.createElement(Vt.a,{color:"secondary",style:{fontSize:"30px",margin:"4px",padding:"0px"},onClick:function(){e.setState({}),e.setState((function(e){e.Id.push({id:""}),console.log(e.Id)}))}}):i.a.createElement(Jt.a,{color:"secondary",style:{fontSize:"30px",padding:"0px",margin:"4px"},onClick:function(){e.setState({}),e.setState((function(e){e.Id.splice(a,1),console.log(e.Id)}))}}))})).reverse())),i.a.createElement(m.a,{style:Xn.boxSize2},i.a.createElement(m.a,{width:"100%",style:Zn},i.a.createElement(ue,{maxDate:new Date,id:"4",variant:"outlined",Name:"Wastage Date",value:this.state.Wastage_Date,setDate:function(t){e.setState({Wastage_Date:t}),console.log(t)}}))),i.a.createElement(m.a,{style:Xn.boxSize2},i.a.createElement(m.a,{width:"100%",style:Zn},i.a.createElement(X.a,{multiline:!0,rowsMax:"3",variant:"outlined",fullWidth:!0,label:"Reasons",size:"small",value:this.state.Description,onChange:function(t){e.setState({Description:t.target.value}),console.log(t.target.value)}}))))))),i.a.createElement(m.a,{display:" flex",pt:2,pb:2,m:0,justifyContent:"flex-end",width:"87%"},i.a.createElement(m.a,{display:" flex"},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",fontWeight:"Bold",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{marginLeft:"10px"},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",fontSize:"20px",onClick:function(){e.onAddHandler()}},"Submit"))))}}]),t}(n.Component),ei=jn,ti={marginRight:"6px",marginLeft:"6px"},ai=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={_id:"",Wastage_Type:"",Product_Name:"",Raw_Material_Id:"",Quantity:"",Product_ID:"",raw_material_code:"",Id_Type:"",Id:[{id:""}],Measuring_Unit:"",Wastage_Date:"",Description:"",errors:[],materials:[],products:[],measuring_units:[],A_Id:""},a.onEditHandler=function(){K.a.post("/wastage/edit",{_id:a.state._id,Wastage_Type:a.state.Wastage_Type,Product_Name:a.state.Product_Name,Raw_Material_Id:a.state.Raw_Material_Id,Quantity:a.state.Quantity,Product_ID:a.state.Product_ID,raw_material_code:a.state.raw_material_code,Id_Type:a.state.Id_Type,Id:a.state.Id,Measuring_Unit:a.state.Measuring_Unit,Wastage_Date:a.state.Wastage_Date,Description:a.state.Description}).then((function(e){console.log(e.data),a.props.cancel()})).catch((function(e){return console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;K.a.get("/measuring-units/measuring-units").then((function(t){console.log(t),e.setState({measuring_units:Object(Q.a)(t.data.MeasuringUnits)})})),K.a.get("/raw-material").then((function(t){console.log(t),e.setState({materials:Object(Q.a)(t.data.RawMaterials),Raw_Material_Id:e.props.wastage.Raw_Material_Id})})),console.log("wid::",this.props.wastage.Id),K.a.get("/products/products").then((function(t){console.log(t),e.setState({products:Object(Q.a)(t.data.Products),Product_Name:e.props.wastage.Product_Name})})),this.setState({Wastage_Type:this.props.wastage.Wastage_Type,Quantity:this.props.wastage.Quantity,Product_ID:this.props.wastage.Product_ID,raw_material_code:this.props.wastage.raw_material_code,Id_Type:this.props.wastage.Id_Type,Id:this.props.wastage.Id,Measuring_Unit:this.props.wastage.Measuring_Unit,Wastage_Date:this.props.wastage.Wastage_Date,Description:this.props.wastage.Description,_id:this.props.wastage._id})}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:ei.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Edit Wastage"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:ei.box_msg,bgcolor:"#f73067",key:t},e)})):!0===this.state.success?i.a.createElement(m.a,{bgcolor:"#3df45b",style:ei.box_msg},"Successful"):null,i.a.createElement(m.a,{style:ei.root},i.a.createElement(m.a,{display:"flex",justifyContent:"center"},i.a.createElement(m.a,{style:ei.lbox},i.a.createElement(m.a,{style:ei.form},i.a.createElement(m.a,{style:ei.boxSize2},i.a.createElement(m.a,{width:"100%",style:ti},i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Wastage Type"),i.a.createElement(ee.a,{disabled:this.props.disabled.Wastage_Type,variant:"outlined",required:!0,name:"Wastage_Type",value:this.state.Wastage_Type,onChange:function(t){e.setState({Wastage_Type:t.target.value})}},i.a.createElement(W.a,{value:"Wastage Type",disabled:!0},"Wastage Type"),i.a.createElement(W.a,{value:"Product"},"Product"),i.a.createElement(W.a,{value:"RawMaterial"},"RawMaterial"))))),i.a.createElement(m.a,{style:ei.boxSize2},i.a.createElement(m.a,{width:"50%",style:ti},"Product"===this.state.Wastage_Type?i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Product Name"),i.a.createElement(ee.a,{disabled:this.props.disabled.Product_Name,variant:"outlined",required:!0,name:"Product_Name",value:this.state.Product_Name,onChange:function(t){var a;e.state.products.map((function(e){return e._id===t.target.value&&(a=e.product_code,console.log("Procode: ",a)),null})),e.setState({Product_Name:t.target.value,Product_ID:a})}},this.state.products.map((function(e,t){return i.a.createElement(W.a,{key:t,value:e._id},e.product_name)})))):i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Material Name"),i.a.createElement(ee.a,{disabled:this.props.disabled.Raw_Material_Id,variant:"outlined",required:!0,name:"Raw_Material_Id",value:this.state.Raw_Material_Id,onChange:function(t){var a;e.state.materials.map((function(e){return e._id===t.target.value&&(a=e.raw_material_code,console.log("code: ",a)),null})),e.setState({Raw_Material_Id:t.target.value,Raw_Material_Code:a})}},this.state.materials.map((function(e,t){return i.a.createElement(W.a,{key:t,value:e._id},e.raw_material_name)}))))),i.a.createElement(m.a,{width:"50%",style:ti},i.a.createElement(X.a,{disabled:this.props.disabled.Quantity,size:"small",fullWidth:!0,variant:"outlined",label:"Quantity",required:!0,name:"Quantity",value:this.state.Quantity,onChange:function(t){e.setState({Quantity:t.target.value})}}))),i.a.createElement(m.a,{style:ei.boxSize2},i.a.createElement(m.a,{width:"50%",style:ti},i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Id Type"),i.a.createElement(ee.a,{disabled:this.props.disabled.Id_Type,variant:"outlined",required:!0,name:"Id_Type",value:this.state.Id_Type,onChange:function(t){e.setState({Id_Type:t.target.value})}},i.a.createElement(W.a,{value:"Id Type",disabled:!0},"Id Type"),i.a.createElement(W.a,{value:"Individual"},"Individual"),i.a.createElement(W.a,{value:"Box"},"Box")))),i.a.createElement(m.a,{width:"50%",style:ti},i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Measuring Unit"),i.a.createElement(ee.a,{disabled:this.props.disabled.Measuring_Unit,name:"Measuring_Unit",variant:"outlined",required:!0,value:this.state.Measuring_Unit,onChange:function(t){e.setState({Measuring_Unit:t.target.value})}},this.state.measuring_units.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.measuring_unit_name)})))))),i.a.createElement(m.a,{style:ei.boxSize2,overflow:!0,display:"flex"},i.a.createElement(m.a,{width:"100%",style:ti,flexDirection:"row",display:"flex",overflow:"auto",flexWrap:"wrap",maxHeight:"100px"},this.state.Id.map((function(t,a){return i.a.createElement(m.a,{display:"flex",width:"33.33%",pt:.3},i.a.createElement(X.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Id",required:!0,name:"Id",value:e.state.Id[a].id,disabled:e.props.disabled.Id,onFocus:function(){console.log("wiiid:",e.state.Id[a].Id)},onChange:function(t){e.setState({A_Id:t.target.value}),console.log(t.target.value),e.setState((function(e){e.Id[a].id=e.A_Id,console.log(e.Id[a])}))}}),e.state.Id.length===a+1?i.a.createElement(Vt.a,{color:"secondary",style:{fontSize:"30px",margin:"4px",padding:"0px"},onClick:function(){e.setState({}),e.setState((function(e){e.Id.push({id:""}),console.log(e.Id)}))}}):i.a.createElement(Jt.a,{color:"secondary",style:{fontSize:"30px",margin:"4px",padding:"0px"},onClick:function(){e.setState({}),e.setState((function(e){e.Id.splice(a,1),console.log(e.Id)}))}}))})).reverse())),i.a.createElement(m.a,{style:ei.boxSize2},i.a.createElement(m.a,{width:"100%",style:ti},i.a.createElement(ue,{disabled:this.props.disabled.Wastage_Date,id:"4",variant:"outlined",name:"Wastage Date",value:this.state.Wastage_Date,onChange:function(t){e.setState({Wastage_Date:t.target.value})}}))),i.a.createElement(m.a,{style:ei.boxSize2},i.a.createElement(m.a,{style:ti,display:"flex",alignItems:"center",width:"100%"},i.a.createElement(X.a,{disabled:this.props.disabled.Description,size:"small",multiline:!0,rowsMax:"3",variant:"outlined",fullWidth:!0,label:"Reasons",value:this.state.Description,onChange:function(t){e.setState({Description:t.target.value})}}))))))),i.a.createElement(m.a,{display:" flex",pt:2,pb:2,m:0,justifyContent:"flex-end",width:"87%"},i.a.createElement(m.a,{display:" flex"},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",fontWeight:"Bold",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{marginLeft:"10px",display:this.props.disabled.btnDisplay},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",fontWeight:"bold",onClick:this.onEditHandler},"Update"))))}}]),t}(n.Component),ni=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).EditData={},a.state={columns:[{title:"Wastage Type",field:"Wastage_Type"},{title:"Item Name",field:"Item_Name"},{title:"Quantity",field:"Quantity"},{title:"Measuring Unit",field:"Measuring_Unit"}],data:[],openAdd:!1,openEdit:!1,fieldDisabled:{Wastage_Type:!1,Product_Name:!1,Raw_Material_Id:!1,Quantity:!1,Id_Type:!1,Id:!1,Measuring_Unit:!1,Wastage_Date:!1,Description:!1,btnDisplay:"none",btnText:"Close"}},a.OnEditHandler=function(e,t){K.a.post("/wastage",{_id:t._id}).then((function(e){a.EditData=Object(F.a)({},e.data[0]),console.log(a.EditData),a.setState({openEdit:!0})}))},a.handleClose=function(){K.a.get("/wastage").then((function(e){console.log(e.data);for(var t=function(t){e.data[t].id=t+1,K.a.post("/measuring-units/measuring-unit",{_id:e.data[t].Measuring_Unit}).then((function(n){console.log(n),n.data.MeasuringUnit[0]?(console.log(n.data.MeasuringUnit[0].measuring_unit_name),e.data[t].Measuring_Unit=n.data.MeasuringUnit[0].measuring_unit_name,a.setState({data:Object(Q.a)(e.data)})):(e.data[t].Measuring_Unit="problem loading Measuring Unit",a.setState({data:Object(Q.a)(e.data)}))})),""!==e.data[t].Product_Name?K.a.post("/products/product",{_id:e.data[t].Product_Name}).then((function(n){console.log(n.data.Product[0].product_name),n.data.Product?(console.log(n.data.Product[0].product_name),e.data[t].Item_Name=n.data.Product[0].product_name,a.setState({data:Object(Q.a)(e.data)})):(e.data[t].Item_Name="problem loading",a.setState({data:Object(Q.a)(e.data)}))})):K.a.post("/raw-materials/raw-material",{_id:e.data[t].Raw_Material_Id}).then((function(n){console.log(n),n.data.RawMaterial[0]?(console.log(n.data.RawMaterial[0].raw_material_name),e.data[t].Item_Name=n.data.RawMaterial[0].raw_material_name,a.setState({data:Object(Q.a)(e.data)})):(e.data[t].Item_Name="problem loading",a.setState({data:Object(Q.a)(e.data)}))}))},n=0;n<e.data.length;n++)t(n)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.handleClose()}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Manage Wastage"),i.a.createElement(m.a,{width:"90%",display:"flex",flexDirection:"row"},i.a.createElement(M.a,{variant:"contained",color:"primary",style:{marginBottom:"20px",display:"flex",marginRight:"10px"},size:"large",onClick:function(){e.setState({openAdd:!0})}},"Add")),i.a.createElement(V.a,{title:" ",columns:this.state.columns,data:this.state.data,style:{width:"90%",maxHeight:"500px",overflow:"auto"},options:{sorting:!0,headerStyle:{backgroundColor:"#3f51b5",color:"#FFF",fontSize:"medium",fontWeight:"bold"}},onRowClick:function(t,a){e.setState({fieldDisabled:{Wastage_Type:!0,Product_Name:!0,Raw_Material_Id:!0,Quantity:!0,Id_Type:!0,Id:!0,Measuring_Unit:!0,Wastage_Date:!0,Description:!0,btnDisplay:"none",btnText:"Close"}}),e.OnEditHandler(t,a)}}),i.a.createElement(J.a,{open:this.state.openAdd,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,null,i.a.createElement($n,{cancel:function(){e.setState({openAdd:!1}),e.handleClose()}}))),i.a.createElement(J.a,{open:this.state.openEdit,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,null,i.a.createElement(ai,{disabled:this.state.fieldDisabled,wastage:this.EditData,cancel:function(){e.setState({openEdit:!1}),e.handleClose()}}))))}}]),t}(n.Component),ii=jn,oi={marginRight:"6px",marginLeft:"6px"},li=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={_id:"",Raw_Material_Id:"Raw_material_Id",Raw_Material_Code:"",Quantity:"",Measuring_Unit:"",Priority:"",Due_Date:null,Status:"Requesting",Comments:"",errors:[],success:!1,measuring_units:[],materials:[],code:""},a.onEditHandler=function(){K.a.post("/production-unit/edit",{_id:a.state._id,Raw_Material_Id:a.state.Raw_Material_Id,Raw_Material_Code:a.state.Raw_Material_Code,Quantity:a.state.Quantity,Measuring_Unit:a.state.Measuring_Unit,Priority:a.state.Priority,Due_Date:a.state.Due_Date,Status:a.state.Status,Comments:a.state.Comments}).then((function(e){console.log(e.data),a.props.cancel()})).catch((function(e){return console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;K.a.get("/raw-material").then((function(t){console.log(t),e.setState({materials:Object(Q.a)(t.data.RawMaterials)})})),K.a.get("/measuring-units/measuring-units").then((function(t){console.log(t),e.setState({measuring_units:Object(Q.a)(t.data.MeasuringUnits)})})),this.setState({_id:this.props.unit._id,Raw_Material_Id:this.props.unit.Raw_Material_Id,Raw_Material_Code:this.props.unit.Raw_Material_Code,Quantity:this.props.unit.Quantity,Measuring_Unit:this.props.unit.Measuring_Unit,Priority:this.props.unit.Priority,Due_Date:this.props.unit.Due_Date,Status:this.props.unit.Status,Comments:this.props.unit.Comments})}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:ii.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Edit unit request"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:ii.box_msg,bgcolor:"#f73067",key:t},e)})):!0===this.state.success?i.a.createElement(m.a,{bgcolor:"#3df45b",style:ii.box_msg},"Successful"):null,i.a.createElement(m.a,{style:ii.root},i.a.createElement(m.a,{display:"flex",justifyContent:"center"},i.a.createElement(m.a,{style:ii.lbox},i.a.createElement(m.a,{style:ii.form},i.a.createElement(m.a,{style:ii.boxSize2},i.a.createElement(m.a,{width:"50%",style:oi},i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Material Name"),i.a.createElement(ee.a,{disabled:this.props.disabled.Raw_Material_Id,variant:"outlined",required:!0,name:"Raw_Material_Id",value:this.state.Raw_Material_Id,onChange:function(t){var a;e.state.materials.map((function(e){return e._id===t.target.value&&(a=e.raw_material_code,console.log("code: ",a)),null})),e.setState({Raw_Material_Id:t.target.value,Raw_Material_Code:a})}},this.state.materials.map((function(e,t){return i.a.createElement(W.a,{key:t,value:e._id},e.raw_material_name)}))))),i.a.createElement(m.a,{width:"50%",style:oi},i.a.createElement(X.a,{disabled:!0,size:"small",fullWidth:!0,variant:"outlined",label:"Material_Code",required:!0,name:"Material_Code",value:this.state.Raw_Material_Code,onChange:function(t){e.setState({Material_Code:t.target.value}),console.log(t.target.value)}}))),i.a.createElement(m.a,{style:ii.boxSize2},i.a.createElement(m.a,{width:"50%",style:oi},i.a.createElement(X.a,{disabled:this.props.disabled.Quantity,size:"small",fullWidth:!0,variant:"outlined",label:"Quantity",required:!0,name:"Quantity",value:this.state.Quantity,onChange:function(t){e.setState({Quantity:t.target.value})}})),i.a.createElement(m.a,{width:"50%",style:oi},i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Measuring Unit"),i.a.createElement(ee.a,{disabled:this.props.disabled.Measuring_Unit,name:"Measuring_Unit",variant:"outlined",required:!0,value:this.state.Measuring_Unit,onChange:function(t){e.setState({Measuring_Unit:t.target.value}),console.log(t.target.value)}},this.state.measuring_units.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.measuring_unit_name)})))))),i.a.createElement(m.a,{style:ii.boxSize2},i.a.createElement(m.a,{width:"50%",style:oi},i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Priority"),i.a.createElement(ee.a,{disabled:this.props.disabled.Priority,variant:"outlined",required:!0,name:"Priority",value:this.state.Priority,onChange:function(t){e.setState({Priority:t.target.value})}},i.a.createElement(W.a,{value:"Priority",disabled:!0},"Priority"),i.a.createElement(W.a,{value:"Low"},"Low"),i.a.createElement(W.a,{value:"Medium"},"Medium"),i.a.createElement(W.a,{value:"High"},"High")))),i.a.createElement(m.a,{width:"50%",style:oi},i.a.createElement(ue,{disabled:this.props.disabled.Due_Date,id:"4",variant:"outlined",Name:"Due_Date",value:this.state.Due_Date,setDate:function(t){e.setState({Due_Date:t}),console.log(t)}}))),i.a.createElement(m.a,{style:ii.boxSize2},i.a.createElement(m.a,{width:"100%",style:oi},i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Status"),i.a.createElement(ee.a,{size:"small",variant:"outlined",label:"Status",required:!0,name:"Status",disabled:this.props.disabled.Status,value:this.state.Status,onChange:function(t){e.setState({Status:t.target.value})}},i.a.createElement(W.a,{value:"Status",disabled:!0},"Status"),i.a.createElement(W.a,{value:"Requesting",disabled:!0},"Requesting"),i.a.createElement(W.a,{value:"InProgress"},"InProgress"),i.a.createElement(W.a,{value:"Rejected"},"Rejected"),i.a.createElement(W.a,{value:"Accepted"},"Accepted"))))),i.a.createElement(m.a,{style:ii.boxSize2},i.a.createElement(m.a,{width:"100%",style:oi},i.a.createElement(X.a,{disabled:this.props.disabled.Comments,multiline:!0,rowsMax:"3",variant:"outlined",fullWidth:!0,label:"Comments",value:this.state.Comments,onChange:function(t){e.setState({Comments:t.target.value}),console.log(t.target.value)}}))))))),i.a.createElement(m.a,{display:" flex",pt:2,pb:2,m:0,justifyContent:"flex-end",width:"87%"},i.a.createElement(m.a,{display:" flex"},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",fontWeight:"Bold",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{marginLeft:"10px",display:this.props.disabled.btnDisplay},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",fontWeight:"bold",onClick:this.onEditHandler},"Update"))))}}]),t}(n.Component),ri=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).EditData={},a.state={columns:[{title:"Material Name",field:"Raw_Material_Id"},{title:"Quantity",field:"Quantity"},{title:"Measuring Unit",field:"Measuring_Unit_Name"},{title:"Priority",field:"Priority"},{title:"Status",field:"Status"}],data:[],openAdd:!1,openEdit:!1,open:!1,alert:!1,fieldDisabled:{Raw_Material_Id:!1,Raw_Material_Code:!1,Quantity:!1,Measuring_Unit:!1,Priority:!1,Due_Date:!1,Status:!1,Comments:!1,btnDisplay:"none",btnText:"Close"}},a.OnEditHandler=function(e,t){K.a.post("/production-unit",{_id:t._id}).then((function(e){console.log(e.data[0]),a.EditData=Object(F.a)({},e.data[0]),console.log(a.EditData),a.setState({openEdit:!0})}))},a.handleClose=function(){K.a.get("/production-unit").then((function(e){console.log("reqdetails:",e.data);for(var t=function(t){e.data[t].id=t+1,K.a.post("/measuring-units/measuring-unit",{_id:e.data[t].Measuring_Unit}).then((function(n){console.log(n),n.data.MeasuringUnit[0]?(console.log(n.data.MeasuringUnit[0].measuring_unit_name),e.data[t].Measuring_Unit_Name=n.data.MeasuringUnit[0].measuring_unit_name,a.setState({data:Object(Q.a)(e.data)})):(e.data[t].Measuring_Unit="problem loading Measuring Unit",a.setState({data:Object(Q.a)(e.data)}))})),K.a.post("/raw-material",{_id:e.data[t].Raw_Material_Id}).then((function(n){console.log(n),n.data.RawMaterial[0]?(console.log(n.data.RawMaterial[0].raw_material_name),e.data[t].Raw_Material_Id=n.data.RawMaterial[0].raw_material_name,a.setState({data:Object(Q.a)(e.data)})):(e.data[t].Raw_Material_Id="problem loading",a.setState({data:Object(Q.a)(e.data)}))}))},n=0;n<e.data.length;n++)t(n)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.handleClose()}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Manage Unit Request"),i.a.createElement(V.a,{title:" ",columns:this.state.columns,data:this.state.data,style:{width:"90%",maxHeight:"500px",overflow:"auto"},options:{sorting:!0,headerStyle:{backgroundColor:"#3f51b5",color:"#FFF",fontSize:"medium",fontWeight:"bold"}},actions:[{icon:"edit",tooltip:"Edit User",onClick:function(t,a){e.setState({fieldDisabled:{Raw_Material_Id:!1,Raw_Material_Code:!1,Quantity:!1,Measuring_Unit:!1,Priority:!1,Due_Date:!1,Status:!1,Comments:!1,btnDisplay:"flex",btnText:"Cancel"}}),e.OnEditHandler(t,a)}}],onRowClick:function(t,a){e.setState({fieldDisabled:{Raw_Material_Id:!0,Raw_Material_Code:!0,Quantity:!0,Measuring_Unit:!0,Priority:!0,Due_Date:!0,Status:!0,Comments:!0,btnDisplay:"none",btnText:"Close"}}),e.OnEditHandler(t,a)}}),i.a.createElement(J.a,{open:this.state.openEdit,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,null,i.a.createElement(li,{unit:this.EditData,disabled:this.state.fieldDisabled,cancel:function(){e.setState({openEdit:!1}),e.handleClose()}}))),i.a.createElement(Se.a,{open:this.state.alert,autoHideDuration:3e3,anchorOrigin:{vertical:"bottom",horizontal:"center"},onClose:this.closeAlert,style:{paddingLeft:"20%",fontWeight:"bold"}},i.a.createElement(Ce.a,{variant:"filled",severity:"error"},"You cannot Modify / Delete this Record")))}}]),t}(n.Component),si=a(390),ci=jn,di={marginRight:"6px",marginLeft:"6px"},ui=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={_id:"",Product_Name:"",Product_ID:"",Quantity:"",Available_Stock:"",Balance_Stock:"",Measuring_Unit:"",Box_Id:[{id:""}],Selling_Date:null,Distributor:"",Payment_Type:"",Price:"",Final_Price:"",Discount:"",Advance:"",Balance:"",errors:[],openAdd:!1,success:!1,measuring_units:[],products:[],productstocks:[],code:"",b_id:"",distributors:[],DiscountValue:null},a.onAddHandler=function(){console.log("Ready to add"),K.a.post("/sales/add",{_id:a.state._id,Product_ID:a.state.Product_ID,Product_Name:a.state.Product_Name,Box_Id:a.state.Box_Id,Quantity:a.state.Quantity,Available_Stock:a.state.Available_Stock,Balance_Stock:a.state.Balance_Stock,Measuring_Unit:a.state.Measuring_Unit,Selling_Date:a.state.Selling_Date,Distributor:a.state.Distributor,Payment_Type:a.state.Payment_Type,Price:a.state.Price,Final_Price:a.state.Final_Price,Discount:a.state.Discount,Advance:a.state.Advance,Balance:a.state.Balance}).then((function(e){console.log(e),a.props.cancel()}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;K.a.get("/measuring-units/measuring-units").then((function(t){console.log(t),e.setState({measuring_units:Object(Q.a)(t.data.MeasuringUnits)})})),K.a.get("/products/products").then((function(t){console.log(t),e.setState({products:Object(Q.a)(t.data.Products)})})),K.a.get("/distributors/distributors").then((function(t){console.log(t),e.setState({distributors:Object(Q.a)(t.data.Distributors)}),console.log("distributors : ",t.data.Distributors)})),K.a.get("/production-stock/stock").then((function(t){console.log(t),e.setState({productstocks:Object(Q.a)(t.data)}),console.log("Production_Stock : ",t.data)}))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:ci.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Add Sales"),i.a.createElement(m.a,{style:ci.root},i.a.createElement(m.a,{display:"flex",justifyContent:"center"},i.a.createElement(m.a,{style:ci.lbox},i.a.createElement(m.a,{style:ci.form},i.a.createElement(m.a,{style:ci.boxSize2},i.a.createElement(m.a,{width:"50%",style:di},i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Product Name"),i.a.createElement(ee.a,{variant:"outlined",required:!0,name:"Product_Name",value:this.state.Product_Name,onChange:function(t){var a,n,i;e.state.productstocks.map((function(e){return e.Product_Name===t.target.value&&(a=e.Product_ID,n=e.Measuring_Unit,i=e.Quantity,console.log("Procode: ",a),console.log("product Name",e.Product_Name),console.log(" Name",t.target.value)),null})),e.setState({Product_Name:t.target.value,Product_ID:a,Measuring_Unit:n,Available_Stock:i}),console.log("product Name",e.state.Product_Name)}},this.state.productstocks.map((function(t,a){return i.a.createElement(W.a,{key:a,value:t.Product_Name},e.state.products.map((function(e,a){return t.Product_Name===e._id?e.product_name:null})))}))))),i.a.createElement(m.a,{width:"50%",style:di},i.a.createElement(X.a,{disabled:!0,size:"small",fullWidth:!0,variant:"outlined",label:"Product_ID",required:!0,name:"Product_ID",value:this.state.Product_ID,onChange:function(t){e.setState({Product_ID:t.target.value}),console.log(t.target.value)}}))),i.a.createElement(m.a,{style:ci.boxSize2},i.a.createElement(m.a,{width:"50%",style:di},i.a.createElement(X.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Available Stock",required:!0,name:"Available_Stock",value:this.state.Available_Stock,onChange:function(t){e.setState({Available_Stock:t.target.value}),console.log(t.target.value)}})),i.a.createElement(m.a,{width:"50%",style:di},i.a.createElement(X.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Quantity",required:!0,name:"Quantity",value:this.state.Quantity,onChange:function(t){var a;e.state.products.map((function(t){return console.log("Pro: ",t.product_name),t._id===e.state.Product_Name&&(a=parseInt(t.product_price),console.log("Procode123: ",t.product_price)),null})),e.setState({Quantity:t.target.value,Price:t.target.value*a,Balance_Stock:e.state.Available_Stock-t.target.value})}}))),i.a.createElement(m.a,{style:ci.boxSize2},i.a.createElement(m.a,{width:"50%",style:di},i.a.createElement(X.a,{disabled:!0,size:"small",fullWidth:!0,variant:"outlined",label:"Balance Stock",required:!0,name:"Balance_Stock",value:this.state.Balance_Stock})),i.a.createElement(m.a,{width:"50%",style:di},i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Measuring Unit"),i.a.createElement(ee.a,{disabled:!0,name:"Measuring_Unit",variant:"outlined",required:!0,value:this.state.Measuring_Unit,onChange:function(t){e.setState({Measuring_Unit:t.target.value}),console.log(t.target.value)}},this.state.measuring_units.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.measuring_unit_name)})))))),i.a.createElement(m.a,{style:ci.boxSize2},i.a.createElement(m.a,{width:"100%",style:di},i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Distributor"),i.a.createElement(ee.a,{variant:"outlined",required:!0,name:"Distributor",value:this.state.Distributor,onChange:function(t){e.setState({Distributor:t.target.value})}},this.state.distributors.map((function(e,t){return i.a.createElement(W.a,{key:t,value:e._id},e.distributor_name)})))))),i.a.createElement(m.a,{style:ci.boxSize2,overflow:!0,display:"flex"},i.a.createElement(m.a,{width:"100%",style:di,flexDirection:"row",display:"flex",flexWrap:"wrap"},this.state.Box_Id.map((function(t,a){return i.a.createElement(m.a,{display:"flex"},i.a.createElement(X.a,{mb:4,size:"small",fullWidth:!0,variant:"outlined",label:"Box_Id",required:!0,name:"Box_Id",value:e.state.Box_Id[a].id,onChange:function(t){e.setState({b_id:t.target.value}),console.log(t.target.value),e.setState((function(e){e.Box_Id[a].id=e.b_id,console.log("====",e.Box_Id[a])}))}}),e.state.Box_Id.length===a+1?i.a.createElement(Vt.a,{color:"secondary",style:{fontSize:"30px",margin:"4px",padding:"0px"},onClick:function(){e.setState({}),e.setState((function(e){e.Box_Id.push({id:""}),console.log(e.Box_Id)}))}}):i.a.createElement(Jt.a,{color:"secondary",style:{fontSize:"29px",margin:"4px",padding:"0px"},onClick:function(){e.setState({}),e.setState((function(e){e.Box_Id.splice(a,1),console.log(e.Box_Id)}))}}))})).reverse())),i.a.createElement(m.a,{style:ci.boxSize2},i.a.createElement(m.a,{width:"100%",style:di},i.a.createElement(ue,{id:"4",variant:"outlined",Name:"Selling_Date",value:this.state.Selling_Date,setDate:function(t){e.setState({Selling_Date:t}),console.log(t)}}))),i.a.createElement(m.a,{style:ci.boxSize2},i.a.createElement(m.a,{width:"50%",style:di},i.a.createElement(X.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Discount",required:!0,name:"Discount",InputProps:{endAdornment:i.a.createElement(si.a,{position:"end"},"%")},value:this.state.Discount,onChange:function(t){t.persist(),e.setState({Discount:t.target.value}),e.setState((function(e){e.DiscountValue=e.Price*(t.target.value/100),e.Final_Price=e.Price-e.DiscountValue,e.Balance=e.Final_Price-e.Advance})),console.log("discount",e.state.DiscountValue),console.log("price",e.state.Price)}})),i.a.createElement(m.a,{width:"50%",style:di},i.a.createElement(X.a,{disabled:!0,size:"small",fullWidth:!0,variant:"outlined",label:"Total Price",required:!0,name:"Price",value:this.state.Price}))),i.a.createElement(m.a,{style:ci.boxSize2},i.a.createElement(m.a,{width:"50%",style:di},i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Payment Type"),i.a.createElement(ee.a,{variant:"outlined",required:!0,name:"Payment_Type",value:this.state.Payment_Type,onChange:function(t){e.setState({Payment_Type:t.target.value})}},i.a.createElement(W.a,{value:"Payment Type",disabled:!0},"Payment Type"),i.a.createElement(W.a,{value:"By Cash"},"By Cash"),i.a.createElement(W.a,{value:"By Cheque"},"By Cheque"),i.a.createElement(W.a,{value:"Debit"},"Debit")))),i.a.createElement(m.a,{width:"50%",style:di},i.a.createElement(X.a,{disabled:!0,size:"small",fullWidth:!0,variant:"outlined",label:"Final_Price",required:!0,name:"Final_Price",value:this.state.Final_Price}))),i.a.createElement(m.a,{style:ci.boxSize2},i.a.createElement(m.a,{width:"50%",style:di},i.a.createElement(X.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Advance Amount",required:!0,name:"Advance",value:this.state.Advance,onChange:function(t){e.setState({Advance:t.target.value,Balance:e.state.Final_Price-t.target.value}),console.log(t.target.value)}})),i.a.createElement(m.a,{width:"50%",style:di},i.a.createElement(X.a,{disabled:!0,size:"small",fullWidth:!0,variant:"outlined",label:"Balance Amount",required:!0,name:"Balance",value:this.state.Balance}))))))),i.a.createElement(m.a,{display:" flex",pt:2,pb:2,m:0,justifyContent:"flex-end",width:"87%"},i.a.createElement(m.a,{display:" flex"},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",fontWeight:"Bold",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{marginLeft:"10px"},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",fontSize:"20px",onClick:function(){e.onAddHandler()}},"Submit"))))}}]),t}(n.Component),mi=jn,pi={marginRight:"6px",marginLeft:"6px"},gi=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={_id:"",Product_Name:"Product_Name",Product_ID:"Product_ID",Quantity:" Quantity",Measuring_Unit:"Measuring_Unit",Box_Id:[{id:""}],Selling_Date:null,Distributor:"",Payment_Type:"",Price:"",Final_Price:"",Discount:"",Advance:"",Balance:"",errors:[],success:!1,measuring_units:[],products:[],code:"",b_id:"",distributors:[],DiscountValue:null,distributorlist:[],distributorInfo:!1,openDialog:!1},a.onEditHandler=function(){K.a.post("/sales/edit",{_id:a.state._id,Product_ID:a.state.Product_ID,Product_Name:a.state.Product_Name,Box_Id:a.state.Box_Id,Quantity:a.state.Quantity,Measuring_Unit:a.state.Measuring_Unit,Selling_Date:a.state.Selling_Date,Distributor:a.state.Distributor,Payment_Type:a.state.Payment_Type,Price:a.state.Price,Final_Price:a.state.Final_Price,Discount:a.state.Discount,Advance:a.state.Advance,Balance:a.state.Balance}).then((function(e){console.log(e.data),a.props.cancel()})).catch((function(e){return console.log(e)}))},a.distributorInfo=function(){var e=[];return console.log("Distributor Details"),a.state.distributorlist.map((function(t,n){return t._id===a.state.Distributor?(console.log("matched"),e.push(i.a.createElement(m.a,{key:n},i.a.createElement("h4",{style:{padding:"0px",margin:"0px"}},"Distributor:"),"".concat(t.distributor_name," - ").concat(t.distributor_mobile_no," - ").concat(t.distributor_email)," ",i.a.createElement("br",null),i.a.createElement("h4",{style:{padding:"0px",margin:"0px"}},"Point of contacts:"),t.distributor_point_of_contact.map((function(e,t){return i.a.createElement(m.a,{key:t},e.name+" ( "+e.designation+" ) - "+e.mobile_no)}))))):console.log("not match"),null})),e},a.openDialog=function(){a.setState({openDialog:!0})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;K.a.get("/measuring-units/measuring-units").then((function(t){console.log(t),e.setState({measuring_units:Object(Q.a)(t.data.MeasuringUnits)})})),K.a.get("/products/products").then((function(t){console.log(t),e.setState({products:Object(Q.a)(t.data.Products)})})),K.a.get("/distributors/distributors").then((function(t){console.log(t),e.setState({distributors:Object(Q.a)(t.data.Distributors),distributorlist:Object(Q.a)(t.data.Distributors)}),console.log("distributors : ",t.data.Distributors)})),this.setState({_id:this.props.sales._id,Product_Name:this.props.sales.Product_Name,Quantity:this.props.sales.Quantity,Product_ID:this.props.sales.Product_ID,Measuring_Unit:this.props.sales.Measuring_Unit,Box_Id:this.props.sales.Box_Id,Selling_Date:this.props.sales.Selling_Date,Distributor:this.props.sales.Distributor,Payment_Type:this.props.sales.Payment_Type,Price:this.props.sales.Price,Final_Price:this.props.sales.Final_Price,Discount:this.props.sales.Discount,Advance:this.props.sales.Advance,Balance:this.props.sales.Balance})}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:mi.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Edit Sales"),i.a.createElement(m.a,{style:mi.root},i.a.createElement(m.a,{display:"flex",justifyContent:"center"},i.a.createElement(m.a,{style:mi.lbox},i.a.createElement(m.a,{style:mi.form},i.a.createElement(m.a,{style:mi.boxSize2},i.a.createElement(m.a,{width:"50%",style:pi},i.a.createElement(Z.a,{variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Product Name"),i.a.createElement(ee.a,{variant:"outlined",required:!0,name:"Product_Name",disabled:this.props.disabled.Product_Name,value:this.state.Product_Name,onChange:function(t){var a,n;e.state.products.map((function(e){return e._id===t.target.value&&(a=e.product_code,n=e.product_measuring_unit,console.log("Procode: ",a)),null})),e.setState({Product_Name:t.target.value,Product_ID:a,Measuring_Unit:n})}},this.state.products.map((function(e,t){return i.a.createElement(W.a,{key:t,value:e._id},e.product_name)}))))),i.a.createElement(m.a,{width:"50%",style:pi},i.a.createElement(X.a,{disabled:!0,size:"small",fullWidth:!0,variant:"outlined",label:"Product_ID",required:!0,name:"Product_ID",value:this.state.Product_ID,onChange:function(t){e.setState({Product_ID:t.target.value}),console.log(t.target.value)}}))),i.a.createElement(m.a,{style:mi.boxSize2},i.a.createElement(m.a,{width:"100%",style:pi},i.a.createElement(Z.a,{variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Distributor"),i.a.createElement(ee.a,{variant:"outlined",required:!0,name:"Distributor",disabled:this.props.disabled.Distributor,value:this.state.Distributor,onChange:function(t){e.setState({Distributor:t.target.value})}},this.state.distributors.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.distributor_name)})))))),i.a.createElement(m.a,{style:mi.boxSize2},i.a.createElement(m.a,{width:"50%",style:pi},i.a.createElement(X.a,{disabled:!0,size:"small",fullWidth:!0,variant:"outlined",label:"Quantity",required:!0,name:"Quantity",value:this.state.Quantity,onChange:function(t){var a=1;e.state.products.map((function(t){return console.log("Pro: ",e.state.Product_Name),t._id===e.state.Product_Name&&(a=parseInt(t.product_price),console.log("Procode123: ",t.product_price)),null})),e.setState({Quantity:t.target.value,Price:t.target.value*a})}})),i.a.createElement(m.a,{width:"50%",style:pi},i.a.createElement(Z.a,{variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Measuring Unit"),i.a.createElement(ee.a,{disabled:!0,name:"Measuring_Unit",variant:"outlined",required:!0,value:this.state.Measuring_Unit,onChange:function(t){e.setState({Measuring_Unit:t.target.value}),console.log(t.target.value)}},this.state.measuring_units.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.measuring_unit_name)})))))),i.a.createElement(m.a,{style:mi.boxSize2,display:"flex",flexDirection:"row"},i.a.createElement(m.a,{width:"100%",style:pi,flexDirection:"row",display:"flex"},this.state.Box_Id.map((function(t,a){return i.a.createElement(m.a,{display:"flex"},i.a.createElement(X.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Box_Id",required:!0,name:"Box_Id",disabled:e.props.disabled.Box_Id,value:e.state.Box_Id[a].id,onChange:function(t){e.setState({b_id:t.target.value}),console.log(t.target.value),e.setState((function(e){e.Box_Id[a].id=e.b_id}))}}),e.state.Box_Id.length===a+1?i.a.createElement(Vt.a,{color:"secondary",style:{fontSize:"30px",margin:"4px",padding:"0px"},onClick:function(){e.setState({}),e.setState((function(e){e.Box_Id.push({id:""}),console.log(e.Box_Id)}))}}):i.a.createElement(Jt.a,{color:"secondary",style:{fontSize:"30px",margin:"4px",padding:"0px"},onClick:function(){e.setState({}),e.setState((function(e){e.Box_Id.splice(a,1),console.log(e.Box_Id)}))}}))})).reverse())),i.a.createElement(m.a,{style:mi.boxSize2},i.a.createElement(m.a,{width:"100%",style:pi},i.a.createElement(ue,{id:"4",variant:"outlined",Name:"Selling_Date",disabled:this.props.disabled.Selling_Date,value:this.state.Selling_Date,setDate:function(t){e.setState({Selling_Date:t}),console.log(t)}}))),i.a.createElement(m.a,{style:mi.boxSize2},i.a.createElement(m.a,{width:"50%",style:pi},i.a.createElement(X.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Discount",required:!0,name:"Discount",InputProps:{endAdornment:i.a.createElement(si.a,{position:"end"},"%")},disabled:this.props.disabled.Discount,value:this.state.Discount,onChange:function(t){t.persist(),e.setState({Discount:t.target.value}),e.setState((function(e){e.DiscountValue=e.Price*(t.target.value/100),e.Final_Price=e.Price-e.DiscountValue,e.Balance=e.Final_Price-e.Advance})),console.log("discount",e.state.DiscountValue),console.log("price",e.state.Price)}})),i.a.createElement(m.a,{width:"50%",style:pi},i.a.createElement(X.a,{disabled:!0,size:"small",fullWidth:!0,variant:"outlined",label:"Total Price",required:!0,name:"Price",value:this.state.Price}))),i.a.createElement(m.a,{style:mi.boxSize2},i.a.createElement(m.a,{width:"50%",style:pi},i.a.createElement(Z.a,{variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Payment Type"),i.a.createElement(ee.a,{variant:"outlined",required:!0,name:"Payment_Type",disabled:this.props.disabled.Payment_Type,value:this.state.Payment_Type,onChange:function(t){e.setState({Payment_Type:t.target.value})}},i.a.createElement(W.a,{value:"Payment Type",disabled:!0},"Payment Type"),i.a.createElement(W.a,{value:"By Cash"},"By Cash"),i.a.createElement(W.a,{value:"By Cheque"},"By Cheque"),i.a.createElement(W.a,{value:"Debit"},"Debit")))),i.a.createElement(m.a,{width:"50%",style:pi},i.a.createElement(X.a,{disabled:!0,size:"small",fullWidth:!0,variant:"outlined",label:"Final_Price",required:!0,name:"Final_Price",value:this.state.Final_Price}))),i.a.createElement(m.a,{style:mi.boxSize2},i.a.createElement(m.a,{width:"50%",style:pi},i.a.createElement(X.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Advance Amount",required:!0,name:"Advance",disabled:this.props.disabled.Advance,value:this.state.Advance,onChange:function(t){e.setState({Advance:t.target.value,Balance:e.state.Final_Price-t.target.value}),console.log(t.target.value)}})),i.a.createElement(m.a,{width:"50%",style:pi},i.a.createElement(X.a,{disabled:!0,size:"small",fullWidth:!0,variant:"outlined",label:"Balance Amount",required:!0,name:"Balance",value:this.state.Balance}))))))),i.a.createElement(m.a,{display:" flex",pt:2,pb:2,m:0,justifyContent:"flex-end",width:"87%"},i.a.createElement(m.a,{marginRight:"10px",display:""!==this.state.Distributor?"flex":"none"},i.a.createElement(M.a,{variant:"contained",color:"primary",size:"large",onClick:function(){e.setState({distributorInfo:!0}),e.openDialog()}},"Distributor Info")),i.a.createElement(m.a,{display:" flex"},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",fontWeight:"Bold",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{marginLeft:"10px",display:this.props.disabled.btnDisplay},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",fontWeight:"bold",onClick:this.onEditHandler},"Update"))),i.a.createElement(J.a,{open:this.state.openDialog,maxWidth:"sm",fullWidth:!0},i.a.createElement(Y.a,null,i.a.createElement(m.a,{display:"flex",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"25px",mb:3,textAlign:"center",fontWeight:"bold"},"Distributor Information"),i.a.createElement(m.a,null,this.distributorInfo()),i.a.createElement(m.a,{display:" flex",alignContent:"end",pt:2},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"small",onClick:function(){e.props.cancel()}},"Back"))))))}}]),t}(n.Component),hi=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).EditData={},a.state={columns:[{title:"Name",field:"Product_Name"},{title:"Quantity",field:"Quantity"},{title:"Measuring Unit",field:"Measuring_Unit"},{title:"Distributor",field:"Distributor"},{title:"Price",field:"Price"},{title:"Balance",field:"Balance"}],data:[],openAdd:!1,openEdit:!1,fieldDisabled:{Product_Name:!1,Product_ID:!1,Quantity:!1,Measuring_Unit:!1,Box_Id:!1,Selling_Date:!1,Distributor:!1,Payment_Type:!1,Price:!1,Final_Price:!1,Discount:!1,Advance:!1,Balance:!1,btnDisplay:"none",btnText:"Close"}},a.OnEditHandler=function(e,t){K.a.post("/sales",{_id:t._id}).then((function(e){a.EditData=Object(F.a)({},e.data[0]),console.log(a.EditData),a.setState({openEdit:!0})}))},a.handleClose=function(){K.a.get("/sales").then((function(e){console.log(e.data);for(var t=function(t){e.data[t].id=t+1,K.a.post("/measuring-units/measuring-unit",{_id:e.data[t].Measuring_Unit}).then((function(n){console.log(n),n.data.MeasuringUnit[0]?(console.log(n.data.MeasuringUnit[0].measuring_unit_name),e.data[t].Measuring_Unit=n.data.MeasuringUnit[0].measuring_unit_name,a.setState({data:Object(Q.a)(e.data)})):(e.data[t].Measuring_Unit="problem loading Measuring Unit",a.setState({data:Object(Q.a)(e.data)}))})),K.a.post("/products/product",{_id:e.data[t].Product_Name}).then((function(n){console.log(n.data.Product[0].product_name),n.data.Product?(console.log(n.data.Product[0].product_name),e.data[t].Product_Name=n.data.Product[0].product_name,a.setState({data:Object(Q.a)(e.data)})):(e.data[t].Product_Name="problem loading",a.setState({data:Object(Q.a)(e.data)}))})),K.a.post("/distributors/distributor",{_id:e.data[t].Distributor}).then((function(n){console.log(n),n.data.Distributor?(console.log(n.data.Distributor[0].distributor_name),e.data[t].Distributor=n.data.Distributor[0].distributor_name,a.setState({data:Object(Q.a)(e.data)})):(e.data[t].Distributor="problem loading Distributor",a.setState({data:Object(Q.a)(e.data)}))}))},n=0;n<e.data.length;n++)t(n)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.handleClose()}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Manage Sales"),i.a.createElement(m.a,{width:"90%",display:"flex",flexDirection:"row"},i.a.createElement(M.a,{variant:"contained",color:"primary",style:{marginBottom:"20px",display:"flex",marginRight:"10px"},size:"large",onClick:function(){e.setState({openAdd:!0})}},"Add")),i.a.createElement(V.a,{title:" ",columns:this.state.columns,data:this.state.data,style:{width:"90%",maxHeight:"500px",overflow:"auto"},options:{sorting:!0,headerStyle:{backgroundColor:"#3f51b5",color:"#FFF",fontSize:"medium",fontWeight:"bold"}},actions:[{icon:"edit",tooltip:"Edit User",onClick:function(t,a){e.setState({fieldDisabled:{Product_Name:!1,Product_ID:!1,Quantity:!1,Measuring_Unit:!1,Box_Id:!1,Selling_Date:!1,Distributor:!1,Payment_Type:!1,Price:!1,Final_Price:!1,Discount:!1,Advance:!1,Balance:!1,btnDisplay:"flex",btnText:"Cancel"}}),e.OnEditHandler(t,a)}}],onRowClick:function(t,a){e.setState({fieldDisabled:{Product_Name:!0,Product_ID:!0,Quantity:!0,Measuring_Unit:!0,Box_Id:!0,Selling_Date:!0,Distributor:!0,Payment_Type:!0,Price:!0,Final_Price:!0,Discount:!0,Advance:!0,Balance:!0,btnDisplay:"none",btnText:"Close"}}),e.OnEditHandler(t,a)}}),i.a.createElement(J.a,{open:this.state.openAdd,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,null,i.a.createElement(ui,{cancel:function(){e.setState({openAdd:!1})}}))),i.a.createElement(J.a,{open:this.state.openEdit,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,null,i.a.createElement(gi,{sales:this.EditData,disabled:this.state.fieldDisabled,cancel:function(){e.setState({openEdit:!1})}}))))}}]),t}(n.Component),fi=jn,_i={marginRight:"6px",marginLeft:"6px"},yi=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={_id:"",QC_Type:"",Product_Name:"",Product_ID:"",Batch_Id:"",Measuring_Unit:"",Quantity:"",Id_Type:"",Id:"",QC_Id:"",Box_Id:"",I_Capacity:"",B_Capacity:"",Method:[],QC_Date:null,Result:"",Comments:"",Status:"Ready to QC",products:[],errors:[],measuring_units:[],methods:[],productcodes:[],lastid:"",lastvalue:"",boxlastid:0,prefixcode:"",boxprefixcode:"",boxcodes:[],dates:[],display:"none"},a.onEditHandler=function(){K.a.post("/quality-check/add",{_id:a.state._id,QC_Type:a.state.QC_Type,Product_Name:a.state.Product_Name,Product_ID:a.state.Product_ID,Batch_Id:a.state.Batch_Id,Measuring_Unit:a.state.Measuring_Unit,Quantity:a.state.Quantity,Method:a.state.methods,Id_Type:a.state.Id_Type,Id:a.state.Id,QC_Id:a.state.QC_Id,Box_Id:a.state.Box_Id,I_Capacity:a.state.I_Capacity,B_Capacity:a.state.B_Capacity,QC_Date:a.state.QC_Date,Result:a.state.Result,Comments:a.state.Comments,Status:a.state.Status}).then((function(e){console.log(e.data),a.props.cancel()})).catch((function(e){return console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;K.a.get("/measuring-units/measuring-units").then((function(t){console.log(t),e.setState({measuring_units:Object(Q.a)(t.data.MeasuringUnits)}),K.a.get("/products/products").then((function(t){console.log(t),e.setState({products:Object(Q.a)(t.data.Products)})})),K.a.get("/qc-method").then((function(t){console.log("qc----",t),e.setState({methods:Object(Q.a)(t.data)})})),K.a.get("/product-code").then((function(t){console.log("productcodes",t.data.ProductCode),e.setState({productcodes:Object(Q.a)(t.data.ProductCode),prefixcode:t.data.ProductCode[0].code_prefix+t.data.ProductCode[0].code_separator})})),K.a.get("/box-code").then((function(t){console.log("boxcodes",t.data.BoxCode),e.setState({boxcodes:Object(Q.a)(t.data.BoxCode),boxprefixcode:t.data.BoxCode[0].code_prefix+t.data.BoxCode[0].code_separator}),console.log("concode:",t.data.BoxCode[0].code_prefix+t.data.BoxCode[0].code_separator)})),K.a.get("/quality-check/lastcode").then((function(t){console.log("Lastcodes",t),0!==t.data.length?e.setState({lastid:t.data.Id[t.data.Id.length-1].split("-")[1]}):e.setState({lastid:0}),console.log("Lastid",e.state.lastid)})),K.a.get("/quality-check/blcode").then((function(t){console.log("BoxLastcodes",t),console.log("boxid",t.data.Box_Id),0!==t.data.length?e.setState({boxlastid:t.data.Box_Id[t.data.Box_Id.length-1].split("-")[1]}):e.setState({boxlastid:0}),console.log("boxLastid",e.state.boxlastid)}))})),this.setState({QC_Type:this.props.qualitycheck.QC_Type,Product_Name:this.props.qualitycheck.Product_Name,Product_ID:this.props.qualitycheck.Product_ID,Batch_Id:this.props.qualitycheck.Batch_Id,Quantity:this.props.qualitycheck.Quantity,Id_Type:this.props.qualitycheck.Id_Type,Id:this.props.qualitycheck.Id,Box_Id:this.props.qualitycheck.Box_Id,I_Capacity:this.props.qualitycheck.I_Capacity,B_Capacity:this.props.qualitycheck.B_Capacity,Measuring_Unit:this.props.qualitycheck.Measuring_Unit,Method:this.props.qualitycheck.Method,QC_Date:this.state.QC_Date,Result:this.props.qualitycheck.Result,Comments:this.props.qualitycheck.Comments,Status:this.props.qualitycheck.Status})}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:fi.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Quality Check"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:fi.box_msg,bgcolor:"#f73067",key:t},e)})):!0===this.state.success?i.a.createElement(m.a,{bgcolor:"#3df45b",style:fi.box_msg},"Successful"):null,i.a.createElement(m.a,{style:fi.root},i.a.createElement(m.a,{display:"flex",justifyContent:"center"},i.a.createElement(m.a,{style:fi.lbox},i.a.createElement(m.a,{style:fi.form},i.a.createElement(m.a,{style:fi.boxSize2},i.a.createElement(m.a,{width:"100%",style:_i},i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Qualitycheck Type"),i.a.createElement(ee.a,{variant:"outlined",required:!0,name:"QC_Type",value:this.state.QC_Type,onChange:function(t){e.setState({QC_Type:t.target.value})}},i.a.createElement(W.a,{value:"Qualitycheck Type",disabled:!0},"Qualitycheck Type"),i.a.createElement(W.a,{value:"Product"},"Product"),i.a.createElement(W.a,{value:"Packing"},"Packing"))))),i.a.createElement(m.a,{style:fi.boxSize2},i.a.createElement(m.a,{width:"100%",style:_i},i.a.createElement(X.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Batch_Id",required:!0,name:"Batch_Id",value:this.state.Batch_Id,onChange:function(t){e.setState({Batch_Id:t.target.value}),console.log(t.target.value)}}))),i.a.createElement(m.a,{style:fi.boxSize2},i.a.createElement(m.a,{width:"50%",style:_i},i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Item Name"),i.a.createElement(ee.a,{variant:"outlined",required:!0,name:"Product_Name",value:this.state.Product_Name,onChange:function(t){var a;e.state.products.map((function(e){return e._id===t.target.value&&(a=e.product_code,console.log("Procode: ",a)),null})),e.setState({Product_Name:t.target.value,Id:a})}},this.state.products.map((function(e,t){return i.a.createElement(W.a,{key:t,value:e._id},e.product_name)}))))),i.a.createElement(m.a,{width:"50%",style:_i},i.a.createElement(X.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Product_ID",required:!0,name:"Product_ID",value:this.state.Product_ID,onChange:function(t){e.setState({Product_ID:t.target.value}),console.log(t.target.value)}}))),i.a.createElement(m.a,{style:fi.boxSize2},i.a.createElement(m.a,{width:"50%",style:_i},i.a.createElement(X.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Quantity",required:!0,name:"Quantity",value:this.state.Quantity,onChange:function(t){e.setState({Quantity:t.target.value})}})),i.a.createElement(m.a,{width:"50%",style:_i},i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Measuring Unit"),i.a.createElement(ee.a,{name:"Measuring_Unit",variant:"outlined",required:!0,value:this.state.Measuring_Unit,onChange:function(t){e.setState({Measuring_Unit:t.target.value})}},this.state.measuring_units.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.measuring_unit_name)})))))),"Packing"===this.state.QC_Type?i.a.createElement(m.a,{style:fi.boxSize2},i.a.createElement(m.a,{width:"50%",style:_i},i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Id Type"),i.a.createElement(ee.a,{variant:"outlined",required:!0,name:"Id_Type",value:this.state.Id_Type,onChange:function(t){e.setState({Id_Type:t.target.value})}},i.a.createElement(W.a,{value:"Id Type",disabled:!0},"Id Type"),i.a.createElement(W.a,{value:"Individual"},"Individual"),i.a.createElement(W.a,{value:"Box"},"Box")))),i.a.createElement(m.a,{width:"50%",style:_i},i.a.createElement(X.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Box Capacity",required:!0,name:"B_Capacity",value:this.state.B_Capacity,onChange:function(t){e.setState({B_Capacity:t.target.value});for(var a,n=[],i=1;i<=t.target.value;i++)a=e.state.boxprefixcode+(parseInt(e.state.boxlastid)+i),n.push(a);e.setState({Box_Id:n}),console.log("ids",n),console.log("ids+",a)}})),i.a.createElement(m.a,{width:"50%",style:_i},i.a.createElement(X.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Individual Capacity",required:!0,name:"I_Capacity",value:this.state.I_Capacity,onChange:function(t){e.setState({I_Capacity:t.target.value});for(var a,n=[],i=1;i<=t.target.value;i++)a=e.state.prefixcode+(parseInt(e.state.lastid)+i),n.push(a);e.setState({Id:n}),console.log("ids",n),console.log("ids+",a)}}))):null,"Packing"===this.state.QC_Type?i.a.createElement(m.a,{style:fi.boxSize2},i.a.createElement(m.a,{width:"100%",style:_i},i.a.createElement(X.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Box Id",required:!0,name:"Box_Id",value:this.state.Box_Id,onChange:function(t){e.setState({Box_Id:t.target.value})}}))):null,"Packing"===this.state.QC_Type?i.a.createElement(m.a,{style:fi.boxSize2},i.a.createElement(m.a,{width:"100%",style:_i},i.a.createElement(X.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Individual Id",required:!0,name:"Id",value:this.state.Id,onChange:function(t){e.setState({Id:t.target.value})}}))):i.a.createElement(m.a,{style:fi.boxSize2},i.a.createElement(m.a,{width:"100%",style:_i},i.a.createElement(X.a,{size:"small",fullWidth:!0,variant:"outlined",label:"QC Id",required:!0,name:"QC_Id",value:this.state.QC_Id,onChange:function(t){e.setState({QC_Id:t.target.value})}}))),i.a.createElement(m.a,{style:fi.boxSize2},i.a.createElement(m.a,{width:"100%",style:_i},i.a.createElement(ue,{id:"4",variant:"outlined",Name:"QC_Date",label:"QC_Date",value:this.state.QC_Date,setDate:function(t){e.setState({QC_Date:t})}}))),i.a.createElement(m.a,{style:_i},i.a.createElement("h4",null,"Testing Methods:"),i.a.createElement(m.a,{display:"flex",flexWrap:"wrap",maxHeight:"200px",overflow:"auto",border:"1px solid #cfcccc",padding:"5px",marginLeft:"5px",borderRadius:"4px",alignSelf:"center",style:_i},this.state.methods.map((function(t,a){return i.a.createElement(m.a,{display:"flex",key:a},i.a.createElement(we.a,{control:i.a.createElement(De.a,{checked:t.Value,name:"Method",value:e.state.Method,onClick:function(a){t.Value=!t.Value,e.setState({methods:Object(Q.a)(e.state.methods),Method:a.target.value}),console.log("methods",e.state.methods)},Value:"".concat(t.Value)}),label:"".concat(t.Method_Name)}))})))),i.a.createElement(m.a,{style:fi.boxSize2},i.a.createElement(m.a,{width:"100%",style:_i},i.a.createElement("h4",null,"Status:"),i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Result Status"),i.a.createElement(ee.a,{variant:"outlined",required:!0,name:"Result",value:this.state.Result,onChange:function(t){e.setState({Result:t.target.value})}},i.a.createElement(W.a,{value:"Result Status",disabled:!0},"Result Status"),i.a.createElement(W.a,{value:"Pass"},"Pass"),i.a.createElement(W.a,{value:"Fail"},"Fail"))))),i.a.createElement(m.a,{style:fi.boxSize2},i.a.createElement(m.a,{style:_i,display:"flex",alignItems:"center",width:"100%"},i.a.createElement(X.a,{size:"small",multiline:!0,variant:"outlined",fullWidth:!0,label:"Comments",rowsMax:"3",name:"Comments",value:this.state.Comments,onChange:function(t){e.setState({Comments:t.target.value})}}))))))),i.a.createElement(m.a,{display:" flex",pt:2,pb:2,m:0,justifyContent:"flex-end",width:"87%"},i.a.createElement(m.a,{display:" flex"},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",fontWeight:"Bold",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{marginLeft:"10px"},i.a.createElement(f.b,{to:"/home/production/manage-qc"},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",fontWeight:"bold",onClick:this.onEditHandler},"submit")))))}}]),t}(n.Component),bi=jn,Ei={marginRight:"6px",marginLeft:"6px"},xi=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={_id:"",QC_Type:"",Product_Name:"",Product_ID:"",Measuring_Unit:"",Quantity:"",Id_Type:"",Id:"",QC_Id:"",Box_Id:"",I_Capacity:"",B_Capacity:"",Method:[],QC_Date:null,Result:"",Comments:"",Status:"",products:[],errors:[],measuring_units:[],methods:[],lastid:"",lastvalue:"",boxlastid:"",prefixcode:"",boxprefixcode:"",boxcodes:[],display:"none"},a.onEditHandler=function(){K.a.post("/quality-check/edit",{_id:a.state._id,QC_Type:a.state.QC_Type,Product_Name:a.state.Product_Name,Product_ID:a.state.Product_ID,Measuring_Unit:a.state.Measuring_Unit,Quantity:a.state.Quantity,Method:a.state.Method,Id_Type:a.state.Id_Type,Id:a.state.Id,QC_Id:a.state.QC_Id,Box_Id:a.state.Box_Id,I_Capacity:a.state.I_Capacity,B_Capacity:a.state.B_Capacity,QC_Date:a.state.QC_Date,Result:a.state.Result,Comments:a.state.Comments,Status:a.state.Status}).then((function(e){console.log(e.data),a.props.cancel()})).catch((function(e){return console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;K.a.get("/measuring-units/measuring-units").then((function(t){console.log(t),e.setState({measuring_units:Object(Q.a)(t.data.MeasuringUnits)}),K.a.get("/products/products").then((function(t){console.log(t),e.setState({products:Object(Q.a)(t.data.Products)})})),K.a.get("/qc-method").then((function(t){console.log("qc----",t),e.setState({methods:Object(Q.a)(t.data)})}))})),K.a.get("/product-code").then((function(t){console.log("productcodes",t.data.ProductCode),e.setState({productcodes:Object(Q.a)(t.data.ProductCode),prefixcode:t.data.ProductCode[0].code_prefix+t.data.ProductCode[0].code_separator})})),K.a.get("/box-code").then((function(t){console.log("boxcodes",t.data.BoxCode),e.setState({boxcodes:Object(Q.a)(t.data.BoxCode),boxprefixcode:t.data.BoxCode[0].code_prefix+t.data.BoxCode[0].code_separator}),console.log("concode:",t.data.BoxCode[0].code_prefix+t.data.BoxCode[0].code_separator)})),this.setState({_id:this.props.qualitycheck._id,QC_Type:this.props.qualitycheck.QC_Type,Product_Name:this.props.qualitycheck.Product_Name,Product_ID:this.props.qualitycheck.Product_ID,Quantity:this.props.qualitycheck.Quantity,Id_Type:this.props.qualitycheck.Id_Type,Id:this.props.qualitycheck.Id,QC_Id:this.props.qualitycheck.QC_Id,Box_Id:this.props.qualitycheck.Box_Id,I_Capacity:this.props.qualitycheck.I_Capacity,B_Capacity:this.props.qualitycheck.B_Capacity,Measuring_Unit:this.props.qualitycheck.Measuring_Unit,Method:this.props.qualitycheck.Method,QC_Date:this.props.qualitycheck.QC_Date,Result:this.props.qualitycheck.Result,Comments:this.props.qualitycheck.Comments,Status:this.props.qualitycheck.Status})}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:bi.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Quality Check"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:bi.box_msg,bgcolor:"#f73067",key:t},e)})):!0===this.state.success?i.a.createElement(m.a,{bgcolor:"#3df45b",style:bi.box_msg},"Successful"):null,i.a.createElement(m.a,{style:bi.root},i.a.createElement(m.a,{display:"flex",justifyContent:"center"},i.a.createElement(m.a,{style:bi.lbox},i.a.createElement(m.a,{style:bi.form},i.a.createElement(m.a,{style:bi.boxSize2},i.a.createElement(m.a,{width:"100%",style:Ei},i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Qualitycheck Type"),i.a.createElement(ee.a,{disabled:this.props.disabled.QC_Type,variant:"outlined",required:!0,name:"QC_Type",value:this.state.QC_Type,onChange:function(t){e.setState({QC_Type:t.target.value})}},i.a.createElement(W.a,{value:"Qualitycheck Type",disabled:!0},"Qualitycheck Type"),i.a.createElement(W.a,{value:"Product"},"Product"),i.a.createElement(W.a,{value:"Packing"},"Packing"))))),i.a.createElement(m.a,{style:bi.boxSize2},i.a.createElement(m.a,{width:"50%",style:Ei},i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Item Name"),i.a.createElement(ee.a,{disabled:this.props.disabled.Product_Name,variant:"outlined",required:!0,name:"Product_Name",value:this.state.Product_Name,onChange:function(t){var a;e.state.products.map((function(e){return e._id===t.target.value&&(a=e.product_code,console.log("Procode: ",a)),null})),e.setState({Product_Name:t.target.value,Id:a})}},this.state.products.map((function(e,t){return i.a.createElement(W.a,{key:t,value:e._id},e.product_name)}))))),i.a.createElement(m.a,{width:"50%",style:Ei},i.a.createElement(X.a,{disabled:this.props.disabled.Product_ID,size:"small",fullWidth:!0,variant:"outlined",label:"Product_ID",required:!0,name:"Product_ID",value:this.state.Product_ID,onChange:function(t){e.setState({Product_ID:t.target.value}),console.log(t.target.value)}}))),i.a.createElement(m.a,{style:bi.boxSize2},i.a.createElement(m.a,{width:"50%",style:Ei},i.a.createElement(X.a,{disabled:this.props.disabled.Quantity,size:"small",fullWidth:!0,variant:"outlined",label:"Quantity",required:!0,name:"Quantity",value:this.state.Quantity,onChange:function(t){e.setState({Quantity:t.target.value})}})),i.a.createElement(m.a,{width:"50%",style:Ei},i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Measuring Unit"),i.a.createElement(ee.a,{disabled:this.props.disabled.Measuring_Unit,name:"Measuring_Unit",variant:"outlined",required:!0,value:this.state.Measuring_Unit,onChange:function(t){e.setState({Measuring_Unit:t.target.value})}},this.state.measuring_units.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.measuring_unit_name)})))))),"Packing"===this.state.QC_Type?i.a.createElement(m.a,{style:bi.boxSize2},i.a.createElement(m.a,{width:"50%",style:Ei},i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Id Type"),i.a.createElement(ee.a,{disabled:this.props.disabled.Id_Type,variant:"outlined",required:!0,name:"Id_Type",value:this.state.Id_Type,onChange:function(t){e.setState({Id_Type:t.target.value})}},i.a.createElement(W.a,{value:"Id Type",disabled:!0},"Id Type"),i.a.createElement(W.a,{value:"Individual"},"Individual"),i.a.createElement(W.a,{value:"Box"},"Box")))),i.a.createElement(m.a,{width:"50%",style:Ei},i.a.createElement(X.a,{disabled:this.props.disabled.B_Capacity,size:"small",fullWidth:!0,variant:"outlined",label:"Box Capacity",required:!0,name:"B_Capacity",value:this.state.B_Capacity,onChange:function(t){e.setState({B_Capacity:t.target.value})}})),i.a.createElement(m.a,{width:"50%",style:Ei},i.a.createElement(X.a,{disabled:this.props.disabled.I_Capacity,size:"small",fullWidth:!0,variant:"outlined",label:"Individual Capacity",required:!0,name:"I_Capacity",value:this.state.I_Capacity,onChange:function(t){e.setState({I_Capacity:t.target.value})}}))):null,"Packing"===this.state.QC_Type?i.a.createElement(m.a,{style:bi.boxSize2},i.a.createElement(m.a,{width:"100%",style:Ei},i.a.createElement(X.a,{disabled:this.props.disabled.Box_Id,size:"small",fullWidth:!0,variant:"outlined",label:"Box Id",required:!0,name:"Box_Id",value:this.state.Box_Id,onChange:function(t){e.setState({Box_Id:t.target.value})}}))):null,"Packing"===this.state.QC_Type?i.a.createElement(m.a,{style:bi.boxSize2},i.a.createElement(m.a,{width:"100%",style:Ei},i.a.createElement(X.a,{disabled:this.props.disabled.Id,size:"small",fullWidth:!0,variant:"outlined",label:"Individual Id",required:!0,name:"Id",value:this.state.Id,onChange:function(t){e.setState({Id:t.target.value})}}))):i.a.createElement(m.a,{style:bi.boxSize2},i.a.createElement(m.a,{width:"100%",style:Ei},i.a.createElement(X.a,{disabled:this.props.disabled.QC_Id,size:"small",fullWidth:!0,variant:"outlined",label:"QC Id",required:!0,name:"QC_Id",value:this.state.QC_Id,onChange:function(t){e.setState({QC_Id:t.target.value})}}))),i.a.createElement(m.a,{style:bi.boxSize2},i.a.createElement(m.a,{width:"100%",style:Ei},i.a.createElement(ue,{disabled:this.props.disabled.QC_Date,id:"4",variant:"outlined",Name:"QC_Date",value:this.state.QC_Date,setDate:function(t){e.setState({QC_Date:t})}}))),i.a.createElement(m.a,{style:Ei},i.a.createElement("h4",null,"Testing Methods:"),i.a.createElement(m.a,{display:"flex",flexWrap:"wrap",maxHeight:"200px",overflow:"auto",border:"1px solid #cfcccc",padding:"5px",marginLeft:"5px",borderRadius:"4px",alignSelf:"center",style:Ei},this.state.Method.map((function(t,a){return i.a.createElement(m.a,{display:"flex",key:a},i.a.createElement(we.a,{control:i.a.createElement(De.a,{disabled:e.props.disabled.Method,checked:t.Value,name:"Method",value:e.state.Method,onClick:function(a){t.Value=!t.Value,e.setState({methods:Object(Q.a)(e.state.methods),Method:a.target.value}),console.log("methods",e.state.methods)},Value:"".concat(t.Value)}),label:"".concat(t.Method_Name)}))})))),i.a.createElement(m.a,{style:bi.boxSize2},i.a.createElement(m.a,{width:"100%",style:Ei},i.a.createElement("h4",null,"Status:"),i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Result Status"),i.a.createElement(ee.a,{disabled:this.props.disabled.Result,variant:"outlined",required:!0,name:"Result",value:this.state.Result,onChange:function(t){e.setState({Result:t.target.value})}},i.a.createElement(W.a,{value:"Result Status",disabled:!0},"Result Status"),i.a.createElement(W.a,{value:"Pass"},"Pass"),i.a.createElement(W.a,{value:"Fail"},"Fail"))))),i.a.createElement(m.a,{style:bi.boxSize2},i.a.createElement(m.a,{style:Ei,display:"flex",alignItems:"center",width:"100%"},i.a.createElement(X.a,{disabled:this.props.disabled.Comments,size:"small",multiline:!0,variant:"outlined",fullWidth:!0,label:"Comments",rowsMax:"3",name:"Comments",value:this.state.Comments,onChange:function(t){e.setState({Comments:t.target.value})}}))))))),i.a.createElement(m.a,{display:" flex",pt:2,pb:2,m:0,justifyContent:"flex-end",width:"87%"},i.a.createElement(m.a,{display:" flex"},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",fontWeight:"Bold",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{marginLeft:"10px",display:this.props.disabled.btnDisplay},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",fontWeight:"bold",onClick:this.onEditHandler},"update"))))}}]),t}(n.Component),vi=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).EditData={},a.state={columns:[{title:"QC Type",field:"QC_Type"},{title:"Name",field:"Product_Name"},{title:"Quantity",field:"Quantity"},{title:"Measuring Unit",field:"Measuring_Unit"},{title:"Result",field:"Result"}],data:[],openAdd:!1,openEdit:!1,fieldDisabled:{QC_Type:!1,Product_Name:!1,Product_ID:!1,Measuring_Unit:!1,Quantity:!1,Id_Type:!1,Id:!1,Box_Id:!1,QC_Id:!1,I_Capacity:!1,B_Capacity:!1,Method:!1,QC_Date:!1,Result:!1,Comments:!1,btnDisplay:"none",btnText:"Close"}},a.OnEditHandler=function(e,t){K.a.post("/quality-check",{_id:t._id}).then((function(e){a.EditData=Object(F.a)({},e.data[0]),console.log(a.EditData),a.setState({openEdit:!0})}))},a.handleClose=function(){K.a.get("/quality-check").then((function(e){console.log(e.data);for(var t=function(t){e.data[t].id=t+1,K.a.post("/measuring-units/measuring-unit",{_id:e.data[t].Measuring_Unit}).then((function(n){console.log(n),n.data.MeasuringUnit[0]?(console.log(n.data.MeasuringUnit[0].measuring_unit_name),e.data[t].Measuring_Unit=n.data.MeasuringUnit[0].measuring_unit_name,a.setState({data:Object(Q.a)(e.data)})):(e.data[t].Measuring_Unit="problem loading Measuring Unit",a.setState({data:Object(Q.a)(e.data)}))})),K.a.post("/products/product",{_id:e.data[t].Product_Name}).then((function(n){n.data.Product?(console.log(n),console.log(n.data.Product[0].product_name),e.data[t].Product_Name=n.data.Product[0].product_name,a.setState({data:Object(Q.a)(e.data)})):(e.data[t].Product_Name="problem loading",a.setState({data:Object(Q.a)(e.data)}))})),K.a.post("/raw-materials/raw-material",{_id:e.data[t].Raw_Material_Id}).then((function(n){console.log(n),n.data.RawMaterial[0]?(console.log(n.data.RawMaterial[0].raw_material_name),e.data[t].Raw_Material_Id=n.data.RawMaterial[0].raw_material_name,a.setState({data:Object(Q.a)(e.data)})):(e.data[t].Raw_Material_Id="problem loading",a.setState({data:Object(Q.a)(e.data)}))}))},n=0;n<e.data.length;n++)t(n)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.handleClose()}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Manage Quality Check"),i.a.createElement(V.a,{title:" ",columns:this.state.columns,data:this.state.data,style:{width:"90%",maxHeight:"500px",overflow:"auto"},options:{sorting:!0,headerStyle:{backgroundColor:"#3f51b5",color:"#FFF",fontSize:"medium",fontWeight:"bold"}},actions:[{icon:"edit",tooltip:"Edit User",onClick:function(t,a){e.setState({fieldDisabled:{QC_Type:!1,Product_Name:!1,Product_ID:!1,Measuring_Unit:!1,Quantity:!1,Id_Type:!1,Id:!1,QC_Date:!1,Result:!1,Comments:!1,Box_Id:!1,QC_Id:!1,I_Capacity:!1,B_Capacity:!1,Method:!1,btnDisplay:"flex",btnText:"Cancel"}}),e.OnEditHandler(t,a)}}],editable:{onRowDelete:function(t){return K.a.post("/quality-check/delete",{_id:t._id}).then((function(a){console.log(a),a&&e.setState((function(e){var a=Object(Q.a)(e.data);return a.splice(a.indexOf(t),1),Object(F.a)({},e,{data:a})}))}))}},onRowClick:function(t,a){e.setState({fieldDisabled:{QC_Type:!0,Product_Name:!0,Product_ID:!0,Measuring_Unit:!0,Quantity:!0,Id_Type:!0,Id:!0,QC_Date:!0,Result:!0,Comments:!0,Box_Id:!0,QC_Id:!0,I_Capacity:!0,B_Capacity:!0,Method:!0,btnDisplay:"none",btnText:"Close"}}),e.OnEditHandler(t,a)}}),i.a.createElement(J.a,{open:this.state.openAdd,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,null,i.a.createElement(yi,{qualitycheck:this.EditData,cancel:function(){e.setState({openAdd:!1})}}))),i.a.createElement(J.a,{open:this.state.openEdit,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,null,i.a.createElement(xi,{disabled:this.state.fieldDisabled,qualitycheck:this.EditData,cancel:function(){e.setState({openEdit:!1})}}))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%",marginRight:"40px"},i.a.createElement(m.a,{width:"100px"},i.a.createElement(f.b,{to:"/home/production/manage-quality-check"},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",fontWeight:"Bold",style:{textDecoration:"none"}},"Back")))))}}]),t}(n.Component),Si=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).EditData={},a.state={columns:[{title:"Batch ID",field:"Batch_Id"},{title:"Product Name",field:"Product_Name"},{title:"Quantity",field:"Quantity"},{title:"Measuring Unit",field:"Measuring_Unit"},{title:"Status",field:"Status"}],data:[],openAdd:!1,openEdit:!1},a.OnEditHandler=function(e,t){K.a.post("/production",{_id:t._id}).then((function(e){console.log(e.data[0]),a.EditData=Object(F.a)({},e.data[0]),console.log(a.EditData),a.setState({openEdit:!0})}))},a.handleClose=function(){K.a.get("/production/qc").then((function(e){console.log("production--",e.data);for(var t=function(t){e.data[t].id=t+1,console.log("--",e.data[0].Status),K.a.post("/measuring-units/measuring-unit",{_id:e.data[t].Measuring_Unit}).then((function(n){console.log(n),n.data.MeasuringUnit[0]?(console.log(n.data.MeasuringUnit[0].measuring_unit_name),e.data[t].Measuring_Unit=n.data.MeasuringUnit[0].measuring_unit_name,a.setState({data:Object(Q.a)(e.data)})):(e.data[t].Productions.Measuring_Unit="problem loading Measuring Unit",a.setState({data:Object(Q.a)(e.data)}))})),K.a.post("/products/product",{_id:e.data[t].Product_Name}).then((function(n){console.log(n.data.Product[0].product_name),n.data.Product?(console.log(n.data.Product[0].product_name),e.data[t].Product_Name=n.data.Product[0].product_name,a.setState({data:Object(Q.a)(e.data)})):(e.data[t].Product_Name="problem loading",a.setState({data:Object(Q.a)(e.data)}))}))},n=0;n<e.data.length;n++)t(n)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.handleClose()}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Product List for QC"),i.a.createElement(V.a,{title:" ",columns:this.state.columns,data:this.state.data,style:{width:"90%",maxHeight:"500px",overflow:"auto"},options:{sorting:!0,headerStyle:{backgroundColor:"#3f51b5",color:"#FFF",fontSize:"medium",fontWeight:"bold"}},actions:[{icon:"playlist_add_check_two_tone",tooltip:"Quality Check",onClick:function(t,a){e.OnEditHandler(t,a)}}]}),i.a.createElement(J.a,{open:this.state.openEdit,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,null,i.a.createElement(yi,{qualitycheck:this.EditData,cancel:function(){e.setState({openEdit:!1}),e.handleClose()}}))))}}]),t}(n.Component),Ci=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).EditData={},a.state={columns:[{title:"Product ID",field:"Product_ID"},{title:"Product Name",field:"Product_Name"},{title:"Quantity",field:"Quantity"},{title:"Measuring Unit",field:"Measuring_Unit"}],data:[],openAdd:!1,openEdit:!1},a.handleClose=function(){K.a.get("/production-stock/stock").then((function(e){console.log("hello",e.data);for(var t=function(t){e.data[t].id=t+1,console.log("hello",e.data),K.a.post("/measuring-units/measuring-unit",{_id:e.data[t].Measuring_Unit}).then((function(n){console.log(n),n.data.MeasuringUnit[0]?(console.log(n.data.MeasuringUnit[0].measuring_unit_name),e.data[t].Measuring_Unit=n.data.MeasuringUnit[0].measuring_unit_name,a.setState({data:Object(Q.a)(e.data)}),console.log("hello",e.data)):(e.data[t].Measuring_Unit="problem loading Measuring Unit",a.setState({data:Object(Q.a)(e.data)}))})),K.a.post("/products/product",{_id:e.data[t].Product_Name}).then((function(n){console.log(n.data.Product[0].product_name),n.data.Product?(console.log(n.data.Product[0].product_name),e.data[t].Product_Name=n.data.Product[0].product_name,a.setState({data:Object(Q.a)(e.data)})):(e.data[t].Product_Name="problem loading",a.setState({data:Object(Q.a)(e.data)}))}))},n=0;n<e.data.length;n++)t(n)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.handleClose()}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",mb:8},"Production Stock"),i.a.createElement(V.a,{title:" ",columns:this.state.columns,data:this.state.data,style:{width:"90%",maxHeight:"500px",overflow:"auto"},options:{sorting:!0,headerStyle:{backgroundColor:"#3f51b5",color:"#FFF",fontSize:"medium",fontWeight:"bold"}},editable:{onRowDelete:function(t){return K.a.post("/production-stock/delete",{_id:t._id}).then((function(a){console.log(a),a&&e.setState((function(e){var a=Object(Q.a)(e.data);return a.splice(a.indexOf(t),1),Object(F.a)({},e,{data:a})}))}))}}}))}}]),t}(n.Component),wi=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).EditData={},a.state={columns:[{title:"Material Name",field:"Raw_Material_Id"},{title:"Material Code",field:"Raw_Material_Code"},{title:"Quantity",field:"Quantity"},{title:"Measuring Unit",field:"Measuring_Unit"}],data:[],openAdd:!1,openEdit:!1,open:!1,alert:!1,fieldDisabled:{Raw_Material_Id:!1,Raw_Material_Code:!1,Quantity:!1,Measuring_Unit:!1,btnDisplay:"none",btnText:"Close"}},a.closeAlert=function(){a.setState({alert:!1})},a.OnEditHandler=function(e,t){K.a.post("/production-raw-material-stock",{_id:t._id}).then((function(e){console.log(e.data[0]),a.EditData=Object(F.a)({},e.data[0]),console.log(a.EditData),a.setState({openEdit:!0})}))},a.handleClose=function(){K.a.get("/production-raw-material-stock").then((function(e){console.log(e.data);for(var t=function(t){e.data[t].id=t+1,K.a.post("/measuring-units/measuring-unit",{_id:e.data[t].Measuring_Unit}).then((function(n){console.log(n),n.data.MeasuringUnit[0]?(console.log(n.data.MeasuringUnit[0].measuring_unit_name),e.data[t].Measuring_Unit=n.data.MeasuringUnit[0].measuring_unit_name,a.setState({data:Object(Q.a)(e.data)})):(e.data[t].Measuring_Unit="problem loading Measuring Unit",a.setState({data:Object(Q.a)(e.data)}))})),K.a.post("/raw-materials/raw-material",{_id:e.data[t].Raw_Material_Id}).then((function(n){console.log(n),n.data.RawMaterial[0]?(console.log(n.data.RawMaterial[0].raw_material_name),e.data[t].Raw_Material_Id=n.data.RawMaterial[0].raw_material_name,a.setState({data:Object(Q.a)(e.data)})):(e.data[t].Raw_Material_Id="problem loading",a.setState({data:Object(Q.a)(e.data)}))}))},n=0;n<e.data.length;n++)t(n)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.handleClose()}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Raw Material stock"),i.a.createElement(V.a,{title:" ",columns:this.state.columns,data:this.state.data,style:{width:"90%",maxHeight:"500px",overflow:"auto"},options:{sorting:!0,headerStyle:{backgroundColor:"#3f51b5",color:"#FFF",fontSize:"medium",fontWeight:"bold"}},editable:{onRowDelete:function(t){return K.a.post("/production-raw-material-stock/delete",{_id:t._id}).then((function(a){console.log(a),a&&(e.setState((function(e){var a=Object(Q.a)(e.data);return a.splice(a.indexOf(t),1),Object(F.a)({},e,{data:a})})),e.setState({alert:!0}))}))}}}))}}]),t}(n.Component),Di=jn,Mi={marginRight:"6px",marginLeft:"6px"},ki=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={_id:"",Raw_Material_Id:"Raw_Material_Id",Raw_Material_Code:"",Quantity:"",Measuring_Unit:"",Priority:"",Due_Date:null,Status:"Requesting",Comments:"-",errors:[],openAdd:!1,success:!1,measuring_units:[],materials:[],code:""},a.onAddHandler=function(){console.log("Ready to add"),K.a.post("/production-unit/add",{_id:a.state._id,Raw_Material_Id:a.state.Raw_Material_Id,Raw_Material_Code:a.state.Raw_Material_Code,Quantity:a.state.Quantity,Measuring_Unit:a.state.Measuring_Unit,Priority:a.state.Priority,Due_Date:a.state.Due_Date,Status:a.state.Status,Comments:a.state.Comments,Created_By:{Employee_Id:sessionStorage.getItem("User ID"),Role_Id:sessionStorage.getItem("Role ID")},logs:{from:"Production Unit",to:"Production",comments:a.state.Comments}}).then((function(e){console.log(e),a.props.cancel()})),console.log("added")},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;K.a.get("/measuring-units/measuring-units").then((function(t){console.log(t),e.setState({measuring_units:Object(Q.a)(t.data.MeasuringUnits)})})),K.a.get("/raw-material").then((function(t){console.log(t),e.setState({materials:Object(Q.a)(t.data.RawMaterials)})}))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:Di.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Add unit Request"),i.a.createElement(m.a,{style:Di.root},i.a.createElement(m.a,{display:"flex",justifyContent:"center"},i.a.createElement(m.a,{style:Di.lbox},i.a.createElement(m.a,{style:Di.form},i.a.createElement(m.a,{style:Di.boxSize2},i.a.createElement(m.a,{width:"50%",style:Mi},i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Material Name"),i.a.createElement(ee.a,{variant:"outlined",required:!0,name:"Raw_Material_Id",value:this.state.Raw_Material_Id,onChange:function(t){var a,n;e.state.materials.map((function(e){return e._id===t.target.value&&(a=e.raw_material_code,n=e.raw_material_measuring_unit,console.log("code: ",a)),null})),e.setState({Raw_Material_Id:t.target.value,Raw_Material_Code:a,Measuring_Unit:n})}},this.state.materials.map((function(e,t){return i.a.createElement(W.a,{key:t,value:e._id},e.raw_material_name)}))))),i.a.createElement(m.a,{width:"50%",style:Mi},i.a.createElement(X.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Material_Code",required:!0,name:"Raw_Material_Code",value:this.state.Raw_Material_Code,onChange:function(t){e.setState({Raw_Material_Code:t.target.value}),console.log(t.target.value)}}))),i.a.createElement(m.a,{style:Di.boxSize2},i.a.createElement(m.a,{width:"50%",style:Mi},i.a.createElement(X.a,{size:"small",fullWidth:!0,variant:"outlined",label:"Quantity",required:!0,name:"Quantity",value:this.state.Quantity,onChange:function(t){e.setState({Quantity:t.target.value})}})),i.a.createElement(m.a,{width:"50%",style:Mi},i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Measuring Unit"),i.a.createElement(ee.a,{name:"Measuring_Unit",variant:"outlined",required:!0,value:this.state.Measuring_Unit,onChange:function(t){e.setState({Measuring_Unit:t.target.value}),console.log(t.target.value)}},this.state.measuring_units.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.measuring_unit_name)})))))),i.a.createElement(m.a,{style:Di.boxSize2},i.a.createElement(m.a,{width:"50%",style:Mi},i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Priority"),i.a.createElement(ee.a,{variant:"outlined",required:!0,name:"Priority",value:this.state.Priority,onChange:function(t){e.setState({Priority:t.target.value})}},i.a.createElement(W.a,{value:"Priority",disabled:!0},"Priority"),i.a.createElement(W.a,{value:"Low"},"Low"),i.a.createElement(W.a,{value:"Medium"},"Medium"),i.a.createElement(W.a,{value:"High"},"High")))),i.a.createElement(m.a,{width:"50%",style:Mi},i.a.createElement(ue,{id:"4",variant:"outlined",Name:"Due_Date",value:this.state.Due_Date,setDate:function(t){e.setState({Due_Date:t}),console.log(t)}}))),i.a.createElement(m.a,{style:Di.boxSize2},i.a.createElement(m.a,{width:"100%",style:Mi},i.a.createElement(X.a,{disabled:!0,size:"small",fullWidth:!0,variant:"outlined",label:"Status",required:!0,name:"Status",value:this.state.Status,onChange:function(t){e.setState({Status:t.target.value})}}))),i.a.createElement(m.a,{style:Di.boxSize2},i.a.createElement(m.a,{width:"100%",style:Mi},i.a.createElement(X.a,{multiline:!0,size:"small",rowsMax:"3",variant:"outlined",fullWidth:!0,label:"Comments",value:this.state.Comments,onChange:function(t){e.setState({Comments:t.target.value}),console.log(t.target.value)}}))))))),i.a.createElement(m.a,{display:" flex",pt:2,pb:2,m:0,justifyContent:"flex-end",width:"87%"},i.a.createElement(m.a,{display:" flex"},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",fontWeight:"Bold",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{marginLeft:"10px"},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",fontSize:"20px",onClick:function(){e.onAddHandler()}},"Submit"))))}}]),t}(n.Component),ji=jn,Oi={marginRight:"6px",marginLeft:"6px"},Ri=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={_id:"",Raw_Material_Id:"Raw_material_Id",Raw_Material_Code:"",Quantity:"",Measuring_Unit:"",Priority:"",Due_Date:null,Status:"Requesting",Comments:"",errors:[],success:!1,measuring_units:[],materials:[],code:""},a.onEditHandler=function(){K.a.post("/production-unit/edit",{_id:a.state._id,Raw_Material_Id:a.state.Raw_Material_Id,Raw_Material_Code:a.state.Raw_Material_Code,Quantity:a.state.Quantity,Measuring_Unit:a.state.Measuring_Unit,Priority:a.state.Priority,Due_Date:a.state.Due_Date,Status:a.state.Status,Comments:a.state.Comments,logs:{from:"Production Unit",to:"Production",comments:a.state.Comments}}).then((function(e){console.log(e.data),a.props.cancel()})).catch((function(e){return console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;K.a.get("/raw-material").then((function(t){console.log(t),e.setState({materials:Object(Q.a)(t.data.RawMaterials)}),K.a.get("/measuring-units/measuring-units").then((function(t){console.log(t),e.setState({measuring_units:Object(Q.a)(t.data.MeasuringUnits)}),e.setState({_id:e.props.unit._id,Raw_Material_Id:e.props.unit.Raw_Material_Id,Raw_Material_Code:e.props.unit.Raw_Material_Code,Quantity:e.props.unit.Quantity,Measuring_Unit:e.props.unit.Measuring_Unit,Priority:e.props.unit.Priority,Due_Date:e.props.unit.Due_Date,Status:e.props.unit.Status,Comments:e.props.unit.Comments})}))}))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:ji.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Edit unit Request"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:ji.box_msg,bgcolor:"#f73067",key:t},e)})):!0===this.state.success?i.a.createElement(m.a,{bgcolor:"#3df45b",style:ji.box_msg},"Successful"):null,i.a.createElement(m.a,{style:ji.root},i.a.createElement(m.a,{display:"flex",justifyContent:"center"},i.a.createElement(m.a,{style:ji.lbox},i.a.createElement(m.a,{style:ji.form},i.a.createElement(m.a,{style:ji.boxSize2},i.a.createElement(m.a,{width:"50%",style:Oi},i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Material Name"),i.a.createElement(ee.a,{disabled:this.props.disabled.Raw_Material_Id,variant:"outlined",required:!0,name:"Raw_Material_Id",value:this.state.Raw_Material_Id,onChange:function(t){var a;e.state.materials.map((function(e){return e._id===t.target.value&&(a=e.raw_material_code,console.log("code: ",a)),null})),e.setState({Raw_Material_Id:t.target.value,Raw_Material_Code:a})}},this.state.materials.map((function(e,t){return i.a.createElement(W.a,{key:t,value:e._id},e.raw_material_name)}))))),i.a.createElement(m.a,{width:"50%",style:Oi},i.a.createElement(X.a,{disabled:this.props.disabled.Raw_Material_Code,size:"small",fullWidth:!0,variant:"outlined",label:"Material_Code",required:!0,name:"Material_Code",value:this.state.Raw_Material_Code,onChange:function(t){e.setState({Material_Code:t.target.value}),console.log(t.target.value)}}))),i.a.createElement(m.a,{style:ji.boxSize2},i.a.createElement(m.a,{width:"50%",style:Oi},i.a.createElement(X.a,{disabled:this.props.disabled.Quantity,size:"small",fullWidth:!0,variant:"outlined",label:"Quantity",required:!0,name:"Quantity",value:this.state.Quantity,onChange:function(t){e.setState({Quantity:t.target.value})}})),i.a.createElement(m.a,{width:"50%",style:Oi},i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Measuring Unit"),i.a.createElement(ee.a,{disabled:this.props.disabled.Measuring_Unit,name:"Measuring_Unit",variant:"outlined",required:!0,value:this.state.Measuring_Unit,onChange:function(t){e.setState({Measuring_Unit:t.target.value}),console.log(t.target.value)}},this.state.measuring_units.map((function(e,t){return i.a.createElement(W.a,{selected:!0,key:t,value:e._id},e.measuring_unit_name)})))))),i.a.createElement(m.a,{style:ji.boxSize2},i.a.createElement(m.a,{width:"50%",style:Oi},i.a.createElement(Z.a,{required:!0,variant:"outlined",fullWidth:!0,size:"small"},i.a.createElement($.a,{style:{backgroundColor:"white",paddingLeft:"2px",paddingRight:"2px"}},"Priority"),i.a.createElement(ee.a,{disabled:this.props.disabled.Priority,variant:"outlined",required:!0,name:"Priority",value:this.state.Priority,onChange:function(t){e.setState({Priority:t.target.value})}},i.a.createElement(W.a,{value:"Priority",disabled:!0},"Priority"),i.a.createElement(W.a,{value:"Low"},"Low"),i.a.createElement(W.a,{value:"Medium"},"Medium"),i.a.createElement(W.a,{value:"High"},"High")))),i.a.createElement(m.a,{width:"50%",style:Oi},i.a.createElement(ue,{disabled:this.props.disabled.Due_Date,id:"4",variant:"outlined",Name:"Due_Date",value:this.state.Due_Date,setDate:function(t){e.setState({Due_Date:t}),console.log(t)}}))),i.a.createElement(m.a,{style:ji.boxSize2},i.a.createElement(m.a,{width:"100%",style:Oi},i.a.createElement(X.a,{disabled:!0,size:"small",fullWidth:!0,variant:"outlined",label:"Status",required:!0,name:"Status",value:this.state.Status,onChange:function(t){e.setState({Status:t.target.value})}}))),i.a.createElement(m.a,{style:ji.boxSize2},i.a.createElement(m.a,{width:"100%",style:Oi},i.a.createElement(X.a,{disabled:this.props.disabled.Comments,size:"small",multiline:!0,rowsMax:"3",variant:"outlined",fullWidth:!0,label:"Comments",value:this.state.Comments,onChange:function(t){e.setState({Comments:t.target.value}),console.log(t.target.value)}}))))))),i.a.createElement(m.a,{display:" flex",pt:2,pb:2,m:0,justifyContent:"flex-end",width:"87%"},i.a.createElement(m.a,{display:" flex"},i.a.createElement(M.a,{variant:"contained",color:"primary",size:"large",fontWeight:"Bold",onClick:function(){e.props.cancel()}},this.props.disabled.btnText)),i.a.createElement(m.a,{marginLeft:"10px",display:this.props.disabled.btnDisplay},i.a.createElement(M.a,{variant:"contained",color:"primary",size:"large",fontWeight:"bold",onClick:this.onEditHandler},"Update"))))}}]),t}(n.Component),Wi=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).EditData={},a.state={columns:[{title:"Material Name",field:"Raw_Material_Id"},{title:"Quantity",field:"Quantity"},{title:"Measuring Unit",field:"Measuring_Unit"},{title:"Priority",field:"Priority"},{title:"Status",field:"Status"}],data:[],openAdd:!1,openEdit:!1,open:!1,alert:!1,fieldDisabled:{Raw_Material_Id:!1,Raw_Material_Code:!1,Quantity:!1,Measuring_Unit:!1,Priority:!1,Due_Date:!1,Status:!1,Comments:!1,btnDisplay:"none",btnText:"Close"}},a.closeAlert=function(){a.setState({alert:!1})},a.OnEditHandler=function(e,t){K.a.post("/production-unit",{_id:t._id}).then((function(e){console.log(e.data[0]),a.EditData=Object(F.a)({},e.data[0]),console.log(a.EditData),a.setState({openEdit:!0})}))},a.handleClose=function(){K.a.get("/production-unit").then((function(e){console.log(e.data);for(var t=function(t){e.data[t].id=t+1,K.a.post("/measuring-units/measuring-unit",{_id:e.data[t].Measuring_Unit}).then((function(n){console.log(n),n.data.MeasuringUnit[0]?(console.log(n.data.MeasuringUnit[0].measuring_unit_name),e.data[t].Measuring_Unit=n.data.MeasuringUnit[0].measuring_unit_name,a.setState({data:Object(Q.a)(e.data)})):(e.data[t].Measuring_Unit="problem loading Measuring Unit",a.setState({data:Object(Q.a)(e.data)}))})),K.a.post("/raw-material",{_id:e.data[t].Raw_Material_Id}).then((function(n){console.log(n),n.data.RawMaterial[0]?(console.log(n.data.RawMaterial[0].raw_material_name),e.data[t].Raw_Material_Id=n.data.RawMaterial[0].raw_material_name,a.setState({data:Object(Q.a)(e.data)})):(e.data[t].Raw_Material_Id="problem loading",a.setState({data:Object(Q.a)(e.data)}))}))},n=0;n<e.data.length;n++)t(n)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.handleClose()}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Manage Unit Request"),i.a.createElement(m.a,{width:"90%",display:"flex",flexDirection:"row"},i.a.createElement(M.a,{variant:"contained",color:"primary",style:{marginBottom:"20px",display:"flex",marginRight:"10px"},size:"large",onClick:function(){e.setState({openAdd:!0})}},"Add")),i.a.createElement(V.a,{title:" ",columns:this.state.columns,data:this.state.data,style:{width:"90%",maxHeight:"500px",overflow:"auto"},options:{sorting:!0,headerStyle:{backgroundColor:"#3f51b5",color:"#FFF",fontSize:"medium",fontWeight:"bold"}},actions:[{icon:"edit",tooltip:"Edit User",onClick:function(t,a){"Requesting"===a.Status?(e.setState({fieldDisabled:{Raw_Material_Id:!1,Raw_Material_Code:!1,Quantity:!1,Measuring_Unit:!1,Priority:!1,Due_Date:!1,Status:!1,Comments:!1,btnDisplay:"flex",btnText:"Cancel"}}),e.OnEditHandler(t,a)):e.setState({alert:!0})}}],onRowClick:function(t,a){e.setState({fieldDisabled:{Raw_Material_Id:!0,Raw_Material_Code:!0,Quantity:!0,Measuring_Unit:!0,Priority:!0,Due_Date:!0,Status:!0,Comments:!0,btnDisplay:"none",btnText:"Close"}}),e.OnEditHandler(t,a)}}),i.a.createElement(J.a,{open:this.state.openAdd,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,null,i.a.createElement(ki,{cancel:function(){e.setState({openAdd:!1}),e.handleClose()}}))),i.a.createElement(J.a,{open:this.state.openEdit,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,null,i.a.createElement(Ri,{disabled:this.state.fieldDisabled,unit:this.EditData,cancel:function(){e.setState({openEdit:!1}),e.handleClose()}}))),i.a.createElement(Se.a,{open:this.state.alert,autoHideDuration:3e3,anchorOrigin:{vertical:"bottom",horizontal:"center"},onClose:this.closeAlert},i.a.createElement(Ce.a,{variant:"filled",severity:"error",onClose:this.closeAlert},"You cannot Modify / Delete this Record")))}}]),t}(n.Component),Ii=jn,zi=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={Method_Name:"",Description:"",Value:!1},a.onAddHandler=function(){console.log(""),K.a.post("/qc-method/add",{Method_Name:a.state.Method_Name,Value:a.state.Value,Description:a.state.Description}).then((function(e){console.log(e),a.props.cancel()}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:Ii.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Add Method"),i.a.createElement(m.a,{style:Ii.box_field},i.a.createElement(X.a,{name:"Method_Name",fullWidth:!0,size:"small",required:!0,value:this.state.Method_Name,variant:"outlined",label:"Method Name",type:"text",onChange:function(t){e.setState({Method_Name:t.target.value}),console.log(t)}})),i.a.createElement(m.a,{style:Ii.box_field},i.a.createElement(X.a,{name:"Value",fullWidth:!0,size:"small",required:!0,value:this.state.Value,variant:"outlined",label:"Value",type:"text",onChange:function(t){e.setState({Value:t.target.value}),console.log(t)}})),i.a.createElement(m.a,{style:Ii.box_field},i.a.createElement(X.a,{name:"Description",size:"small",multiline:!0,rowsMax:4,fullWidth:!0,required:!0,value:this.state.Description,variant:"outlined",label:"Description",type:"text",onChange:function(t){e.setState({Description:t.target.value})}})),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:this.onAddHandler},"Add"))))}}]),t}(n.Component),Pi=jn,qi=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={_id:"",Method_Name:"",Value:!1,description:"",errors:[],isValid:!1},a.onEditHandler=function(){K.a.post("/qc-method/edit",{_id:a.state._id,Method_Name:a.state.Method_Name,Value:a.state.Value,Description:a.state.Description}).then((function(e){console.log(e),a.props.cancel()}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){""===this.state.Method_Name&&this.setState({Method_Name:this.props.Method.Method_Name,Value:this.props.Method.Value,Description:this.props.Method.Description,_id:this.props.Method._id})}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:Pi.box},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Edit Method"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:Pi.box_msg,bgcolor:"#f73067",key:t},e)})):!0===this.state.success?i.a.createElement(m.a,{bgcolor:"#3df45b",style:Pi.box_msg},"Registration Successful"):null,i.a.createElement(m.a,{style:Pi.box_field},i.a.createElement(X.a,{name:"Method_Name",size:"small",fullWidth:!0,required:!0,value:this.state.Method_Name,variant:"outlined",label:"Method Name",type:"text",onChange:function(t){e.setState({Method_Name:t.target.value})}})),i.a.createElement(m.a,{style:Pi.box_field},i.a.createElement(X.a,{name:"Value",fullWidth:!0,size:"small",required:!0,value:this.state.Value,variant:"outlined",label:"Value",type:"text",onChange:function(t){e.setState({Value:t.target.value}),console.log(t)}})),i.a.createElement(m.a,{style:Pi.box_field},i.a.createElement(X.a,{name:"Description",size:"small",multiline:!0,rowsMax:4,fullWidth:!0,required:!0,value:this.state.Description,variant:"outlined",label:"Description",type:"text",onChange:function(t){e.setState({Description:t.target.value})}})),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{marginRight:"10px",width:"100px"},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:function(){e.props.cancel()}},"Cancel")),i.a.createElement(m.a,{width:"100px"},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:this.onEditHandler},"Update"))))}}]),t}(n.Component),Ui=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).EditData={},a.state={columns:[{title:"ID",field:"id"},{title:"Method Name",field:"Method_Name"},{title:"Value",field:"Value"},{title:"Description",field:"Description"}],data:[],openAdd:!1,openEdit:!1,openUploadCSV:!1},a.OnEditHandler=function(e,t){K.a.post("/qc-method",{_id:t._id}).then((function(e){console.log(e),a.EditData=Object(F.a)({},e.data[0]),console.log(a.EditData),a.setState({openEdit:!0})}))},a.handleClose=function(){K.a.get("/qc-method").then((function(e){console.log(e.data);for(var t=0;t<e.data.length;t++)e.data[t].id=t+1;a.setState({data:Object(Q.a)(e.data)})}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.handleClose()}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Manage Method"),i.a.createElement(m.a,{width:"90%",display:"flex",flexDirection:"row"},i.a.createElement(M.a,{variant:"contained",color:"primary",style:{marginBottom:"20px",display:"flex",marginRight:"10px"},size:"large",onClick:function(){e.setState({openAdd:!0})}},"Add")),i.a.createElement(V.a,{title:" ",columns:this.state.columns,data:this.state.data,style:{width:"90%",maxHeight:"500px",overflow:"auto"},options:{sorting:!0,headerStyle:{backgroundColor:"#3f51b5",color:"#FFF"}},actions:[{icon:"edit",tooltip:"Edit User",onClick:function(t,a){e.OnEditHandler(t,a)}}],editable:{onRowDelete:function(t){return K.a.post("/qc-method/delete",{_id:t._id}).then((function(a){console.log(a),a&&e.setState((function(e){var a=Object(Q.a)(e.data);return a.splice(a.indexOf(t),1),Object(F.a)({},e,{data:a})}))}))}},onRowClick:function(t,a){e.OnEditHandler(t,a)}}),i.a.createElement(J.a,{open:this.state.openAdd,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,{style:{padding:"20px"}},i.a.createElement(zi,{cancel:function(){e.setState({openAdd:!1}),e.handleClose()}}))),i.a.createElement(J.a,{open:this.state.openEdit,maxWidth:"lg",fullWidth:!0},i.a.createElement(Y.a,{style:{padding:"20px"}},i.a.createElement(qi,{Method:this.EditData,cancel:function(){e.setState({openEdit:!1}),e.handleClose()}}))))}}]),t}(n.Component),Ti=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={width:"17vw",dashboardItems:[]},a.permissions=JSON.parse(sessionStorage.getItem("permissions")),a.contents=["Manage PreProduction","Manage Production","Manage Quality Check","Manage Wastage","Manage Product Stock","Manage Sales","Manage Unit Request","Manage Raw Material Request","Manage Raw Material Stock","Manage Unit","Manage Method"],a.logout=function(){E.logout()&&a.props.history.push("/")},a.dashboardMin=function(){a.setState({width:".1px"})},a.home=function(){a.props.history.push("/home")},a.dashboardMax=function(){a.setState({width:"17vw"})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.contents.map((function(t){if(e.permissions.find((function(e){return e===t}))){var a=t.toLowerCase().replace(/ /g,"-");e.setState({}),e.setState((function(e){e.dashboardItems.push({Name:t,Path:a})}))}return null}))}},{key:"render",value:function(){return i.a.createElement(m.a,null,i.a.createElement(B,{name:"Production",logout:this.logout,home:this.home,dashboardMax:this.dashboardMax,dashboardMin:this.dashboardMin}),i.a.createElement(m.a,{display:"flex"},i.a.createElement(b,{items:this.state.dashboardItems,componentName:"home/production",width:this.state.width,dashboardMin:this.dashboardMin}),i.a.createElement(m.a,{display:"flex",flexDirection:"column",alignItems:"center",width:"100%",marginTop:"10px"},i.a.createElement(_a.b,{exact:!0,path:"/home/production/manage-preproduction",component:qn}),i.a.createElement(_a.b,{exact:!0,path:"/home/production/manage-production",component:Qn}),i.a.createElement(_a.b,{exact:!0,path:"/home/production/manage-raw-material-request",component:Kn}),i.a.createElement(_a.b,{exact:!0,path:"/home/production/manage-wastage",component:ni}),i.a.createElement(_a.b,{exact:!0,path:"/home/production/manage-unit-request",component:ri}),i.a.createElement(_a.b,{exact:!0,path:"/home/production/manage-sales",component:hi}),i.a.createElement(_a.b,{exact:!0,path:"/home/production/manage-quality-check",component:Si}),i.a.createElement(_a.b,{path:"/home/production/manage-qc",component:vi}),i.a.createElement(_a.b,{exact:!0,path:"/home/production/manage-product-stock",component:Ci}),i.a.createElement(_a.b,{exact:!0,path:"/home/production/manage-raw-material-stock",component:wi}),i.a.createElement(_a.b,{exact:!0,path:"/home/production/manage-unit",component:Wi}),i.a.createElement(_a.b,{exact:!0,path:"/home/production/manage-method",component:Ui}))))}}]),t}(n.Component),Ai=ie,Ni=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={code_prefix:"",code_separator:"",errors:[],success:!1},a.onEditHandler=function(){K.a.post("/product-code/edit-product-code",{_id:"5e61d45fa171c936c86002fb",code_prefix:a.state.code_prefix,code_separator:a.state.code_separator}).then((function(e){console.log(e),e.data.errors.length>0?(console.log(e.data.errors),a.setState({errors:Object(Q.a)(e.data.errors),success:!1})):a.setState({errors:Object(Q.a)(e.data.errors),success:!0})})).catch((function(e){return console.log(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;oe(this.props,"Product Code")&&K.a.post("/product-code/product-code",{_id:"5e61d45fa171c936c86002fb"}).then((function(t){e.setState({code_prefix:t.data.ProductCode[0].code_prefix,code_separator:t.data.ProductCode[0].code_separator})}))}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{style:Ai.box,marginTop:"30px"},i.a.createElement(m.a,{fontSize:"30px",mb:3},"Product Code"),this.state.errors.length>0?this.state.errors.map((function(e,t){return i.a.createElement(m.a,{style:Ai.box_msg,bgcolor:"#f73067",key:t},e)})):!0===this.state.success?i.a.createElement(m.a,{bgcolor:"#3df45b",style:Ai.box_msg},"Success"):null,i.a.createElement(ne,null,i.a.createElement(m.a,{style:Ai.box_field},i.a.createElement(m.a,{style:Ai.box,marginRight:"10px"},i.a.createElement(X.a,{fullWidth:!0,required:!0,value:this.state.code_prefix,variant:"outlined",label:"code Prefix",type:"text",onChange:function(t){e.setState({code_prefix:t.target.value})}})),i.a.createElement(m.a,{style:Ai.box},i.a.createElement(X.a,{fullWidth:!0,required:!0,value:this.state.code_separator,variant:"outlined",label:"code separator",type:"text",onChange:function(t){e.setState({code_separator:t.target.value})}})))),i.a.createElement(m.a,{display:" flex",marginTop:"20px",justifyContent:"flex-end",width:"94%"},i.a.createElement(m.a,{width:"100px"},i.a.createElement(M.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:this.onEditHandler},"Save"))))}}]),t}(n.Component),Bi=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={width:"17vw",dashboardItems:[]},a.permissions=JSON.parse(sessionStorage.getItem("permissions")),a.contents=["Product Code"],a.logout=function(){E.logout()&&a.props.history.push("/")},a.home=function(){a.props.history.push("/home")},a.dashboardMin=function(){a.setState({width:".1px"})},a.dashboardMax=function(){a.setState({width:"17vw"})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.contents.map((function(t){if(e.permissions.find((function(e){return e===t}))){var a=t.toLowerCase().replace(/ /g,"-");e.setState({}),e.setState((function(e){e.dashboardItems.push({Name:t,Path:a})}))}return null}))}},{key:"render",value:function(){return i.a.createElement(m.a,null,i.a.createElement(B,{name:"Configurations",logout:this.logout,home:this.home,dashboardMax:this.dashboardMax,dashboardMin:this.dashboardMin}),i.a.createElement(m.a,{display:"flex"},i.a.createElement(b,{items:this.state.dashboardItems,componentName:"home/configurations",width:this.state.width,dashboardMin:this.dashboardMin}),i.a.createElement(m.a,{display:"flex",flexDirection:"column",alignItems:"center",width:"100%",marginTop:"10px"},i.a.createElement(_a.b,{exact:!0,path:"/home/configurations/product-code",component:Ni}))))}}]),t}(n.Component);var Li=function(){return i.a.createElement(f.a,null,i.a.createElement(_a.b,{path:"/",exact:!0,component:wa}),i.a.createElement(Ma,{exact:!0,path:"/home",component:L}),i.a.createElement(Ma,{path:"/home/management",component:ba}),i.a.createElement(Ma,{path:"/home/requests",component:Ha}),i.a.createElement(Ma,{path:"/home/reports",component:an}),i.a.createElement(Ma,{path:"/home/configurations",component:Bi}),i.a.createElement(Ma,{path:"/home/purchase",component:Sn}),i.a.createElement(Ma,{path:"/home/finance",component:kn}),i.a.createElement(Ma,{path:"/home/production",component:Ti}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(i.a.createElement(Li,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[598,1,2]]]);
//# sourceMappingURL=main.31c974a7.chunk.js.map